pression(_,"error"))),1)]),1))]))}function Me(e){return c.hasNodeCheckFlag(e,8192)}function Be(e){return $F(e)&&!!e.initializer&&Me(e.initializer)}function Je(e){return $F(e)&&!!e.condition&&Me(e.condition)}function ze(e){return $F(e)&&!!e.incrementor&&Me(e.incrementor)}function qe(e){return Ve(e)||Be(e)}function Ve(e){return c.hasNodeCheckFlag(e,4096)}function Ue(e,t){e.hoistedLocalVariables||(e.hoistedLocalVariables=[]),function t(n){if(80===n.kind)e.hoistedLocalVariables.push(n);else for(const e of n.elements)NF(e)||t(e.name)}(t.name)}function We(e,n,r){switch(e.kind){case 248:return function(e,n,r){const i=e.condition&&Me(e.condition),o=i||e.incrementor&&Me(e.incrementor);return t.updateForStatement(e,pJ(n?n.part:e.initializer,T,ou),pJ(i?void 0:e.condition,S,G_),pJ(o?void 0:e.incrementor,T,G_),r)}(e,n,r);case 249:return function(e,n){return t.updateForInStatement(e,fn.checkDefined(pJ(e.initializer,S,ou)),fn.checkDefined(pJ(e.expression,S,G_)),n)}(e,r);case 250:return function(e,n){return t.updateForOfStatement(e,void 0,fn.checkDefined(pJ(e.initializer,S,ou)),fn.checkDefined(pJ(e.expression,S,G_)),n)}(e,r);case 246:return function(e,n){return t.updateDoStatement(e,n,fn.checkDefined(pJ(e.expression,S,G_)))}(e,r);case 247:return function(e,n){return t.updateWhileStatement(e,fn.checkDefined(pJ(e.expression,S,G_)),n)}(e,r);default:return fn.failBadSyntaxKind(e,"IterationStatement expected")}}function $e(e){return t.createVariableDeclaration(e.originalName,void 0,void 0,e.outParamName)}function He(e,n){const r=0===n?e.outParamName:e.originalName,i=0===n?e.originalName:e.outParamName;return t.createBinaryExpression(i,64,r)}function Ke(e,n,r,i){for(const o of e)o.flags&n&&i.push(t.createExpressionStatement(He(o,r)))}function Ge(e,t,n,r){t?(e.labeledNonLocalBreaks||(e.labeledNonLocalBreaks=new Map),e.labeledNonLocalBreaks.set(n,r)):(e.labeledNonLocalContinues||(e.labeledNonLocalContinues=new Map),e.labeledNonLocalContinues.set(n,r))}function Xe(e,n,r,i,o){e&&e.forEach((e,a)=>{const s=[];if(!i||i.labels&&i.labels.get(a)){const e=t.createIdentifier(a);s.push(n?t.createBreakStatement(e):t.createContinueStatement(e))}else Ge(i,n,a,e),s.push(t.createReturnStatement(r));o.push(t.createCaseClause(t.createStringLiteral(e),s))})}function Qe(e,n,r,i,o){const a=n.name;if(D_(a))for(const t of a.elements)NF(t)||Qe(e,t,r,i,o);else{r.push(t.createParameterDeclaration(void 0,void 0,a));const s=c.hasNodeCheckFlag(n,65536);if(s||o){const r=t.createUniqueName("out_"+xc(a));let o=0;s&&(o|=1),$F(e)&&(e.initializer&&c.isBindingCapturedByNode(e.initializer,n)&&(o|=2),(e.condition&&c.isBindingCapturedByNode(e.condition,n)||e.incrementor&&c.isBindingCapturedByNode(e.incrementor,n))&&(o|=1)),i.push({flags:o,originalName:a,outParamName:r})}}}function Ze(e,n,r){const i=t.createAssignment(eA(t,n,fn.checkDefined(pJ(e.name,S,a_))),fn.checkDefined(pJ(e.initializer,S,G_)));return vI(i,e),r&&TA(i),i}function Ye(e,n,r){const i=t.createAssignment(eA(t,n,fn.checkDefined(pJ(e.name,S,a_))),t.cloneNode(e.name));return vI(i,e),r&&TA(i),i}function et(e,n,r,i){const o=t.createAssignment(eA(t,n,fn.checkDefined(pJ(e.name,S,a_))),me(e,e,void 0,r));return vI(o,e),i&&TA(o),o}function tt(e,r,i,o){const a=e.length,c=L($(e,nt,(e,t,n,r)=>t(e,i,o&&r===a)));if(1===c.length){const e=c[0];if(r&&!s.downlevelIteration||jT(e.expression)||LD(e.expression,"___spreadArray"))return e.expression}const l=n(),_=0!==c[0].kind;let u=_?t.createArrayLiteralExpression():c[0].expression;for(let t=_?0:1;t<c.length;t++){const e=c[t];u=l.createSpreadArrayHelper(u,e.expression,1===e.kind&&!r)}return u}function nt(e){return wF(e)?rt:st}function rt(e){return A(e,at)}function at(e){fn.assertNode(e,wF);let t=pJ(e.expression,S,G_);fn.assert(t);const r=LD(t,"___read");let i=r||jT(t)?2:1;return!s.downlevelIteration||1!==i||oF(t)||r||(t=n().createReadHelper(t,void 0),i=2),bq(i,t)}function st(e,n,r){return bq(0,t.createArrayLiteralExpression(fJ(t.createNodeArray(e,r),S,G_),n))}function ct(){return t.createUniqueName("_super",48)}function lt(e,n){const r=8&p&&!n?t.createPropertyAccessExpression(dw(ct(),e),"prototype"):ct();return dw(r,e),Dw(r,e),xw(r,e),r}function _t(){2&h||(h|=2,e.enableSubstitution(80))}function ut(e,n){return Iv(n)?t.getInternalName(e):t.createPropertyAccessExpression(t.getInternalName(e),"prototype")}}function kq(e){const{factory:t,getEmitHelperFactory:n,resumeLexicalEnvironment:r,endLexicalEnvironment:i,hoistFunctionDeclaration:o,hoistVariableDeclaration:a}=e,s=e.getCompilerOptions(),c=Sk(s),l=e.getEmitResolver(),_=e.onSubstituteNode;let u,d,p,m,g,h,y,v,b,x;e.onSubstituteNode=function(e,n){return n=_(e,n),1===e?function(e){return tN(e)?function(e){if(!Xl(e)&&u&&u.has(xc(e))){const n=mc(e);if(tN(n)&&n.parent){const r=l.getReferencedValueDeclaration(n);if(r){const n=d[HJ(r)];if(n){const r=IT(vI(t.cloneNode(n),n),n.parent);return xw(r,e),Dw(r,e),r}}}}return e}(e):e}(n):n};let k,S,T,C,w,D,N,F,E,P,I,O,L=1,j=0,R=0;return XJ(e,function(t){if(t.isDeclarationFile||!(2048&t.transformFlags))return t;const n=SJ(t,M,e);return Mw(n,e.readEmitHelpers()),n});function M(t){const n=t.transformFlags;return m?function(t){switch(t.kind){case 246:case 247:return function(t){return m?(ae(),t=SJ(t,M,e),ce(),t):SJ(t,M,e)}(t);case 255:return function(t){return m&&ne({kind:2,isScript:!0,breakLabel:-1}),t=SJ(t,M,e),m&&le(),t}(t);case 256:return function(t){return m&&ne({kind:4,isScript:!0,labelText:xc(t.label),breakLabel:-1}),t=SJ(t,M,e),m&&_e(),t}(t);default:return B(t)}}(t):p?B(t):__(t)&&t.asteriskToken?function(e){switch(e.kind){case 262:return J(e);case 218:return z(e);default:return fn.failBadSyntaxKind(e)}}(t):2048&n?SJ(t,M,e):t}function B(r){switch(r.kind){case 262:return J(r);case 218:return z(r);case 177:case 178:return function(t){const n=p,r=m;return p=!1,m=!1,t=SJ(t,M,e),p=n,m=r,t}(r);case 243:return function(e){if(!(1048576&e.transformFlags)){if(2097152&rp(e))return e;for(const t of e.declarationList.declarations)a(t.name);const n=ix(e.declarationList);if(0===n.length)return;return xw(t.createExpressionStatement(t.inlineExpressions(A(n,G))),e)}K(e.declarationList)}(r);case 248:return function(n){m&&ae();const r=n.initializer;if(r&&oE(r)){for(const e of r.declarations)a(e.name);const i=ix(r);n=t.updateForStatement(n,i.length>0?t.inlineExpressions(A(i,G)):void 0,pJ(n.condition,M,G_),pJ(n.incrementor,M,G_),xJ(n.statement,M,e))}else n=SJ(n,M,e);return m&&ce(),n}(r);case 249:return function(n){m&&ae();const r=n.initializer;if(oE(r)){for(const e of r.declarations)a(e.name);n=t.updateForInStatement(n,r.declarations[0].name,fn.checkDefined(pJ(n.expression,M,G_)),fn.checkDefined(pJ(n.statement,M,yu,t.liftToBlock)))}else n=SJ(n,M,e);return m&&ce(),n}(r);case 252:return function(t){if(m){const e=me(t.label&&xc(t.label));if(e>0)return ve(e,t)}return SJ(t,M,e)}(r);case 251:return function(t){if(m){const e=ge(t.label&&xc(t.label));if(e>0)return ve(e,t)}return SJ(t,M,e)}(r);case 253:return function(e){return n=pJ(e.expression,M,G_),r=e,vI(t.createReturnStatement(t.createArrayLiteralExpression(n?[ye(2),n]:[ye(2)])),r);var n,r}(r);default:return 1048576&r.transformFlags?function(r){switch(r.kind){case 226:return function(n){const r=ay(n);switch(r){case 0:return function(n){return X(n.right)?eb(n.operatorToken.kind)?function(e){const t=ee(),n=Y();return Se(n,fn.checkDefined(pJ(e.left,M,G_)),e.left),56===e.operatorToken.kind?we(t,n,e.left):Ce(t,n,e.left),Se(n,fn.checkDefined(pJ(e.right,M,G_)),e.right),te(t),n}(n):28===n.operatorToken.kind?V(n):t.updateBinaryExpression(n,Z(fn.checkDefined(pJ(n.left,M,G_))),n.operatorToken,fn.checkDefined(pJ(n.right,M,G_))):SJ(n,M,e)}(n);case 1:return function(n){const{left:r,right:i}=n;if(X(i)){let e;switch(r.kind){case 211:e=t.updatePropertyAccessExpression(r,Z(fn.checkDefined(pJ(r.expression,M,V_))),r.name);break;case 212:e=t.updateElementAccessExpression(r,Z(fn.checkDefined(pJ(r.expression,M,V_))),Z(fn.checkDefined(pJ(r.argumentExpression,M,G_))));break;default:e=fn.checkDefined(pJ(r,M,G_))}const o=n.operatorToken.kind;return sz(o)?vI(t.createAssignment(e,vI(t.createBinaryExpression(Z(e),cz(o),fn.checkDefined(pJ(i,M,G_))),n)),n):t.updateBinaryExpression(n,e,n.operatorToken,fn.checkDefined(pJ(i,M,G_)))}return SJ(n,M,e)}(n);default:return fn.assertNever(r)}}(r);case 356:return function(e){let n=[];for(const r of e.elements)kF(r)&&28===r.operatorToken.kind?n.push(V(r)):(X(r)&&n.length>0&&(De(1,[t.createExpressionStatement(t.inlineExpressions(n))]),n=[]),n.push(fn.checkDefined(pJ(r,M,G_))));return t.inlineExpressions(n)}(r);case 227:return function(t){if(X(t.whenTrue)||X(t.whenFalse)){const e=ee(),n=ee(),r=Y();return we(e,fn.checkDefined(pJ(t.condition,M,G_)),t.condition),Se(r,fn.checkDefined(pJ(t.whenTrue,M,G_)),t.whenTrue),Te(n),te(e),Se(r,fn.checkDefined(pJ(t.whenFalse,M,G_)),t.whenFalse),te(n),r}return SJ(t,M,e)}(r);case 229:return function(e){const r=ee(),i=pJ(e.expression,M,G_);return e.asteriskToken?function(e,t){De(7,[e],t)}(8388608&rp(e.expression)?i:vI(n().createValuesHelper(i),e),e):function(e,t){De(6,[e],t)}(i,e),te(r),o=e,vI(t.createCallExpression(t.createPropertyAccessExpression(C,"sent"),void 0,[]),o);var o}(r);case 209:return function(e){return U(e.elements,void 0,void 0,e.multiLine)}(r);case 210:return function(e){const n=e.properties,r=e.multiLine,i=Q(n),o=Y();Se(o,t.createObjectLiteralExpression(fJ(n,M,T_,0,i),r));const a=Fe(n,s,[],i);return a.push(r?TA(IT(vI(t.cloneNode(o),o),o.parent)):o),t.inlineExpressions(a);function s(n,i){X(i)&&n.length>0&&(ke(t.createExpressionStatement(t.inlineExpressions(n))),n=[]);const a=pJ(lA(t,e,i,o),M,G_);return a&&(r&&TA(a),n.push(a)),n}}(r);case 212:return function(n){return X(n.argumentExpression)?t.updateElementAccessExpression(n,Z(fn.checkDefined(pJ(n.expression,M,V_))),fn.checkDefined(pJ(n.argumentExpression,M,G_))):SJ(n,M,e)}(r);case 213:return function(n){if(!ff(n)&&f(n.arguments,X)){const{target:e,thisArg:r}=t.createCallBinding(n.expression,a,c,!0);return dw(vI(t.createFunctionApplyCall(Z(fn.checkDefined(pJ(e,M,V_))),r,U(n.arguments)),n),n)}return SJ(n,M,e)}(r);case 214:return function(n){if(f(n.arguments,X)){const{target:e,thisArg:r}=t.createCallBinding(t.createPropertyAccessExpression(n.expression,"bind"),a);return dw(vI(t.createNewExpression(t.createFunctionApplyCall(Z(fn.checkDefined(pJ(e,M,G_))),r,U(n.arguments,t.createVoidZero())),void 0,[]),n),n)}return SJ(n,M,e)}(r);default:return SJ(r,M,e)}}(r):4196352&r.transformFlags?SJ(r,M,e):r}}function J(n){if(n.asteriskToken)n=dw(vI(t.createFunctionDeclaration(n.modifiers,void 0,n.name,void 0,yJ(n.parameters,M,e),void 0,q(n.body)),n),n);else{const t=p,r=m;p=!1,m=!1,n=SJ(n,M,e),p=t,m=r}return p?void o(n):n}function z(n){if(n.asteriskToken)n=dw(vI(t.createFunctionExpression(void 0,void 0,n.name,void 0,yJ(n.parameters,M,e),void 0,q(n.body)),n),n);else{const t=p,r=m;p=!1,m=!1,n=SJ(n,M,e),p=t,m=r}return n}function q(e){const o=[],a=p,s=m,c=g,l=h,_=y,u=v,d=b,f=x,A=L,B=k,J=S,z=T,q=C;p=!0,m=!1,g=void 0,h=void 0,y=void 0,v=void 0,b=void 0,x=void 0,L=1,k=void 0,S=void 0,T=void 0,C=t.createTempVariable(void 0),r();const V=t.copyPrologue(e.statements,o,!1,M);W(e.statements,V);const U=function(){j=0,R=0,w=void 0,D=!1,N=!1,F=void 0,E=void 0,P=void 0,I=void 0,O=void 0;const e=function(){if(k){for(let e=0;e<k.length;e++)Ie(e);Ee(k.length)}else Ee(0);if(F){const e=t.createPropertyAccessExpression(C,"label");return[TA(t.createSwitchStatement(e,t.createCaseBlock(F)))]}return E||[]}();return n().createGeneratorHelper(gw(t.createFunctionExpression(void 0,void 0,void 0,void 0,[t.createParameterDeclaration(void 0,void 0,C)],void 0,t.createBlock(e,e.length>0)),1048576))}();return Md(o,i()),o.push(t.createReturnStatement(U)),p=a,m=s,g=c,h=l,y=_,v=u,b=d,x=f,L=A,k=B,S=J,T=z,C=q,vI(t.createBlock(o,e.multiLine),e)}function V(e){let n=[];return r(e.left),r(e.right),t.inlineExpressions(n);function r(e){kF(e)&&28===e.operatorToken.kind?(r(e.left),r(e.right)):(X(e)&&n.length>0&&(De(1,[t.createExpressionStatement(t.inlineExpressions(n))]),n=[]),n.push(fn.checkDefined(pJ(e,M,G_))))}}function U(e,n,r,i){const o=Q(e);let a;if(o>0){a=Y();const r=fJ(e,M,G_,0,o);Se(a,t.createArrayLiteralExpression(n?[n,...r]:r)),n=void 0}const s=Fe(e,function(e,r){if(X(r)&&e.length>0){const r=void 0!==a;a||(a=Y()),Se(a,r?t.createArrayConcatCall(a,[t.createArrayLiteralExpression(e,i)]):t.createArrayLiteralExpression(n?[n,...e]:e,i)),n=void 0,e=[]}return e.push(fn.checkDefined(pJ(r,M,G_))),e},[],o);return a?t.createArrayConcatCall(a,[t.createArrayLiteralExpression(s,i)]):vI(t.createArrayLiteralExpression(n?[n,...s]:s,i),r)}function W(e,t=0){const n=e.length;for(let r=t;r<n;r++)H(e[r])}function $(e){BF(e)?W(e.statements):H(e)}function H(n){const r=m;m||(m=X(n)),function(n){switch(n.kind){case 241:return function(e){X(e)?W(e.statements):ke(pJ(e,M,yu))}(n);case 244:return function(e){ke(pJ(e,M,yu))}(n);case 245:return function(e){if(X(e))if(X(e.thenStatement)||X(e.elseStatement)){const t=ee(),n=e.elseStatement?ee():void 0;we(e.elseStatement?n:t,fn.checkDefined(pJ(e.expression,M,G_)),e.expression),$(e.thenStatement),e.elseStatement&&(Te(t),te(n),$(e.elseStatement)),te(t)}else ke(pJ(e,M,yu));else ke(pJ(e,M,yu))}(n);case 246:return function(e){if(X(e)){const t=ee(),n=ee();se(t),te(n),$(e.statement),te(t),Ce(n,fn.checkDefined(pJ(e.expression,M,G_))),ce()}else ke(pJ(e,M,yu))}(n);case 247:return function(e){if(X(e)){const t=ee(),n=se(t);te(t),we(n,fn.checkDefined(pJ(e.expression,M,G_))),$(e.statement),Te(t),ce()}else ke(pJ(e,M,yu))}(n);case 248:return function(e){if(X(e)){const n=ee(),r=ee(),i=se(r);if(e.initializer){const n=e.initializer;oE(n)?K(n):ke(vI(t.createExpressionStatement(fn.checkDefined(pJ(n,M,G_))),n))}te(n),e.condition&&we(i,fn.checkDefined(pJ(e.condition,M,G_))),$(e.statement),te(r),e.incrementor&&ke(vI(t.createExpressionStatement(fn.checkDefined(pJ(e.incrementor,M,G_))),e.incrementor)),Te(n),ce()}else ke(pJ(e,M,yu))}(n);case 249:return function(e){if(X(e)){const n=Y(),r=Y(),i=Y(),o=t.createLoopVariable(),s=e.initializer;a(o),Se(n,fn.checkDefined(pJ(e.expression,M,G_))),Se(r,t.createArrayLiteralExpression()),ke(t.createForInStatement(i,n,t.createExpressionStatement(t.createCallExpression(t.createPropertyAccessExpression(r,"push"),void 0,[i])))),Se(o,t.createNumericLiteral(0));const c=ee(),l=ee(),_=se(l);let u;if(te(c),we(_,t.createLessThan(o,t.createPropertyAccessExpression(r,"length"))),Se(i,t.createElementAccessExpression(r,o)),we(l,t.createBinaryExpression(i,103,n)),oE(s)){for(const e of s.declarations)a(e.name);u=t.cloneNode(s.declarations[0].name)}else u=fn.checkDefined(pJ(s,M,G_)),fn.assert(V_(u));Se(u,i),$(e.statement),te(l),ke(t.createExpressionStatement(t.createPostfixIncrement(o))),Te(c),ce()}else ke(pJ(e,M,yu))}(n);case 251:return function(e){const t=ge(e.label?xc(e.label):void 0);t>0?Te(t,e):ke(e)}(n);case 252:return function(e){const t=me(e.label?xc(e.label):void 0);t>0?Te(t,e):ke(e)}(n);case 253:return function(e){De(8,[pJ(e.expression,M,G_)],e)}(n);case 254:return function(e){X(e)?(function(e){const t=ee(),n=ee();te(t),ne({kind:1,expression:e,startLabel:t,endLabel:n})}(Z(fn.checkDefined(pJ(e.expression,M,G_)))),$(e.statement),fn.assert(1===oe()),te(re().endLabel)):ke(pJ(e,M,yu))}(n);case 255:return function(e){if(X(e.caseBlock)){const n=e.caseBlock,r=n.clauses.length,i=function(){const e=ee();return ne({kind:2,isScript:!1,breakLabel:e}),e}(),o=Z(fn.checkDefined(pJ(e.expression,M,G_))),a=[];let s=-1;for(let e=0;e<r;e++){const t=n.clauses[e];a.push(ee()),297===t.kind&&-1===s&&(s=e)}let c=0,l=[];for(;c<r;){let e=0;for(let i=c;i<r;i++){const r=n.clauses[i];if(296===r.kind){if(X(r.expression)&&l.length>0)break;l.push(t.createCaseClause(fn.checkDefined(pJ(r.expression,M,G_)),[ve(a[i],r.expression)]))}else e++}l.length&&(ke(t.createSwitchStatement(o,t.createCaseBlock(l))),c+=l.length,l=[]),e>0&&(c+=e,e=0)}Te(s>=0?a[s]:i);for(let e=0;e<r;e++)te(a[e]),W(n.clauses[e].statements);le()}else ke(pJ(e,M,yu))}(n);case 256:return function(e){X(e)?(function(e){const t=ee();ne({kind:4,isScript:!1,labelText:e,breakLabel:t})}(xc(e.label)),$(e.statement),_e()):ke(pJ(e,M,yu))}(n);case 257:return function(e){var n;De(9,[fn.checkDefined(pJ(null!=(n=e.expression)?n:t.createVoidZero(),M,G_))],e)}(n);case 258:return function(n){X(n)?(function(){const e=ee(),t=ee();te(e),ne({kind:0,state:0,startLabel:e,endLabel:t}),be()}(),$(n.tryBlock),n.catchClause&&(function(n){let r;if(fn.assert(0===oe()),Xl(n.name))r=n.name,a(n.name);else{const t=xc(n.name);r=Y(t),u||(u=new Map,d=[],e.enableSubstitution(80)),u.set(t,!0),d[HJ(n)]=r}const i=ie();fn.assert(i.state<1),Te(i.endLabel);const o=ee();te(o),i.state=1,i.catchVariable=r,i.catchLabel=o,Se(r,t.createCallExpression(t.createPropertyAccessExpression(C,"sent"),void 0,[])),be()}(n.catchClause.variableDeclaration),$(n.catchClause.block)),n.finallyBlock&&(function(){fn.assert(0===oe());const e=ie();fn.assert(e.state<2),Te(e.endLabel);const t=ee();te(t),e.state=2,e.finallyLabel=t}(),$(n.finallyBlock)),function(){fn.assert(0===oe());const e=re();e.state<2?Te(e.endLabel):De(10),te(e.endLabel),be(),e.state=3}()):ke(SJ(n,M,e))}(n);default:ke(pJ(n,M,yu))}}(n),m=r}function K(e){for(const s of e.declarations){const e=t.cloneNode(s.name);Dw(e,s.name),a(e)}const n=ix(e),r=n.length;let i=0,o=[];for(;i<r;){for(let e=i;e<r;e++){const t=n[e];if(X(t.initializer)&&o.length>0)break;o.push(G(t))}o.length&&(ke(t.createExpressionStatement(t.inlineExpressions(o))),i+=o.length,o=[])}}function G(e){return xw(t.createAssignment(xw(t.cloneNode(e.name),e.name),fn.checkDefined(pJ(e.initializer,M,G_))),e)}function X(e){return!!e&&!!(1048576&e.transformFlags)}function Q(e){const t=e.length;for(let n=0;n<t;n++)if(X(e[n]))return n;return-1}function Z(e){if(Xl(e)||8192&rp(e))return e;const n=t.createTempVariable(a);return Se(n,e,e),n}function Y(e){const n=e?t.createUniqueName(e):t.createTempVariable(void 0);return a(n),n}function ee(){b||(b=[]);const e=L;return L++,b[e]=-1,e}function te(e){fn.assert(void 0!==b,"No labels were defined."),b[e]=k?k.length:0}function ne(e){g||(g=[],y=[],h=[],v=[]);const t=y.length;return y[t]=0,h[t]=k?k.length:0,g[t]=e,v.push(e),t}function re(){const e=ie();if(void 0===e)return fn.fail("beginBlock was never called.");const t=y.length;return y[t]=1,h[t]=k?k.length:0,g[t]=e,v.pop(),e}function ie(){return xe(v)}function oe(){const e=ie();return e&&e.kind}function ae(){ne({kind:3,isScript:!0,breakLabel:-1,continueLabel:-1})}function se(e){const t=ee();return ne({kind:3,isScript:!1,breakLabel:t,continueLabel:e}),t}function ce(){fn.assert(3===oe());const e=re(),t=e.breakLabel;e.isScript||te(t)}function le(){fn.assert(2===oe());const e=re(),t=e.breakLabel;e.isScript||te(t)}function _e(){fn.assert(4===oe());const e=re();e.isScript||te(e.breakLabel)}function ue(e){return 2===e.kind||3===e.kind}function de(e){return 4===e.kind}function pe(e){return 3===e.kind}function fe(e,t){for(let n=t;n>=0;n--){const t=v[n];if(!de(t))break;if(t.labelText===e)return!0}return!1}function me(e){if(v)if(e)for(let t=v.length-1;t>=0;t--){const n=v[t];if(de(n)&&n.labelText===e)return n.breakLabel;if(ue(n)&&fe(e,t-1))return n.breakLabel}else for(let t=v.length-1;t>=0;t--){const e=v[t];if(ue(e))return e.breakLabel}return 0}function ge(e){if(v)if(e)for(let t=v.length-1;t>=0;t--){const n=v[t];if(pe(n)&&fe(e,t-1))return n.continueLabel}else for(let t=v.length-1;t>=0;t--){const e=v[t];if(pe(e))return e.continueLabel}return 0}function he(e){if(void 0!==e&&e>0){void 0===x&&(x=[]);const n=t.createNumericLiteral(Number.MAX_SAFE_INTEGER);return void 0===x[e]?x[e]=[n]:x[e].push(n),n}return t.createOmittedExpression()}function ye(e){const n=t.createNumericLiteral(e);return Iw(n,3,function(e){switch(e){case 2:return"return";case 3:return"break";case 4:return"yield";case 5:return"yield*";case 7:return"endfinally";default:return}}(e)),n}function ve(e,n){return fn.assertLessThan(0,e,"Invalid label"),vI(t.createReturnStatement(t.createArrayLiteralExpression([ye(3),he(e)])),n)}function be(){De(0)}function ke(e){e?De(1,[e]):be()}function Se(e,t,n){De(2,[e,t],n)}function Te(e,t){De(3,[e],t)}function Ce(e,t,n){De(4,[e,t],n)}function we(e,t,n){De(5,[e,t],n)}function De(e,t,n){void 0===k&&(k=[],S=[],T=[]),void 0===b&&te(ee());const r=k.length;k[r]=e,S[r]=t,T[r]=n}function Ne(){E&&(Pe(!D),D=!1,N=!1,R++)}function Ee(e){(function(e){if(!N)return!0;if(!b||!x)return!1;for(let t=0;t<b.length;t++)if(b[t]===e&&x[t])return!0;return!1})(e)&&(Ae(e),O=void 0,Le(void 0,void 0)),E&&F&&Pe(!1),function(){if(void 0!==x&&void 0!==w)for(let e=0;e<w.length;e++){const t=w[e];if(void 0!==t)for(const n of t){const t=x[n];if(void 0!==t)for(const n of t)n.text=String(e)}}}()}function Pe(e){if(F||(F=[]),E){if(O)for(let e=O.length-1;e>=0;e--){const n=O[e];E=[t.createWithStatement(n.expression,t.createBlock(E))]}if(I){const{startLabel:e,catchLabel:n,finallyLabel:r,endLabel:i}=I;E.unshift(t.createExpressionStatement(t.createCallExpression(t.createPropertyAccessExpression(t.createPropertyAccessExpression(C,"trys"),"push"),void 0,[t.createArrayLiteralExpression([he(e),he(n),he(r),he(i)])]))),I=void 0}e&&E.push(t.createExpressionStatement(t.createAssignment(t.createPropertyAccessExpression(C,"label"),t.createNumericLiteral(R+1))))}F.push(t.createCaseClause(t.createNumericLiteral(R),E||[])),E=void 0}function Ae(e){if(b)for(let t=0;t<b.length;t++)b[t]===e&&(Ne(),void 0===w&&(w=[]),void 0===w[R]?w[R]=[t]:w[R].push(t))}function Ie(e){if(Ae(e),function(e){if(g)for(;j<y.length&&h[j]<=e;j++){const e=g[j],t=y[j];switch(e.kind){case 0:0===t?(P||(P=[]),E||(E=[]),P.push(I),I=e):1===t&&(I=P.pop());break;case 1:0===t?(O||(O=[]),O.push(e)):1===t&&O.pop()}}}(e),D)return;D=!1,N=!1;const n=k[e];if(0===n)return;if(10===n)return D=!0,void Oe(t.createReturnStatement(t.createArrayLiteralExpression([ye(7)])));const r=S[e];if(1===n)return Oe(r[0]);const i=T[e];switch(n){case 2:return o=r[0],a=r[1],s=i,void Oe(vI(t.createExpressionStatement(t.createAssignment(o,a)),s));case 3:return function(e,n){D=!0,Oe(gw(vI(t.createReturnStatement(t.createArrayLiteralExpression([ye(3),he(e)])),n),768))}(r[0],i);case 4:return function(e,n,r){Oe(gw(t.createIfStatement(n,gw(vI(t.createReturnStatement(t.createArrayLiteralExpression([ye(3),he(e)])),r),768)),1))}(r[0],r[1],i);case 5:return function(e,n,r){Oe(gw(t.createIfStatement(t.createLogicalNot(n),gw(vI(t.createReturnStatement(t.createArrayLiteralExpression([ye(3),he(e)])),r),768)),1))}(r[0],r[1],i);case 6:return function(e,n){D=!0,Oe(gw(vI(t.createReturnStatement(t.createArrayLiteralExpression(e?[ye(4),e]:[ye(4)])),n),768))}(r[0],i);case 7:return function(e,n){D=!0,Oe(gw(vI(t.createReturnStatement(t.createArrayLiteralExpression([ye(5),e])),n),768))}(r[0],i);case 8:return Le(r[0],i);case 9:return function(e,n){D=!0,N=!0,Oe(vI(t.createThrowStatement(e),n))}(r[0],i)}var o,a,s}function Oe(e){e&&(E?E.push(e):E=[e])}function Le(e,n){D=!0,N=!0,Oe(gw(vI(t.createReturnStatement(t.createArrayLiteralExpression(e?[ye(2),e]:[ye(2)])),n),768))}}function Sq(e){const{factory:t,getEmitHelperFactory:n,startLexicalEnvironment:r,endLexicalEnvironment:i,hoistVariableDeclaration:o}=e,a=e.getCompilerOptions(),s=e.getEmitResolver(),c=e.getEmitHost(),l=Sk(a),_=Tk(a),d=e.onSubstituteNode,f=e.onEmitNode;e.onSubstituteNode=function(e,n){return(n=d(e,n)).id&&v[n.id]?n:1===e?function(e){switch(e.kind){case 80:return Y(e);case 213:return function(e){if(tN(e.expression)){const n=Y(e.expression);if(v[rJ(n)]=!0,!(tN(n)||8192&rp(e.expression)))return vw(t.updateCallExpression(e,n,void 0,e.arguments),16)}return e}(e);case 215:return function(e){if(tN(e.tag)){const n=Y(e.tag);if(v[rJ(n)]=!0,!(tN(n)||8192&rp(e.tag)))return vw(t.updateTaggedTemplateExpression(e,n,void 0,e.template),16)}return e}(e);case 226:return function(e){if(ob(e.operatorToken.kind)&&tN(e.left)&&(!Xl(e.left)||Zl(e.left))&&!dA(e.left)){const t=ee(e.left);if(t){let n=e;for(const r of t)v[rJ(n)]=!0,n=Q(r,n,e);return n}}return e}(e)}return e}(n):YE(n)?function(e){const n=e.name,r=Y(n);if(r!==n){if(e.objectAssignmentInitializer){const i=t.createAssignment(r,e.objectAssignmentInitializer);return vI(t.createPropertyAssignment(n,i),e)}return vI(t.createPropertyAssignment(n,r),e)}return e}(n):n},e.onEmitNode=function(e,t,n){307===t.kind?(g=t,h=m[HJ(g)],f(e,t,n),g=void 0,h=void 0):f(e,t,n)},e.enableSubstitution(213),e.enableSubstitution(215),e.enableSubstitution(80),e.enableSubstitution(226),e.enableSubstitution(304),e.enableEmitNotification(307);const m=[];let g,h,y;const v=[];let b;return XJ(e,function(t){if(t.isDeclarationFile||!(xp(t,a)||8388608&t.transformFlags||of(t)&&Jk(a)&&a.outFile))return t;g=t,h=ez(e,t),m[HJ(t)]=h,a.rewriteRelativeImportExtensions&&IC(t,!1,!1,e=>{zu(e.arguments[0])&&!Cg(e.arguments[0].text,a)||(y=se(y,e))});const n=function(e){switch(e){case 2:return S;case 3:return T;default:return k}}(_)(t);return g=void 0,h=void 0,b=!1,n});function x(){return!(BS(g.fileName)&&g.commonJsModuleIndicator&&(!g.externalModuleIndicator||!0===g.externalModuleIndicator)||h.exportEquals||!tO(g))}function k(n){r();const o=[],s=Wk(a,"alwaysStrict")||tO(g),c=t.copyPrologue(n.statements,o,s&&!of(n),F);if(x()&&se(o,G()),K(h.exportedNames)){const e=50;for(let n=0;n<h.exportedNames.length;n+=e)se(o,t.createExpressionStatement(Fe(h.exportedNames.slice(n,n+e),(e,n)=>11===n.kind?t.createAssignment(t.createElementAccessExpression(t.createIdentifier("exports"),t.createStringLiteral(n.text)),e):t.createAssignment(t.createPropertyAccessExpression(t.createIdentifier("exports"),t.createIdentifier(xc(n))),e),t.createVoidZero())))}for(const e of h.exportedFunctions)W(o,e);se(o,pJ(h.externalHelpersImportDeclaration,F,yu)),_e(o,fJ(n.statements,F,yu,c)),N(o,!1),Md(o,i());const l=t.updateSourceFile(n,vI(t.createNodeArray(o),n.statements));return Mw(l,e.readEmitHelpers()),l}function S(n){const r=t.createIdentifier("define"),i=EA(t,n,c,a),o=of(n)&&n,{aliasedModuleNames:s,unaliasedModuleNames:l,importAliasNames:_}=C(n,!0),d=t.updateSourceFile(n,vI(t.createNodeArray([t.createExpressionStatement(t.createCallExpression(r,void 0,[...i?[i]:[],t.createArrayLiteralExpression(o?u:[t.createStringLiteral("require"),t.createStringLiteral("exports"),...s,...l]),o?o.statements.length?o.statements[0].expression:t.createObjectLiteralExpression():t.createFunctionExpression(void 0,void 0,void 0,void 0,[t.createParameterDeclaration(void 0,void 0,"require"),t.createParameterDeclaration(void 0,void 0,"exports"),..._],void 0,D(n))]))]),n.statements));return Mw(d,e.readEmitHelpers()),d}function T(n){const{aliasedModuleNames:r,unaliasedModuleNames:i,importAliasNames:o}=C(n,!1),s=EA(t,n,c,a),l=t.createFunctionExpression(void 0,void 0,void 0,void 0,[t.createParameterDeclaration(void 0,void 0,"factory")],void 0,vI(t.createBlock([t.createIfStatement(t.createLogicalAnd(t.createTypeCheck(t.createIdentifier("module"),"object"),t.createTypeCheck(t.createPropertyAccessExpression(t.createIdentifier("module"),"exports"),"object")),t.createBlock([t.createVariableStatement(void 0,[t.createVariableDeclaration("v",void 0,void 0,t.createCallExpression(t.createIdentifier("factory"),void 0,[t.createIdentifier("require"),t.createIdentifier("exports")]))]),gw(t.createIfStatement(t.createStrictInequality(t.createIdentifier("v"),t.createIdentifier("undefined")),t.createExpressionStatement(t.createAssignment(t.createPropertyAccessExpression(t.createIdentifier("module"),"exports"),t.createIdentifier("v")))),1)]),t.createIfStatement(t.createLogicalAnd(t.createTypeCheck(t.createIdentifier("define"),"function"),t.createPropertyAccessExpression(t.createIdentifier("define"),"amd")),t.createBlock([t.createExpressionStatement(t.createCallExpression(t.createIdentifier("define"),void 0,[...s?[s]:[],t.createArrayLiteralExpression([t.createStringLiteral("require"),t.createStringLiteral("exports"),...r,...i]),t.createIdentifier("factory")]))])))],!0),void 0)),_=t.updateSourceFile(n,vI(t.createNodeArray([t.createExpressionStatement(t.createCallExpression(l,void 0,[t.createFunctionExpression(void 0,void 0,void 0,void 0,[t.createParameterDeclaration(void 0,void 0,"require"),t.createParameterDeclaration(void 0,void 0,"exports"),...o],void 0,D(n))]))]),n.statements));return Mw(_,e.readEmitHelpers()),_}function C(e,n){const r=[],i=[],o=[];for(const a of e.amdDependencies)a.name?(r.push(t.createStringLiteral(a.path)),o.push(t.createParameterDeclaration(void 0,void 0,a.name))):i.push(t.createStringLiteral(a.path));for(const l of h.externalImports){const e=FA(t,l,g,c,s,a),_=NA(t,l,g);e&&(n&&_?(gw(_,8),r.push(e),o.push(t.createParameterDeclaration(void 0,void 0,_))):i.push(e))}return{aliasedModuleNames:r,unaliasedModuleNames:i,importAliasNames:o}}function w(e){if(mE(e)||NE(e)||!FA(t,e,g,c,s,a))return;const n=NA(t,e,g),r=M(e,n);return r!==n?t.createExpressionStatement(t.createAssignment(n,r)):void 0}function D(e){r();const n=[],o=t.copyPrologue(e.statements,n,!0,F);x()&&se(n,G()),K(h.exportedNames)&&se(n,t.createExpressionStatement(Fe(h.exportedNames,(e,n)=>11===n.kind?t.createAssignment(t.createElementAccessExpression(t.createIdentifier("exports"),t.createStringLiteral(n.text)),e):t.createAssignment(t.createPropertyAccessExpression(t.createIdentifier("exports"),t.createIdentifier(xc(n))),e),t.createVoidZero())));for(const t of h.exportedFunctions)W(n,t);se(n,pJ(h.externalHelpersImportDeclaration,F,yu)),2===_&&_e(n,z(h.externalImports,w)),_e(n,fJ(e.statements,F,yu,o)),N(n,!0),Md(n,i());const a=t.createBlock(n,!0);return b&&Rw(a,Tq),a}function N(e,n){if(h.exportEquals){const r=pJ(h.exportEquals.expression,A,G_);if(r)if(n){const n=t.createReturnStatement(r);vI(n,h.exportEquals),gw(n,3840),e.push(n)}else{const n=t.createExpressionStatement(t.createAssignment(t.createPropertyAccessExpression(t.createIdentifier("module"),"exports"),r));vI(n,h.exportEquals),gw(n,3072),e.push(n)}}}function F(e){switch(e.kind){case 272:return function(e){let n;const r=Dg(e);if(2!==_){if(!e.importClause)return dw(vI(t.createExpressionStatement(B(e)),e),e);{const i=[];r&&!Ng(e)?i.push(t.createVariableDeclaration(t.cloneNode(r.name),void 0,void 0,M(e,B(e)))):(i.push(t.createVariableDeclaration(t.getGeneratedNameForNode(e),void 0,void 0,M(e,B(e)))),r&&Ng(e)&&i.push(t.createVariableDeclaration(t.cloneNode(r.name),void 0,void 0,t.getGeneratedNameForNode(e)))),n=se(n,dw(vI(t.createVariableStatement(void 0,t.createVariableDeclarationList(i,l>=2?2:0)),e),e))}}else r&&Ng(e)&&(n=se(n,t.createVariableStatement(void 0,t.createVariableDeclarationList([dw(vI(t.createVariableDeclaration(t.cloneNode(r.name),void 0,void 0,t.getGeneratedNameForNode(e)),e),e)],l>=2?2:0))));return n=function(e,t){if(h.exportEquals)return e;const n=t.importClause;if(!n)return e;const r=new rz;n.name&&(e=$(e,r,n));const i=n.namedBindings;if(i)switch(i.kind){case 274:e=$(e,r,i);break;case 275:for(const t of i.elements)e=$(e,r,t,!0)}return e}(n,e),Ce(n)}(e);case 271:return function(e){let n;return fn.assert(Nm(e),"import= for internal module references should be handled in an earlier transformer."),2!==_?n=Av(e,32)?se(n,dw(vI(t.createExpressionStatement(Q(e.name,B(e))),e),e)):se(n,dw(vI(t.createVariableStatement(void 0,t.createVariableDeclarationList([t.createVariableDeclaration(t.cloneNode(e.name),void 0,void 0,B(e))],l>=2?2:0)),e),e)):Av(e,32)&&(n=se(n,dw(vI(t.createExpressionStatement(Q(t.getExportName(e),t.getLocalName(e))),e),e))),n=function(e,t){return h.exportEquals?e:$(e,new rz,t)}(n,e),Ce(n)}(e);case 278:return function(e){if(!e.moduleSpecifier)return;const r=t.getGeneratedNameForNode(e);if(e.exportClause&&FE(e.exportClause)){const i=[];2!==_&&i.push(dw(vI(t.createVariableStatement(void 0,t.createVariableDeclarationList([t.createVariableDeclaration(r,void 0,void 0,B(e))])),e),e));for(const o of e.exportClause.elements){const s=o.propertyName||o.name,c=!Nk(a)||2&ip(e)||!Zd(s)?r:n().createImportDefaultHelper(r),l=11===s.kind?t.createElementAccessExpression(c,s):t.createPropertyAccessExpression(c,s);i.push(dw(vI(t.createExpressionStatement(Q(11===o.name.kind?t.cloneNode(o.name):t.getExportName(o),l,void 0,!0)),o),o))}return Ce(i)}if(e.exportClause){const i=[];return i.push(dw(vI(t.createExpressionStatement(Q(t.cloneNode(e.exportClause.name),function(e,t){return!Nk(a)||2&ip(e)?t:QJ(e)?n().createImportStarHelper(t):t}(e,2!==_?B(e):Gd(e)||11===e.exportClause.name.kind?r:t.createIdentifier(xc(e.exportClause.name))))),e),e)),Ce(i)}return dw(vI(t.createExpressionStatement(n().createExportStarHelper(2!==_?B(e):r)),e),e)}(e);case 277:return function(e){if(!e.isExportEquals)return X(t.createIdentifier("default"),pJ(e.expression,A,G_),e,!0)}(e);default:return E(e)}}function E(n){switch(n.kind){case 243:return function(n){let r,i,o;if(Av(n,32)){let e,a=!1;for(const r of n.declarationList.declarations)if(tN(r.name)&&dA(r.name))e||(e=fJ(n.modifiers,Z,i_)),i=r.initializer?se(i,t.updateVariableDeclaration(r,r.name,void 0,void 0,Q(r.name,pJ(r.initializer,A,G_)))):se(i,r);else if(r.initializer)if(!D_(r.name)&&(mF(r.initializer)||fF(r.initializer)||DF(r.initializer))){const e=t.createAssignment(vI(t.createPropertyAccessExpression(t.createIdentifier("exports"),r.name),r.name),t.createIdentifier($h(r.name)));i=se(i,t.createVariableDeclaration(r.name,r.exclamationToken,r.type,pJ(r.initializer,A,G_))),o=se(o,e),a=!0}else o=se(o,q(r));if(i&&(r=se(r,t.updateVariableStatement(n,e,t.updateVariableDeclarationList(n.declarationList,i)))),o){const e=dw(vI(t.createExpressionStatement(t.inlineExpressions(o)),n),n);a&&mw(e),r=se(r,e)}}else r=se(r,SJ(n,A,e));return r=function(e,t){return V(e,t.declarationList,!1)}(r,n),Ce(r)}(n);case 262:return function(n){let r;return r=Av(n,32)?se(r,dw(vI(t.createFunctionDeclaration(fJ(n.modifiers,Z,i_),n.asteriskToken,t.getDeclarationName(n,!0,!0),void 0,fJ(n.parameters,A,vN),void 0,SJ(n.body,A,e)),n),n)):se(r,SJ(n,A,e)),Ce(r)}(n);case 263:return function(n){let r;return r=Av(n,32)?se(r,dw(vI(t.createClassDeclaration(fJ(n.modifiers,Z,x_),t.getDeclarationName(n,!0,!0),void 0,fJ(n.heritageClauses,A,XE),fJ(n.members,A,m_)),n),n)):se(r,SJ(n,A,e)),r=W(r,n),Ce(r)}(n);case 248:return L(n,!0);case 249:return function(n){if(oE(n.initializer)&&!(7&n.initializer.flags)){const r=V(void 0,n.initializer,!0);if(K(r)){const i=pJ(n.initializer,I,ou),o=pJ(n.expression,A,G_),a=xJ(n.statement,E,e),s=BF(a)?t.updateBlock(a,[...r,...a.statements]):t.createBlock([...r,a],!0);return t.updateForInStatement(n,i,o,s)}}return t.updateForInStatement(n,pJ(n.initializer,I,ou),pJ(n.expression,A,G_),xJ(n.statement,E,e))}(n);case 250:return function(n){if(oE(n.initializer)&&!(7&n.initializer.flags)){const r=V(void 0,n.initializer,!0),i=pJ(n.initializer,I,ou),o=pJ(n.expression,A,G_);let a=xJ(n.statement,E,e);return K(r)&&(a=BF(a)?t.updateBlock(a,[...r,...a.statements]):t.createBlock([...r,a],!0)),t.updateForOfStatement(n,n.awaitModifier,i,o,a)}return t.updateForOfStatement(n,n.awaitModifier,pJ(n.initializer,I,ou),pJ(n.expression,A,G_),xJ(n.statement,E,e))}(n);case 246:return function(n){return t.updateDoStatement(n,xJ(n.statement,E,e),pJ(n.expression,A,G_))}(n);case 247:return function(n){return t.updateWhileStatement(n,pJ(n.expression,A,G_),xJ(n.statement,E,e))}(n);case 256:return function(e){var n;return t.updateLabeledStatement(e,e.label,null!=(n=pJ(e.statement,E,yu,t.liftToBlock))?n:vI(t.createEmptyStatement(),e.statement))}(n);case 254:return function(e){return t.updateWithStatement(e,pJ(e.expression,A,G_),fn.checkDefined(pJ(e.statement,E,yu,t.liftToBlock)))}(n);case 245:return function(e){var n;return t.updateIfStatement(e,pJ(e.expression,A,G_),null!=(n=pJ(e.thenStatement,E,yu,t.liftToBlock))?n:t.createBlock([]),pJ(e.elseStatement,E,yu,t.liftToBlock))}(n);case 255:return function(e){return t.updateSwitchStatement(e,pJ(e.expression,A,G_),fn.checkDefined(pJ(e.caseBlock,E,pE)))}(n);case 269:return function(e){return t.updateCaseBlock(e,fJ(e.clauses,E,Du))}(n);case 296:return function(e){return t.updateCaseClause(e,pJ(e.expression,A,G_),fJ(e.statements,E,yu))}(n);case 297:case 258:return function(t){return SJ(t,E,e)}(n);case 299:return function(e){return t.updateCatchClause(e,e.variableDeclaration,fn.checkDefined(pJ(e.block,E,BF)))}(n);case 241:return function(t){return t=SJ(t,E,e)}(n);default:return A(n)}}function P(r,i){if(!(276828160&r.transformFlags||(null==y?void 0:y.length)))return r;switch(r.kind){case 248:return L(r,!1);case 244:return function(e){return t.updateExpressionStatement(e,pJ(e.expression,I,G_))}(r);case 217:return function(e,n){return t.updateParenthesizedExpression(e,pJ(e.expression,n?I:A,G_))}(r,i);case 355:return function(e,n){return t.updatePartiallyEmittedExpression(e,pJ(e.expression,n?I:A,G_))}(r,i);case 213:const u=r===he(y);if(u&&y.shift(),ff(r)&&c.shouldTransformImportCall(g))return function(r,i){if(0===_&&l>=7)return SJ(r,A,e);const u=FA(t,r,g,c,s,a),d=pJ(he(r.arguments),A,G_),p=!u||d&&MD(d)&&d.text===u.text?d&&i?MD(d)?Dz(d,a):n().createRewriteRelativeImportExtensionsHelper(d):d:u,f=!!(16384&r.transformFlags);switch(a.module){case 2:return j(p,f);case 3:return function(e,n){if(b=!0,oz(e)){const r=Xl(e)?e:MD(e)?t.createStringLiteralFromNode(e):gw(vI(t.cloneNode(e),e),3072);return t.createConditionalExpression(t.createIdentifier("__syncRequire"),void 0,R(e),void 0,j(r,n))}{const r=t.createTempVariable(o);return t.createComma(t.createAssignment(r,e),t.createConditionalExpression(t.createIdentifier("__syncRequire"),void 0,R(r,!0),void 0,j(r,n)))}}(null!=p?p:t.createVoidZero(),f);default:return R(p)}}(r,u);if(u)return function(e){return t.updateCallExpression(e,e.expression,void 0,fJ(e.arguments,t=>t===e.arguments[0]?zu(t)?Dz(t,a):n().createRewriteRelativeImportExtensionsHelper(t):A(t),G_))}(r);break;case 226:if(lb(r))return function(t,n){return O(t.left)?Fz(t,A,e,0,!n,J):SJ(t,A,e)}(r,i);break;case 224:case 225:return function(n,r){if((46===n.operator||47===n.operator)&&tN(n.operand)&&!Xl(n.operand)&&!dA(n.operand)&&!rx(n.operand)){const e=ee(n.operand);if(e){let i,a=pJ(n.operand,A,G_);bF(n)?a=t.updatePrefixUnaryExpression(n,a):(a=t.updatePostfixUnaryExpression(n,a),r||(i=t.createTempVariable(o),a=t.createAssignment(i,a),vI(a,n)),a=t.createComma(a,t.cloneNode(n.operand)),vI(a,n));for(const t of e)v[rJ(a)]=!0,a=Q(t,a),vI(a,n);return i&&(v[rJ(a)]=!0,a=t.createComma(a,i),vI(a,n)),a}}return SJ(n,A,e)}(r,i)}return SJ(r,A,e)}function A(e){return P(e,!1)}function I(e){return P(e,!0)}function O(e){if(aF(e))for(const t of e.properties)switch(t.kind){case 303:if(O(t.initializer))return!0;break;case 304:if(O(t.name))return!0;break;case 305:if(O(t.expression))return!0;break;case 174:case 177:case 178:return!1;default:fn.assertNever(t,"Unhandled object member kind")}else if(oF(e)){for(const t of e.elements)if(wF(t)){if(O(t.expression))return!0}else if(O(t))return!0}else if(tN(e))return p(ee(e))>(pA(e)?1:0);return!1}function L(n,r){if(r&&n.initializer&&oE(n.initializer)&&!(7&n.initializer.flags)){const i=V(void 0,n.initializer,!1);if(i){const o=[],a=pJ(n.initializer,I,oE),s=t.createVariableStatement(void 0,a);o.push(s),_e(o,i);const c=pJ(n.condition,A,G_),l=pJ(n.incrementor,I,G_),_=xJ(n.statement,r?E:A,e);return o.push(t.updateForStatement(n,void 0,c,l,_)),o}}return t.updateForStatement(n,pJ(n.initializer,I,ou),pJ(n.condition,A,G_),pJ(n.incrementor,I,G_),xJ(n.statement,r?E:A,e))}function j(e,r){const i=t.createUniqueName("resolve"),o=t.createUniqueName("reject"),s=[t.createParameterDeclaration(void 0,void 0,i),t.createParameterDeclaration(void 0,void 0,o)],c=t.createBlock([t.createExpressionStatement(t.createCallExpression(t.createIdentifier("require"),void 0,[t.createArrayLiteralExpression([e||t.createOmittedExpression()]),i,o]))]);let _;l>=2?_=t.createArrowFunction(void 0,void 0,s,void 0,void 0,c):(_=t.createFunctionExpression(void 0,void 0,void 0,void 0,s,void 0,c),r&&gw(_,16));const u=t.createNewExpression(t.createIdentifier("Promise"),void 0,[_]);return Nk(a)?t.createCallExpression(t.createPropertyAccessExpression(u,t.createIdentifier("then")),void 0,[n().createImportStarCallbackHelper()]):u}function R(e,r){const i=e&&!az(e)&&!r,o=t.createCallExpression(t.createPropertyAccessExpression(t.createIdentifier("Promise"),"resolve"),void 0,i?l>=2?[t.createTemplateExpression(t.createTemplateHead(""),[t.createTemplateSpan(e,t.createTemplateTail(""))])]:[t.createCallExpression(t.createPropertyAccessExpression(t.createStringLiteral(""),"concat"),void 0,[e])]:[]);let s=t.createCallExpression(t.createIdentifier("require"),void 0,i?[t.createIdentifier("s")]:e?[e]:[]);Nk(a)&&(s=n().createImportStarHelper(s));const c=i?[t.createParameterDeclaration(void 0,void 0,"s")]:[];let _;return _=l>=2?t.createArrowFunction(void 0,void 0,c,void 0,void 0,s):t.createFunctionExpression(void 0,void 0,void 0,void 0,c,void 0,t.createBlock([t.createReturnStatement(s)])),t.createCallExpression(t.createPropertyAccessExpression(o,"then"),void 0,[_])}function M(e,t){return!Nk(a)||2&ip(e)?t:ZJ(e)?n().createImportStarHelper(t):YJ(e)?n().createImportDefaultHelper(t):t}function B(e){const n=FA(t,e,g,c,s,a),r=[];return n&&r.push(Dz(n,a)),t.createCallExpression(t.createIdentifier("require"),void 0,r)}function J(e,n,r){const i=ee(e);if(i){let o=pA(e)?n:t.createAssignment(e,n);for(const e of i)gw(o,8),o=Q(e,o,r);return o}return t.createAssignment(e,n)}function q(n){return D_(n.name)?Fz(pJ(n,A,ox),A,e,0,!1,J):t.createAssignment(vI(t.createPropertyAccessExpression(t.createIdentifier("exports"),n.name),n.name),n.initializer?pJ(n.initializer,A,G_):t.createVoidZero())}function V(e,t,n){if(h.exportEquals)return e;for(const r of t.declarations)e=U(e,r,n);return e}function U(e,t,n){if(h.exportEquals)return e;if(D_(t.name))for(const r of t.name.elements)NF(r)||(e=U(e,r,n));else Xl(t.name)||iE(t)&&!t.initializer&&!n||(e=$(e,new rz,t));return e}function W(e,n){if(h.exportEquals)return e;const r=new rz;return Av(n,32)&&(e=H(e,r,Av(n,2048)?t.createIdentifier("default"):t.getDeclarationName(n),t.getLocalName(n),n)),n.name&&(e=$(e,r,n)),e}function $(e,n,r,i){const o=t.getDeclarationName(r),a=h.exportSpecifiers.get(o);if(a)for(const t of a)e=H(e,n,t.name,o,t.name,void 0,i);return e}function H(e,t,n,r,i,o,a){if(11!==n.kind){if(t.has(n))return e;t.set(n,!0)}return e=se(e,X(n,r,i,o,a))}function G(){const e=t.createExpressionStatement(t.createCallExpression(t.createPropertyAccessExpression(t.createIdentifier("Object"),"defineProperty"),void 0,[t.createIdentifier("exports"),t.createStringLiteral("__esModule"),t.createObjectLiteralExpression([t.createPropertyAssignment("value",t.createTrue())])]));return gw(e,2097152),e}function X(e,n,r,i,o){const a=vI(t.createExpressionStatement(Q(e,n,void 0,o)),r);return TA(a),i||gw(a,3072),a}function Q(e,n,r,i){return vI(i?t.createCallExpression(t.createPropertyAccessExpression(t.createIdentifier("Object"),"defineProperty"),void 0,[t.createIdentifier("exports"),t.createStringLiteralFromNode(e),t.createObjectLiteralExpression([t.createPropertyAssignment("enumerable",t.createTrue()),t.createPropertyAssignment("get",t.createFunctionExpression(void 0,void 0,void 0,void 0,[],void 0,t.createBlock([t.createReturnStatement(n)])))])]):t.createAssignment(11===e.kind?t.createElementAccessExpression(t.createIdentifier("exports"),t.cloneNode(e)):t.createPropertyAccessExpression(t.createIdentifier("exports"),t.cloneNode(e)),n),r)}function Z(e){switch(e.kind){case 95:case 90:return}return e}function Y(e){var n,r;if(8192&rp(e)){const n=CA(g);return n?t.createPropertyAccessExpression(n,e):e}if((!Xl(e)||64&e.emitNode.autoGenerate.flags)&&!dA(e)){const i=s.getReferencedExportContainer(e,pA(e));if(i&&307===i.kind)return vI(t.createPropertyAccessExpression(t.createIdentifier("exports"),t.cloneNode(e)),e);const o=s.getReferencedImportDeclaration(e);if(o){if(hE(o))return vI(t.createPropertyAccessExpression(t.getGeneratedNameForNode(o.parent),t.createIdentifier("default")),e);if(wE(o)){const i=o.propertyName||o.name,a=t.getGeneratedNameForNode((null==(r=null==(n=o.parent)?void 0:n.parent)?void 0:r.parent)||o);return vI(11===i.kind?t.createElementAccessExpression(a,t.cloneNode(i)):t.createPropertyAccessExpression(a,t.cloneNode(i)),e)}}}return e}function ee(e){if(Xl(e)){if(Zl(e)){const t=null==h?void 0:h.exportSpecifiers.get(e);if(t){const e=[];for(const n of t)e.push(n.name);return e}}}else{const t=s.getReferencedImportDeclaration(e);if(t)return null==h?void 0:h.exportedBindings[HJ(t)];const n=new Set,r=s.getReferencedValueDeclarations(e);if(r){for(const e of r){const t=null==h?void 0:h.exportedBindings[HJ(e)];if(t)for(const e of t)n.add(e)}if(n.size)return Re(n)}}}}var Tq={name:"typescript:dynamicimport-sync-require",scoped:!0,text:'\n            var __syncRequire = typeof module === "object" && typeof module.exports === "object";'};function Cq(e){const{factory:t,startLexicalEnvironment:n,endLexicalEnvironment:r,hoistVariableDeclaration:i}=e,o=e.getCompilerOptions(),a=e.getEmitResolver(),s=e.getEmitHost(),c=e.onSubstituteNode,l=e.onEmitNode;e.onSubstituteNode=function(e,n){return function(e){return x&&e.id&&x[e.id]}(n=c(e,n))?n:1===e?function(e){switch(e.kind){case 80:return function(e){var n,r;if(8192&rp(e)){const n=CA(m);return n?t.createPropertyAccessExpression(n,e):e}if(!Xl(e)&&!dA(e)){const i=a.getReferencedImportDeclaration(e);if(i){if(hE(i))return vI(t.createPropertyAccessExpression(t.getGeneratedNameForNode(i.parent),t.createIdentifier("default")),e);if(wE(i)){const o=i.propertyName||i.name,a=t.getGeneratedNameForNode((null==(r=null==(n=i.parent)?void 0:n.parent)?void 0:r.parent)||i);return vI(11===o.kind?t.createElementAccessExpression(a,t.cloneNode(o)):t.createPropertyAccessExpression(a,t.cloneNode(o)),e)}}}return e}(e);case 226:return function(e){if(ob(e.operatorToken.kind)&&tN(e.left)&&(!Xl(e.left)||Zl(e.left))&&!dA(e.left)){const t=H(e.left);if(t){let n=e;for(const e of t)n=M(e,G(n));return n}}return e}(e);case 236:return function(e){return mf(e)?t.createPropertyAccessExpression(y,t.createIdentifier("meta")):e}(e)}return e}(n):4===e?function(e){return 304===e.kind?function(e){var n,r;const i=e.name;if(!Xl(i)&&!dA(i)){const o=a.getReferencedImportDeclaration(i);if(o){if(hE(o))return vI(t.createPropertyAssignment(t.cloneNode(i),t.createPropertyAccessExpression(t.getGeneratedNameForNode(o.parent),t.createIdentifier("default"))),e);if(wE(o)){const a=o.propertyName||o.name,s=t.getGeneratedNameForNode((null==(r=null==(n=o.parent)?void 0:n.parent)?void 0:r.parent)||o);return vI(t.createPropertyAssignment(t.cloneNode(i),11===a.kind?t.createElementAccessExpression(s,t.cloneNode(a)):t.createPropertyAccessExpression(s,t.cloneNode(a))),e)}}}return e}(e):e}(n):n},e.onEmitNode=function(e,t,n){if(307===t.kind){const r=HJ(t);m=t,g=_[r],h=u[r],x=d[r],y=p[r],x&&delete d[r],l(e,t,n),m=void 0,g=void 0,h=void 0,y=void 0,x=void 0}else l(e,t,n)},e.enableSubstitution(80),e.enableSubstitution(304),e.enableSubstitution(226),e.enableSubstitution(236),e.enableEmitNotification(307);const _=[],u=[],d=[],p=[];let m,g,h,y,v,b,x;return XJ(e,function(i){if(i.isDeclarationFile||!(xp(i,o)||8388608&i.transformFlags))return i;const c=HJ(i);m=i,b=i,g=_[c]=ez(e,i),h=t.createUniqueName("exports"),u[c]=h,y=p[c]=t.createUniqueName("context");const l=function(e){const n=new Map,r=[];for(const i of e){const e=FA(t,i,m,s,a,o);if(e){const t=e.text,o=n.get(t);void 0!==o?r[o].externalImports.push(i):(n.set(t,r.length),r.push({name:e,externalImports:[i]}))}}return r}(g.externalImports),f=function(e,i){const a=[];n();const s=Wk(o,"alwaysStrict")||tO(m),c=t.copyPrologue(e.statements,a,s,T);a.push(t.createVariableStatement(void 0,t.createVariableDeclarationList([t.createVariableDeclaration("__moduleName",void 0,void 0,t.createLogicalAnd(y,t.createPropertyAccessExpression(y,"id")))]))),pJ(g.externalHelpersImportDeclaration,T,yu);const l=fJ(e.statements,T,yu,c);_e(a,v),Md(a,r());const _=function(e){if(!g.hasExportStarsToExportValues)return;if(!K(g.exportedNames)&&0===g.exportedFunctions.size&&0===g.exportSpecifiers.size){let t=!1;for(const e of g.externalImports)if(278===e.kind&&e.exportClause){t=!0;break}if(!t){const t=k(void 0);return e.push(t),t.name}}const n=[];if(g.exportedNames)for(const o of g.exportedNames)Zd(o)||n.push(t.createPropertyAssignment(t.createStringLiteralFromNode(o),t.createTrue()));for(const o of g.exportedFunctions)Av(o,2048)||(fn.assert(!!o.name),n.push(t.createPropertyAssignment(t.createStringLiteralFromNode(o.name),t.createTrue())));const r=t.createUniqueName("exportedNames");e.push(t.createVariableStatement(void 0,t.createVariableDeclarationList([t.createVariableDeclaration(r,void 0,void 0,t.createObjectLiteralExpression(n,!0))])));const i=k(r);return e.push(i),i.name}(a),u=2097152&e.transformFlags?t.createModifiersFromModifierFlags(1024):void 0,d=t.createObjectLiteralExpression([t.createPropertyAssignment("setters",S(_,i)),t.createPropertyAssignment("execute",t.createFunctionExpression(u,void 0,void 0,void 0,[],void 0,t.createBlock(l,!0)))],!0);return a.push(t.createReturnStatement(d)),t.createBlock(a,!0)}(i,l),C=t.createFunctionExpression(void 0,void 0,void 0,void 0,[t.createParameterDeclaration(void 0,void 0,h),t.createParameterDeclaration(void 0,void 0,y)],void 0,f),w=EA(t,i,s,o),D=t.createArrayLiteralExpression(A(l,e=>e.name)),N=gw(t.updateSourceFile(i,vI(t.createNodeArray([t.createExpressionStatement(t.createCallExpression(t.createPropertyAccessExpression(t.createIdentifier("System"),"register"),void 0,w?[w,D,C]:[D,C]))]),i.statements)),2048);return o.outFile||zw(N,f,e=>!e.scoped),x&&(d[c]=x,x=void 0),m=void 0,g=void 0,h=void 0,y=void 0,v=void 0,b=void 0,N});function k(e){const n=t.createUniqueName("exportStar"),r=t.createIdentifier("m"),i=t.createIdentifier("n"),o=t.createIdentifier("exports");let a=t.createStrictInequality(i,t.createStringLiteral("default"));return e&&(a=t.createLogicalAnd(a,t.createLogicalNot(t.createCallExpression(t.createPropertyAccessExpression(e,"hasOwnProperty"),void 0,[i])))),t.createFunctionDeclaration(void 0,void 0,n,void 0,[t.createParameterDeclaration(void 0,void 0,r)],void 0,t.createBlock([t.createVariableStatement(void 0,t.createVariableDeclarationList([t.createVariableDeclaration(o,void 0,void 0,t.createObjectLiteralExpression([]))])),t.createForInStatement(t.createVariableDeclarationList([t.createVariableDeclaration(i)]),r,t.createBlock([gw(t.createIfStatement(a,t.createExpressionStatement(t.createAssignment(t.createElementAccessExpression(o,i),t.createElementAccessExpression(r,i)))),1)])),t.createExpressionStatement(t.createCallExpression(h,void 0,[o]))],!0))}function S(e,n){const r=[];for(const i of n){const n=f(i.externalImports,e=>NA(t,e,m)),o=n?t.getGeneratedNameForNode(n):t.createUniqueName(""),a=[];for(const r of i.externalImports){const n=NA(t,r,m);switch(r.kind){case 272:if(!r.importClause)break;case 271:fn.assert(void 0!==n),a.push(t.createExpressionStatement(t.createAssignment(n,o))),Av(r,32)&&a.push(t.createExpressionStatement(t.createCallExpression(h,void 0,[t.createStringLiteral(xc(n)),o])));break;case 278:if(fn.assert(void 0!==n),r.exportClause)if(FE(r.exportClause)){const e=[];for(const n of r.exportClause.elements)e.push(t.createPropertyAssignment(t.createStringLiteral(Xd(n.name)),t.createElementAccessExpression(o,t.createStringLiteral(Xd(n.propertyName||n.name)))));a.push(t.createExpressionStatement(t.createCallExpression(h,void 0,[t.createObjectLiteralExpression(e,!0)])))}else a.push(t.createExpressionStatement(t.createCallExpression(h,void 0,[t.createStringLiteral(Xd(r.exportClause.name)),o])));else a.push(t.createExpressionStatement(t.createCallExpression(e,void 0,[o])))}}r.push(t.createFunctionExpression(void 0,void 0,void 0,void 0,[t.createParameterDeclaration(void 0,void 0,o)],void 0,t.createBlock(a,!0)))}return t.createArrayLiteralExpression(r,!0)}function T(e){switch(e.kind){case 272:return function(e){let n;return e.importClause&&i(NA(t,e,m)),Ce(function(e,t){if(g.exportEquals)return e;const n=t.importClause;if(!n)return e;n.name&&(e=L(e,n));const r=n.namedBindings;if(r)switch(r.kind){case 274:e=L(e,r);break;case 275:for(const t of r.elements)e=L(e,t)}return e}(n,e))}(e);case 271:return function(e){let n;return fn.assert(Nm(e),"import= for internal module references should be handled in an earlier transformer."),i(NA(t,e,m)),Ce(function(e,t){return g.exportEquals?e:L(e,t)}(n,e))}(e);case 278:return function(e){fn.assertIsDefined(e)}(e);case 277:return function(e){if(e.isExportEquals)return;const n=pJ(e.expression,V,G_);return R(t.createIdentifier("default"),n,!0)}(e);default:return B(e)}}function C(e){if(!D(e.declarationList))return pJ(e,V,yu);let n;if(lf(e.declarationList)||cf(e.declarationList)){const r=fJ(e.modifiers,$,x_),i=[];for(const n of e.declarationList.declarations)i.push(t.updateVariableDeclaration(n,t.getGeneratedNameForNode(n.name),void 0,void 0,N(n,!1)));const o=t.updateVariableDeclarationList(e.declarationList,i);n=se(n,t.updateVariableStatement(e,r,o))}else{let r;const i=Av(e,32);for(const t of e.declarationList.declarations)t.initializer?r=se(r,N(t,i)):w(t);r&&(n=se(n,vI(t.createExpressionStatement(t.inlineExpressions(r)),e)))}return n=function(e,t,n){if(g.exportEquals)return e;for(const r of t.declarationList.declarations)(r.initializer||n)&&(e=I(e,r));return e}(n,e,!1),Ce(n)}function w(e){if(D_(e.name))for(const t of e.name.elements)NF(t)||w(t);else i(t.cloneNode(e.name))}function D(e){return!(4194304&rp(e)||307!==b.kind&&7&mc(e).flags)}function N(t,n){const r=n?F:E;return D_(t.name)?Fz(t,V,e,0,!1,r):t.initializer?r(t.name,pJ(t.initializer,V,G_)):t.name}function F(e,t,n){return P(e,t,n,!0)}function E(e,t,n){return P(e,t,n,!1)}function P(e,n,r,o){return i(t.cloneNode(e)),o?M(e,G(vI(t.createAssignment(e,n),r))):G(vI(t.createAssignment(e,n),r))}function I(e,t,n){if(g.exportEquals)return e;if(D_(t.name))for(const r of t.name.elements)NF(r)||(e=I(e,r));else if(!Xl(t.name)){let n;e=L(e,t,n)}return e}function O(e,n){if(g.exportEquals)return e;let r;if(Av(n,32)){const i=Av(n,2048)?t.createStringLiteral("default"):n.name;e=j(e,i,t.getLocalName(n)),r=$h(i)}return n.name&&(e=L(e,n,r)),e}function L(e,n,r){if(g.exportEquals)return e;const i=t.getDeclarationName(n),o=g.exportSpecifiers.get(i);if(o)for(const t of o)Xd(t.name)!==r&&(e=j(e,t.name,i));return e}function j(e,t,n,r){return e=se(e,R(t,n,r))}function R(e,n,r){const i=t.createExpressionStatement(M(e,n));return TA(i),r||gw(i,3072),i}function M(e,n){const r=tN(e)?t.createStringLiteralFromNode(e):e;return gw(n,3072|rp(n)),Dw(t.createCallExpression(h,void 0,[r,n]),n)}function B(n){switch(n.kind){case 243:return C(n);case 262:return function(n){v=Av(n,32)?se(v,t.updateFunctionDeclaration(n,fJ(n.modifiers,$,x_),n.asteriskToken,t.getDeclarationName(n,!0,!0),void 0,fJ(n.parameters,V,vN),void 0,pJ(n.body,V,BF))):se(v,SJ(n,V,e)),v=O(v,n)}(n);case 263:return function(e){let n;const r=t.getLocalName(e);return i(r),n=se(n,vI(t.createExpressionStatement(t.createAssignment(r,vI(t.createClassExpression(fJ(e.modifiers,$,x_),e.name,void 0,fJ(e.heritageClauses,V,XE),fJ(e.members,V,m_)),e))),e)),n=O(n,e),Ce(n)}(n);case 248:return J(n,!0);case 249:return function(n){const r=b;return b=n,n=t.updateForInStatement(n,z(n.initializer),pJ(n.expression,V,G_),xJ(n.statement,B,e)),b=r,n}(n);case 250:return function(n){const r=b;return b=n,n=t.updateForOfStatement(n,n.awaitModifier,z(n.initializer),pJ(n.expression,V,G_),xJ(n.statement,B,e)),b=r,n}(n);case 246:return function(n){return t.updateDoStatement(n,xJ(n.statement,B,e),pJ(n.expression,V,G_))}(n);case 247:return function(n){return t.updateWhileStatement(n,pJ(n.expression,V,G_),xJ(n.statement,B,e))}(n);case 256:return function(e){var n;return t.updateLabeledStatement(e,e.label,null!=(n=pJ(e.statement,B,yu,t.liftToBlock))?n:t.createExpressionStatement(t.createIdentifier("")))}(n);case 254:return function(e){return t.updateWithStatement(e,pJ(e.expression,V,G_),fn.checkDefined(pJ(e.statement,B,yu,t.liftToBlock)))}(n);case 245:return function(e){var n;return t.updateIfStatement(e,pJ(e.expression,V,G_),null!=(n=pJ(e.thenStatement,B,yu,t.liftToBlock))?n:t.createBlock([]),pJ(e.elseStatement,B,yu,t.liftToBlock))}(n);case 255:return function(e){return t.updateSwitchStatement(e,pJ(e.expression,V,G_),fn.checkDefined(pJ(e.caseBlock,B,pE)))}(n);case 269:return function(e){const n=b;return b=e,e=t.updateCaseBlock(e,fJ(e.clauses,B,Du)),b=n,e}(n);case 296:return function(e){return t.updateCaseClause(e,pJ(e.expression,V,G_),fJ(e.statements,B,yu))}(n);case 297:case 258:return function(t){return SJ(t,B,e)}(n);case 299:return function(e){const n=b;return b=e,e=t.updateCatchClause(e,e.variableDeclaration,fn.checkDefined(pJ(e.block,B,BF))),b=n,e}(n);case 241:return function(t){const n=b;return b=t,t=SJ(t,B,e),b=n,t}(n);default:return V(n)}}function J(n,r){const i=b;return b=n,n=t.updateForStatement(n,pJ(n.initializer,r?z:U,ou),pJ(n.condition,V,G_),pJ(n.incrementor,U,G_),xJ(n.statement,r?B:V,e)),b=i,n}function z(e){if(function(e){return oE(e)&&D(e)}(e)){let n;for(const t of e.declarations)n=se(n,N(t,!1)),t.initializer||w(t);return n?t.inlineExpressions(n):t.createOmittedExpression()}return pJ(e,U,ou)}function q(n,r){if(!(276828160&n.transformFlags))return n;switch(n.kind){case 248:return J(n,!1);case 244:return function(e){return t.updateExpressionStatement(e,pJ(e.expression,U,G_))}(n);case 217:return function(e,n){return t.updateParenthesizedExpression(e,pJ(e.expression,n?U:V,G_))}(n,r);case 355:return function(e,n){return t.updatePartiallyEmittedExpression(e,pJ(e.expression,n?U:V,G_))}(n,r);case 226:if(lb(n))return function(t,n){return W(t.left)?Fz(t,V,e,0,!n):SJ(t,V,e)}(n,r);break;case 213:if(ff(n))return function(e){const n=FA(t,e,m,s,a,o),r=pJ(he(e.arguments),V,G_),i=!n||r&&MD(r)&&r.text===n.text?r:n;return t.createCallExpression(t.createPropertyAccessExpression(y,t.createIdentifier("import")),void 0,i?[i]:[])}(n);break;case 224:case 225:return function(n,r){if((46===n.operator||47===n.operator)&&tN(n.operand)&&!Xl(n.operand)&&!dA(n.operand)&&!rx(n.operand)){const e=H(n.operand);if(e){let o,a=pJ(n.operand,V,G_);bF(n)?a=t.updatePrefixUnaryExpression(n,a):(a=t.updatePostfixUnaryExpression(n,a),r||(o=t.createTempVariable(i),a=t.createAssignment(o,a),vI(a,n)),a=t.createComma(a,t.cloneNode(n.operand)),vI(a,n));for(const t of e)a=M(t,G(a));return o&&(a=t.createComma(a,o),vI(a,n)),a}}return SJ(n,V,e)}(n,r)}return SJ(n,V,e)}function V(e){return q(e,!1)}function U(e){return q(e,!0)}function W(e){if(cb(e,!0))return W(e.left);if(wF(e))return W(e.expression);if(aF(e))return K(e.properties,W);if(oF(e))return K(e.elements,W);if(YE(e))return W(e.name);if(ZE(e))return W(e.initializer);if(tN(e)){const t=a.getReferencedExportContainer(e);return void 0!==t&&307===t.kind}return!1}function $(e){switch(e.kind){case 95:case 90:return}return e}function H(e){let n;const r=function(e){if(!Xl(e)){const t=a.getReferencedImportDeclaration(e);if(t)return t;const n=a.getReferencedValueDeclaration(e);if(n&&(null==g?void 0:g.exportedBindings[HJ(n)]))return n;const r=a.getReferencedValueDeclarations(e);if(r)for(const e of r)if(e!==n&&(null==g?void 0:g.exportedBindings[HJ(e)]))return e;return n}}(e);if(r){const i=a.getReferencedExportContainer(e,!1);i&&307===i.kind&&(n=se(n,t.getDeclarationName(r))),n=_e(n,null==g?void 0:g.exportedBindings[HJ(r)])}else if(Xl(e)&&Zl(e)){const t=null==g?void 0:g.exportSpecifiers.get(e);if(t){const e=[];for(const n of t)e.push(n.name);return e}}return n}function G(e){return void 0===x&&(x=[]),x[rJ(e)]=!0,e}}function wq(e){const{factory:t,getEmitHelperFactory:n}=e,r=e.getEmitHost(),i=e.getEmitResolver(),o=e.getCompilerOptions(),a=Sk(o),s=e.onEmitNode,c=e.onSubstituteNode;e.onEmitNode=function(e,t,n){nP(t)?((tO(t)||Dk(o))&&o.importHelpers&&(u=new Map),d=t,s(e,t,n),d=void 0,u=void 0):s(e,t,n)},e.onSubstituteNode=function(e,n){return(n=c(e,n)).id&&l.has(n.id)?n:tN(n)&&8192&rp(n)?function(e){const n=d&&CA(d);if(n)return l.add(rJ(e)),t.createPropertyAccessExpression(n,e);if(u){const n=xc(e);let r=u.get(n);return r||u.set(n,r=t.createUniqueName(n,48)),r}return e}(n):n},e.enableEmitNotification(307),e.enableSubstitution(80);const l=new Set;let _,u,d,p;return XJ(e,function(r){if(r.isDeclarationFile)return r;if(tO(r)||Dk(o)){d=r,p=void 0,o.rewriteRelativeImportExtensions&&(4194304&d.flags||Om(r))&&IC(r,!1,!1,e=>{zu(e.arguments[0])&&!Cg(e.arguments[0].text,o)||(_=se(_,e))});let i=function(r){const i=DA(t,n(),r,o);if(i){const e=[],n=t.copyPrologue(r.statements,e);return _e(e,mJ([i],f,yu)),_e(e,fJ(r.statements,f,yu,n)),t.updateSourceFile(r,vI(t.createNodeArray(e),r.statements))}return SJ(r,f,e)}(r);return Mw(i,e.readEmitHelpers()),d=void 0,p&&(i=t.updateSourceFile(i,vI(t.createNodeArray(Bd(i.statements.slice(),p)),i.statements))),!tO(r)||200===Tk(o)||K(i.statements,tu)?i:t.updateSourceFile(i,vI(t.createNodeArray([...i.statements,YP(t)]),i.statements))}return r});function f(r){switch(r.kind){case 271:return Tk(o)>=100?function(e){let n;return fn.assert(Nm(e),"import= for internal module references should be handled in an earlier transformer."),n=se(n,dw(vI(t.createVariableStatement(void 0,t.createVariableDeclarationList([t.createVariableDeclaration(t.cloneNode(e.name),void 0,void 0,m(e))],a>=2?2:0)),e),e)),n=function(e,n){return Av(n,32)&&(e=se(e,t.createExportDeclaration(void 0,n.isTypeOnly,t.createNamedExports([t.createExportSpecifier(!1,void 0,xc(n.name))])))),e}(n,e),Ce(n)}(r):void 0;case 277:return function(e){return e.isExportEquals?200===Tk(o)?dw(t.createExpressionStatement(t.createAssignment(t.createPropertyAccessExpression(t.createIdentifier("module"),"exports"),e.expression)),e):void 0:e}(r);case 278:return function(e){const n=Dz(e.moduleSpecifier,o);if(void 0!==o.module&&o.module>5||!e.exportClause||!TE(e.exportClause)||!e.moduleSpecifier)return e.moduleSpecifier&&n!==e.moduleSpecifier?t.updateExportDeclaration(e,e.modifiers,e.isTypeOnly,e.exportClause,n,e.attributes):e;const r=e.exportClause.name,i=t.getGeneratedNameForNode(r),a=t.createImportDeclaration(void 0,t.createImportClause(!1,void 0,t.createNamespaceImport(i)),n,e.attributes);dw(a,e.exportClause);const s=Gd(e)?t.createExportDefault(i):t.createExportDeclaration(void 0,!1,t.createNamedExports([t.createExportSpecifier(!1,i,r)]));return dw(s,e),[a,s]}(r);case 272:return function(e){if(!o.rewriteRelativeImportExtensions)return e;const n=Dz(e.moduleSpecifier,o);return n===e.moduleSpecifier?e:t.updateImportDeclaration(e,e.modifiers,e.importClause,n,e.attributes)}(r);case 213:if(r===(null==_?void 0:_[0]))return function(e){return t.updateCallExpression(e,e.expression,e.typeArguments,[zu(e.arguments[0])?Dz(e.arguments[0],o):n().createRewriteRelativeImportExtensionsHelper(e.arguments[0]),...e.arguments.slice(1)])}(_.shift());default:if((null==_?void 0:_.length)&&tx(r,_[0]))return SJ(r,f,e)}return r}function m(e){const n=FA(t,e,fn.checkDefined(d),r,i,o),s=[];if(n&&s.push(Dz(n,o)),200===Tk(o))return t.createCallExpression(t.createIdentifier("require"),void 0,s);if(!p){const e=t.createUniqueName("_createRequire",48),n=t.createImportDeclaration(void 0,t.createImportClause(!1,void 0,t.createNamedImports([t.createImportSpecifier(!1,t.createIdentifier("createRequire"),e)])),t.createStringLiteral("module"),void 0),r=t.createUniqueName("__require",48),i=t.createVariableStatement(void 0,t.createVariableDeclarationList([t.createVariableDeclaration(r,void 0,void 0,t.createCallExpression(t.cloneNode(e),void 0,[t.createPropertyAccessExpression(t.createMetaProperty(102,t.createIdentifier("meta")),t.createIdentifier("url"))]))],a>=2?2:0));p=[n,i]}const c=p[1].declarationList.declarations[0].name;return fn.assertNode(c,tN),t.createCallExpression(t.cloneNode(c),void 0,s)}}function Dq(e){const t=e.onSubstituteNode,n=e.onEmitNode,r=wq(e),i=e.onSubstituteNode,o=e.onEmitNode;e.onSubstituteNode=t,e.onEmitNode=n;const a=Sq(e),s=e.onSubstituteNode,c=e.onEmitNode,l=t=>e.getEmitHost().getEmitModuleFormatOfFile(t);let _;return e.onSubstituteNode=function(e,n){return nP(n)?(_=n,t(e,n)):_?l(_)>=5?i(e,n):s(e,n):t(e,n)},e.onEmitNode=function(e,t,r){return nP(t)&&(_=t),_?l(_)>=5?o(e,t,r):c(e,t,r):n(e,t,r)},e.enableSubstitution(307),e.enableEmitNotification(307),function(t){return 307===t.kind?u(t):function(t){return e.factory.createBundle(A(t.sourceFiles,u))}(t)};function u(e){if(e.isDeclarationFile)return e;_=e;const t=(l(e)>=5?r:a)(e);return _=void 0,fn.assert(nP(t)),t}}function Nq(e){return iE(e)||kN(e)||xN(e)||iF(e)||Pu(e)||Au(e)||EN(e)||FN(e)||TN(e)||SN(e)||aE(e)||vN(e)||yN(e)||FF(e)||mE(e)||lE(e)||wN(e)||PN(e)||sF(e)||cF(e)||kF(e)||Ag(e)}function Fq(e){return Pu(e)||Au(e)?function(t){const n=function(t){return Iv(e)?t.errorModuleName?2===t.accessibility?ma.Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ma.Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:ma.Public_static_property_0_of_exported_class_has_or_is_using_private_name_1:263===e.parent.kind?t.errorModuleName?2===t.accessibility?ma.Public_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ma.Public_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:ma.Public_property_0_of_exported_class_has_or_is_using_private_name_1:t.errorModuleName?ma.Property_0_of_exported_interface_has_or_is_using_name_1_from_private_module_2:ma.Property_0_of_exported_interface_has_or_is_using_private_name_1}(t);return void 0!==n?{diagnosticMessage:n,errorNode:e,typeName:e.name}:void 0}:SN(e)||TN(e)?function(t){const n=function(t){return Iv(e)?t.errorModuleName?2===t.accessibility?ma.Public_static_method_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ma.Public_static_method_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:ma.Public_static_method_0_of_exported_class_has_or_is_using_private_name_1:263===e.parent.kind?t.errorModuleName?2===t.accessibility?ma.Public_method_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ma.Public_method_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:ma.Public_method_0_of_exported_class_has_or_is_using_private_name_1:t.errorModuleName?ma.Method_0_of_exported_interface_has_or_is_using_name_1_from_private_module_2:ma.Method_0_of_exported_interface_has_or_is_using_private_name_1}(t);return void 0!==n?{diagnosticMessage:n,errorNode:e,typeName:e.name}:void 0}:Eq(e)}function Eq(e){return iE(e)||kN(e)||xN(e)||sF(e)||cF(e)||kF(e)||iF(e)||wN(e)?t:Pu(e)||Au(e)?function(t){let n;return n=178===e.kind?Iv(e)?t.errorModuleName?ma.Parameter_type_of_public_static_setter_0_from_exported_class_has_or_is_using_name_1_from_private_module_2:ma.Parameter_type_of_public_static_setter_0_from_exported_class_has_or_is_using_private_name_1:t.errorModuleName?ma.Parameter_type_of_public_setter_0_from_exported_class_has_or_is_using_name_1_from_private_module_2:ma.Parameter_type_of_public_setter_0_from_exported_class_has_or_is_using_private_name_1:Iv(e)?t.errorModuleName?2===t.accessibility?ma.Return_type_of_public_static_getter_0_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ma.Return_type_of_public_static_getter_0_from_exported_class_has_or_is_using_name_1_from_private_module_2:ma.Return_type_of_public_static_getter_0_from_exported_class_has_or_is_using_private_name_1:t.errorModuleName?2===t.accessibility?ma.Return_type_of_public_getter_0_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ma.Return_type_of_public_getter_0_from_exported_class_has_or_is_using_name_1_from_private_module_2:ma.Return_type_of_public_getter_0_from_exported_class_has_or_is_using_private_name_1,{diagnosticMessage:n,errorNode:e.name,typeName:e.name}}:EN(e)||FN(e)||TN(e)||SN(e)||aE(e)||PN(e)?function(t){let n;switch(e.kind){case 180:n=t.errorModuleName?ma.Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:ma.Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_0;break;case 179:n=t.errorModuleName?ma.Return_type_of_call_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:ma.Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_name_0;break;case 181:n=t.errorModuleName?ma.Return_type_of_index_signature_from_exported_interface_has_or_is_using_name_0_from_private_module_1:ma.Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_name_0;break;case 174:case 173:n=Iv(e)?t.errorModuleName?2===t.accessibility?ma.Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:ma.Return_type_of_public_static_method_from_exported_class_has_or_is_using_name_0_from_private_module_1:ma.Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_name_0:263===e.parent.kind?t.errorModuleName?2===t.accessibility?ma.Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:ma.Return_type_of_public_method_from_exported_class_has_or_is_using_name_0_from_private_module_1:ma.Return_type_of_public_method_from_exported_class_has_or_is_using_private_name_0:t.errorModuleName?ma.Return_type_of_method_from_exported_interface_has_or_is_using_name_0_from_private_module_1:ma.Return_type_of_method_from_exported_interface_has_or_is_using_private_name_0;break;case 262:n=t.errorModuleName?2===t.accessibility?ma.Return_type_of_exported_function_has_or_is_using_name_0_from_external_module_1_but_cannot_be_named:ma.Return_type_of_exported_function_has_or_is_using_name_0_from_private_module_1:ma.Return_type_of_exported_function_has_or_is_using_private_name_0;break;default:return fn.fail("This is unknown kind for signature: "+e.kind)}return{diagnosticMessage:n,errorNode:e.name||e}}:vN(e)?ic(e,e.parent)&&Av(e.parent,2)?t:function(t){const n=function(t){switch(e.parent.kind){case 176:return t.errorModuleName?2===t.accessibility?ma.Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ma.Parameter_0_of_constructor_from_exported_class_has_or_is_using_name_1_from_private_module_2:ma.Parameter_0_of_constructor_from_exported_class_has_or_is_using_private_name_1;case 180:case 185:return t.errorModuleName?ma.Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:ma.Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1;case 179:return t.errorModuleName?ma.Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:ma.Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1;case 181:return t.errorModuleName?ma.Parameter_0_of_index_signature_from_exported_interface_has_or_is_using_name_1_from_private_module_2:ma.Parameter_0_of_index_signature_from_exported_interface_has_or_is_using_private_name_1;case 174:case 173:return Iv(e.parent)?t.errorModuleName?2===t.accessibility?ma.Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ma.Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_name_1_from_private_module_2:ma.Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1:263===e.parent.parent.kind?t.errorModuleName?2===t.accessibility?ma.Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ma.Parameter_0_of_public_method_from_exported_class_has_or_is_using_name_1_from_private_module_2:ma.Parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1:t.errorModuleName?ma.Parameter_0_of_method_from_exported_interface_has_or_is_using_name_1_from_private_module_2:ma.Parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1;case 262:case 184:return t.errorModuleName?2===t.accessibility?ma.Parameter_0_of_exported_function_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ma.Parameter_0_of_exported_function_has_or_is_using_name_1_from_private_module_2:ma.Parameter_0_of_exported_function_has_or_is_using_private_name_1;case 178:case 177:return t.errorModuleName?2===t.accessibility?ma.Parameter_0_of_accessor_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ma.Parameter_0_of_accessor_has_or_is_using_name_1_from_private_module_2:ma.Parameter_0_of_accessor_has_or_is_using_private_name_1;default:return fn.fail(`Unknown parent for parameter: ${fn.formatSyntaxKind(e.parent.kind)}`)}}(t);return void 0!==n?{diagnosticMessage:n,errorNode:e,typeName:e.name}:void 0}:yN(e)?function(){let t;switch(e.parent.kind){case 263:t=ma.Type_parameter_0_of_exported_class_has_or_is_using_private_name_1;break;case 264:t=ma.Type_parameter_0_of_exported_interface_has_or_is_using_private_name_1;break;case 200:t=ma.Type_parameter_0_of_exported_mapped_object_type_is_using_private_name_1;break;case 185:case 180:t=ma.Type_parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_name_1;break;case 179:t=ma.Type_parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_name_1;break;case 174:case 173:t=Iv(e.parent)?ma.Type_parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_name_1:263===e.parent.parent.kind?ma.Type_parameter_0_of_public_method_from_exported_class_has_or_is_using_private_name_1:ma.Type_parameter_0_of_method_from_exported_interface_has_or_is_using_private_name_1;break;case 184:case 262:t=ma.Type_parameter_0_of_exported_function_has_or_is_using_private_name_1;break;case 195:t=ma.Extends_clause_for_inferred_type_0_has_or_is_using_private_name_1;break;case 265:t=ma.Type_parameter_0_of_exported_type_alias_has_or_is_using_private_name_1;break;default:return fn.fail("This is unknown parent for type parameter: "+e.parent.kind)}return{diagnosticMessage:t,errorNode:e,typeName:e.name}}:FF(e)?function(){let t;return t=sE(e.parent.parent)?XE(e.parent)&&119===e.parent.token?ma.Implements_clause_of_exported_class_0_has_or_is_using_private_name_1:e.parent.parent.name?ma.extends_clause_of_exported_class_0_has_or_is_using_private_name_1:ma.extends_clause_of_exported_class_has_or_is_using_private_name_0:ma.extends_clause_of_exported_interface_0_has_or_is_using_private_name_1,{diagnosticMessage:t,errorNode:e,typeName:Ec(e.parent.parent)}}:mE(e)?function(){return{diagnosticMessage:ma.Import_declaration_0_is_using_private_name_1,errorNode:e,typeName:e.name}}:lE(e)||Ag(e)?function(t){return{diagnosticMessage:t.errorModuleName?ma.Exported_type_alias_0_has_or_is_using_private_name_1_from_module_2:ma.Exported_type_alias_0_has_or_is_using_private_name_1,errorNode:Ag(e)?fn.checkDefined(e.typeExpression):e.type,typeName:Ag(e)?Ec(e):e.name}}:fn.assertNever(e,`Attempted to set a declaration diagnostic context for unhandled node kind: ${fn.formatSyntaxKind(e.kind)}`);function t(t){const n=function(t){return 260===e.kind||208===e.kind?t.errorModuleName?2===t.accessibility?ma.Exported_variable_0_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ma.Exported_variable_0_has_or_is_using_name_1_from_private_module_2:ma.Exported_variable_0_has_or_is_using_private_name_1:172===e.kind||211===e.kind||212===e.kind||226===e.kind||171===e.kind||169===e.kind&&Av(e.parent,2)?Iv(e)?t.errorModuleName?2===t.accessibility?ma.Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ma.Public_static_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:ma.Public_static_property_0_of_exported_class_has_or_is_using_private_name_1:263===e.parent.kind||169===e.kind?t.errorModuleName?2===t.accessibility?ma.Public_property_0_of_exported_class_has_or_is_using_name_1_from_external_module_2_but_cannot_be_named:ma.Public_property_0_of_exported_class_has_or_is_using_name_1_from_private_module_2:ma.Public_property_0_of_exported_class_has_or_is_using_private_name_1:t.errorModuleName?ma.Property_0_of_exported_interface_has_or_is_using_name_1_from_private_module_2:ma.Property_0_of_exported_interface_has_or_is_using_private_name_1:void 0}(t);return void 0!==n?{diagnosticMessage:n,errorNode:e,typeName:e.name}:void 0}}function Pq(e){const t={219:ma.Add_a_return_type_to_the_function_expression,218:ma.Add_a_return_type_to_the_function_expression,174:ma.Add_a_return_type_to_the_method,177:ma.Add_a_return_type_to_the_get_accessor_declaration,178:ma.Add_a_type_to_parameter_of_the_set_accessor_declaration,262:ma.Add_a_return_type_to_the_function_declaration,180:ma.Add_a_return_type_to_the_function_declaration,169:ma.Add_a_type_annotation_to_the_parameter_0,260:ma.Add_a_type_annotation_to_the_variable_0,172:ma.Add_a_type_annotation_to_the_property_0,171:ma.Add_a_type_annotation_to_the_property_0,277:ma.Move_the_expression_in_default_export_to_a_variable_and_add_a_type_annotation_to_it},n={218:ma.Function_must_have_an_explicit_return_type_annotation_with_isolatedDeclarations,262:ma.Function_must_have_an_explicit_return_type_annotation_with_isolatedDeclarations,219:ma.Function_must_have_an_explicit_return_type_annotation_with_isolatedDeclarations,174:ma.Method_must_have_an_explicit_return_type_annotation_with_isolatedDeclarations,180:ma.Method_must_have_an_explicit_return_type_annotation_with_isolatedDeclarations,177:ma.At_least_one_accessor_must_have_an_explicit_type_annotation_with_isolatedDeclarations,178:ma.At_least_one_accessor_must_have_an_explicit_type_annotation_with_isolatedDeclarations,169:ma.Parameter_must_have_an_explicit_type_annotation_with_isolatedDeclarations,260:ma.Variable_must_have_an_explicit_type_annotation_with_isolatedDeclarations,172:ma.Property_must_have_an_explicit_type_annotation_with_isolatedDeclarations,171:ma.Property_must_have_an_explicit_type_annotation_with_isolatedDeclarations,167:ma.Computed_property_names_on_class_or_object_literals_cannot_be_inferred_with_isolatedDeclarations,305:ma.Objects_that_contain_spread_assignments_can_t_be_inferred_with_isolatedDeclarations,304:ma.Objects_that_contain_shorthand_properties_can_t_be_inferred_with_isolatedDeclarations,209:ma.Only_const_arrays_can_be_inferred_with_isolatedDeclarations,277:ma.Default_exports_can_t_be_inferred_with_isolatedDeclarations,230:ma.Arrays_with_spread_elements_can_t_inferred_with_isolatedDeclarations};return function(r){if(gc(r,XE))return qp(r,ma.Extends_clause_can_t_contain_an_expression_with_isolatedDeclarations);if((Ef(r)||jN(r.parent))&&(o_(r)||ub(r)))return function(e){const t=qp(e,ma.Type_containing_private_name_0_can_t_be_used_with_isolatedDeclarations,ep(e,!1));return o(e,t),t}(r);switch(fn.type(r),r.kind){case 177:case 178:return i(r);case 167:case 304:case 305:return function(e){const t=qp(e,n[e.kind]);return o(e,t),t}(r);case 209:case 230:return function(e){const t=qp(e,n[e.kind]);return o(e,t),t}(r);case 174:case 180:case 218:case 219:case 262:return function(e){const r=qp(e,n[e.kind]);return o(e,r),uT(r,qp(e,t[e.kind])),r}(r);case 208:return function(e){return qp(e,ma.Binding_elements_can_t_be_exported_directly_with_isolatedDeclarations)}(r);case 172:case 260:return function(e){const r=qp(e,n[e.kind]),i=ep(e.name,!1);return uT(r,qp(e,t[e.kind],i)),r}(r);case 169:return function(r){if(Pu(r.parent))return i(r.parent);const o=e.requiresAddingImplicitUndefined(r,r.parent);if(!o&&r.initializer)return a(r.initializer);const s=o?ma.Declaration_emit_for_this_parameter_requires_implicitly_adding_undefined_to_its_type_This_is_not_supported_with_isolatedDeclarations:n[r.kind],c=qp(r,s),l=ep(r.name,!1);return uT(c,qp(r,t[r.kind],l)),c}(r);case 303:return a(r.initializer);case 231:return function(e){return a(e,ma.Inference_from_class_expressions_is_not_supported_with_isolatedDeclarations)}(r);default:return a(r)}};function r(e){const t=gc(e,e=>DE(e)||yu(e)||iE(e)||kN(e)||vN(e));if(t)return DE(t)?t:QF(t)?gc(t,e=>__(e)&&!wN(e)):yu(t)?void 0:t}function i(e){var r;const{getAccessor:i,setAccessor:o}=hv(e.symbol.declarations,e),a=qp(null!=(r=Pu(e)?e.parameters[0]:e)?r:e,n[e.kind]);return o&&uT(a,qp(o,t[o.kind])),i&&uT(a,qp(i,t[i.kind])),a}function o(e,n){const i=r(e);if(i){const e=DE(i)||!i.name?"":ep(i.name,!1);uT(n,qp(i,t[i.kind],e))}return n}function a(e,i){const o=r(e);let a;if(o){const r=DE(o)||!o.name?"":ep(o.name,!1);o===gc(e.parent,e=>DE(e)||(yu(e)?"quit":!pF(e)&&!dF(e)&&!EF(e)))?(a=qp(e,null!=i?i:n[o.kind]),uT(a,qp(o,t[o.kind],r))):(a=qp(e,null!=i?i:ma.Expression_type_can_t_be_inferred_with_isolatedDeclarations),uT(a,qp(o,t[o.kind],r)),uT(a,qp(e,ma.Add_satisfies_and_a_type_assertion_to_this_expression_satisfies_T_as_T_to_make_the_type_explicit)))}else a=qp(e,null!=i?i:ma.Expression_type_can_t_be_inferred_with_isolatedDeclarations);return a}}function Aq(e,t,n){const r=e.getCompilerOptions();return w(F(Yy(e,n),jm),n)?Hq(t,e,_w,r,[n],[Lq],!1).diagnostics:void 0}var Iq=531469,Oq=8;function Lq(e){const t=()=>fn.fail("Diagnostic emitted without context");let n,r,i,o,a=t,s=!0,c=!1,l=!1,_=!1,d=!1;const{factory:m}=e,g=e.getEmitHost();let h=()=>{};const y={trackSymbol:function(e,t,n){return!(262144&e.flags)&&R(C.isSymbolAccessible(e,t,n,!0))},reportInaccessibleThisError:function(){(v||b)&&e.addDiagnostic(qp(v||b,ma.The_inferred_type_of_0_references_an_inaccessible_1_type_A_type_annotation_is_necessary,M(),"this"))},reportInaccessibleUniqueSymbolError:function(){(v||b)&&e.addDiagnostic(qp(v||b,ma.The_inferred_type_of_0_references_an_inaccessible_1_type_A_type_annotation_is_necessary,M(),"unique symbol"))},reportCyclicStructureError:function(){(v||b)&&e.addDiagnostic(qp(v||b,ma.The_inferred_type_of_0_references_a_type_with_a_cyclic_structure_which_cannot_be_trivially_serialized_A_type_annotation_is_necessary,M()))},reportPrivateInBaseOfClassExpression:function(t){(v||b)&&e.addDiagnostic(uT(qp(v||b,ma.Property_0_of_exported_anonymous_class_type_may_not_be_private_or_protected,t),...iE((v||b).parent)?[qp(v||b,ma.Add_a_type_annotation_to_the_variable_0,M())]:[]))},reportLikelyUnsafeImportRequiredError:function(t){(v||b)&&e.addDiagnostic(qp(v||b,ma.The_inferred_type_of_0_cannot_be_named_without_a_reference_to_1_This_is_likely_not_portable_A_type_annotation_is_necessary,M(),t))},reportTruncationError:function(){(v||b)&&e.addDiagnostic(qp(v||b,ma.The_inferred_type_of_this_node_exceeds_the_maximum_length_the_compiler_will_serialize_An_explicit_type_annotation_is_needed))},moduleResolverHost:g,reportNonlocalAugmentation:function(t,n,r){var i;const o=null==(i=n.declarations)?void 0:i.find(e=>Sd(e)===t),a=F(r.declarations,e=>Sd(e)!==t);if(o&&a)for(const s of a)e.addDiagnostic(uT(qp(s,ma.Declaration_augments_declaration_in_another_file_This_cannot_be_serialized),qp(o,ma.This_is_the_declaration_being_augmented_Consider_moving_the_augmenting_declaration_into_the_same_file)))},reportNonSerializableProperty:function(t){(v||b)&&e.addDiagnostic(qp(v||b,ma.The_type_of_this_node_cannot_be_serialized_because_its_property_0_cannot_be_serialized,t))},reportInferenceFallback:O,pushErrorFallbackNode(e){const t=b,n=h;h=()=>{h=n,b=t},b=e},popErrorFallbackNode(){h()}};let v,b,x,k,S,T;const C=e.getEmitResolver(),D=e.getCompilerOptions(),N=Pq(C),{stripInternal:E,isolatedDeclarations:P}=D;return function(u){if(307===u.kind&&u.isDeclarationFile)return u;if(308===u.kind){c=!0,k=[],S=[],T=[];let p=!1;const f=m.createBundle(A(u.sourceFiles,c=>{if(c.isDeclarationFile)return;if(p=p||c.hasNoDefaultLib,x=c,n=c,r=void 0,o=!1,i=new Map,a=t,_=!1,d=!1,h(c),rf(c)||of(c)){l=!1,s=!1;const t=Im(c)?m.createNodeArray(B(c)):fJ(c.statements,ce,yu);return m.updateSourceFile(c,[m.createModuleDeclaration([m.createModifier(138)],m.createStringLiteral(qy(e.getEmitHost(),c)),m.createModuleBlock(vI(m.createNodeArray(ie(t)),c.statements)))],!0,[],[],!1,[])}s=!0;const u=Im(c)?m.createNodeArray(B(c)):fJ(c.statements,ce,yu);return m.updateSourceFile(c,ie(u),!0,[],[],!1,[])})),y=Io(Bo(eV(u,g,!0).declarationFilePath));return f.syntheticFileReferences=C(y),f.syntheticTypeReferences=v(),f.syntheticLibReferences=b(),f.hasNoDefaultLib=p,f}let p;if(s=!0,_=!1,d=!1,n=u,x=u,a=t,c=!1,l=!1,o=!1,r=void 0,i=new Map,k=[],S=[],T=[],h(x),Im(x))p=m.createNodeArray(B(u));else{const e=fJ(u.statements,ce,yu);p=vI(m.createNodeArray(ie(e)),u.statements),tO(u)&&(!l||_&&!d)&&(p=vI(m.createNodeArray([...p,YP(m)]),p))}const f=Io(Bo(eV(u,g,!0).declarationFilePath));return m.updateSourceFile(u,p,!0,C(f),v(),u.hasNoDefaultLib,b());function h(e){k=X(k,A(e.referencedFiles,t=>[e,t])),S=X(S,e.typeReferenceDirectives),T=X(T,e.libReferenceDirectives)}function y(e){const t=__spreadValues({},e);return t.pos=-1,t.end=-1,t}function v(){return z(S,e=>{if(e.preserve)return y(e)})}function b(){return z(T,e=>{if(e.preserve)return y(e)})}function C(e){return z(k,([t,n])=>{if(!n.preserve)return;const r=g.getSourceFileFromReference(t,n);if(!r)return;let i;if(r.isDeclarationFile)i=r.fileName;else{if(c&&w(u.sourceFiles,r))return;const e=eV(r,g,!0);i=e.declarationFilePath||e.jsFilePath||r.fileName}if(!i)return;const o=ua(e,i,g.getCurrentDirectory(),g.getCanonicalFileName,!1),a=y(n);return a.fileName=o,a})}};function I(t){C.getPropertiesOfContainerFunction(t).forEach(t=>{if(fC(t.valueDeclaration)){const n=kF(t.valueDeclaration)?t.valueDeclaration.left:t.valueDeclaration;e.addDiagnostic(qp(n,ma.Assigning_properties_to_functions_without_declaring_them_is_not_supported_with_isolatedDeclarations_Add_an_explicit_declaration_for_the_properties_assigned_to_this_function))}})}function O(t){P&&!Im(x)&&Sd(t)===x&&(iE(t)&&C.isExpandoFunctionDeclaration(t)?I(t):e.addDiagnostic(N(t)))}function R(t){if(0===t.accessibility){if(t.aliasesToMakeVisible)if(r)for(const e of t.aliasesToMakeVisible)ue(r,e);else r=t.aliasesToMakeVisible}else if(3!==t.accessibility){const n=a(t);if(n)return n.typeName?e.addDiagnostic(qp(t.errorNode||n.errorNode,n.diagnosticMessage,ep(n.typeName),t.errorSymbolName,t.errorModuleName)):e.addDiagnostic(qp(t.errorNode||n.errorNode,n.diagnosticMessage,t.errorSymbolName,t.errorModuleName)),!0}return!1}function M(){return v?jp(v):b&&Ec(b)?jp(Ec(b)):b&&DE(b)?b.isExportEquals?"export=":"default":"(Missing)"}function B(e){const t=a;a=t=>t.errorNode&&Nq(t.errorNode)?Eq(t.errorNode)(t):{diagnosticMessage:t.errorModuleName?ma.Declaration_emit_for_this_file_requires_using_private_name_0_from_module_1_An_explicit_type_annotation_may_unblock_declaration_emit:ma.Declaration_emit_for_this_file_requires_using_private_name_0_An_explicit_type_annotation_may_unblock_declaration_emit,errorNode:t.errorNode||e};const n=C.getDeclarationStatementsForSourceFile(e,Iq,Oq,y);return a=t,n}function J(e){return 80===e.kind?e:207===e.kind?m.updateArrayBindingPattern(e,fJ(e.elements,t,F_)):m.updateObjectBindingPattern(e,fJ(e.elements,t,iF));function t(e){return 232===e.kind?e:(e.propertyName&&hN(e.propertyName)&&ub(e.propertyName.expression)&&ee(e.propertyName.expression,n),m.updateBindingElement(e,e.dotDotDotToken,e.propertyName,J(e.name),void 0))}}function q(e,t){let n;o||(n=a,a=Eq(e));const r=m.updateParameterDeclaration(e,function(e,t,n,r){return e.createModifiersFromModifierFlags(jq(t,n,r))}(m,e,t),e.dotDotDotToken,J(e.name),C.isOptionalParameter(e)?e.questionToken||m.createToken(58):void 0,W(e,!0),U(e));return o||(a=n),r}function V(e){return Rq(e)&&!!e.initializer&&C.isLiteralConstDeclaration(yc(e))}function U(e){if(V(e))return CC(wC(e.initializer))||O(e),C.createLiteralConstValue(yc(e,Rq),y)}function W(e,t){if(!t&&Pv(e,2))return;if(V(e))return;if(!DE(e)&&!iF(e)&&e.type&&(!vN(e)||!C.requiresAddingImplicitUndefined(e,n)))return pJ(e.type,ae,C_);const r=v;let i,s;return v=e.name,o||(i=a,Nq(e)&&(a=Eq(e))),DC(e)?s=C.createTypeOfDeclaration(e,n,Iq,Oq,y):c_(e)?s=C.createReturnTypeOfSignatureDeclaration(e,n,Iq,Oq,y):fn.assertNever(e),v=r,o||(a=i),null!=s?s:m.createKeywordTypeNode(133)}function $(e){switch((e=yc(e)).kind){case 262:case 267:case 264:case 263:case 265:case 266:return!C.isDeclarationVisible(e);case 260:return!H(e);case 271:case 272:case 278:case 277:return!1;case 175:return!0}return!1}function H(e){return!NF(e)&&(D_(e.name)?K(e.name.elements,H):C.isDeclarationVisible(e))}function G(e,t,n){if(Pv(e,2))return m.createNodeArray();const r=A(t,e=>q(e,n));return r?m.createNodeArray(r,t.hasTrailingComma):m.createNodeArray()}function Q(e,t){let n;if(!t){const t=uv(e);t&&(n=[q(t)])}if(NN(e)){let r;if(!t){const t=lv(e);t&&(r=q(t))}r||(r=m.createParameterDeclaration(void 0,void 0,"value")),n=se(n,r)}return m.createNodeArray(n||u)}function Z(e,t){return Pv(e,2)?void 0:fJ(t,ae,yN)}function Y(e){return nP(e)||lE(e)||uE(e)||sE(e)||cE(e)||c_(e)||PN(e)||QN(e)}function ee(e,t){R(C.isEntityNameVisible(e,t))}function te(e,t){return Iu(e)&&Iu(t)&&(e.jsDoc=t.jsDoc),Dw(e,ww(t))}function ne(t,n){if(n){if(l=l||267!==t.kind&&205!==t.kind,zu(n)&&c){const n=Uy(e.getEmitHost(),C,t);if(n)return m.createStringLiteral(n)}return n}}function re(e){const t=yU(e);return e&&void 0!==t?e:void 0}function ie(e){for(;p(r);){const e=r.shift();if(!Ep(e))return fn.fail(`Late replaced statement was found which is not handled by the declaration transformer!: ${fn.formatSyntaxKind(e.kind)}`);const t=s;s=e.parent&&nP(e.parent)&&!(tO(e.parent)&&c);const n=de(e);s=t,i.set(HJ(e),n)}return fJ(e,function(e){if(Ep(e)){const t=HJ(e);if(i.has(t)){const n=i.get(t);return i.delete(t),n&&((et(n)?K(n,eu):eu(n))&&(_=!0),nP(e.parent)&&(et(n)?K(n,tu):tu(n))&&(l=!0)),n}}return e},yu)}function ae(t){if(fe(t))return;if(mu(t)){if($(t))return;if(qh(t))if(P){if(!C.isDefinitelyReferenceToGlobalSymbolObject(t.name.expression)){if(sE(t.parent)||aF(t.parent))return void e.addDiagnostic(qp(t,ma.Computed_property_names_on_class_or_object_literals_cannot_be_inferred_with_isolatedDeclarations));if((cE(t.parent)||RN(t.parent))&&!ub(t.name.expression))return void e.addDiagnostic(qp(t,ma.Computed_properties_must_be_number_or_string_literals_variables_or_dotted_expressions_with_isolatedDeclarations))}}else if(!C.isLateBound(yc(t))||!ub(t.name.expression))return}if(c_(t)&&C.isImplementationOfOverload(t))return;if(MF(t))return;let r;Y(t)&&(r=n,n=t);const i=a,s=Nq(t),c=o;let l=(187===t.kind||200===t.kind)&&265!==t.parent.kind;if((TN(t)||SN(t))&&Pv(t,2)){if(t.symbol&&t.symbol.declarations&&t.symbol.declarations[0]!==t)return;return u(m.createPropertyDeclaration(ge(t),t.name,void 0,void 0,void 0))}if(s&&!o&&(a=Eq(t)),jN(t)&&ee(t.exprName,n),l&&(o=!0),function(e){switch(e.kind){case 180:case 176:case 174:case 177:case 178:case 172:case 171:case 173:case 179:case 181:case 260:case 168:case 233:case 183:case 194:case 184:case 185:case 205:return!0}return!1}(t))switch(t.kind){case 233:{(o_(t.expression)||ub(t.expression))&&ee(t.expression,n);const r=SJ(t,ae,e);return u(m.updateExpressionWithTypeArguments(r,r.expression,r.typeArguments))}case 183:{ee(t.typeName,n);const r=SJ(t,ae,e);return u(m.updateTypeReferenceNode(r,r.typeName,r.typeArguments))}case 180:return u(m.updateConstructSignature(t,Z(t,t.typeParameters),G(t,t.parameters),W(t)));case 176:return u(m.createConstructorDeclaration(ge(t),G(t,t.parameters,0),void 0));case 174:return nN(t.name)?u(void 0):u(m.createMethodDeclaration(ge(t),void 0,t.name,t.questionToken,Z(t,t.typeParameters),G(t,t.parameters),W(t),void 0));case 177:return nN(t.name)?u(void 0):u(m.updateGetAccessorDeclaration(t,ge(t),t.name,Q(t,Pv(t,2)),W(t),void 0));case 178:return nN(t.name)?u(void 0):u(m.updateSetAccessorDeclaration(t,ge(t),t.name,Q(t,Pv(t,2)),void 0));case 172:return nN(t.name)?u(void 0):u(m.updatePropertyDeclaration(t,ge(t),t.name,t.questionToken,W(t),U(t)));case 171:return nN(t.name)?u(void 0):u(m.updatePropertySignature(t,ge(t),t.name,t.questionToken,W(t)));case 173:return nN(t.name)?u(void 0):u(m.updateMethodSignature(t,ge(t),t.name,t.questionToken,Z(t,t.typeParameters),G(t,t.parameters),W(t)));case 179:return u(m.updateCallSignature(t,Z(t,t.typeParameters),G(t,t.parameters),W(t)));case 181:return u(m.updateIndexSignature(t,ge(t),G(t,t.parameters),pJ(t.type,ae,C_)||m.createKeywordTypeNode(133)));case 260:return D_(t.name)?pe(t.name):(l=!0,o=!0,u(m.updateVariableDeclaration(t,t.name,void 0,W(t),U(t))));case 168:return 174===(_=t).parent.kind&&Pv(_.parent,2)&&(t.default||t.constraint)?u(m.updateTypeParameterDeclaration(t,t.modifiers,t.name,void 0,void 0)):u(SJ(t,ae,e));case 194:{const e=pJ(t.checkType,ae,C_),r=pJ(t.extendsType,ae,C_),i=n;n=t.trueType;const o=pJ(t.trueType,ae,C_);n=i;const a=pJ(t.falseType,ae,C_);return fn.assert(e),fn.assert(r),fn.assert(o),fn.assert(a),u(m.updateConditionalTypeNode(t,e,r,o,a))}case 184:return u(m.updateFunctionTypeNode(t,fJ(t.typeParameters,ae,yN),G(t,t.parameters),fn.checkDefined(pJ(t.type,ae,C_))));case 185:return u(m.updateConstructorTypeNode(t,ge(t),fJ(t.typeParameters,ae,yN),G(t,t.parameters),fn.checkDefined(pJ(t.type,ae,C_))));case 205:return gf(t)?u(m.updateImportTypeNode(t,m.updateLiteralTypeNode(t.argument,ne(t,t.argument.literal)),t.attributes,t.qualifier,fJ(t.typeArguments,ae,C_),t.isTypeOf)):u(t);default:fn.assertNever(t,`Attempted to process unhandled node kind: ${fn.formatSyntaxKind(t.kind)}`)}var _;return BN(t)&&$a(x,t.pos).line===$a(x,t.end).line&&gw(t,1),u(SJ(t,ae,e));function u(e){return e&&s&&qh(t)&&function(e){let t;o||(t=a,a=Fq(e)),v=e.name,fn.assert(qh(e));const r=e;ee(r.name.expression,n),o||(a=t),v=void 0}(t),Y(t)&&(n=r),s&&!o&&(a=i),l&&(o=c),e===t?e:e&&dw(te(e,t),t)}}function ce(e){if(!function(e){switch(e.kind){case 262:case 267:case 271:case 264:case 263:case 265:case 266:case 243:case 272:case 278:case 277:return!0}return!1}(e))return;if(fe(e))return;switch(e.kind){case 278:return nP(e.parent)&&(l=!0),d=!0,m.updateExportDeclaration(e,e.modifiers,e.isTypeOnly,e.exportClause,ne(e,e.moduleSpecifier),re(e.attributes));case 277:if(nP(e.parent)&&(l=!0),d=!0,80===e.expression.kind)return e;{const t=m.createUniqueName("_default",16);a=()=>({diagnosticMessage:ma.Default_export_of_the_module_has_or_is_using_private_name_0,errorNode:e}),b=e;const n=W(e),r=m.createVariableDeclaration(t,void 0,n,void 0);b=void 0;const i=m.createVariableStatement(s?[m.createModifier(138)]:[],m.createVariableDeclarationList([r],2));return te(i,e),mw(e),[i,m.updateExportAssignment(e,e.modifiers,t)]}}const t=de(e);return i.set(HJ(e),t),e}function le(e){if(mE(e)||Pv(e,2048)||!bI(e))return e;const t=m.createModifiersFromModifierFlags(131039&Uv(e));return m.replaceModifiers(e,t)}function _e(e,t,n,r){const i=m.updateModuleDeclaration(e,t,n,r);if(dp(i)||32&i.flags)return i;const o=m.createModuleDeclaration(i.modifiers,i.name,i.body,32|i.flags);return dw(o,i),vI(o,i),o}function de(t){if(r)for(;Ut(r,t););if(fe(t))return;switch(t.kind){case 271:return function(e){if(C.isDeclarationVisible(e)){if(283===e.moduleReference.kind){const t=Fm(e);return m.updateImportEqualsDeclaration(e,e.modifiers,e.isTypeOnly,e.name,m.updateExternalModuleReference(e.moduleReference,ne(e,t)))}{const t=a;return a=Eq(e),ee(e.moduleReference,n),a=t,e}}}(t);case 272:return function(t){if(!t.importClause)return m.updateImportDeclaration(t,t.modifiers,t.importClause,ne(t,t.moduleSpecifier),re(t.attributes));const n=t.importClause&&t.importClause.name&&C.isDeclarationVisible(t.importClause)?t.importClause.name:void 0;if(!t.importClause.namedBindings)return n&&m.updateImportDeclaration(t,t.modifiers,m.updateImportClause(t.importClause,t.importClause.isTypeOnly,n,void 0),ne(t,t.moduleSpecifier),re(t.attributes));if(274===t.importClause.namedBindings.kind){const e=C.isDeclarationVisible(t.importClause.namedBindings)?t.importClause.namedBindings:void 0;return n||e?m.updateImportDeclaration(t,t.modifiers,m.updateImportClause(t.importClause,t.importClause.isTypeOnly,n,e),ne(t,t.moduleSpecifier),re(t.attributes)):void 0}const r=z(t.importClause.namedBindings.elements,e=>C.isDeclarationVisible(e)?e:void 0);return r&&r.length||n?m.updateImportDeclaration(t,t.modifiers,m.updateImportClause(t.importClause,t.importClause.isTypeOnly,n,r&&r.length?m.updateNamedImports(t.importClause.namedBindings,r):void 0),ne(t,t.moduleSpecifier),re(t.attributes)):C.isImportRequiredByAugmentation(t)?(P&&e.addDiagnostic(qp(t,ma.Declaration_emit_for_this_file_requires_preserving_this_import_for_augmentations_This_is_not_supported_with_isolatedDeclarations)),m.updateImportDeclaration(t,t.modifiers,void 0,ne(t,t.moduleSpecifier),re(t.attributes))):void 0}(t)}if(mu(t)&&$(t))return;if(WP(t))return;if(c_(t)&&C.isImplementationOfOverload(t))return;let o;Y(t)&&(o=n,n=t);const c=Nq(t),u=a;c&&(a=Eq(t));const g=s;switch(t.kind){case 265:{s=!1;const e=h(m.updateTypeAliasDeclaration(t,ge(t),t.name,fJ(t.typeParameters,ae,yN),fn.checkDefined(pJ(t.type,ae,C_))));return s=g,e}case 264:return h(m.updateInterfaceDeclaration(t,ge(t),t.name,Z(t,t.typeParameters),he(t.heritageClauses),fJ(t.members,ae,k_)));case 262:{const e=h(m.updateFunctionDeclaration(t,ge(t),void 0,t.name,Z(t,t.typeParameters),G(t,t.parameters),W(t),void 0));if(e&&C.isExpandoFunctionDeclaration(t)&&function(e){var t;if(e.body)return!0;const n=null==(t=e.symbol.declarations)?void 0:t.filter(e=>aE(e)&&!e.body);return!n||n.indexOf(e)===n.length-1}(t)){const r=C.getPropertiesOfContainerFunction(t);P&&I(t);const i=SI.createModuleDeclaration(void 0,e.name||m.createIdentifier("_default"),m.createModuleBlock([]),32);IT(i,n),i.locals=Yu(r),i.symbol=r[0].parent;const o=[];let s=z(r,e=>{if(!fC(e.valueDeclaration))return;const t=bc(e.escapedName);if(!bs(t,99))return;a=Eq(e.valueDeclaration);const n=C.createTypeOfDeclaration(e.valueDeclaration,i,Iq,2|Oq,y);a=u;const r=Oh(t),s=r?m.getGeneratedNameForNode(e.valueDeclaration):m.createIdentifier(t);r&&o.push([s,t]);const c=m.createVariableDeclaration(s,void 0,n,void 0);return m.createVariableStatement(r?void 0:[m.createToken(95)],m.createVariableDeclarationList([c]))});o.length?s.push(m.createExportDeclaration(void 0,!1,m.createNamedExports(A(o,([e,t])=>m.createExportSpecifier(!1,e,t))))):s=z(s,e=>m.replaceModifiers(e,0));const c=m.createModuleDeclaration(ge(t),t.name,m.createModuleBlock(s),32);if(!Pv(e,2048))return[e,c];const _=m.createModifiersFromModifierFlags(-2081&Uv(e)|128),p=m.updateFunctionDeclaration(e,_,void 0,e.name,e.typeParameters,e.parameters,e.type,void 0),f=m.updateModuleDeclaration(c,_,c.name,c.body),g=m.createExportAssignment(void 0,!1,c.name);return nP(t.parent)&&(l=!0),d=!0,[p,f,g]}return e}case 267:{s=!1;const e=t.body;if(e&&268===e.kind){const n=_,r=d;d=!1,_=!1;let i=ie(fJ(e.statements,ce,yu));33554432&t.flags&&(_=!1),hp(t)||function(e){return K(e,me)}(i)||d||(i=_?m.createNodeArray([...i,YP(m)]):fJ(i,le,yu));const o=m.updateModuleBlock(e,i);s=g,_=n,d=r;const a=ge(t);return h(_e(t,a,yp(t)?ne(t,t.name):t.name,o))}{s=g;const n=ge(t);s=!1,pJ(e,ce);const r=HJ(e),o=i.get(r);return i.delete(r),h(_e(t,n,t.name,o))}}case 263:{v=t.name,b=t;const e=m.createNodeArray(ge(t)),r=Z(t,t.typeParameters),i=cv(t);let o;if(i){const e=a;o=oe(j(i.parameters,e=>{if(Av(e,31)&&!fe(e))return a=Eq(e),80===e.name.kind?te(m.createPropertyDeclaration(ge(e),e.name,e.questionToken,W(e),U(e)),e):function t(n){let r;for(const i of n.elements)NF(i)||(D_(i.name)&&(r=X(r,t(i.name))),r=r||[],r.push(m.createPropertyDeclaration(ge(e),i.name,void 0,W(i),void 0)));return r}(e.name)})),a=e}const c=X(X(X(K(t.members,e=>!!e.name&&nN(e.name))?[m.createPropertyDeclaration(void 0,m.createPrivateIdentifier("#private"),void 0,void 0,void 0)]:void 0,C.createLateBoundIndexSignatures(t,n,Iq,Oq,y)),o),fJ(t.members,ae,m_)),l=m.createNodeArray(c),_=kh(t);if(_&&!ub(_.expression)&&106!==_.expression.kind){const n=t.name?bc(t.name.escapedText):"default",i=m.createUniqueName(`${n}_base`,16);a=()=>({diagnosticMessage:ma.extends_clause_of_exported_class_0_has_or_is_using_private_name_1,errorNode:_,typeName:t.name});const o=m.createVariableDeclaration(i,void 0,C.createTypeOfExpression(_.expression,t,Iq,Oq,y),void 0),c=m.createVariableStatement(s?[m.createModifier(138)]:[],m.createVariableDeclarationList([o],2)),u=m.createNodeArray(A(t.heritageClauses,e=>{if(96===e.token){const t=a;a=Eq(e.types[0]);const n=m.updateHeritageClause(e,A(e.types,e=>m.updateExpressionWithTypeArguments(e,i,fJ(e.typeArguments,ae,C_))));return a=t,n}return m.updateHeritageClause(e,fJ(m.createNodeArray(F(e.types,e=>ub(e.expression)||106===e.expression.kind)),ae,FF))}));return[c,h(m.updateClassDeclaration(t,e,t.name,r,u,l))]}{const n=he(t.heritageClauses);return h(m.updateClassDeclaration(t,e,t.name,r,n,l))}}case 243:return h(function(e){if(!f(e.declarationList.declarations,H))return;const t=fJ(e.declarationList.declarations,ae,iE);if(!p(t))return;const n=m.createNodeArray(ge(e));let r;return lf(e.declarationList)||cf(e.declarationList)?(r=m.createVariableDeclarationList(t,2),dw(r,e.declarationList),vI(r,e.declarationList),Dw(r,e.declarationList)):r=m.updateVariableDeclarationList(e.declarationList,t),m.updateVariableStatement(e,n,r)}(t));case 266:return h(m.updateEnumDeclaration(t,m.createNodeArray(ge(t)),t.name,m.createNodeArray(z(t.members,t=>{if(fe(t))return;const n=C.getEnumMemberValue(t),r=null==n?void 0:n.value;P&&t.initializer&&(null==n?void 0:n.hasExternalReferences)&&!hN(t.name)&&e.addDiagnostic(qp(t,ma.Enum_member_initializers_must_be_computable_without_references_to_external_symbols_with_isolatedDeclarations));const i=void 0===r?void 0:"string"==typeof r?m.createStringLiteral(r):r<0?m.createPrefixUnaryExpression(41,m.createNumericLiteral(-r)):m.createNumericLiteral(r);return te(m.updateEnumMember(t,t.name,i),t)}))))}return fn.assertNever(t,`Unhandled top-level node in declaration emit: ${fn.formatSyntaxKind(t.kind)}`);function h(e){return Y(t)&&(n=o),c&&(a=u),267===t.kind&&(s=g),e===t?e:(b=void 0,v=void 0,e&&dw(te(e,t),t))}}function pe(e){return L(z(e.elements,e=>function(e){if(232!==e.kind&&e.name){if(!H(e))return;return D_(e.name)?pe(e.name):m.createVariableDeclaration(e.name,void 0,W(e),void 0)}}(e)))}function fe(e){return!!E&&!!e&&$u(e,x)}function me(e){return DE(e)||NE(e)}function ge(e){const t=Uv(e),n=function(e){let t=130030,n=s&&!function(e){return 264===e.kind}(e)?128:0;const r=307===e.parent.kind;return(!r||c&&r&&tO(e.parent))&&(t^=128,n=0),jq(e,t,n)}(e);return t===n?mJ(e.modifiers,e=>it(e,i_),i_):m.createModifiersFromModifierFlags(n)}function he(e){return m.createNodeArray(F(A(e,e=>m.updateHeritageClause(e,fJ(m.createNodeArray(F(e.types,t=>ub(t.expression)||96===e.token&&106===t.expression.kind)),ae,FF))),e=>e.types&&!!e.types.length))}}function jq(e,t=131070,n=0){let r=Uv(e)&t|n;return 2048&r&&!(32&r)&&(r^=32),2048&r&&128&r&&(r^=128),r}function Rq(e){switch(e.kind){case 172:case 171:return!Pv(e,2);case 169:case 260:return!0}return!1}var Mq={scriptTransformers:u,declarationTransformers:u};function Bq(e,t,n){return{scriptTransformers:Jq(e,t,n),declarationTransformers:zq(t)}}function Jq(e,t,n){if(n)return u;const r=Sk(e),i=Tk(e),o=Mk(e),a=[];return _e(a,t&&A(t.before,Vq)),a.push(Yz),e.experimentalDecorators&&a.push(rq),Zk(e)&&a.push(hq),r<99&&a.push(uq),e.experimentalDecorators||!(r<99)&&o||a.push(iq),a.push(eq),r<8&&a.push(_q),r<7&&a.push(lq),r<6&&a.push(cq),r<5&&a.push(sq),r<4&&a.push(oq),r<3&&a.push(vq),r<2&&(a.push(xq),a.push(kq)),a.push(function(e){switch(e){case 200:return wq;case 99:case 7:case 6:case 5:case 100:case 101:case 199:case 1:return Dq;case 4:return Cq;default:return Sq}}(i)),_e(a,t&&A(t.after,Vq)),a}function zq(e){const t=[];return t.push(Lq),_e(t,e&&A(e.afterDeclarations,Uq)),t}function qq(e,t){return n=>{const r=e(n);return"function"==typeof r?t(n,r):function(e){return t=>rP(t)?e.transformBundle(t):e.transformSourceFile(t)}(r)}}function Vq(e){return qq(e,XJ)}function Uq(e){return qq(e,(e,t)=>t)}function Wq(e,t){return t}function $q(e,t,n){n(e,t)}function Hq(e,t,n,r,i,o,a){var s,c;const l=new Array(358);let _,u,d,p,f,m=0,g=[],h=[],y=[],v=[],b=0,x=!1,k=[],S=0,T=Wq,C=$q,w=0;const D=[],N={factory:n,getCompilerOptions:()=>r,getEmitResolver:()=>e,getEmitHost:()=>t,getEmitHelperFactory:mt(()=>eD(N)),startLexicalEnvironment:function(){fn.assert(w>0,"Cannot modify the lexical environment during initialization."),fn.assert(w<2,"Cannot modify the lexical environment after transformation has completed."),fn.assert(!x,"Lexical environment is suspended."),g[b]=_,h[b]=u,y[b]=d,v[b]=m,b++,_=void 0,u=void 0,d=void 0,m=0},suspendLexicalEnvironment:function(){fn.assert(w>0,"Cannot modify the lexical environment during initialization."),fn.assert(w<2,"Cannot modify the lexical environment after transformation has completed."),fn.assert(!x,"Lexical environment is already suspended."),x=!0},resumeLexicalEnvironment:function(){fn.assert(w>0,"Cannot modify the lexical environment during initialization."),fn.assert(w<2,"Cannot modify the lexical environment after transformation has completed."),fn.assert(x,"Lexical environment is not suspended."),x=!1},endLexicalEnvironment:function(){let e;if(fn.assert(w>0,"Cannot modify the lexical environment during initialization."),fn.assert(w<2,"Cannot modify the lexical environment after transformation has completed."),fn.assert(!x,"Lexical environment is suspended."),_||u||d){if(u&&(e=[...u]),_){const t=n.createVariableStatement(void 0,n.createVariableDeclarationList(_));gw(t,2097152),e?e.push(t):e=[t]}d&&(e=e?[...e,...d]:[...d])}return b--,_=g[b],u=h[b],d=y[b],m=v[b],0===b&&(g=[],h=[],y=[],v=[]),e},setLexicalEnvironmentFlags:function(e,t){m=t?m|e:m&~e},getLexicalEnvironmentFlags:function(){return m},hoistVariableDeclaration:function(e){fn.assert(w>0,"Cannot modify the lexical environment during initialization."),fn.assert(w<2,"Cannot modify the lexical environment after transformation has completed.");const t=gw(n.createVariableDeclaration(e),128);_?_.push(t):_=[t],1&m&&(m|=2)},hoistFunctionDeclaration:function(e){fn.assert(w>0,"Cannot modify the lexical environment during initialization."),fn.assert(w<2,"Cannot modify the lexical environment after transformation has completed."),gw(e,2097152),u?u.push(e):u=[e]},addInitializationStatement:function(e){fn.assert(w>0,"Cannot modify the lexical environment during initialization."),fn.assert(w<2,"Cannot modify the lexical environment after transformation has completed."),gw(e,2097152),d?d.push(e):d=[e]},startBlockScope:function(){fn.assert(w>0,"Cannot start a block scope during initialization."),fn.assert(w<2,"Cannot start a block scope after transformation has completed."),k[S]=p,S++,p=void 0},endBlockScope:function(){fn.assert(w>0,"Cannot end a block scope during initialization."),fn.assert(w<2,"Cannot end a block scope after transformation has completed.");const e=K(p)?[n.createVariableStatement(void 0,n.createVariableDeclarationList(p.map(e=>n.createVariableDeclaration(e)),1))]:void 0;return S--,p=k[S],0===S&&(k=[]),e},addBlockScopedVariable:function(e){fn.assert(S>0,"Cannot add a block scoped variable outside of an iteration body."),(p||(p=[])).push(e)},requestEmitHelper:function e(t){if(fn.assert(w>0,"Cannot modify the transformation context during initialization."),fn.assert(w<2,"Cannot modify the transformation context after transformation has completed."),fn.assert(!t.scoped,"Cannot request a scoped emit helper."),t.dependencies)for(const n of t.dependencies)e(n);f=se(f,t)},readEmitHelpers:function(){fn.assert(w>0,"Cannot modify the transformation context during initialization."),fn.assert(w<2,"Cannot modify the transformation context after transformation has completed.");const e=f;return f=void 0,e},enableSubstitution:function(e){fn.assert(w<2,"Cannot modify the transformation context after transformation has completed."),l[e]|=1},enableEmitNotification:function(e){fn.assert(w<2,"Cannot modify the transformation context after transformation has completed."),l[e]|=2},isSubstitutionEnabled:I,isEmitNotificationEnabled:O,get onSubstituteNode(){return T},set onSubstituteNode(e){fn.assert(w<1,"Cannot modify transformation hooks after initialization has completed."),fn.assert(void 0!==e,"Value must not be 'undefined'"),T=e},get onEmitNode(){return C},set onEmitNode(e){fn.assert(w<1,"Cannot modify transformation hooks after initialization has completed."),fn.assert(void 0!==e,"Value must not be 'undefined'"),C=e},addDiagnostic(e){D.push(e)}};for(const L of i)fw(Sd(yc(L)));ir("beforeTransform");const F=o.map(e=>e(N)),E=e=>{for(const t of F)e=t(e);return e};w=1;const P=[];for(const L of i)null==(s=Xn)||s.push(Xn.Phase.Emit,"transformNodes",307===L.kind?{path:L.path}:{kind:L.kind,pos:L.pos,end:L.end}),P.push((a?E:A)(L)),null==(c=Xn)||c.pop();return w=2,ir("afterTransform"),or("transformTime","beforeTransform","afterTransform"),{transformed:P,substituteNode:function(e,t){return fn.assert(w<3,"Cannot substitute a node after the result is disposed."),t&&I(t)&&T(e,t)||t},emitNodeWithNotification:function(e,t,n){fn.assert(w<3,"Cannot invoke TransformationResult callbacks after the result is disposed."),t&&(O(t)?C(e,t,n):n(e,t))},isEmitNotificationEnabled:O,dispose:function(){if(w<3){for(const e of i)fw(Sd(yc(e)));_=void 0,g=void 0,u=void 0,h=void 0,T=void 0,C=void 0,f=void 0,w=3}},diagnostics:D};function A(e){return!e||nP(e)&&e.isDeclarationFile?e:E(e)}function I(e){return!(!(1&l[e.kind])||8&rp(e))}function O(e){return!!(2&l[e.kind])||!!(4&rp(e))}}var Kq={factory:_w,getCompilerOptions:()=>({}),getEmitResolver:ft,getEmitHost:ft,getEmitHelperFactory:ft,startLexicalEnvironment:at,resumeLexicalEnvironment:at,suspendLexicalEnvironment:at,endLexicalEnvironment:lt,setLexicalEnvironmentFlags:at,getLexicalEnvironmentFlags:()=>0,hoistVariableDeclaration:at,hoistFunctionDeclaration:at,addInitializationStatement:at,startBlockScope:at,endBlockScope:lt,addBlockScopedVariable:at,requestEmitHelper:at,readEmitHelpers:ft,enableSubstitution:at,enableEmitNotification:at,isSubstitutionEnabled:ft,isEmitNotificationEnabled:ft,onSubstituteNode:Wq,onEmitNode:$q,addDiagnostic:at},Gq=function(){const e=[];return e[1024]=["{","}"],e[2048]=["(",")"],e[4096]=["<",">"],e[8192]=["[","]"],e}();function Xq(e){return Do(e,".tsbuildinfo")}function Qq(e,t,n,r=!1,i,o){const a=et(n)?n:Yy(e,n,r),s=e.getCompilerOptions();if(!i)if(s.outFile){if(a.length){const n=_w.createBundle(a),i=t(eV(n,e,r),n);if(i)return i}}else for(const c of a){const n=t(eV(c,e,r),c);if(n)return n}if(o){const e=Zq(s);if(e)return t({buildInfoPath:e},void 0)}}function Zq(e){const t=e.configFilePath;if(!function(e){return Lk(e)||!!e.tscBuild}(e))return;if(e.tsBuildInfoFile)return e.tsBuildInfoFile;const n=e.outFile;let r;if(n)r=KS(n);else{if(!t)return;const n=KS(t);r=e.outDir?e.rootDir?qo(e.outDir,ca(e.rootDir,n,!0)):zo(e.outDir,Oo(n)):n}return r+".tsbuildinfo"}function Yq(e,t){const n=e.outFile,r=e.emitDeclarationOnly?void 0:n,i=r&&tV(r,e),o=t||Ik(e)?KS(n)+".d.ts":void 0;return{jsFilePath:r,sourceMapFilePath:i,declarationFilePath:o,declarationMapPath:o&&jk(e)?o+".map":void 0}}function eV(e,t,n){const r=t.getCompilerOptions();if(308===e.kind)return Yq(r,n);{const i=$y(e.fileName,t,nV(e.fileName,r)),o=of(e),a=o&&0===ia(e.fileName,i,t.getCurrentDirectory(),!t.useCaseSensitiveFileNames()),s=r.emitDeclarationOnly||a?void 0:i,c=!s||of(e)?void 0:tV(s,r),l=n||Ik(r)&&!o?Hy(e.fileName,t):void 0;return{jsFilePath:s,sourceMapFilePath:c,declarationFilePath:l,declarationMapPath:l&&jk(r)?l+".map":void 0}}}function tV(e,t){return t.sourceMap&&!t.inlineSourceMap?e+".map":void 0}function nV(e,t){return Do(e,".json")?".json":1===t.jsx&&No(e,[".jsx",".tsx"])?".jsx":No(e,[".mts",".mjs"])?".mjs":No(e,[".cts",".cjs"])?".cjs":".js"}function rV(e,t,n,r){return n?qo(n,ca(r(),e,t)):e}function iV(e,t,n,r=()=>dV(t,n)){return oV(e,t.options,n,r)}function oV(e,t,n,r){return QS(rV(e,n,t.declarationDir||t.outDir,r),Gy(e))}function aV(e,t,n,r=()=>dV(t,n)){if(t.options.emitDeclarationOnly)return;const i=Do(e,".json"),o=sV(e,t.options,n,r);return i&&0===ia(e,o,fn.checkDefined(t.options.configFilePath),n)?void 0:o}function sV(e,t,n,r){return QS(rV(e,n,t.outDir,r),nV(e,t))}function cV(){let e;return{addOutput:function(t){t&&(e||(e=[])).push(t)},getOutputs:function(){return e||u}}}function lV(e,t){const{jsFilePath:n,sourceMapFilePath:r,declarationFilePath:i,declarationMapPath:o}=Yq(e.options,!1);t(n),t(r),t(i),t(o)}function _V(e,t,n,r,i){if(lO(t))return;const o=aV(t,e,n,i);if(r(o),!Do(t,".json")&&(o&&e.options.sourceMap&&r(`${o}.map`),Ik(e.options))){const o=iV(t,e,n,i);r(o),e.options.declarationMap&&r(`${o}.map`)}}function uV(e,t,n,r,i){let o;return e.rootDir?(o=Uo(e.rootDir,n),null==i||i(e.rootDir)):e.composite&&e.configFilePath?(o=Io(Bo(e.configFilePath)),null==i||i(o)):o=UV(t(),n,r),o&&o[o.length-1]!==mo&&(o+=mo),o}function dV({options:e,fileNames:t},n){return uV(e,()=>F(t,t=>!(e.noEmitForJsFiles&&No(t,PS)||lO(t))),Io(Bo(fn.checkDefined(e.configFilePath))),Kt(!n))}function pV(e,t){const{addOutput:n,getOutputs:r}=cV();if(e.options.outFile)lV(e,n);else{const r=mt(()=>dV(e,t));for(const i of e.fileNames)_V(e,i,t,n,r)}return n(Zq(e.options)),r()}function fV(e,t,n){t=Wo(t),fn.assert(w(e.fileNames,t),"Expected fileName to be present in command line");const{addOutput:r,getOutputs:i}=cV();return e.options.outFile?lV(e,r):_V(e,t,n,r),i()}function mV(e,t){if(e.options.outFile){const{jsFilePath:t,declarationFilePath:n}=Yq(e.options,!1);return fn.checkDefined(t||n,`project ${e.options.configFilePath} expected to have at least one output`)}const n=mt(()=>dV(e,t));for(const i of e.fileNames){if(lO(i))continue;const r=aV(i,e,t,n);if(r)return r;if(!Do(i,".json")&&Ik(e.options))return iV(i,e,t,n)}const r=Zq(e.options);return r||fn.fail(`project ${e.options.configFilePath} expected to have at least one output`)}function gV(e,t){return!!t&&!!e}function hV(e,t,n,{scriptTransformers:r,declarationTransformers:i},o,a,s,c){var _=t.getCompilerOptions(),u=_.sourceMap||_.inlineSourceMap||jk(_)?[]:void 0,d=_.listEmittedFiles?[]:void 0,f=fy(),m=jb(_),g=My(m),{enter:h,exit:y}=Gn("printTime","beforePrint","afterPrint"),v=!1;return h(),Qq(t,function({jsFilePath:a,sourceMapFilePath:c,declarationFilePath:u,declarationMapPath:m,buildInfoPath:g},h){var y,k,S,T,C,w;null==(y=Xn)||y.push(Xn.Phase.Emit,"emitJsFileOrBundle",{jsFilePath:a}),function(n,i,a){if(!n||o||!i)return;if(t.isEmitBlocked(i)||_.noEmit)return void(v=!0);(nP(n)?[n]:F(n.sourceFiles,jm)).forEach(t=>{var n;!_.noCheck&&yT(t,_)||Im(n=t)||GI(n,t=>!mE(t)||32&$v(t)?gE(t)?"skip":void e.markLinkedReferences(t):"skip")});const s=Hq(e,t,_w,_,[n],r,!1),c=CV({removeComments:_.removeComments,newLine:_.newLine,noEmitHelpers:_.noEmitHelpers,module:Tk(_),moduleResolution:Ck(_),target:Sk(_),sourceMap:_.sourceMap,inlineSourceMap:_.inlineSourceMap,inlineSources:_.inlineSources,extendedDiagnostics:_.extendedDiagnostics},{hasGlobalName:e.hasGlobalName,onEmitNode:s.emitNodeWithNotification,isEmitNotificationEnabled:s.isEmitNotificationEnabled,substituteNode:s.substituteNode});fn.assert(1===s.transformed.length,"Should only see one output from the transform"),x(i,a,s,c,_),s.dispose(),d&&(d.push(i),a&&d.push(a))}(h,a,c),null==(k=Xn)||k.pop(),null==(S=Xn)||S.push(Xn.Phase.Emit,"emitDeclarationFileOrBundle",{declarationFilePath:u}),function(n,r,a){if(!n||0===o)return;if(!r)return void((o||_.emitDeclarationOnly)&&(v=!0));const c=nP(n)?[n]:n.sourceFiles,l=s?c:F(c,jm),u=_.outFile?[_w.createBundle(l)]:l;l.forEach(e=>{(o&&!Ik(_)||_.noCheck||gV(o,s)||!yT(e,_))&&b(e)});const m=Hq(e,t,_w,_,u,i,!1);if(p(m.diagnostics))for(const e of m.diagnostics)f.add(e);const g=!!m.diagnostics&&!!m.diagnostics.length||!!t.isEmitBlocked(r)||!!_.noEmit;if(v=v||g,!g||s){fn.assert(1===m.transformed.length,"Should only see one output from the decl transform");const t={removeComments:_.removeComments,newLine:_.newLine,noEmitHelpers:!0,module:_.module,moduleResolution:_.moduleResolution,target:_.target,sourceMap:2!==o&&_.declarationMap,inlineSourceMap:_.inlineSourceMap,extendedDiagnostics:_.extendedDiagnostics,onlyPrintJsDocStyle:!0,omitBraceSourceMapPositions:!0},n=x(r,a,m,CV(t,{hasGlobalName:e.hasGlobalName,onEmitNode:m.emitNodeWithNotification,isEmitNotificationEnabled:m.isEmitNotificationEnabled,substituteNode:m.substituteNode}),{sourceMap:t.sourceMap,sourceRoot:_.sourceRoot,mapRoot:_.mapRoot,extendedDiagnostics:_.extendedDiagnostics});d&&(n&&d.push(r),a&&d.push(a))}m.dispose()}(h,u,m),null==(T=Xn)||T.pop(),null==(C=Xn)||C.push(Xn.Phase.Emit,"emitBuildInfo",{buildInfoPath:g}),function(e){if(!e||n)return;if(t.isEmitBlocked(e))return void(v=!0);const r=t.getBuildInfo()||{version:l};rv(t,f,e,yV(r),!1,void 0,{buildInfo:r}),null==d||d.push(e)}(g),null==(w=Xn)||w.pop()},Yy(t,n,s),s,a,!n&&!c),y(),{emitSkipped:v,diagnostics:f.getDiagnostics(),emittedFiles:d,sourceMaps:u};function b(t){DE(t)?80===t.expression.kind&&e.collectLinkedAliases(t.expression,!0):EE(t)?e.collectLinkedAliases(t.propertyName||t.name,!0):KI(t,b)}function x(e,n,r,i,o){const a=r.transformed[0],s=308===a.kind?a:void 0,c=307===a.kind?a:void 0,l=s?s.sourceFiles:[c];let d,p;if(function(e,t){return(e.sourceMap||e.inlineSourceMap)&&(307!==t.kind||!Do(t.fileName,".json"))}(o,a)&&(d=wJ(t,Oo(Bo(e)),function(e){const t=Bo(e.sourceRoot||"");return t?Xo(t):t}(o),function(e,n,r){if(e.sourceRoot)return t.getCommonSourceDirectory();if(e.mapRoot){let n=Bo(e.mapRoot);return r&&(n=Io(tv(r.fileName,t,n))),0===Ao(n)&&(n=zo(t.getCommonSourceDirectory(),n)),n}return Io(Wo(n))}(o,e,c),o)),s?i.writeBundle(s,g,d):i.writeFile(c,g,d),d){u&&u.push({inputSourceFileNames:d.getSources(),sourceMap:d.toJSON()});const r=function(e,n,r,i,o){if(e.inlineSourceMap){const e=n.toString();return`data:application/json;base64,${Nb(po,e)}`}const a=Oo(Bo(fn.checkDefined(i)));if(e.mapRoot){let n=Bo(e.mapRoot);return o&&(n=Io(tv(o.fileName,t,n))),0===Ao(n)?(n=zo(t.getCommonSourceDirectory(),n),encodeURI(ua(Io(Wo(r)),zo(n,a),t.getCurrentDirectory(),t.getCanonicalFileName,!0))):encodeURI(zo(n,a))}return encodeURI(a)}(o,d,e,n,c);if(r&&(g.isAtStartOfLine()||g.rawWrite(m),p=g.getTextPos(),g.writeComment(`//# sourceMappingURL=${r}`)),n){const e=d.toString();rv(t,f,n,e,!1,l)}}else g.writeLine();const h=g.getText(),y={sourceMapUrlPos:p,diagnostics:r.diagnostics};return rv(t,f,e,h,!!_.emitBOM,l,y),g.clear(),!y.skippedDtsWrite}}function yV(e){return JSON.stringify(e)}function vV(e,t){return Eb(e,t)}var bV={hasGlobalName:ft,getReferencedExportContainer:ft,getReferencedImportDeclaration:ft,getReferencedDeclarationWithCollidingName:ft,isDeclarationWithCollidingName:ft,isValueAliasDeclaration:ft,isReferencedAliasDeclaration:ft,isTopLevelValueImportEqualsWithEntityName:ft,hasNodeCheckFlag:ft,isDeclarationVisible:ft,isLateBound:e=>!1,collectLinkedAliases:ft,markLinkedReferences:ft,isImplementationOfOverload:ft,requiresAddingImplicitUndefined:ft,isExpandoFunctionDeclaration:ft,getPropertiesOfContainerFunction:ft,createTypeOfDeclaration:ft,createReturnTypeOfSignatureDeclaration:ft,createTypeOfExpression:ft,createLiteralConstValue:ft,isSymbolAccessible:ft,isEntityNameVisible:ft,getConstantValue:ft,getEnumMemberValue:ft,getReferencedValueDeclaration:ft,getReferencedValueDeclarations:ft,getTypeReferenceSerializationKind:ft,isOptionalParameter:ft,isArgumentsLocalBinding:ft,getExternalModuleFileFromDeclaration:ft,isLiteralConstDeclaration:ft,getJsxFactoryEntity:ft,getJsxFragmentFactoryEntity:ft,isBindingCapturedByNode:ft,getDeclarationStatementsForSourceFile:ft,isImportRequiredByAugmentation:ft,isDefinitelyReferenceToGlobalSymbolObject:ft,createLateBoundIndexSignatures:ft},xV=mt(()=>CV({})),kV=mt(()=>CV({removeComments:!0})),SV=mt(()=>CV({removeComments:!0,neverAsciiEscape:!0})),TV=mt(()=>CV({removeComments:!0,omitTrailingSemicolon:!0}));function CV(e={},t={}){var n,r,i,o,a,s,c,l,_,u,d,p,m,g,h,y,v,b,k,S,C,w,D,N,F,E,{hasGlobalName:P,onEmitNode:A=$q,isEmitNotificationEnabled:I,substituteNode:O=Wq,onBeforeEmitNode:L,onAfterEmitNode:j,onBeforeEmitNodeArray:R,onAfterEmitNodeArray:M,onBeforeEmitToken:B,onAfterEmitToken:J}=t,z=!!e.extendedDiagnostics,q=!!e.omitBraceSourceMapPositions,V=jb(e),U=Tk(e),W=new Map,$=e.preserveSourceNewlines,H=function(e){v.write(e)},G=!0,X=-1,Q=-1,Z=-1,Y=-1,ee=-1,te=!1,ne=!!e.removeComments,{enter:re,exit:ie}=Kn(z,"commentTime","beforeComment","afterComment"),oe=_w.parenthesizer,ae={select:e=>0===e?oe.parenthesizeLeadingTypeArgument:void 0},se=function(){return oI(function(e,t){if(t){t.stackIndex++,t.preserveSourceNewlinesStack[t.stackIndex]=$,t.containerPosStack[t.stackIndex]=Z,t.containerEndStack[t.stackIndex]=Y,t.declarationListContainerEndStack[t.stackIndex]=ee;const n=t.shouldEmitCommentsStack[t.stackIndex]=Ie(e),r=t.shouldEmitSourceMapsStack[t.stackIndex]=Oe(e);null==L||L(e),n&&Xn(e),r&&yr(e),Ee(e)}else t={stackIndex:0,preserveSourceNewlinesStack:[void 0],containerPosStack:[-1],containerEndStack:[-1],declarationListContainerEndStack:[-1],shouldEmitCommentsStack:[!1],shouldEmitSourceMapsStack:[!1]};return t},function(t,n,r){return e(t,r,"left")},function(e,t,n){const r=28!==e.kind,i=Cn(n,n.left,e),o=Cn(n,e,n.right);gn(i,r),cr(e.pos),un(e,103===e.kind?Yt:en),_r(e.end,!0),gn(o,!0)},function(t,n,r){return e(t,r,"right")},function(e,t){const n=Cn(e,e.left,e.operatorToken),r=Cn(e,e.operatorToken,e.right);if(hn(n,r),t.stackIndex>0){const n=t.preserveSourceNewlinesStack[t.stackIndex],r=t.containerPosStack[t.stackIndex],i=t.containerEndStack[t.stackIndex],o=t.declarationListContainerEndStack[t.stackIndex],a=t.shouldEmitCommentsStack[t.stackIndex],s=t.shouldEmitSourceMapsStack[t.stackIndex];Pe(n),s&&vr(e),a&&Qn(e,r,i,o),null==j||j(e),t.stackIndex--}},void 0);function e(e,t,n){const r="left"===n?oe.getParenthesizeLeftSideOfBinaryForOperator(t.operatorToken.kind):oe.getParenthesizeRightSideOfBinaryForOperator(t.operatorToken.kind);let i=Le(0,1,e);if(i===Je&&(fn.assertIsDefined(F),i=je(1,1,e=r(ot(F,G_))),F=void 0),(i===Gn||i===hr||i===Me)&&kF(e))return e;E=r,i(1,e)}}();return Te(),{printNode:function(e,t,n){switch(e){case 0:fn.assert(nP(t),"Expected a SourceFile node.");break;case 2:fn.assert(tN(t),"Expected an Identifier node.");break;case 1:fn.assert(G_(t),"Expected an Expression node.")}switch(t.kind){case 307:return le(t);case 308:return ce(t)}return _e(e,t,n,me()),ge()},printList:function(e,t,n){return ue(e,t,n,me()),ge()},printFile:le,printBundle:ce,writeNode:_e,writeList:ue,writeFile:fe,writeBundle:de};function ce(e){return de(e,me(),void 0),ge()}function le(e){return fe(e,me(),void 0),ge()}function _e(e,t,n,r){const i=v;be(r,void 0),ye(e,t,n),Te(),v=i}function ue(e,t,n,r){const i=v;be(r,void 0),n&&ve(n),Wt(void 0,t,e),Te(),v=i}function de(e,t,n){k=!1;const r=v;var i;be(t,n),Pt(e),Et(e),ze(e),Dt(!!(i=e).hasNoDefaultLib,i.syntheticFileReferences||[],i.syntheticTypeReferences||[],i.syntheticLibReferences||[]);for(const o of e.sourceFiles)ye(0,o,o);Te(),v=r}function fe(e,t,n){k=!0;const r=v;be(t,n),Pt(e),Et(e),ye(0,e,e),Te(),v=r}function me(){return b||(b=My(V))}function ge(){const e=b.getText();return b.clear(),e}function ye(e,t,n){n&&ve(n),Ae(e,t,void 0)}function ve(e){n=e,D=void 0,N=void 0,e&&Tr(e)}function be(t,n){t&&e.omitTrailingSemicolon&&(t=By(t)),S=n,G=!(v=t)||!S}function Te(){r=[],i=[],o=[],a=new Set,s=[],c=new Map,l=[],_=0,u=[],d=0,p=[],m=void 0,g=[],h=void 0,n=void 0,D=void 0,N=void 0,be(void 0,void 0)}function Ce(){return D||(D=qa(fn.checkDefined(n)))}function we(e,t){void 0!==e&&Ae(4,e,t)}function De(e){void 0!==e&&Ae(2,e,void 0)}function Ne(e,t){void 0!==e&&Ae(1,e,t)}function Fe(e){Ae(MD(e)?6:4,e)}function Ee(e){$&&4&ip(e)&&($=!1)}function Pe(e){$=e}function Ae(e,t,n){E=n,Le(0,e,t)(e,t),E=void 0}function Ie(e){return!ne&&!nP(e)}function Oe(e){return!G&&!nP(e)&&!Lm(e)}function Le(e,t,n){switch(e){case 0:if(A!==$q&&(!I||I(n)))return Re;case 1:if(O!==Wq&&(F=O(t,n)||n)!==n)return E&&(F=E(F)),Je;case 2:if(Ie(n))return Gn;case 3:if(Oe(n))return hr;case 4:return Me;default:return fn.assertNever(e)}}function je(e,t,n){return Le(e+1,t,n)}function Re(e,t){const n=je(0,e,t);A(e,t,n)}function Me(e,t){if(null==L||L(t),$){const n=$;Ee(t),Be(e,t),Pe(n)}else Be(e,t);null==j||j(t),E=void 0}function Be(e,t,r=!0){if(r){const n=qw(t);if(n)return function(e,t,n){switch(n.kind){case 1:!function(e,t,n){an(`\${${n.order}:`),Be(e,t,!1),an("}")}(e,t,n);break;case 0:!function(e,t,n){fn.assert(242===t.kind,`A tab stop cannot be attached to a node of kind ${fn.formatSyntaxKind(t.kind)}.`),fn.assert(5!==e,"A tab stop cannot be attached to an embedded statement."),an(`$${n.order}`)}(e,t,n)}}(e,t,n)}if(0===e)return wt(ot(t,nP));if(2===e)return Ue(ot(t,tN));if(6===e)return Ve(ot(t,MD),!0);if(3===e)return function(e){we(e.name),rn(),Yt("in"),rn(),we(e.constraint)}(ot(t,yN));if(7===e)return function(e){Qt("{"),rn(),Yt(132===e.token?"assert":"with"),Qt(":"),rn();const t=e.elements;Wt(e,t,526226),rn(),Qt("}")}(ot(t,xE));if(5===e)return fn.assertNode(t,zF),Ze(!0);if(4===e){switch(t.kind){case 16:case 17:case 18:return Ve(t,!1);case 80:return Ue(t);case 81:return We(t);case 166:return function(e){(function(e){80===e.kind?Ne(e):we(e)})(e.left),Qt("."),we(e.right)}(t);case 167:return function(e){Qt("["),Ne(e.expression,oe.parenthesizeExpressionOfComputedPropertyName),Qt("]")}(t);case 168:return function(e){Ot(e,e.modifiers),we(e.name),e.constraint&&(rn(),Yt("extends"),rn(),we(e.constraint)),e.default&&(rn(),en("="),rn(),we(e.default))}(t);case 169:return function(e){It(e,e.modifiers,!0),we(e.dotDotDotToken),At(e.name,tn),we(e.questionToken),e.parent&&317===e.parent.kind&&!e.name?we(e.type):Lt(e.type),jt(e.initializer,e.type?e.type.end:e.questionToken?e.questionToken.end:e.name?e.name.end:e.modifiers?e.modifiers.end:e.pos,e,oe.parenthesizeExpressionForDisallowedComma)}(t);case 170:return a=t,Qt("@"),void Ne(a.expression,oe.parenthesizeLeftSideOfAccess);case 171:return function(e){Ot(e,e.modifiers),At(e.name,on),we(e.questionToken),Lt(e.type),Zt()}(t);case 172:return function(e){It(e,e.modifiers,!0),we(e.name),we(e.questionToken),we(e.exclamationToken),Lt(e.type),jt(e.initializer,e.type?e.type.end:e.questionToken?e.questionToken.end:e.name.end,e),Zt()}(t);case 173:return function(e){Ot(e,e.modifiers),we(e.name),we(e.questionToken),lt(e,dt,ut)}(t);case 174:return function(e){It(e,e.modifiers,!0),we(e.asteriskToken),we(e.name),we(e.questionToken),lt(e,dt,_t)}(t);case 175:return function(e){Yt("static"),En(e),pt(e.body),Pn(e)}(t);case 176:return function(e){It(e,e.modifiers,!1),Yt("constructor"),lt(e,dt,_t)}(t);case 177:case 178:return function(e){const t=It(e,e.modifiers,!0),n=177===e.kind?139:153;tt(n,t,Yt,e),rn(),we(e.name),lt(e,dt,_t)}(t);case 179:return function(e){lt(e,dt,ut)}(t);case 180:return function(e){Yt("new"),rn(),lt(e,dt,ut)}(t);case 181:return function(e){var t,n;It(e,e.modifiers,!1),t=e,n=e.parameters,Wt(t,n,8848),Lt(e.type),Zt()}(t);case 182:return function(e){e.assertsModifier&&(we(e.assertsModifier),rn()),we(e.parameterName),e.type&&(rn(),Yt("is"),rn(),we(e.type))}(t);case 183:return function(e){we(e.typeName),Jt(e,e.typeArguments)}(t);case 184:return function(e){lt(e,$e,He)}(t);case 185:return function(e){Ot(e,e.modifiers),Yt("new"),rn(),lt(e,$e,He)}(t);case 186:return function(e){Yt("typeof"),rn(),we(e.exprName),Jt(e,e.typeArguments)}(t);case 187:return function(e){En(e),f(e.members,Ln),Qt("{");const t=1&rp(e)?768:32897;Wt(e,e.members,524288|t),Qt("}"),Pn(e)}(t);case 188:return function(e){we(e.elementType,oe.parenthesizeNonArrayTypeOfPostfixType),Qt("["),Qt("]")}(t);case 189:return function(e){tt(23,e.pos,Qt,e);const t=1&rp(e)?528:657;Wt(e,e.elements,524288|t,oe.parenthesizeElementTypeOfTupleType),tt(24,e.elements.end,Qt,e)}(t);case 190:return function(e){we(e.type,oe.parenthesizeTypeOfOptionalType),Qt("?")}(t);case 192:return function(e){Wt(e,e.types,516,oe.parenthesizeConstituentTypeOfUnionType)}(t);case 193:return function(e){Wt(e,e.types,520,oe.parenthesizeConstituentTypeOfIntersectionType)}(t);case 194:return function(e){we(e.checkType,oe.parenthesizeCheckTypeOfConditionalType),rn(),Yt("extends"),rn(),we(e.extendsType,oe.parenthesizeExtendsTypeOfConditionalType),rn(),Qt("?"),rn(),we(e.trueType),rn(),Qt(":"),rn(),we(e.falseType)}(t);case 195:return function(e){Yt("infer"),rn(),we(e.typeParameter)}(t);case 196:return function(e){Qt("("),we(e.type),Qt(")")}(t);case 233:return Xe(t);case 197:return void Yt("this");case 198:return function(e){dn(e.operator,Yt),rn();const t=148===e.operator?oe.parenthesizeOperandOfReadonlyTypeOperator:oe.parenthesizeOperandOfTypeOperator;we(e.type,t)}(t);case 199:return function(e){we(e.objectType,oe.parenthesizeNonArrayTypeOfPostfixType),Qt("["),we(e.indexType),Qt("]")}(t);case 200:return function(e){const t=rp(e);Qt("{"),1&t?rn():(sn(),cn()),e.readonlyToken&&(we(e.readonlyToken),148!==e.readonlyToken.kind&&Yt("readonly"),rn()),Qt("["),Ae(3,e.typeParameter),e.nameType&&(rn(),Yt("as"),rn(),we(e.nameType)),Qt("]"),e.questionToken&&(we(e.questionToken),58!==e.questionToken.kind&&Qt("?")),Qt(":"),rn(),we(e.type),Zt(),1&t?rn():(sn(),ln()),Wt(e,e.members,2),Qt("}")}(t);case 201:return function(e){Ne(e.literal)}(t);case 202:return function(e){we(e.dotDotDotToken),we(e.name),we(e.questionToken),tt(59,e.name.end,Qt,e),rn(),we(e.type)}(t);case 203:return function(e){we(e.head),Wt(e,e.templateSpans,262144)}(t);case 204:return function(e){we(e.type),we(e.literal)}(t);case 205:return function(e){e.isTypeOf&&(Yt("typeof"),rn()),Yt("import"),Qt("("),we(e.argument),e.attributes&&(Qt(","),rn(),Ae(7,e.attributes)),Qt(")"),e.qualifier&&(Qt("."),we(e.qualifier)),Jt(e,e.typeArguments)}(t);case 206:return function(e){Qt("{"),Wt(e,e.elements,525136),Qt("}")}(t);case 207:return function(e){Qt("["),Wt(e,e.elements,524880),Qt("]")}(t);case 208:return function(e){we(e.dotDotDotToken),e.propertyName&&(we(e.propertyName),Qt(":"),rn()),we(e.name),jt(e.initializer,e.name.end,e,oe.parenthesizeExpressionForDisallowedComma)}(t);case 239:return function(e){Ne(e.expression),we(e.literal)}(t);case 240:return void Zt();case 241:return function(e){Qe(e,!e.multiLine&&wn(e))}(t);case 243:return function(e){It(e,e.modifiers,!1),we(e.declarationList),Zt()}(t);case 242:return Ze(!1);case 244:return function(e){Ne(e.expression,oe.parenthesizeExpressionOfExpressionStatement),n&&of(n)&&!iy(e.expression)||Zt()}(t);case 245:return function(e){const t=tt(101,e.pos,Yt,e);rn(),tt(21,t,Qt,e),Ne(e.expression),tt(22,e.expression.end,Qt,e),Bt(e,e.thenStatement),e.elseStatement&&(pn(e,e.thenStatement,e.elseStatement),tt(93,e.thenStatement.end,Yt,e),245===e.elseStatement.kind?(rn(),we(e.elseStatement)):Bt(e,e.elseStatement))}(t);case 246:return function(e){tt(92,e.pos,Yt,e),Bt(e,e.statement),BF(e.statement)&&!$?rn():pn(e,e.statement,e.expression),Ye(e,e.statement.end),Zt()}(t);case 247:return function(e){Ye(e,e.pos),Bt(e,e.statement)}(t);case 248:return function(e){const t=tt(99,e.pos,Yt,e);rn();let n=tt(21,t,Qt,e);et(e.initializer),n=tt(27,e.initializer?e.initializer.end:n,Qt,e),Mt(e.condition),n=tt(27,e.condition?e.condition.end:n,Qt,e),Mt(e.incrementor),tt(22,e.incrementor?e.incrementor.end:n,Qt,e),Bt(e,e.statement)}(t);case 249:return function(e){const t=tt(99,e.pos,Yt,e);rn(),tt(21,t,Qt,e),et(e.initializer),rn(),tt(103,e.initializer.end,Yt,e),rn(),Ne(e.expression),tt(22,e.expression.end,Qt,e),Bt(e,e.statement)}(t);case 250:return function(e){const t=tt(99,e.pos,Yt,e);rn(),function(e){e&&(we(e),rn())}(e.awaitModifier),tt(21,t,Qt,e),et(e.initializer),rn(),tt(165,e.initializer.end,Yt,e),rn(),Ne(e.expression),tt(22,e.expression.end,Qt,e),Bt(e,e.statement)}(t);case 251:return function(e){tt(88,e.pos,Yt,e),Rt(e.label),Zt()}(t);case 252:return function(e){tt(83,e.pos,Yt,e),Rt(e.label),Zt()}(t);case 253:return function(e){tt(107,e.pos,Yt,e),Mt(e.expression&&at(e.expression),at),Zt()}(t);case 254:return function(e){const t=tt(118,e.pos,Yt,e);rn(),tt(21,t,Qt,e),Ne(e.expression),tt(22,e.expression.end,Qt,e),Bt(e,e.statement)}(t);case 255:return function(e){const t=tt(109,e.pos,Yt,e);rn(),tt(21,t,Qt,e),Ne(e.expression),tt(22,e.expression.end,Qt,e),rn(),we(e.caseBlock)}(t);case 256:return function(e){we(e.label),tt(59,e.label.end,Qt,e),rn(),we(e.statement)}(t);case 257:return function(e){tt(111,e.pos,Yt,e),Mt(at(e.expression),at),Zt()}(t);case 258:return function(e){tt(113,e.pos,Yt,e),rn(),we(e.tryBlock),e.catchClause&&(pn(e,e.tryBlock,e.catchClause),we(e.catchClause)),e.finallyBlock&&(pn(e,e.catchClause||e.tryBlock,e.finallyBlock),tt(98,(e.catchClause||e.tryBlock).end,Yt,e),rn(),we(e.finallyBlock))}(t);case 259:return function(e){_n(89,e.pos,Yt),Zt()}(t);case 260:return function(e){var t,n,r,i,o;we(e.name),we(e.exclamationToken),Lt(e.type),jt(e.initializer,null!=(n=null!=(t=null==(r=e.type)?void 0:r.end)?t:null==(o=null==(i=e.name.emitNode)?void 0:i.typeNode)?void 0:o.end)?n:e.name.end,e,oe.parenthesizeExpressionForDisallowedComma)}(t);case 261:return function(e){cf(e)?(Yt("await"),rn(),Yt("using")):Yt(df(e)?"let":_f(e)?"const":lf(e)?"using":"var"),rn(),Wt(e,e.declarations,528)}(t);case 262:return function(e){ct(e)}(t);case 263:return function(e){gt(e)}(t);case 264:return function(e){It(e,e.modifiers,!1),Yt("interface"),rn(),we(e.name),zt(e,e.typeParameters),Wt(e,e.heritageClauses,512),rn(),Qt("{"),En(e),f(e.members,Ln),Wt(e,e.members,129),Pn(e),Qt("}")}(t);case 265:return function(e){It(e,e.modifiers,!1),Yt("type"),rn(),we(e.name),zt(e,e.typeParameters),rn(),Qt("="),rn(),we(e.type),Zt()}(t);case 266:return function(e){It(e,e.modifiers,!1),Yt("enum"),rn(),we(e.name),rn(),Qt("{"),Wt(e,e.members,145),Qt("}")}(t);case 267:return function(e){It(e,e.modifiers,!1),2048&~e.flags&&(Yt(32&e.flags?"namespace":"module"),rn()),we(e.name);let t=e.body;if(!t)return Zt();for(;t&&uE(t);)Qt("."),we(t.name),t=t.body;rn(),we(t)}(t);case 268:return function(e){En(e),f(e.statements,On),Qe(e,wn(e)),Pn(e)}(t);case 269:return function(e){tt(19,e.pos,Qt,e),Wt(e,e.clauses,129),tt(20,e.clauses.end,Qt,e,!0)}(t);case 270:return function(e){let t=tt(95,e.pos,Yt,e);rn(),t=tt(130,t,Yt,e),rn(),t=tt(145,t,Yt,e),rn(),we(e.name),Zt()}(t);case 271:return function(e){It(e,e.modifiers,!1),tt(102,e.modifiers?e.modifiers.end:e.pos,Yt,e),rn(),e.isTypeOnly&&(tt(156,e.pos,Yt,e),rn()),we(e.name),rn(),tt(64,e.name.end,Qt,e),rn(),function(e){80===e.kind?Ne(e):we(e)}(e.moduleReference),Zt()}(t);case 272:return function(e){It(e,e.modifiers,!1),tt(102,e.modifiers?e.modifiers.end:e.pos,Yt,e),rn(),e.importClause&&(we(e.importClause),rn(),tt(161,e.importClause.end,Yt,e),rn()),Ne(e.moduleSpecifier),e.attributes&&Rt(e.attributes),Zt()}(t);case 273:return function(e){e.isTypeOnly&&(tt(156,e.pos,Yt,e),rn()),we(e.name),e.name&&e.namedBindings&&(tt(28,e.name.end,Qt,e),rn()),we(e.namedBindings)}(t);case 274:return function(e){const t=tt(42,e.pos,Qt,e);rn(),tt(130,t,Yt,e),rn(),we(e.name)}(t);case 280:return function(e){const t=tt(42,e.pos,Qt,e);rn(),tt(130,t,Yt,e),rn(),we(e.name)}(t);case 275:case 279:return function(e){ht(e)}(t);case 276:case 281:return function(e){yt(e)}(t);case 277:return function(e){const t=tt(95,e.pos,Yt,e);rn(),e.isExportEquals?tt(64,t,en,e):tt(90,t,Yt,e),rn(),Ne(e.expression,e.isExportEquals?oe.getParenthesizeRightSideOfBinaryForOperator(64):oe.parenthesizeExpressionOfExportDefault),Zt()}(t);case 278:return function(e){It(e,e.modifiers,!1);let t=tt(95,e.pos,Yt,e);rn(),e.isTypeOnly&&(t=tt(156,t,Yt,e),rn()),e.exportClause?we(e.exportClause):t=tt(42,t,Qt,e),e.moduleSpecifier&&(rn(),tt(161,e.exportClause?e.exportClause.end:t,Yt,e),rn(),Ne(e.moduleSpecifier)),e.attributes&&Rt(e.attributes),Zt()}(t);case 300:return function(e){tt(e.token,e.pos,Yt,e),rn();const t=e.elements;Wt(e,t,526226)}(t);case 301:return function(e){we(e.name),Qt(":"),rn();const t=e.value;1024&rp(t)||_r(ww(t).pos),we(t)}(t);case 282:case 319:case 330:case 331:case 333:case 334:case 335:case 336:case 353:case 354:return;case 283:return function(e){Yt("require"),Qt("("),Ne(e.expression),Qt(")")}(t);case 12:return function(e){v.writeLiteral(e.text)}(t);case 286:case 289:return function(e){if(Qt("<"),ME(e)){const t=kn(e.tagName,e);vt(e.tagName),Jt(e,e.typeArguments),e.attributes.properties&&e.attributes.properties.length>0&&rn(),we(e.attributes),Sn(e.attributes,e),hn(t)}Qt(">")}(t);case 287:case 290:return function(e){Qt("</"),BE(e)&&vt(e.tagName),Qt(">")}(t);case 291:return function(e){we(e.name),function(e,t,n,r){n&&(t(e),r(n))}("=",Qt,e.initializer,Fe)}(t);case 292:return function(e){Wt(e,e.properties,262656)}(t);case 293:return function(e){Qt("{..."),Ne(e.expression),Qt("}")}(t);case 294:return function(e){var t,r;if(e.expression||!ne&&!iy(e)&&(function(e){let t=!1;return us((null==n?void 0:n.text)||"",e+1,()=>t=!0),t}(r=e.pos)||function(e){let t=!1;return _s((null==n?void 0:n.text)||"",e+1,()=>t=!0),t}(r))){const r=n&&!iy(e)&&$a(n,e.pos).line!==$a(n,e.end).line;r&&v.increaseIndent();const i=tt(19,e.pos,Qt,e);we(e.dotDotDotToken),Ne(e.expression),tt(20,(null==(t=e.expression)?void 0:t.end)||i,Qt,e),r&&v.decreaseIndent()}}(t);case 295:return function(e){De(e.namespace),Qt(":"),De(e.name)}(t);case 296:return function(e){tt(84,e.pos,Yt,e),rn(),Ne(e.expression,oe.parenthesizeExpressionForDisallowedComma),bt(e,e.statements,e.expression.end)}(t);case 297:return function(e){const t=tt(90,e.pos,Yt,e);bt(e,e.statements,t)}(t);case 298:return function(e){rn(),dn(e.token,Yt),rn(),Wt(e,e.types,528)}(t);case 299:return function(e){const t=tt(85,e.pos,Yt,e);rn(),e.variableDeclaration&&(tt(21,t,Qt,e),we(e.variableDeclaration),tt(22,e.variableDeclaration.end,Qt,e),rn()),we(e.block)}(t);case 303:return function(e){we(e.name),Qt(":"),rn();const t=e.initializer;1024&rp(t)||_r(ww(t).pos),Ne(t,oe.parenthesizeExpressionForDisallowedComma)}(t);case 304:return function(e){we(e.name),e.objectAssignmentInitializer&&(rn(),Qt("="),rn(),Ne(e.objectAssignmentInitializer,oe.parenthesizeExpressionForDisallowedComma))}(t);case 305:return function(e){e.expression&&(tt(26,e.pos,Qt,e),Ne(e.expression,oe.parenthesizeExpressionForDisallowedComma))}(t);case 306:return function(e){we(e.name),jt(e.initializer,e.name.end,e,oe.parenthesizeExpressionForDisallowedComma)}(t);case 307:return wt(t);case 308:return fn.fail("Bundles should be printed using printBundle");case 309:return Ct(t);case 310:return function(e){rn(),Qt("{"),we(e.name),Qt("}")}(t);case 312:return Qt("*");case 313:return Qt("?");case 314:return function(e){Qt("?"),we(e.type)}(t);case 315:return function(e){Qt("!"),we(e.type)}(t);case 316:return function(e){we(e.type),Qt("=")}(t);case 317:return function(e){Yt("function"),qt(e,e.parameters),Qt(":"),we(e.type)}(t);case 191:case 318:return function(e){Qt("..."),we(e.type)}(t);case 320:return function(e){if(H("/**"),e.comment){const t=fl(e.comment);if(t){const e=t.split(/\r\n?|\n/);for(const t of e)sn(),rn(),Qt("*"),rn(),H(t)}}e.tags&&(1!==e.tags.length||344!==e.tags[0].kind||e.comment?Wt(e,e.tags,33):(rn(),we(e.tags[0]))),rn(),H("*/")}(t);case 322:return xt(t);case 323:return kt(t);case 327:case 332:case 337:return St((o=t).tagName),void Tt(o.comment);case 328:case 329:return function(e){St(e.tagName),rn(),Qt("{"),we(e.class),Qt("}"),Tt(e.comment)}(t);case 338:return function(e){St(e.tagName),e.name&&(rn(),we(e.name)),Tt(e.comment),kt(e.typeExpression)}(t);case 339:return function(e){Tt(e.comment),kt(e.typeExpression)}(t);case 341:case 348:return St((i=t).tagName),Ct(i.typeExpression),rn(),i.isBracketed&&Qt("["),we(i.name),i.isBracketed&&Qt("]"),void Tt(i.comment);case 340:case 342:case 343:case 344:case 349:case 350:return function(e){St(e.tagName),Ct(e.typeExpression),Tt(e.comment)}(t);case 345:return function(e){St(e.tagName),Ct(e.constraint),rn(),Wt(e,e.typeParameters,528),Tt(e.comment)}(t);case 346:return function(e){St(e.tagName),e.typeExpression&&(309===e.typeExpression.kind?Ct(e.typeExpression):(rn(),Qt("{"),H("Object"),e.typeExpression.isArrayType&&(Qt("["),Qt("]")),Qt("}"))),e.fullName&&(rn(),we(e.fullName)),Tt(e.comment),e.typeExpression&&322===e.typeExpression.kind&&xt(e.typeExpression)}(t);case 347:return function(e){St(e.tagName),we(e.name),Tt(e.comment)}(t);case 351:return function(e){St(e.tagName),rn(),e.importClause&&(we(e.importClause),rn(),tt(161,e.importClause.end,Yt,e),rn()),Ne(e.moduleSpecifier),e.attributes&&Rt(e.attributes),Tt(e.comment)}(t)}if(G_(t)&&(e=1,O!==Wq)){const n=O(e,t)||t;n!==t&&(t=n,E&&(t=E(t)))}}var i,o,a;if(1===e)switch(t.kind){case 9:case 10:return function(e){Ve(e,!1)}(t);case 11:case 14:case 15:return Ve(t,!1);case 80:return Ue(t);case 81:return We(t);case 209:return function(e){const t=e.elements,n=e.multiLine?65536:0;$t(e,t,8914|n,oe.parenthesizeExpressionForDisallowedComma)}(t);case 210:return function(e){En(e),f(e.properties,Ln);const t=131072&rp(e);t&&cn();const r=e.multiLine?65536:0,i=n&&n.languageVersion>=1&&!of(n)?64:0;Wt(e,e.properties,526226|i|r),t&&ln(),Pn(e)}(t);case 211:return function(e){Ne(e.expression,oe.parenthesizeLeftSideOfAccess);const t=e.questionDotToken||ET(_w.createToken(25),e.expression.end,e.name.pos),n=Cn(e,e.expression,t),r=Cn(e,t,e.name);gn(n,!1);const i=29!==t.kind&&function(e){if(jD(e=Nl(e))){const t=Fn(e,void 0,!0,!1);return!(448&e.numericLiteralFlags||t.includes(Oa(25))||t.includes(String.fromCharCode(69))||t.includes(String.fromCharCode(101)))}if(Nx(e)){const t=Lw(e);return"number"==typeof t&&isFinite(t)&&t>=0&&Math.floor(t)===t}}(e.expression)&&!v.hasTrailingComment()&&!v.hasTrailingWhitespace();i&&Qt("."),e.questionDotToken?we(t):tt(t.kind,e.expression.end,Qt,e),gn(r,!1),we(e.name),hn(n,r)}(t);case 212:return function(e){Ne(e.expression,oe.parenthesizeLeftSideOfAccess),we(e.questionDotToken),tt(23,e.expression.end,Qt,e),Ne(e.argumentExpression),tt(24,e.argumentExpression.end,Qt,e)}(t);case 213:return function(e){const t=16&ip(e);t&&(Qt("("),Gt("0"),Qt(","),rn()),Ne(e.expression,oe.parenthesizeLeftSideOfAccess),t&&Qt(")"),we(e.questionDotToken),Jt(e,e.typeArguments),$t(e,e.arguments,2576,oe.parenthesizeExpressionForDisallowedComma)}(t);case 214:return function(e){tt(105,e.pos,Yt,e),rn(),Ne(e.expression,oe.parenthesizeExpressionOfNew),Jt(e,e.typeArguments),$t(e,e.arguments,18960,oe.parenthesizeExpressionForDisallowedComma)}(t);case 215:return function(e){const t=16&ip(e);t&&(Qt("("),Gt("0"),Qt(","),rn()),Ne(e.tag,oe.parenthesizeLeftSideOfAccess),t&&Qt(")"),Jt(e,e.typeArguments),rn(),Ne(e.template)}(t);case 216:return function(e){Qt("<"),we(e.type),Qt(">"),Ne(e.expression,oe.parenthesizeOperandOfPrefixUnary)}(t);case 217:return function(e){const t=tt(21,e.pos,Qt,e),n=kn(e.expression,e);Ne(e.expression,void 0),Sn(e.expression,e),hn(n),tt(22,e.expression?e.expression.end:t,Qt,e)}(t);case 218:return function(e){jn(e.name),ct(e)}(t);case 219:return function(e){Ot(e,e.modifiers),lt(e,Ke,Ge)}(t);case 220:return function(e){tt(91,e.pos,Yt,e),rn(),Ne(e.expression,oe.parenthesizeOperandOfPrefixUnary)}(t);case 221:return function(e){tt(114,e.pos,Yt,e),rn(),Ne(e.expression,oe.parenthesizeOperandOfPrefixUnary)}(t);case 222:return function(e){tt(116,e.pos,Yt,e),rn(),Ne(e.expression,oe.parenthesizeOperandOfPrefixUnary)}(t);case 223:return function(e){tt(135,e.pos,Yt,e),rn(),Ne(e.expression,oe.parenthesizeOperandOfPrefixUnary)}(t);case 224:return function(e){dn(e.operator,en),function(e){const t=e.operand;return 224===t.kind&&(40===e.operator&&(40===t.operator||46===t.operator)||41===e.operator&&(41===t.operator||47===t.operator))}(e)&&rn(),Ne(e.operand,oe.parenthesizeOperandOfPrefixUnary)}(t);case 225:return function(e){Ne(e.operand,oe.parenthesizeOperandOfPostfixUnary),dn(e.operator,en)}(t);case 226:return se(t);case 227:return function(e){const t=Cn(e,e.condition,e.questionToken),n=Cn(e,e.questionToken,e.whenTrue),r=Cn(e,e.whenTrue,e.colonToken),i=Cn(e,e.colonToken,e.whenFalse);Ne(e.condition,oe.parenthesizeConditionOfConditionalExpression),gn(t,!0),we(e.questionToken),gn(n,!0),Ne(e.whenTrue,oe.parenthesizeBranchOfConditionalExpression),hn(t,n),gn(r,!0),we(e.colonToken),gn(i,!0),Ne(e.whenFalse,oe.parenthesizeBranchOfConditionalExpression),hn(r,i)}(t);case 228:return function(e){we(e.head),Wt(e,e.templateSpans,262144)}(t);case 229:return function(e){tt(127,e.pos,Yt,e),we(e.asteriskToken),Mt(e.expression&&at(e.expression),st)}(t);case 230:return function(e){tt(26,e.pos,Qt,e),Ne(e.expression,oe.parenthesizeExpressionForDisallowedComma)}(t);case 231:return function(e){jn(e.name),gt(e)}(t);case 232:case 282:case 353:return;case 234:return function(e){Ne(e.expression,void 0),e.type&&(rn(),Yt("as"),rn(),we(e.type))}(t);case 235:return function(e){Ne(e.expression,oe.parenthesizeLeftSideOfAccess),en("!")}(t);case 233:return Xe(t);case 238:return function(e){Ne(e.expression,void 0),e.type&&(rn(),Yt("satisfies"),rn(),we(e.type))}(t);case 236:return function(e){_n(e.keywordToken,e.pos,Qt),Qt("."),we(e.name)}(t);case 237:return fn.fail("SyntheticExpression should never be printed.");case 284:return function(e){we(e.openingElement),Wt(e,e.children,262144),we(e.closingElement)}(t);case 285:return function(e){Qt("<"),vt(e.tagName),Jt(e,e.typeArguments),rn(),we(e.attributes),Qt("/>")}(t);case 288:return function(e){we(e.openingFragment),Wt(e,e.children,262144),we(e.closingFragment)}(t);case 352:return fn.fail("SyntaxList should not be printed");case 355:return function(e){const t=rp(e);1024&t||e.pos===e.expression.pos||_r(e.expression.pos),Ne(e.expression),2048&t||e.end===e.expression.end||cr(e.expression.end)}(t);case 356:return function(e){$t(e,e.elements,528,void 0)}(t);case 357:return fn.fail("SyntheticReferenceExpression should not be printed")}return Fh(t.kind)?un(t,Yt):Ol(t.kind)?un(t,Qt):void fn.fail(`Unhandled SyntaxKind: ${fn.formatSyntaxKind(t.kind)}.`)}function Je(e,t){const n=je(1,e,t);fn.assertIsDefined(F),t=F,F=void 0,n(e,t)}function ze(t){let r=!1;const i=308===t.kind?t:void 0;if(i&&0===U)return;const o=i?i.sourceFiles.length:1;for(let a=0;a<o;a++){const o=i?i.sourceFiles[a]:t,s=nP(o)?o:n,c=e.noEmitHelpers||!!s&&wA(s),l=nP(o)&&!k,_=qe(o);if(_)for(const e of _){if(e.scoped){if(i)continue}else{if(c)continue;if(l){if(W.get(e.name))continue;W.set(e.name,!0)}}"string"==typeof e.text?mn(e.text):mn(e.text(Un)),r=!0}}return r}function qe(e){const t=Jw(e);return t&&pe(t,tD)}function Ve(t,n){const r=Fn(t,void 0,e.neverAsciiEscape,n);var i;!e.sourceMap&&!e.inlineSourceMap||11!==t.kind&&!Jl(t.kind)?(i=r,v.writeStringLiteral(i)):Gt(r)}function Ue(e){(e.symbol?Xt:H)(Nn(e,!1),e.symbol),Wt(e,Kw(e),53776)}function We(e){H(Nn(e,!1))}function $e(e){zt(e,e.typeParameters),Vt(e,e.parameters),rn(),Qt("=>")}function He(e){rn(),we(e.type)}function Ke(e){zt(e,e.typeParameters),Vt(e,e.parameters),Lt(e.type),rn(),we(e.equalsGreaterThanToken)}function Ge(e){BF(e.body)?pt(e.body):(rn(),Ne(e.body,oe.parenthesizeConciseBodyOfArrowFunction))}function Xe(e){Ne(e.expression,oe.parenthesizeLeftSideOfAccess),Jt(e,e.typeArguments)}function Qe(e,t){tt(19,e.pos,Qt,e);const n=t||1&rp(e)?768:129;Wt(e,e.statements,n),tt(20,e.statements.end,Qt,e,!!(1&n))}function Ze(e){e?Qt(";"):Zt()}function Ye(e,t){const n=tt(117,t,Yt,e);rn(),tt(21,n,Qt,e),Ne(e.expression),tt(22,e.expression.end,Qt,e)}function et(e){void 0!==e&&(261===e.kind?we(e):Ne(e))}function tt(e,t,r,i,o){const a=yc(i),s=a&&a.kind===i.kind,c=t;if(s&&n&&(t=ns(n.text,t)),s&&i.pos!==c){const e=o&&n&&!Qb(c,t,n);e&&cn(),cr(c),e&&ln()}if(t=q||19!==e&&20!==e?dn(e,r,t):_n(e,t,r,i),s&&i.end!==t){const e=294===i.kind;_r(t,!e,e)}return t}function nt(e){return 2===e.kind||!!e.hasTrailingNewLine}function rt(e){if(!n)return!1;const t=ms(n.text,e.pos);if(t){const t=yc(e);if(t&&pF(t.parent))return!0}return!!K(t,nt)||!!K(Nw(e),nt)||!!LF(e)&&(!(e.pos===e.expression.pos||!K(gs(n.text,e.expression.pos),nt))||rt(e.expression))}function at(e){if(!ne)switch(e.kind){case 355:if(rt(e)){const t=yc(e);if(t&&pF(t)){const n=_w.createParenthesizedExpression(e.expression);return dw(n,e),vI(n,t),n}return _w.createParenthesizedExpression(e)}return _w.updatePartiallyEmittedExpression(e,at(e.expression));case 211:return _w.updatePropertyAccessExpression(e,at(e.expression),e.name);case 212:return _w.updateElementAccessExpression(e,at(e.expression),e.argumentExpression);case 213:return _w.updateCallExpression(e,at(e.expression),e.typeArguments,e.arguments);case 215:return _w.updateTaggedTemplateExpression(e,at(e.tag),e.typeArguments,e.template);case 225:return _w.updatePostfixUnaryExpression(e,at(e.operand));case 226:return _w.updateBinaryExpression(e,at(e.left),e.operatorToken,e.right);case 227:return _w.updateConditionalExpression(e,at(e.condition),e.questionToken,e.whenTrue,e.colonToken,e.whenFalse);case 234:return _w.updateAsExpression(e,at(e.expression),e.type);case 238:return _w.updateSatisfiesExpression(e,at(e.expression),e.type);case 235:return _w.updateNonNullExpression(e,at(e.expression))}return e}function st(e){return at(oe.parenthesizeExpressionForDisallowedComma(e))}function ct(e){It(e,e.modifiers,!1),Yt("function"),we(e.asteriskToken),rn(),De(e.name),lt(e,dt,_t)}function lt(e,t,n){const r=131072&rp(e);r&&cn(),En(e),f(e.parameters,On),t(e),n(e),Pn(e),r&&ln()}function _t(e){const t=e.body;t?pt(t):Zt()}function ut(e){Zt()}function dt(e){zt(e,e.typeParameters),qt(e,e.parameters),Lt(e.type)}function pt(e){On(e),null==L||L(e),rn(),Qt("{"),cn();const t=function(e){if(1&rp(e))return!0;if(e.multiLine)return!1;if(!iy(e)&&n&&!Vb(e,n))return!1;if(yn(e,he(e.statements),2)||bn(e,xe(e.statements),2,e.statements))return!1;let t;for(const n of e.statements){if(vn(t,n,2)>0)return!1;t=n}return!0}(e)?ft:mt;nr(e,e.statements,t),ln(),_n(20,e.statements.end,Qt,e),null==j||j(e)}function ft(e){mt(e,!0)}function mt(e,t){const n=Ft(e.statements),r=v.getTextPos();ze(e),0===n&&r===v.getTextPos()&&t?(ln(),Wt(e,e.statements,768),cn()):Wt(e,e.statements,1,void 0,n)}function gt(e){It(e,e.modifiers,!0),tt(86,zb(e).pos,Yt,e),e.name&&(rn(),De(e.name));const t=131072&rp(e);t&&cn(),zt(e,e.typeParameters),Wt(e,e.heritageClauses,0),rn(),Qt("{"),En(e),f(e.members,Ln),Wt(e,e.members,129),Pn(e),Qt("}"),t&&ln()}function ht(e){Qt("{"),Wt(e,e.elements,525136),Qt("}")}function yt(e){e.isTypeOnly&&(Yt("type"),rn()),e.propertyName&&(we(e.propertyName),rn(),tt(130,e.propertyName.end,Yt,e),rn()),we(e.name)}function vt(e){80===e.kind?Ne(e):we(e)}function bt(e,t,r){let i=163969;1===t.length&&(!n||iy(e)||iy(t[0])||Ub(e,t[0],n))?(_n(59,r,Qt,e),rn(),i&=-130):tt(59,r,Qt,e),Wt(e,t,i)}function xt(e){Wt(e,_w.createNodeArray(e.jsDocPropertyTags),33)}function kt(e){e.typeParameters&&Wt(e,_w.createNodeArray(e.typeParameters),33),e.parameters&&Wt(e,_w.createNodeArray(e.parameters),33),e.type&&(sn(),rn(),Qt("*"),rn(),we(e.type))}function St(e){Qt("@"),we(e)}function Tt(e){const t=fl(e);t&&(rn(),H(t))}function Ct(e){e&&(rn(),Qt("{"),we(e.type),Qt("}"))}function wt(e){sn();const t=e.statements;0===t.length||!hf(t[0])||iy(t[0])?nr(e,t,Nt):Nt(e)}function Dt(e,t,r,i){if(e&&(nn('/// <reference no-default-lib="true"/>'),sn()),n&&n.moduleName&&(nn(`/// <amd-module name="${n.moduleName}" />`),sn()),n&&n.amdDependencies)for(const a of n.amdDependencies)a.name?nn(`/// <amd-dependency name="${a.name}" path="${a.path}" />`):nn(`/// <amd-dependency path="${a.path}" />`),sn();function o(e,t){for(const n of t){const t=n.resolutionMode?`resolution-mode="${99===n.resolutionMode?"import":"require"}" `:"",r=n.preserve?'preserve="true" ':"";nn(`/// <reference ${e}="${n.fileName}" ${t}${r}/>`),sn()}}o("path",t),o("types",r),o("lib",i)}function Nt(e){const t=e.statements;En(e),f(e.statements,On),ze(e);const n=T(t,e=>!hf(e));!function(e){e.isDeclarationFile&&Dt(e.hasNoDefaultLib,e.referencedFiles,e.typeReferenceDirectives,e.libReferenceDirectives)}(e),Wt(e,t,1,void 0,-1===n?t.length:n),Pn(e)}function Ft(e,t,n){let r=!!t;for(let i=0;i<e.length;i++){const o=e[i];if(!hf(o))return i;(!n||!n.has(o.expression.text))&&(r&&(r=!1,ve(t)),sn(),we(o),n&&n.add(o.expression.text))}return e.length}function Et(e){if(nP(e))Ft(e.statements,e);else{const t=new Set;for(const n of e.sourceFiles)Ft(n.statements,n,t);ve(void 0)}}function Pt(e){if(nP(e)){const t=hs(e.text);if(t)return nn(t),sn(),!0}else for(const t of e.sourceFiles)if(Pt(t))return!0}function At(e,t){if(!e)return;const n=H;H=t,we(e),H=n}function It(e,t,n){if(null==t?void 0:t.length){if(x(t,i_))return Ot(e,t);if(x(t,bN))return n?function(e,t){Wt(e,t,2146305);const n=xe(t);return n&&!tT(n.end)?n.end:e.pos}(e,t):e.pos;let r,i;null==R||R(t);let o,a=0,s=0;for(;a<t.length;){for(;s<t.length;){if(o=t[s],i=bN(o)?"decorators":"modifiers",void 0===r)r=i;else if(i!==r)break;s++}const c={pos:-1,end:-1};0===a&&(c.pos=t.pos),s===t.length-1&&(c.end=t.end),("modifiers"===r||n)&&Kt(we,e,t,"modifiers"===r?2359808:2146305,void 0,a,s-a,!1,c),a=s,r=i,s++}if(null==M||M(t),o&&!tT(o.end))return o.end}return e.pos}function Ot(e,t){Wt(e,t,2359808);const n=xe(t);return n&&!tT(n.end)?n.end:e.pos}function Lt(e){e&&(Qt(":"),rn(),we(e))}function jt(e,t,n,r){e&&(rn(),tt(64,t,en,n),rn(),Ne(e,r))}function Rt(e){e&&(rn(),we(e))}function Mt(e,t){e&&(rn(),Ne(e,t))}function Bt(e,t){BF(t)||1&rp(e)||$&&!yn(e,t,0)?(rn(),we(t)):(sn(),cn(),zF(t)?Ae(5,t):we(t),ln())}function Jt(e,t){Wt(e,t,53776,ae)}function zt(e,t){if(c_(e)&&e.typeArguments)return Jt(e,e.typeArguments);Wt(e,t,53776|(mF(e)?64:0))}function qt(e,t){Wt(e,t,2576)}function Vt(e,t){!function(e,t){const n=Se(t);return n&&n.pos===e.pos&&mF(e)&&!e.type&&!K(e.modifiers)&&!K(e.typeParameters)&&!K(n.modifiers)&&!n.dotDotDotToken&&!n.questionToken&&!n.type&&!n.initializer&&tN(n.name)}(e,t)?qt(e,t):Wt(e,t,528)}function Ut(e){switch(60&e){case 0:break;case 16:Qt(",");break;case 4:rn(),Qt("|");break;case 32:rn(),Qt("*"),rn();break;case 8:rn(),Qt("&")}}function Wt(e,t,n,r,i,o){Ht(we,e,t,n|(e&&2&rp(e)?65536:0),r,i,o)}function $t(e,t,n,r,i,o){Ht(Ne,e,t,n,r,i,o)}function Ht(e,t,r,i,o,a=0,s=(r?r.length-a:0)){if(void 0===r&&16384&i)return;const c=void 0===r||a>=r.length||0===s;if(c&&32768&i)return null==R||R(r),void(null==M||M(r));15360&i&&(Qt(function(e){return Gq[15360&e][0]}(i)),c&&r&&_r(r.pos,!0)),null==R||R(r),c?!(1&i)||$&&(!t||n&&Vb(t,n))?256&i&&!(524288&i)&&rn():sn():Kt(e,t,r,i,o,a,s,r.hasTrailingComma,r),null==M||M(r),15360&i&&(c&&r&&cr(r.end),Qt(function(e){return Gq[15360&e][1]}(i)))}function Kt(e,t,n,r,i,o,a,s,c){const l=!(262144&r);let _=l;const u=yn(t,n[o],r);u?(sn(u),_=!1):256&r&&rn(),128&r&&cn();const d=function(e,t){return 1===e.length?wV:"object"==typeof t?DV:NV}(e,i);let p,f=!1;for(let b=0;b<a;b++){const a=n[o+b];if(32&r)sn(),Ut(r);else if(p){60&r&&p.end!==(t?t.end:-1)&&(2048&rp(p)||cr(p.end)),Ut(r);const e=vn(p,a,r);e>0?(131&r||(cn(),f=!0),_&&60&r&&!tT(a.pos)&&_r(ww(a).pos,!!(512&r),!0),sn(e),_=!1):p&&512&r&&rn()}_?_r(ww(a).pos):_=l,y=a.pos,d(a,e,i,b),f&&(ln(),f=!1),p=a}const m=p?rp(p):0,g=ne||!!(2048&m),h=s&&64&r&&16&r;h&&(p&&!g?tt(28,p.end,Qt,p):Qt(",")),p&&(t?t.end:-1)!==p.end&&60&r&&!g&&cr(h&&(null==c?void 0:c.end)?c.end:p.end),128&r&&ln();const v=bn(t,n[o+a-1],r,c);v?sn(v):2097408&r&&rn()}function Gt(e){v.writeLiteral(e)}function Xt(e,t){v.writeSymbol(e,t)}function Qt(e){v.writePunctuation(e)}function Zt(){v.writeTrailingSemicolon(";")}function Yt(e){v.writeKeyword(e)}function en(e){v.writeOperator(e)}function tn(e){v.writeParameter(e)}function nn(e){v.writeComment(e)}function rn(){v.writeSpace(" ")}function on(e){v.writeProperty(e)}function an(e){v.nonEscapingWrite?v.nonEscapingWrite(e):v.write(e)}function sn(e=1){for(let t=0;t<e;t++)v.writeLine(t>0)}function cn(){v.increaseIndent()}function ln(){v.decreaseIndent()}function _n(e,t,n,r){return G?dn(e,n,t):function(e,t,n,r,i){if(G||e&&Lm(e))return i(t,n,r);const o=e&&e.emitNode,a=o&&o.flags||0,s=o&&o.tokenSourceMapRanges&&o.tokenSourceMapRanges[t],c=s&&s.source||C;return r=br(c,s?s.pos:r),!(256&a)&&r>=0&&kr(c,r),r=i(t,n,r),s&&(r=s.end),!(512&a)&&r>=0&&kr(c,r),r}(r,e,n,t,dn)}function un(e,t){B&&B(e),t(Oa(e.kind)),J&&J(e)}function dn(e,t,n){const r=Oa(e);return t(r),n<0?n:n+r.length}function pn(e,t,n){if(1&rp(e))rn();else if($){const r=Cn(e,t,n);r?sn(r):rn()}else sn()}function mn(e){const t=e.split(/\r\n?|\n/),n=Ju(t);for(const r of t){const e=n?r.slice(n):r;e.length&&(sn(),H(e))}}function gn(e,t){e?(cn(),sn(e)):t&&rn()}function hn(e,t){e&&ln(),t&&ln()}function yn(e,t,r){if(2&r||$){if(65536&r)return 1;if(void 0===t)return!e||n&&Vb(e,n)?0:1;if(t.pos===y)return 0;if(12===t.kind)return 0;if(n&&e&&!tT(e.pos)&&!iy(t)&&(!t.parent||mc(t.parent)===mc(e)))return $?xn(r=>Yb(t.pos,e.pos,n,r)):Ub(e,t,n)?0:1;if(Tn(t,r))return 1}return 1&r?1:0}function vn(e,t,r){if(2&r||$){if(void 0===e||void 0===t)return 0;if(12===t.kind)return 0;if(n&&!iy(e)&&!iy(t))return $&&function(e,t){if(t.pos<e.end)return!1;e=mc(e),t=mc(t);const n=e.parent;if(!n||n!==t.parent)return!1;const r=BT(e),i=null==r?void 0:r.indexOf(e);return void 0!==i&&i>-1&&r.indexOf(t)===i+1}(e,t)?xn(r=>Kb(e,t,n,r)):!$&&(o=t,(i=mc(i=e)).parent&&i.parent===mc(o).parent)?Hb(e,t,n)?0:1:65536&r?1:0;if(Tn(e,r)||Tn(t,r))return 1}else if(Tw(t))return 1;var i,o;return 1&r?1:0}function bn(e,t,r,i){if(2&r||$){if(65536&r)return 1;if(void 0===t)return!e||n&&Vb(e,n)?0:1;if(n&&e&&!tT(e.pos)&&!iy(t)&&(!t.parent||t.parent===e)){if($){const r=i&&!tT(i.end)?i.end:t.end;return xn(t=>ex(r,e.end,n,t))}return Wb(e,t,n)?0:1}if(Tn(t,r))return 1}return 1&r&&!(131072&r)?1:0}function xn(e){fn.assert(!!$);const t=e(!0);return 0===t?e(!1):t}function kn(e,t){const n=$&&yn(t,e,0);return n&&gn(n,!1),!!n}function Sn(e,t){const n=$&&bn(t,e,0,void 0);n&&sn(n)}function Tn(e,t){if(iy(e)){const n=Tw(e);return void 0===n?!!(65536&t):n}return!!(65536&t)}function Cn(e,t,r){return 262144&rp(e)?0:(e=Dn(e),t=Dn(t),Tw(r=Dn(r))?1:!n||iy(e)||iy(t)||iy(r)?0:$?xn(e=>Kb(t,r,n,e)):Hb(t,r,n)?0:1)}function wn(e){return 0===e.statements.length&&(!n||Hb(e,e,n))}function Dn(e){for(;217===e.kind&&iy(e);)e=e.expression;return e}function Nn(e,t){if(Xl(e)||Ql(e))return Rn(e);if(MD(e)&&e.textSourceNode)return Nn(e.textSourceNode,t);const r=n,i=!!r&&!!e.parent&&!iy(e);if(hl(e)){if(!i||Sd(e)!==mc(r))return xc(e)}else if(HE(e)){if(!i||Sd(e)!==mc(r))return _C(e)}else if(fn.assertNode(e,Ml),!i)return e.text;return Kd(r,e,t)}function Fn(t,r=n,i,o){if(11===t.kind&&t.textSourceNode){const e=t.textSourceNode;if(tN(e)||nN(e)||jD(e)||HE(e)){const n=jD(e)?e.text:Nn(e);return o?`"${Ay(n)}"`:i||16777216&rp(t)?`"${Cy(n)}"`:`"${Dy(n)}"`}return Fn(e,Sd(e),i,o)}return sp(t,r,(i?1:0)|(o?2:0)|(e.terminateUnterminatedLiterals?4:0)|(e.target&&e.target>=8?8:0))}function En(e){l.push(_),_=0,g.push(h),e&&1048576&rp(e)||(u.push(d),d=0,s.push(c),c=void 0,p.push(m))}function Pn(e){_=l.pop(),h=g.pop(),e&&1048576&rp(e)||(d=u.pop(),c=s.pop(),m=p.pop())}function An(e){m&&m!==xe(p)||(m=new Set),m.add(e)}function In(e){h&&h!==xe(g)||(h=new Set),h.add(e)}function On(e){if(e)switch(e.kind){case 241:case 296:case 297:f(e.statements,On);break;case 256:case 254:case 246:case 247:On(e.statement);break;case 245:On(e.thenStatement),On(e.elseStatement);break;case 248:case 250:case 249:On(e.initializer),On(e.statement);break;case 255:On(e.caseBlock);break;case 269:f(e.clauses,On);break;case 258:On(e.tryBlock),On(e.catchClause),On(e.finallyBlock);break;case 299:On(e.variableDeclaration),On(e.block);break;case 243:On(e.declarationList);break;case 261:f(e.declarations,On);break;case 260:case 169:case 208:case 263:case 274:case 280:jn(e.name);break;case 262:jn(e.name),1048576&rp(e)&&(f(e.parameters,On),On(e.body));break;case 206:case 207:case 275:f(e.elements,On);break;case 272:On(e.importClause);break;case 273:jn(e.name),On(e.namedBindings);break;case 276:jn(e.propertyName||e.name)}}function Ln(e){if(e)switch(e.kind){case 303:case 304:case 172:case 171:case 174:case 173:case 177:case 178:jn(e.name)}}function jn(e){e&&(Xl(e)||Ql(e)?Rn(e):D_(e)&&On(e))}function Rn(e){const t=e.emitNode.autoGenerate;if(4==(7&t.flags))return Mn(cI(e),nN(e),t.flags,t.prefix,t.suffix);{const n=t.id;return o[n]||(o[n]=function(e){const t=e.emitNode.autoGenerate,n=lI(t.prefix,Rn),r=lI(t.suffix);switch(7&t.flags){case 1:return qn(0,!!(8&t.flags),nN(e),n,r);case 2:return fn.assertNode(e,tN),qn(268435456,!!(8&t.flags),!1,n,r);case 3:return Vn(xc(e),32&t.flags?Jn:Bn,!!(16&t.flags),!!(8&t.flags),nN(e),n,r)}return fn.fail(`Unsupported GeneratedIdentifierKind: ${fn.formatEnum(7&t.flags,Sr,!0)}.`)}(e))}}function Mn(e,t,n,o,a){const s=rJ(e),c=t?i:r;return c[s]||(c[s]=Hn(e,t,null!=n?n:0,lI(o,Rn),lI(a)))}function Bn(e,t){return Jn(e)&&!function(e,t){let n,r;if(t?(n=h,r=g):(n=m,r=p),null==n?void 0:n.has(e))return!0;for(let i=r.length-1;i>=0;i--)if(n!==r[i]&&(n=r[i],null==n?void 0:n.has(e)))return!0;return!1}(e,t)&&!a.has(e)}function Jn(e,t){return!n||Ed(n,e,P)}function zn(e,t){switch(e){case"":d=t;break;case"#":_=t;break;default:null!=c||(c=new Map),c.set(e,t)}}function qn(e,t,n,r,i){r.length>0&&35===r.charCodeAt(0)&&(r=r.slice(1));const o=uI(n,r,"",i);let a=function(e){var t;switch(e){case"":return d;case"#":return _;default:return null!=(t=null==c?void 0:c.get(e))?t:0}}(o);if(e&&!(a&e)){const s=uI(n,r,268435456===e?"_i":"_n",i);if(Bn(s,n))return a|=e,n?In(s):t&&An(s),zn(o,a),s}for(;;){const e=268435455&a;if(a++,8!==e&&13!==e){const s=uI(n,r,e<26?"_"+String.fromCharCode(97+e):"_"+(e-26),i);if(Bn(s,n))return n?In(s):t&&An(s),zn(o,a),s}}}function Vn(e,t=Bn,n,r,i,o,s){if(e.length>0&&35===e.charCodeAt(0)&&(e=e.slice(1)),o.length>0&&35===o.charCodeAt(0)&&(o=o.slice(1)),n){const n=uI(i,o,e,s);if(t(n,i))return i?In(n):r?An(n):a.add(n),n}95!==e.charCodeAt(e.length-1)&&(e+="_");let c=1;for(;;){const n=uI(i,o,e+c,s);if(t(n,i))return i?In(n):r?An(n):a.add(n),n;c++}}function Un(e){return Vn(e,Jn,!0,!1,!1,"","")}function Wn(e){const t=Nn(e.name);return function(e,t){for(let n=t;n&&dh(n,t);n=n.nextContainer)if(du(n)&&n.locals){const t=n.locals.get(vc(e));if(t&&3257279&t.flags)return!1}return!0}(t,it(e,du))?t:Vn(t,Bn,!1,!1,!1,"","")}function $n(){return Vn("default",Bn,!1,!1,!1,"","")}function Hn(e,t,n,r,i){switch(e.kind){case 80:case 81:return Vn(Nn(e),Bn,!!(16&n),!!(8&n),t,r,i);case 267:case 266:return fn.assert(!r&&!i&&!t),Wn(e);case 272:case 278:return fn.assert(!r&&!i&&!t),function(e){const t=wg(e);return Vn(MD(t)?lp(t.text):"module",Bn,!1,!1,!1,"","")}(e);case 262:case 263:{fn.assert(!r&&!i&&!t);const o=e.name;return o&&!Xl(o)?Hn(o,!1,n,r,i):$n()}case 277:return fn.assert(!r&&!i&&!t),$n();case 231:return fn.assert(!r&&!i&&!t),Vn("class",Bn,!1,!1,!1,"","");case 174:case 177:case 178:return function(e,t,n,r){return tN(e.name)?Mn(e.name,t):qn(0,!1,t,n,r)}(e,t,r,i);case 167:return qn(0,!0,t,r,i);default:return qn(0,!1,t,r,i)}}function Gn(e,t){const n=je(2,e,t),r=Z,i=Y,o=ee;Xn(t),n(e,t),Qn(t,r,i,o)}function Xn(e){const t=rp(e),n=ww(e);!function(e,t,n,r){re(),te=!1;const i=n<0||!!(1024&t)||12===e.kind,o=r<0||!!(2048&t)||12===e.kind;(n>0||r>0)&&n!==r&&(i||rr(n,353!==e.kind),(!i||n>=0&&1024&t)&&(Z=n),(!o||r>=0&&2048&t)&&(Y=r,261===e.kind&&(ee=r))),f(Nw(e),Yn),ie()}(e,t,n.pos,n.end),4096&t&&(ne=!0)}function Qn(e,t,n,r){const i=rp(e),o=ww(e);4096&i&&(ne=!1),Zn(e,i,o.pos,o.end,t,n,r);const a=$w(e);a&&Zn(e,i,a.pos,a.end,t,n,r)}function Zn(e,t,n,r,i,o,a){re();const s=r<0||!!(2048&t)||12===e.kind;f(Pw(e),er),(n>0||r>0)&&n!==r&&(Z=i,Y=o,ee=a,s||353===e.kind||function(e){fr(e,lr)}(r)),ie()}function Yn(e){(e.hasLeadingNewline||2===e.kind)&&v.writeLine(),tr(e),e.hasTrailingNewLine||2===e.kind?v.writeLine():v.writeSpace(" ")}function er(e){v.isAtStartOfLine()||v.writeSpace(" "),tr(e),e.hasTrailingNewLine&&v.writeLine()}function tr(e){const t=function(e){return 3===e.kind?`/*${e.text}*/`:`//${e.text}`}(e);wv(t,3===e.kind?Ba(t):void 0,v,0,t.length,V)}function nr(e,t,r){re();const{pos:i,end:o}=t,a=rp(e),s=ne||o<0||!!(2048&a);i<0||!!(1024&a)||function(e){const t=n&&Cv(n.text,Ce(),v,mr,e,V,ne);t&&(N?N.push(t):N=[t])}(t),ie(),4096&a&&!ne?(ne=!0,r(e),ne=!1):r(e),re(),s||(rr(t.end,!0),te&&!v.isAtStartOfLine()&&v.writeLine()),ie()}function rr(e,t){te=!1,t?0===e&&(null==n?void 0:n.isDeclarationFile)?pr(e,or):pr(e,sr):0===e&&pr(e,ir)}function ir(e,t,n,r,i){gr(e,t)&&sr(e,t,n,r,i)}function or(e,t,n,r,i){gr(e,t)||sr(e,t,n,r,i)}function ar(t,n){return!e.onlyPrintJsDocStyle||wI(t,n)||Vd(t,n)}function sr(e,t,r,i,o){n&&ar(n.text,e)&&(te||(Tv(Ce(),v,o,e),te=!0),xr(e),wv(n.text,Ce(),v,e,t,V),xr(t),i?v.writeLine():3===r&&v.writeSpace(" "))}function cr(e){ne||-1===e||rr(e,!0)}function lr(e,t,r,i){n&&ar(n.text,e)&&(v.isAtStartOfLine()||v.writeSpace(" "),xr(e),wv(n.text,Ce(),v,e,t,V),xr(t),i&&v.writeLine())}function _r(e,t,n){ne||(re(),fr(e,t?lr:n?ur:dr),ie())}function ur(e,t,r){n&&(xr(e),wv(n.text,Ce(),v,e,t,V),xr(t),2===r&&v.writeLine())}function dr(e,t,r,i){n&&(xr(e),wv(n.text,Ce(),v,e,t,V),xr(t),i?v.writeLine():v.writeSpace(" "))}function pr(e,t){!n||-1!==Z&&e===Z||(function(e){return void 0!==N&&ke(N).nodePos===e}(e)?function(e){if(!n)return;const t=ke(N).detachedCommentEndPos;N.length-1?N.pop():N=void 0,_s(n.text,t,e,t)}(t):_s(n.text,e,t,e))}function fr(e,t){n&&(-1===Y||e!==Y&&e!==ee)&&us(n.text,e,t)}function mr(e,t,r,i,o,a){n&&ar(n.text,i)&&(xr(i),wv(e,t,r,i,o,a),xr(o))}function gr(e,t){return!!n&&qd(n.text,e,t)}function hr(e,t){const n=je(3,e,t);yr(t),n(e,t),vr(t)}function yr(e){const t=rp(e),n=bw(e),r=n.source||C;353!==e.kind&&!(32&t)&&n.pos>=0&&kr(n.source||C,br(r,n.pos)),128&t&&(G=!0)}function vr(e){const t=rp(e),n=bw(e);128&t&&(G=!1),353!==e.kind&&!(64&t)&&n.end>=0&&kr(n.source||C,n.end)}function br(e,t){return e.skipTrivia?e.skipTrivia(t):ns(e.text,t)}function xr(e){if(G||tT(e)||Cr(C))return;const{line:t,character:n}=$a(C,e);S.addMapping(v.getLine(),v.getColumn(),X,t,n,void 0)}function kr(e,t){if(e!==C){const n=C,r=X;Tr(e),xr(t),function(e,t){C=e,X=t}(n,r)}else xr(t)}function Tr(t){G||(C=t,t!==w?Cr(t)||(X=S.addSource(t.fileName),e.inlineSources&&S.setSourceContent(X,t.text),w=t,Q=X):X=Q)}function Cr(e){return Do(e.fileName,".json")}}function wV(e,t,n,r){t(e)}function DV(e,t,n,r){t(e,n.select(r))}function NV(e,t,n,r){t(e,n)}function FV(e,t,n){if(!e.getDirectories||!e.readDirectory)return;const r=new Map,i=Kt(n);return{useCaseSensitiveFileNames:n,fileExists:function(t){const n=s(o(t));return n&&_(n.sortedAndCanonicalizedFiles,i(c(t)))||e.fileExists(t)},readFile:(t,n)=>e.readFile(t,n),directoryExists:e.directoryExists&&function(t){const n=o(t);return r.has(Xo(n))||e.directoryExists(t)},getDirectories:function(t){const n=o(t),r=l(t,n);return r?r.directories.slice():e.getDirectories(t)},readDirectory:function(r,i,a,s,_){const p=o(r),f=l(r,p);let m;return void 0!==f?kS(r,i,a,s,n,t,_,function(e){const t=o(e);if(t===p)return f||g(e,t);const n=l(e,t);return void 0!==n?n||g(e,t):cT},d):e.readDirectory(r,i,a,s,_);function g(t,n){if(m&&n===p)return m;const r={files:A(e.readDirectory(t,void 0,void 0,["*.*"]),c)||u,directories:e.getDirectories(t)||u};return n===p&&(m=r),r}},createDirectory:e.createDirectory&&function(t){const n=s(o(t));if(n){const e=c(t),r=i(e);ne(n.sortedAndCanonicalizedDirectories,r,Nt)&&n.directories.push(e)}e.createDirectory(t)},writeFile:e.writeFile&&function(t,n,r){const i=s(o(t));return i&&f(i,c(t),!0),e.writeFile(t,n,r)},addOrDeleteFileOrDirectory:function(t,n){if(void 0!==a(n))return void m();const r=s(n);if(!r)return void p(n);if(!e.directoryExists)return void m();const o=c(t),l={fileExists:e.fileExists(t),directoryExists:e.directoryExists(t)};return l.directoryExists||_(r.sortedAndCanonicalizedDirectories,i(o))?m():f(r,o,l.fileExists),l},addOrDeleteFile:function(e,t,n){if(1===n)return;const r=s(t);r?f(r,c(e),0===n):p(t)},clearCache:m,realpath:e.realpath&&d};function o(e){return Ko(e,t,i)}function a(e){return r.get(Xo(e))}function s(e){const t=a(Io(e));return t?(t.sortedAndCanonicalizedFiles||(t.sortedAndCanonicalizedFiles=t.files.map(i).sort(),t.sortedAndCanonicalizedDirectories=t.directories.map(i).sort()),t):t}function c(e){return Oo(Wo(e))}function l(t,n){const i=a(n=Xo(n));if(i)return i;try{return function(t,n){var i;if(!e.realpath||Xo(o(e.realpath(t)))===n){const i={files:A(e.readDirectory(t,void 0,void 0,["*.*"]),c)||[],directories:e.getDirectories(t)||[]};return r.set(Xo(n),i),i}if(null==(i=e.directoryExists)?void 0:i.call(e,t))return r.set(n,!1),!1}(t,n)}catch(s){return void fn.assert(!r.has(Xo(n)))}}function _(e,t){return De(e,t,_t,Nt)>=0}function d(t){return e.realpath?e.realpath(t):t}function p(e){da(Io(e),e=>!!r.delete(Xo(e))||void 0)}function f(e,t,n){const r=e.sortedAndCanonicalizedFiles,o=i(t);if(n)ne(r,o,Nt)&&e.files.push(t);else{const t=De(r,o,_t,Nt);if(t>=0){r.splice(t,1);const n=e.files.findIndex(e=>i(e)===o);e.files.splice(n,1)}}}function m(){r.clear()}}var EV=(e=>(e[e.Update=0]="Update",e[e.RootNamesAndUpdate=1]="RootNamesAndUpdate",e[e.Full=2]="Full",e))(EV||{});function PV(e,t,n,r,i){var o;const a=Je((null==(o=null==t?void 0:t.configFile)?void 0:o.extendedSourceFiles)||u,i);n.forEach((t,n)=>{a.has(n)||(t.projects.delete(e),t.close())}),a.forEach((t,i)=>{const o=n.get(i);o?o.projects.add(e):n.set(i,{projects:new Set([e]),watcher:r(t,i),close:()=>{const e=n.get(i);e&&0===e.projects.size&&(e.watcher.close(),n.delete(i))}})})}function AV(e,t){t.forEach(t=>{t.projects.delete(e)&&t.close()})}function IV(e,t,n){e.delete(t)&&e.forEach(({extendedResult:r},i)=>{var o;(null==(o=r.extendedSourceFiles)?void 0:o.some(e=>n(e)===t))&&IV(e,i,n)})}function OV(e,t,n){yx(t,e.getMissingFilePaths(),{createNewValue:n,onDeleteValue:sx})}function LV(e,t,n){function r(e,t){return{watcher:n(e,t),flags:t}}t?yx(e,new Map(Object.entries(t)),{createNewValue:r,onDeleteValue:zV,onExistingValue:function(t,n,i){t.flags!==n&&(t.watcher.close(),e.set(i,r(i,n)))}}):gx(e,zV)}function jV({watchedDirPath:e,fileOrDirectory:t,fileOrDirectoryPath:n,configFileName:r,options:i,program:o,extraFileExtensions:a,currentDirectory:s,useCaseSensitiveFileNames:c,writeLog:l,toPath:_,getScriptKind:u}){const d=$W(n);if(!d)return l(`Project: ${r} Detected ignored path: ${t}`),!0;if((n=d)===e)return!1;if(wo(n)&&!US(t,i,a)&&!function(){if(!u)return!1;switch(u(t)){case 3:case 4:case 7:case 5:return!0;case 1:case 2:return Rk(i);case 6:return Ak(i);case 0:return!1}}())return l(`Project: ${r} Detected file add/remove of non supported extension: ${t}`),!0;if(Rj(t,i.configFile.configFileSpecs,Uo(Io(r),s),c,s))return l(`Project: ${r} Detected excluded file: ${t}`),!0;if(!o)return!1;if(i.outFile||i.outDir)return!1;if(lO(n)){if(i.declarationDir)return!1}else if(!No(n,PS))return!1;const p=KS(n),f=et(o)?void 0:x$(o)?o.getProgramOrUndefined():o,m=f||et(o)?void 0:o;return!(!g(p+".ts")&&!g(p+".tsx")||(l(`Project: ${r} Detected output file: ${t}`),0));function g(e){return f?!!f.getSourceFileByPath(e):m?m.state.fileInfos.has(e):!!k(o,t=>_(t)===e)}}function RV(e,t){return!!e&&e.isEmittedFile(t)}var MV=(e=>(e[e.None=0]="None",e[e.TriggerOnly=1]="TriggerOnly",e[e.Verbose=2]="Verbose",e))(MV||{});function BV(e,t,n,r){oo(2===t?n:at);const i={watchFile:(t,n,r,i)=>e.watchFile(t,n,r,i),watchDirectory:(t,n,r,i)=>e.watchDirectory(t,n,!!(1&r),i)},o=0!==t?{watchFile:l("watchFile"),watchDirectory:l("watchDirectory")}:void 0,a=2===t?{watchFile:function(e,t,i,a,s,c){n(`FileWatcher:: Added:: ${_(e,i,a,s,c,r)}`);const l=o.watchFile(e,t,i,a,s,c);return{close:()=>{n(`FileWatcher:: Close:: ${_(e,i,a,s,c,r)}`),l.close()}}},watchDirectory:function(e,t,i,a,s,c){const l=`DirectoryWatcher:: Added:: ${_(e,i,a,s,c,r)}`;n(l);const u=$n(),d=o.watchDirectory(e,t,i,a,s,c),p=$n()-u;return n(`Elapsed:: ${p}ms ${l}`),{close:()=>{const t=`DirectoryWatcher:: Close:: ${_(e,i,a,s,c,r)}`;n(t);const o=$n();d.close();const l=$n()-o;n(`Elapsed:: ${l}ms ${t}`)}}}}:o||i,s=2===t?function(e,t,i,o,a){return n(`ExcludeWatcher:: Added:: ${_(e,t,i,o,a,r)}`),{close:()=>n(`ExcludeWatcher:: Close:: ${_(e,t,i,o,a,r)}`)}}:P$;return{watchFile:c("watchFile"),watchDirectory:c("watchDirectory")};function c(t){return(n,r,i,o,c,l)=>{var _;return Bj(n,"watchFile"===t?null==o?void 0:o.excludeFiles:null==o?void 0:o.excludeDirectories,"boolean"==typeof e.useCaseSensitiveFileNames?e.useCaseSensitiveFileNames:e.useCaseSensitiveFileNames(),(null==(_=e.getCurrentDirectory)?void 0:_.call(e))||"")?s(n,i,o,c,l):a[t].call(void 0,n,r,i,o,c,l)}}function l(e){return(t,o,a,s,c,l)=>i[e].call(void 0,t,(...i)=>{const u=`${"watchFile"===e?"FileWatcher":"DirectoryWatcher"}:: Triggered with ${i[0]} ${void 0!==i[1]?i[1]:""}:: ${_(t,a,s,c,l,r)}`;n(u);const d=$n();o.call(void 0,...i);const p=$n()-d;n(`Elapsed:: ${p}ms ${u}`)},a,s,c,l)}function _(e,t,n,r,i,o){return`WatchInfo: ${e} ${t} ${JSON.stringify(n)} ${o?o(r,i):void 0===i?r:`${r} ${i}`}`}}function JV(e){const t=null==e?void 0:e.fallbackPolling;return{watchFile:void 0!==t?t:1}}function zV(e){e.watcher.close()}function qV(e,t,n="tsconfig.json"){return da(e,e=>{const r=zo(e,n);return t(r)?r:void 0})}function VV(e,t){const n=Io(t);return Wo(xo(e)?e:zo(n,e))}function UV(e,t,n){let r;return f(e,e=>{const i=Vo(e,t);if(i.pop(),!r)return void(r=i);const o=Math.min(r.length,i.length);for(let t=0;t<o;t++)if(n(r[t])!==n(i[t])){if(0===t)return!0;r.length=t;break}i.length<r.length&&(r.length=i.length)})?"":r?Mo(r):t}function WV(e,t){return KV(e,t)}function $V(e,t){return(n,r,i)=>{let o;try{ir("beforeIORead"),o=e(n),ir("afterIORead"),or("I/O Read","beforeIORead","afterIORead")}catch(a){i&&i(a.message),o=""}return void 0!==o?ZI(n,o,r,t):void 0}}function HV(e,t,n){return(r,i,o,a)=>{try{ir("beforeIOWrite"),ov(r,i,o,e,t,n),ir("afterIOWrite"),or("I/O Write","beforeIOWrite","afterIOWrite")}catch(s){a&&a(s.message)}}}function KV(e,t,n=po){const r=new Map,i=Kt(n.useCaseSensitiveFileNames);function o(){return Io(Wo(n.getExecutingFilePath()))}const a=jb(e),s=n.realpath&&(e=>n.realpath(e)),c={getSourceFile:$V(e=>c.readFile(e),t),getDefaultLibLocation:o,getDefaultLibFileName:e=>zo(o(),Is(e)),writeFile:HV((e,t,r)=>n.writeFile(e,t,r),e=>(c.createDirectory||n.createDirectory)(e),e=>{return t=e,!!r.has(t)||!!(c.directoryExists||n.directoryExists)(t)&&(r.set(t,!0),!0);var t}),getCurrentDirectory:mt(()=>n.getCurrentDirectory()),useCaseSensitiveFileNames:()=>n.useCaseSensitiveFileNames,getCanonicalFileName:i,getNewLine:()=>a,fileExists:e=>n.fileExists(e),readFile:e=>n.readFile(e),trace:e=>n.write(e+a),directoryExists:e=>n.directoryExists(e),getEnvironmentVariable:e=>n.getEnvironmentVariable?n.getEnvironmentVariable(e):"",getDirectories:e=>n.getDirectories(e),realpath:s,readDirectory:(e,t,r,i,o)=>n.readDirectory(e,t,r,i,o),createDirectory:e=>n.createDirectory(e),createHash:Ke(n,n.createHash)};return c}function GV(e,t,n){const r=e.readFile,i=e.fileExists,o=e.directoryExists,a=e.createDirectory,s=e.writeFile,c=new Map,l=new Map,_=new Map,u=new Map,d=(t,n)=>{const i=r.call(e,n);return c.set(t,void 0!==i&&i),i};e.readFile=n=>{const i=t(n),o=c.get(i);return void 0!==o?!1!==o?o:void 0:Do(n,".json")||Xq(n)?d(i,n):r.call(e,n)};const p=n?(e,r,i,o)=>{const a=t(e),s="object"==typeof r?r.impliedNodeFormat:void 0,c=u.get(s),l=null==c?void 0:c.get(a);if(l)return l;const _=n(e,r,i,o);return _&&(lO(e)||Do(e,".json"))&&u.set(s,(c||new Map).set(a,_)),_}:void 0;return e.fileExists=n=>{const r=t(n),o=l.get(r);if(void 0!==o)return o;const a=i.call(e,n);return l.set(r,!!a),a},s&&(e.writeFile=(n,r,...i)=>{const o=t(n);l.delete(o);const a=c.get(o);void 0!==a&&a!==r?(c.delete(o),u.forEach(e=>e.delete(o))):p&&u.forEach(e=>{const t=e.get(o);t&&t.text!==r&&e.delete(o)}),s.call(e,n,r,...i)}),o&&(e.directoryExists=n=>{const r=t(n),i=_.get(r);if(void 0!==i)return i;const a=o.call(e,n);return _.set(r,!!a),a},a&&(e.createDirectory=n=>{const r=t(n);_.delete(r),a.call(e,n)})),{originalReadFile:r,originalFileExists:i,originalDirectoryExists:o,originalCreateDirectory:a,originalWriteFile:s,getSourceFileWithCache:p,readFileWithCache:e=>{const n=t(e),r=c.get(n);return void 0!==r?!1!==r?r:void 0:d(n,e)}}}function XV(e,t,n){let r;return r=_e(r,e.getConfigFileParsingDiagnostics()),r=_e(r,e.getOptionsDiagnostics(n)),r=_e(r,e.getSyntacticDiagnostics(t,n)),r=_e(r,e.getGlobalDiagnostics(n)),r=_e(r,e.getSemanticDiagnostics(t,n)),Ik(e.getCompilerOptions())&&(r=_e(r,e.getDeclarationDiagnostics(t,n))),Ps(r||u)}function QV(e,t){let n="";for(const r of e)n+=ZV(r,t);return n}function ZV(e,t){const n=`${ui(e)} TS${e.code}: ${uU(e.messageText,t.getNewLine())}${t.getNewLine()}`;if(e.file){const{line:r,character:i}=$a(e.file,e.start);return`${la(e.file.fileName,t.getCurrentDirectory(),e=>t.getCanonicalFileName(e))}(${r+1},${i+1}): `+n}return n}var YV=(e=>(e.Grey="[90m",e.Red="[91m",e.Yellow="[93m",e.Blue="[94m",e.Cyan="[96m",e))(YV||{}),eU="[7m",tU=" ",nU="[0m",rU="...",iU="  ",oU="    ";function aU(e){switch(e){case 1:return"[91m";case 0:return"[93m";case 2:return fn.fail("Should never get an Info diagnostic on the command line.");case 3:return"[94m"}}function sU(e,t){return t+e+nU}function cU(e,t,n,r,i,o){const{line:a,character:s}=$a(e,t),{line:c,character:l}=$a(e,t+n),_=$a(e,e.text.length).line,u=c-a>=4;let d=(c+1+"").length;u&&(d=Math.max(rU.length,d));let p="";for(let f=a;f<=c;f++){p+=o.getNewLine(),u&&a+1<f&&f<c-1&&(p+=r+sU(rU.padStart(d),eU)+tU+o.getNewLine(),f=c-1);const t=Ja(e,f,0),n=f<_?Ja(e,f+1,0):e.text.length;let m=e.text.slice(t,n);if(m=m.trimEnd(),m=m.replace(/\t/g," "),p+=r+sU((f+1+"").padStart(d),eU)+tU,p+=m+o.getNewLine(),p+=r+sU("".padStart(d),eU)+tU,p+=i,f===a){const e=f===c?l:void 0;p+=m.slice(0,s).replace(/\S/g," "),p+=m.slice(s,e).replace(/./g,"~")}else p+=f===c?m.slice(0,l).replace(/./g,"~"):m.replace(/./g,"~");p+=nU}return p}function lU(e,t,n,r=sU){const{line:i,character:o}=$a(e,t);let a="";return a+=r(n?la(e.fileName,n.getCurrentDirectory(),e=>n.getCanonicalFileName(e)):e.fileName,"[96m"),a+=":",a+=r(`${i+1}`,"[93m"),a+=":",a+=r(`${o+1}`,"[93m"),a}function _U(e,t){let n="";for(const r of e){if(r.file){const{file:e,start:i}=r;n+=lU(e,i,t),n+=" - "}if(n+=sU(ui(r),aU(r.category)),n+=sU(` TS${r.code}: `,"[90m"),n+=uU(r.messageText,t.getNewLine()),r.file&&r.code!==ma.File_appears_to_be_binary.code&&(n+=t.getNewLine(),n+=cU(r.file,r.start,r.length,"",aU(r.category),t)),r.relatedInformation){n+=t.getNewLine();for(const{file:e,start:i,length:o,messageText:a}of r.relatedInformation)e&&(n+=t.getNewLine(),n+=iU+lU(e,i,t),n+=cU(e,i,o,oU,"[96m",t)),n+=t.getNewLine(),n+=oU+uU(a,t.getNewLine())}n+=t.getNewLine()}return n}function uU(e,t,n=0){if(nt(e))return e;if(void 0===e)return"";let r="";if(n){r+=t;for(let e=0;e<n;e++)r+="  "}if(r+=e.messageText,n++,e.next)for(const i of e.next)r+=uU(i,t,n);return r}function dU(e,t){return(nt(e)?t:e.resolutionMode)||t}function pU(e,t,n){return gU(e,XU(e,t),n)}function fU(e){var t;return NE(e)?e.isTypeOnly:!!(null==(t=e.importClause)?void 0:t.isTypeOnly)}function mU(e,t,n){return gU(e,t,n)}function gU(e,t,n){if((gE(t.parent)||NE(t.parent)||WP(t.parent))&&fU(t.parent)){const e=yU(t.parent.attributes);if(e)return e}if(t.parent.parent&&YN(t.parent.parent)){const e=yU(t.parent.parent.attributes);if(e)return e}if(n&&vk(n))return hU(e,t,n)}function hU(e,t,n){var r;if(!n)return;const i=null==(r=sh(t.parent))?void 0:r.parent;if(i&&mE(i)||Bm(t.parent,!1))return 1;if(ff(sh(t.parent)))return BU(e,n)?1:99;const o=JU(e,n);return 1===o?1:Bk(o)||200===o?99:void 0}function yU(e,t){if(!e)return;if(1!==p(e.elements))return void(null==t||t(e,118===e.token?ma.Type_import_attributes_should_have_exactly_one_key_resolution_mode_with_value_import_or_require:ma.Type_import_assertions_should_have_exactly_one_key_resolution_mode_with_value_import_or_require));const n=e.elements[0];if(zu(n.name))if("resolution-mode"===n.name.text){if(zu(n.value)){if("import"===n.value.text||"require"===n.value.text)return"import"===n.value.text?99:1;null==t||t(n.value,ma.resolution_mode_should_be_either_require_or_import)}}else null==t||t(n.name,118===e.token?ma.resolution_mode_is_the_only_valid_key_for_type_import_attributes:ma.resolution_mode_is_the_only_valid_key_for_type_import_assertions)}var vU={resolvedModule:void 0,resolvedTypeReferenceDirective:void 0};function bU(e){return e.text}var xU={getName:bU,getMode:(e,t,n)=>mU(t,e,n)};function kU(e,t,n,r,i){return{nameAndMode:xU,resolve:(o,a)=>JR(o,e,n,r,i,t,a)}}function SU(e){return nt(e)?e:e.fileName}var TU={getName:SU,getMode:(e,t,n)=>dU(e,t&&qU(t,n))};function CU(e,t,n,r,i){return{nameAndMode:TU,resolve:(o,a)=>yR(o,e,n,r,t,i,a)}}function wU(e,t,n,r,i,o,a,s){if(0===e.length)return u;const c=[],l=new Map,_=s(t,n,r,o,a);for(const u of e){const e=_.nameAndMode.getName(u),t=_.nameAndMode.getMode(u,i,(null==n?void 0:n.commandLine.options)||r),o=FR(e,t);let a=l.get(o);a||l.set(o,a=_.resolve(e,t)),c.push(a)}return c}var DU="__inferred type names__.ts";function NU(e,t,n){return zo(e.configFilePath?Io(e.configFilePath):t,`__lib_node_modules_lookup_${n}__.ts`)}function FU(e){const t=e.split(".");let n=t[1],r=2;for(;t[r]&&"d"!==t[r];)n+=(2===r?"/":"-")+t[r],r++;return"@typescript/lib-"+n}function EU(e){switch(null==e?void 0:e.kind){case 3:case 4:case 5:case 7:return!0;default:return!1}}function PU(e){return void 0!==e.pos}function AU(e,t){var n,r,i,o;const a=fn.checkDefined(e.getSourceFileByPath(t.file)),{kind:s,index:c}=t;let l,_,u;switch(s){case 3:const t=XU(a,c);if(u=null==(r=null==(n=e.getResolvedModuleFromModuleSpecifier(t,a))?void 0:n.resolvedModule)?void 0:r.packageId,-1===t.pos)return{file:a,packageId:u,text:t.text};l=ns(a.text,t.pos),_=t.end;break;case 4:({pos:l,end:_}=a.referencedFiles[c]);break;case 5:({pos:l,end:_}=a.typeReferenceDirectives[c]),u=null==(o=null==(i=e.getResolvedTypeReferenceDirectiveFromTypeReferenceDirective(a.typeReferenceDirectives[c],a))?void 0:i.resolvedTypeReferenceDirective)?void 0:o.packageId;break;case 7:({pos:l,end:_}=a.libReferenceDirectives[c]);break;default:return fn.assertNever(s)}return{file:a,pos:l,end:_,packageId:u}}function IU(e,t,n,r,i,o,a,s,c,l){if(!e||(null==s?void 0:s()))return!1;if(!ie(e.getRootFileNames(),t))return!1;let _;if(!ie(e.getProjectReferences(),l,function(t,n,r){return dd(t,n)&&p(e.getResolvedProjectReferences()[r],t)}))return!1;if(e.getSourceFiles().some(function(e){return!function(e){return e.version===r(e.resolvedPath,e.fileName)}(e)||o(e.path)}))return!1;const u=e.getMissingFilePaths();if(u&&sd(u,i))return!1;const d=e.getCompilerOptions();return!(!mx(d,n)||e.resolvedLibReferences&&sd(e.resolvedLibReferences,(e,t)=>a(t))||d.configFile&&n.configFile&&d.configFile.text!==n.configFile.text);function p(e,t){if(e){if(w(_,e))return!0;const n=HU(t),r=c(n);return!!r&&e.commandLine.options.configFile===r.options.configFile&&!!ie(e.commandLine.fileNames,r.fileNames)&&((_||(_=[])).push(e),!f(e.references,(t,n)=>!p(t,e.commandLine.projectReferences[n])))}const n=HU(t);return!c(n)}}function OU(e){return e.options.configFile?[...e.options.configFile.parseDiagnostics,...e.errors]:e.errors}function LU(e,t,n,r){const i=jU(e,t,n,r);return"object"==typeof i?i.impliedNodeFormat:i}function jU(e,t,n,r){const i=Ck(r),o=3<=i&&i<=99||YR(e);return No(e,[".d.mts",".mts",".mjs"])?99:No(e,[".d.cts",".cts",".cjs"])?1:o&&No(e,[".d.ts",".ts",".tsx",".js",".jsx"])?function(){const i=dM(t,n,r),o=[];i.failedLookupLocations=o,i.affectingLocations=o;const a=pM(Io(e),i);return{impliedNodeFormat:"module"===(null==a?void 0:a.contents.packageJsonContent.type)?99:1,packageJsonLocations:o,packageJsonScope:a}}():void 0}var RU=new Set([ma.Cannot_redeclare_block_scoped_variable_0.code,ma.A_module_cannot_have_multiple_default_exports.code,ma.Another_export_default_is_here.code,ma.The_first_export_default_is_here.code,ma.Identifier_expected_0_is_a_reserved_word_at_the_top_level_of_a_module.code,ma.Identifier_expected_0_is_a_reserved_word_in_strict_mode_Modules_are_automatically_in_strict_mode.code,ma.Identifier_expected_0_is_a_reserved_word_that_cannot_be_used_here.code,ma.constructor_is_a_reserved_word.code,ma.delete_cannot_be_called_on_an_identifier_in_strict_mode.code,ma.Code_contained_in_a_class_is_evaluated_in_JavaScript_s_strict_mode_which_does_not_allow_this_use_of_0_For_more_information_see_https_Colon_Slash_Slashdeveloper_mozilla_org_Slashen_US_Slashdocs_SlashWeb_SlashJavaScript_SlashReference_SlashStrict_mode.code,ma.Invalid_use_of_0_Modules_are_automatically_in_strict_mode.code,ma.Invalid_use_of_0_in_strict_mode.code,ma.A_label_is_not_allowed_here.code,ma.with_statements_are_not_allowed_in_strict_mode.code,ma.A_break_statement_can_only_be_used_within_an_enclosing_iteration_or_switch_statement.code,ma.A_break_statement_can_only_jump_to_a_label_of_an_enclosing_statement.code,ma.A_class_declaration_without_the_default_modifier_must_have_a_name.code,ma.A_class_member_cannot_have_the_0_keyword.code,ma.A_comma_expression_is_not_allowed_in_a_computed_property_name.code,ma.A_continue_statement_can_only_be_used_within_an_enclosing_iteration_statement.code,ma.A_continue_statement_can_only_jump_to_a_label_of_an_enclosing_iteration_statement.code,ma.A_continue_statement_can_only_jump_to_a_label_of_an_enclosing_iteration_statement.code,ma.A_default_clause_cannot_appear_more_than_once_in_a_switch_statement.code,ma.A_default_export_must_be_at_the_top_level_of_a_file_or_module_declaration.code,ma.A_definite_assignment_assertion_is_not_permitted_in_this_context.code,ma.A_destructuring_declaration_must_have_an_initializer.code,ma.A_get_accessor_cannot_have_parameters.code,ma.A_rest_element_cannot_contain_a_binding_pattern.code,ma.A_rest_element_cannot_have_a_property_name.code,ma.A_rest_element_cannot_have_an_initializer.code,ma.A_rest_element_must_be_last_in_a_destructuring_pattern.code,ma.A_rest_parameter_cannot_have_an_initializer.code,ma.A_rest_parameter_must_be_last_in_a_parameter_list.code,ma.A_rest_parameter_or_binding_pattern_may_not_have_a_trailing_comma.code,ma.A_return_statement_cannot_be_used_inside_a_class_static_block.code,ma.A_set_accessor_cannot_have_rest_parameter.code,ma.A_set_accessor_must_have_exactly_one_parameter.code,ma.An_export_declaration_can_only_be_used_at_the_top_level_of_a_module.code,ma.An_export_declaration_cannot_have_modifiers.code,ma.An_import_declaration_can_only_be_used_at_the_top_level_of_a_module.code,ma.An_import_declaration_cannot_have_modifiers.code,ma.An_object_member_cannot_be_declared_optional.code,ma.Argument_of_dynamic_import_cannot_be_spread_element.code,ma.Cannot_assign_to_private_method_0_Private_methods_are_not_writable.code,ma.Cannot_redeclare_identifier_0_in_catch_clause.code,ma.Catch_clause_variable_cannot_have_an_initializer.code,ma.Class_decorators_can_t_be_used_with_static_private_identifier_Consider_removing_the_experimental_decorator.code,ma.Classes_can_only_extend_a_single_class.code,ma.Classes_may_not_have_a_field_named_constructor.code,ma.Did_you_mean_to_use_a_Colon_An_can_only_follow_a_property_name_when_the_containing_object_literal_is_part_of_a_destructuring_pattern.code,ma.Duplicate_label_0.code,ma.Dynamic_imports_can_only_accept_a_module_specifier_and_an_optional_set_of_attributes_as_arguments.code,ma.for_await_loops_cannot_be_used_inside_a_class_static_block.code,ma.JSX_attributes_must_only_be_assigned_a_non_empty_expression.code,ma.JSX_elements_cannot_have_multiple_attributes_with_the_same_name.code,ma.JSX_expressions_may_not_use_the_comma_operator_Did_you_mean_to_write_an_array.code,ma.JSX_property_access_expressions_cannot_include_JSX_namespace_names.code,ma.Jump_target_cannot_cross_function_boundary.code,ma.Line_terminator_not_permitted_before_arrow.code,ma.Modifiers_cannot_appear_here.code,ma.Only_a_single_variable_declaration_is_allowed_in_a_for_in_statement.code,ma.Only_a_single_variable_declaration_is_allowed_in_a_for_of_statement.code,ma.Private_identifiers_are_not_allowed_outside_class_bodies.code,ma.Private_identifiers_are_only_allowed_in_class_bodies_and_may_only_be_used_as_part_of_a_class_member_declaration_property_access_or_on_the_left_hand_side_of_an_in_expression.code,ma.Property_0_is_not_accessible_outside_class_1_because_it_has_a_private_identifier.code,ma.Tagged_template_expressions_are_not_permitted_in_an_optional_chain.code,ma.The_left_hand_side_of_a_for_of_statement_may_not_be_async.code,ma.The_variable_declaration_of_a_for_in_statement_cannot_have_an_initializer.code,ma.The_variable_declaration_of_a_for_of_statement_cannot_have_an_initializer.code,ma.Trailing_comma_not_allowed.code,ma.Variable_declaration_list_cannot_be_empty.code,ma._0_and_1_operations_cannot_be_mixed_without_parentheses.code,ma._0_expected.code,ma._0_is_not_a_valid_meta_property_for_keyword_1_Did_you_mean_2.code,ma._0_list_cannot_be_empty.code,ma._0_modifier_already_seen.code,ma._0_modifier_cannot_appear_on_a_constructor_declaration.code,ma._0_modifier_cannot_appear_on_a_module_or_namespace_element.code,ma._0_modifier_cannot_appear_on_a_parameter.code,ma._0_modifier_cannot_appear_on_class_elements_of_this_kind.code,ma._0_modifier_cannot_be_used_here.code,ma._0_modifier_must_precede_1_modifier.code,ma._0_declarations_can_only_be_declared_inside_a_block.code,ma._0_declarations_must_be_initialized.code,ma.extends_clause_already_seen.code,ma.let_is_not_allowed_to_be_used_as_a_name_in_let_or_const_declarations.code,ma.Class_constructor_may_not_be_a_generator.code,ma.Class_constructor_may_not_be_an_accessor.code,ma.await_expressions_are_only_allowed_within_async_functions_and_at_the_top_levels_of_modules.code,ma.await_using_statements_are_only_allowed_within_async_functions_and_at_the_top_levels_of_modules.code,ma.Private_field_0_must_be_declared_in_an_enclosing_class.code,ma.This_condition_will_always_return_0_since_JavaScript_compares_objects_by_reference_not_value.code]);function MU(e,t,n,r,i){var o,a,c,l,_,d,p,m,g,y,v,b,x,S,C,D;let N=et(e)?function(e,t,n,r,i,o){return{rootNames:e,options:t,host:n,oldProgram:r,configFileParsingDiagnostics:i,typeScriptVersion:o}}(e,t,n,r,i):e;const{rootNames:E,options:P,configFileParsingDiagnostics:A,projectReferences:I,typeScriptVersion:O,host:R}=N;let{oldProgram:M}=N;N=void 0,e=void 0;for(const s of qO)if(Pe(P,s.name)&&"string"==typeof P[s.name])throw new Error(`${s.name} is a string value; tsconfig JSON must be parsed with parseJsonSourceFileConfigFileContent or getParsedCommandLineOfConfigFile before passing to createProgram`);const B=mt(()=>Rn("ignoreDeprecations",ma.Invalid_value_for_ignoreDeprecations));let J,q,V,U,W,$,H,G,Q;const Z=QU(zn);let Y,ee,te,ne,re,oe,ae,ce,le;const _e="number"==typeof P.maxNodeModuleJsDepth?P.maxNodeModuleJsDepth:0;let ue=0;const de=new Map,fe=new Map;null==(o=Xn)||o.push(Xn.Phase.Program,"createProgram",{configFilePath:P.configFilePath,rootDir:P.rootDir},!0),ir("beforeProgram");const me=R||WV(P),ge=$U(me);let he=P.noLib;const ye=mt(()=>me.getDefaultLibFileName(P)),ve=me.getDefaultLibLocation?me.getDefaultLibLocation():Io(ye());let be=!1;const xe=me.getCurrentDirectory(),ke=RS(P),Se=MS(P,ke),Te=new Map;let Ce,we,De,Ne;const Fe=me.hasInvalidatedResolutions||st;let Ee;if(me.resolveModuleNameLiterals?(Ne=me.resolveModuleNameLiterals.bind(me),De=null==(a=me.getModuleResolutionCache)?void 0:a.call(me)):me.resolveModuleNames?(Ne=(e,t,n,r,i,o)=>me.resolveModuleNames(e.map(bU),t,null==o?void 0:o.map(bU),n,r,i).map(e=>e?void 0!==e.extension?{resolvedModule:e}:{resolvedModule:__spreadProps(__spreadValues({},e),{extension:iT(e.resolvedFileName)})}:vU),De=null==(c=me.getModuleResolutionCache)?void 0:c.call(me)):(De=LR(xe,Nn,P),Ne=(e,t,n,r,i)=>wU(e,t,n,r,i,me,De,kU)),me.resolveTypeReferenceDirectiveReferences)Ee=me.resolveTypeReferenceDirectiveReferences.bind(me);else if(me.resolveTypeReferenceDirectives)Ee=(e,t,n,r,i)=>me.resolveTypeReferenceDirectives(e.map(SU),t,n,r,null==i?void 0:i.impliedNodeFormat).map(e=>({resolvedTypeReferenceDirective:e}));else{const e=jR(xe,Nn,void 0,null==De?void 0:De.getPackageJsonInfoCache(),null==De?void 0:De.optionsToRedirectsKey);Ee=(t,n,r,i,o)=>wU(t,n,r,i,o,me,e,CU)}const Ae=me.hasInvalidatedLibResolutions||st;let Ie;if(me.resolveLibrary)Ie=me.resolveLibrary.bind(me);else{const e=LR(xe,Nn,P,null==De?void 0:De.getPackageJsonInfoCache());Ie=(t,n,r)=>MR(t,n,r,me,e)}const Oe=new Map;let Le,je=new Map,Re=Ge();const Me=new Map;let Be=new Map;const Je=me.useCaseSensitiveFileNames()?new Map:void 0;let ze,qe,Ve,Ue;const We=!!(null==(l=me.useSourceOfProjectReferenceRedirect)?void 0:l.call(me))&&!P.disableSourceOfProjectReferenceRedirect,{onProgramCreateComplete:$e,fileExists:He,directoryExists:Xe}=function(e){let t;const n=e.compilerHost.fileExists,r=e.compilerHost.directoryExists,i=e.compilerHost.getDirectories,o=e.compilerHost.realpath;if(!e.useSourceOfProjectReferenceRedirect)return{onProgramCreateComplete:at,fileExists:c};let a;return e.compilerHost.fileExists=c,r&&(a=e.compilerHost.directoryExists=n=>r.call(e.compilerHost,n)?(u(n),!0):!!e.getResolvedProjectReferences()&&(t||(t=new Set,e.forEachResolvedProjectReference(n=>{const r=n.commandLine.options.outFile;if(r)t.add(Io(e.toPath(r)));else{const r=n.commandLine.options.declarationDir||n.commandLine.options.outDir;r&&t.add(e.toPath(r))}})),d(n,!1))),i&&(e.compilerHost.getDirectories=t=>!e.getResolvedProjectReferences()||r&&r.call(e.compilerHost,t)?i.call(e.compilerHost,t):[]),o&&(e.compilerHost.realpath=t=>{var n;return(null==(n=e.getSymlinkCache().getSymlinkedFiles())?void 0:n.get(e.toPath(t)))||o.call(e.compilerHost,t)}),{onProgramCreateComplete:s,fileExists:c,directoryExists:a};function s(){e.compilerHost.fileExists=n,e.compilerHost.directoryExists=r,e.compilerHost.getDirectories=i}function c(t){return!!n.call(e.compilerHost,t)||!!e.getResolvedProjectReferences()&&!!lO(t)&&d(t,!0)}function l(t){const r=e.getSourceOfProjectReferenceRedirect(e.toPath(t));return void 0!==r?!nt(r)||n.call(e.compilerHost,r):void 0}function _(n){const r=e.toPath(n),i=`${r}${mo}`;return cd(t,e=>r===e||Zt(e,i)||Zt(r,`${e}/`))}function u(t){var n;if(!e.getResolvedProjectReferences()||MT(t))return;if(!o||!t.includes(ZR))return;const r=e.getSymlinkCache(),i=Xo(e.toPath(t));if(null==(n=r.getSymlinkedDirectories())?void 0:n.has(i))return;const a=Wo(o.call(e.compilerHost,t));let s;a!==t&&(s=Xo(e.toPath(a)))!==i?r.setSymlinkedDirectory(t,{real:Xo(a),realPath:s}):r.setSymlinkedDirectory(i,!1)}function d(t,n){var r;const i=n?e=>l(e):e=>_(e),o=i(t);if(void 0!==o)return o;const a=e.getSymlinkCache(),s=a.getSymlinkedDirectories();if(!s)return!1;const c=e.toPath(t);return!!c.includes(ZR)&&(!(!n||!(null==(r=a.getSymlinkedFiles())?void 0:r.has(c)))||h(s.entries(),([r,o])=>{if(!o||!Zt(c,r))return;const s=i(c.replace(r,o.realPath));if(n&&s){const n=Uo(t,e.compilerHost.getCurrentDirectory());a.setSymlinkedFile(c,`${o.real}${n.replace(new RegExp(r,"i"),"")}`)}return s})||!1)}}({compilerHost:me,getSymlinkCache:$n,useSourceOfProjectReferenceRedirect:We,toPath:Ct,getResolvedProjectReferences:At,getSourceOfProjectReferenceRedirect:hn,forEachResolvedProjectReference:gn}),Qe=me.readFile.bind(me);null==(_=Xn)||_.push(Xn.Phase.Program,"shouldProgramCreateNewSourceFiles",{hasOldProgram:!!M});const Ze=function(e,t){return!!e&&od(e.getCompilerOptions(),t,RO)}(M,P);let Ye;if(null==(d=Xn)||d.pop(),null==(p=Xn)||p.push(Xn.Phase.Program,"tryReuseStructureFromOldProgram",{}),Ye=function(){var e;if(!M)return 0;const t=M.getCompilerOptions();if(rd(t,P))return 0;if(!ie(M.getRootFileNames(),E))return 0;if(BC(M.getProjectReferences(),M.getResolvedProjectReferences(),(e,t,n)=>{const r=En((t?t.commandLine.projectReferences:I)[n]);return e?!r||r.sourceFile!==e.sourceFile||!ie(e.commandLine.fileNames,r.commandLine.fileNames):void 0!==r},(e,t)=>!ie(e,t?vn(t.sourceFile.path).commandLine.projectReferences:I,dd)))return 0;I&&(ze=I.map(En));const n=[],r=[];if(Ye=2,sd(M.getMissingFilePaths(),e=>me.fileExists(e)))return 0;const i=M.getSourceFiles();let o;var a;(a=o||(o={}))[a.Exists=0]="Exists",a[a.Modified=1]="Modified";const s=new Map;for(const l of i){const t=sn(l.fileName,De,me,P);let i,o=me.getSourceFileByPath?me.getSourceFileByPath(l.fileName,l.resolvedPath,t,void 0,Ze):me.getSourceFile(l.fileName,t,void 0,Ze);if(!o)return 0;if(o.packageJsonLocations=(null==(e=t.packageJsonLocations)?void 0:e.length)?t.packageJsonLocations:void 0,o.packageJsonScope=t.packageJsonScope,fn.assert(!o.redirectInfo,"Host should not return a redirect source file from `getSourceFile`"),l.redirectInfo){if(o!==l.redirectInfo.unredirected)return 0;i=!1,o=l}else if(M.redirectTargetsMap.has(l.path)){if(o!==l)return 0;i=!1}else i=o!==l;o.path=l.path,o.originalFileName=l.originalFileName,o.resolvedPath=l.resolvedPath,o.fileName=l.fileName;const a=M.sourceFileToPackageName.get(l.path);if(void 0!==a){const e=s.get(a),t=i?1:0;if(void 0!==e&&1===t||1===e)return 0;s.set(a,t)}i?(l.impliedNodeFormat!==o.impliedNodeFormat?Ye=1:ie(l.libReferenceDirectives,o.libReferenceDirectives,Gt)?l.hasNoDefaultLib!==o.hasNoDefaultLib?Ye=1:ie(l.referencedFiles,o.referencedFiles,Gt)?(en(o),ie(l.imports,o.imports,Xt)&&ie(l.moduleAugmentations,o.moduleAugmentations,Xt)?(12582912&l.flags)!=(12582912&o.flags)?Ye=1:ie(l.typeReferenceDirectives,o.typeReferenceDirectives,Gt)||(Ye=1):Ye=1):Ye=1:Ye=1,r.push(o)):Fe(l.path)&&(Ye=1,r.push(o)),n.push(o)}if(2!==Ye)return Ye;for(const l of r){const e=GU(l),t=Dt(e,l);(null!=oe?oe:oe=new Map).set(l.path,t);const n=kn(l);xd(e,t,e=>M.getResolvedModule(l,e.text,gU(l,e,n)),pd)&&(Ye=1);const r=l.typeReferenceDirectives,i=Nt(r,l);(null!=ce?ce:ce=new Map).set(l.path,i),xd(r,i,e=>M.getResolvedTypeReferenceDirective(l,SU(e),Yn(e,l)),bd)&&(Ye=1)}if(2!==Ye)return Ye;if(id(t,P))return 1;if(M.resolvedLibReferences&&sd(M.resolvedLibReferences,(e,t)=>wn(t).actual!==e.actual))return 1;if(me.hasChangedAutomaticTypeDirectiveNames){if(me.hasChangedAutomaticTypeDirectiveNames())return 1}else if(Y=kR(P,me),!ie(M.getAutomaticTypeDirectiveNames(),Y))return 1;Be=M.getMissingFilePaths(),fn.assert(n.length===M.getSourceFiles().length);for(const l of n)Me.set(l.path,l);M.getFilesByNameMap().forEach((e,t)=>{e?e.path!==t?Me.set(t,Me.get(e.path)):M.isSourceFileFromExternalLibrary(e)&&fe.set(e.path,!0):Me.set(t,e)});const c=t.configFile&&t.configFile===P.configFile||!t.configFile&&!P.configFile&&!od(t,P,AO);return Z.reuseStateFromOldProgram(M.getProgramDiagnosticsContainer(),c),be=c,V=n,Y=M.getAutomaticTypeDirectiveNames(),ee=M.getAutomaticTypeDirectiveResolutions(),je=M.sourceFileToPackageName,Re=M.redirectTargetsMap,Le=M.usesUriStyleNodeCoreModules,re=M.resolvedModules,ae=M.resolvedTypeReferenceDirectiveNames,te=M.resolvedLibReferences,le=M.getCurrentPackagesMap(),2}(),null==(m=Xn)||m.pop(),2!==Ye){if(J=[],q=[],I&&(ze||(ze=I.map(En)),E.length&&(null==ze||ze.forEach((e,t)=>{if(!e)return;const n=e.commandLine.options.outFile;if(We){if(n||0===Tk(e.commandLine.options))for(const r of e.commandLine.fileNames)rn(r,{kind:1,index:t})}else if(n)rn(QS(n,".d.ts"),{kind:2,index:t});else if(0===Tk(e.commandLine.options)){const n=mt(()=>dV(e.commandLine,!me.useCaseSensitiveFileNames()));for(const r of e.commandLine.fileNames)lO(r)||Do(r,".json")||rn(iV(r,e.commandLine,!me.useCaseSensitiveFileNames(),n),{kind:2,index:t})}}))),null==(g=Xn)||g.push(Xn.Phase.Program,"processRootFiles",{count:E.length}),f(E,(e,t)=>Kt(e,!1,!1,{kind:0,index:t})),null==(y=Xn)||y.pop(),null!=Y||(Y=E.length?kR(P,me):u),ee=ER(),Y.length){null==(v=Xn)||v.push(Xn.Phase.Program,"processTypeReferences",{count:Y.length});const e=zo(P.configFilePath?Io(P.configFilePath):xe,DU),t=Nt(Y,e);for(let n=0;n<Y.length;n++)ee.set(Y[n],void 0,t[n]),Tn(Y[n],0,t[n],{kind:8,typeReference:Y[n],packageId:null==(x=null==(b=t[n])?void 0:b.resolvedTypeReferenceDirective)?void 0:x.packageId});null==(S=Xn)||S.pop()}if(E.length&&!he){const e=ye();!P.lib&&e?Kt(e,!0,!1,{kind:6}):f(P.lib,(e,t)=>{Kt(Cn(e),!0,!1,{kind:6,index:t})})}V=pe(J,function(e,t){return kt(Tt(e),Tt(t))}).concat(q),J=void 0,q=void 0,H=void 0}if(M&&me.onReleaseOldSourceFile){const e=M.getSourceFiles();for(const t of e){const e=Rt(t.resolvedPath);(Ze||!e||e.impliedNodeFormat!==t.impliedNodeFormat||t.resolvedPath===t.path&&e.resolvedPath!==t.path)&&me.onReleaseOldSourceFile(t,M.getCompilerOptions(),!!Rt(t.path),e)}me.getParsedCommandLine||M.forEachResolvedProjectReference(e=>{vn(e.sourceFile.path)||me.onReleaseOldSourceFile(e.sourceFile,M.getCompilerOptions(),!1,void 0)})}M&&me.onReleaseParsedCommandLine&&BC(M.getProjectReferences(),M.getResolvedProjectReferences(),(e,t,n)=>{const r=HU((null==t?void 0:t.commandLine.projectReferences[n])||M.getProjectReferences()[n]);(null==qe?void 0:qe.has(Ct(r)))||me.onReleaseParsedCommandLine(r,e,M.getCompilerOptions())}),M=void 0,ne=void 0,oe=void 0,ce=void 0;const tt={getRootFileNames:()=>E,getSourceFile:jt,getSourceFileByPath:Rt,getSourceFiles:()=>V,getMissingFilePaths:()=>Be,getModuleResolutionCache:()=>De,getFilesByNameMap:()=>Me,getCompilerOptions:()=>P,getSyntacticDiagnostics:function(e,t){return Mt(e,Jt,t)},getOptionsDiagnostics:function(){return Ps(X(Z.getCombinedDiagnostics(tt).getGlobalDiagnostics(),function(){if(!P.configFile)return u;let e=Z.getCombinedDiagnostics(tt).getDiagnostics(P.configFile.fileName);return gn(t=>{e=X(e,Z.getCombinedDiagnostics(tt).getDiagnostics(t.sourceFile.fileName))}),e}()))},getGlobalDiagnostics:function(){return E.length?Ps(Ot().getGlobalDiagnostics().slice()):u},getSemanticDiagnostics:function(e,t,n){return Mt(e,(e,t)=>function(e,t,n){return X(WU(Vt(e,t,n),P),Bt(e))}(e,t,n),t)},getCachedSemanticDiagnostics:function(e){return null==G?void 0:G.get(e.path)},getSuggestionDiagnostics:function(e,t){return qt(()=>Ot().getSuggestionDiagnostics(e,t))},getDeclarationDiagnostics:function(e,t){return Mt(e,Ht,t)},getBindAndCheckDiagnostics:function(e,t){return Vt(e,t,void 0)},getProgramDiagnostics:Bt,getTypeChecker:Ot,getClassifiableNames:function(){var e;if(!$){Ot(),$=new Set;for(const t of V)null==(e=t.classifiableNames)||e.forEach(e=>$.add(e))}return $},getCommonSourceDirectory:wt,emit:function(e,t,n,r,i,o,a){var s,c;null==(s=Xn)||s.push(Xn.Phase.Emit,"emit",{path:null==e?void 0:e.path},!0);const l=qt(()=>function(e,t,n,r,i,o,a,s){if(!a){const i=UU(e,t,n,r);if(i)return i}const c=Ot(),l=c.getEmitResolver(P.outFile?void 0:t,r,gV(i,a));ir("beforeEmit");const _=c.runWithCancellationToken(r,()=>hV(l,Et(n),t,Bq(P,o,i),i,!1,a,s));return ir("afterEmit"),or("Emit","beforeEmit","afterEmit"),_}(tt,e,t,n,r,i,o,a));return null==(c=Xn)||c.pop(),l},getCurrentDirectory:()=>xe,getNodeCount:()=>Ot().getNodeCount(),getIdentifierCount:()=>Ot().getIdentifierCount(),getSymbolCount:()=>Ot().getSymbolCount(),getTypeCount:()=>Ot().getTypeCount(),getInstantiationCount:()=>Ot().getInstantiationCount(),getRelationCacheSizes:()=>Ot().getRelationCacheSizes(),getFileProcessingDiagnostics:()=>Z.getFileProcessingDiagnostics(),getAutomaticTypeDirectiveNames:()=>Y,getAutomaticTypeDirectiveResolutions:()=>ee,isSourceFileFromExternalLibrary:It,isSourceFileDefaultLibrary:function(e){if(!e.isDeclarationFile)return!1;if(e.hasNoDefaultLib)return!0;if(P.noLib)return!1;const t=me.useCaseSensitiveFileNames()?bt:vt;return P.lib?K(P.lib,n=>{const r=te.get(n);return!!r&&t(e.fileName,r.actual)}):t(e.fileName,ye())},getModeForUsageLocation:Hn,getEmitSyntaxForUsageLocation:function(e,t){return hU(e,t,kn(e))},getModeForResolutionAtIndex:Kn,getSourceFileFromReference:function(e,t){return tn(VV(t.fileName,e.fileName),jt)},getLibFileFromReference:function(e){var t;const n=RC(e),r=n&&(null==(t=null==te?void 0:te.get(n))?void 0:t.actual);return void 0!==r?jt(r):void 0},sourceFileToPackageName:je,redirectTargetsMap:Re,usesUriStyleNodeCoreModules:Le,resolvedModules:re,resolvedTypeReferenceDirectiveNames:ae,resolvedLibReferences:te,getProgramDiagnosticsContainer:()=>Z,getResolvedModule:rt,getResolvedModuleFromModuleSpecifier:function(e,t){return null!=t||(t=Sd(e)),fn.assertIsDefined(t,"`moduleSpecifier` must have a `SourceFile` ancestor. Use `program.getResolvedModule` instead to provide the containing file and resolution mode."),rt(t,e.text,Hn(t,e))},getResolvedTypeReferenceDirective:ot,getResolvedTypeReferenceDirectiveFromTypeReferenceDirective:function(e,t){return ot(t,e.fileName,Yn(e,t))},forEachResolvedModule:ct,forEachResolvedTypeReferenceDirective:lt,getCurrentPackagesMap:()=>le,typesPackageExists:function(e){return dt().has(OM(e))},packageBundlesTypes:function(e){return!!dt().get(e)},isEmittedFile:function(e){if(P.noEmit)return!1;const t=Ct(e);if(Rt(t))return!1;const n=P.outFile;if(n)return Wn(t,n)||Wn(t,KS(n)+".d.ts");if(P.declarationDir&&oa(P.declarationDir,t,xe,!me.useCaseSensitiveFileNames()))return!0;if(P.outDir)return oa(P.outDir,t,xe,!me.useCaseSensitiveFileNames());if(No(t,PS)||lO(t)){const e=KS(t);return!!Rt(e+".ts")||!!Rt(e+".tsx")}return!1},getConfigFileParsingDiagnostics:function(){return A||u},getProjectReferences:function(){return I},getResolvedProjectReferences:At,getProjectReferenceRedirect:un,getResolvedProjectReferenceToRedirect:mn,getResolvedProjectReferenceByPath:vn,forEachResolvedProjectReference:gn,isSourceOfProjectReferenceRedirect:yn,getRedirectReferenceForResolutionFromSourceOfProject:St,getCompilerOptionsForFile:kn,getDefaultResolutionModeForFile:Gn,getEmitModuleFormatOfFile:Qn,getImpliedNodeFormatForEmit:function(e){return zU(e,kn(e))},shouldTransformImportCall:Zn,emitBuildInfo:function(e){var t,n;null==(t=Xn)||t.push(Xn.Phase.Emit,"emitBuildInfo",{},!0),ir("beforeEmit");const r=hV(bV,Et(e),void 0,Mq,!1,!0);return ir("afterEmit"),or("Emit","beforeEmit","afterEmit"),null==(n=Xn)||n.pop(),r},fileExists:He,readFile:Qe,directoryExists:Xe,getSymlinkCache:$n,realpath:null==(C=me.realpath)?void 0:C.bind(me),useCaseSensitiveFileNames:()=>me.useCaseSensitiveFileNames(),getCanonicalFileName:Nn,getFileIncludeReasons:()=>Z.getFileReasons(),structureIsReused:Ye,writeFile:Pt,getGlobalTypingsCacheLocation:Ke(me,me.getGlobalTypingsCacheLocation)};return $e(),be||function(){P.strictPropertyInitialization&&!Wk(P,"strictNullChecks")&&jn(ma.Option_0_cannot_be_specified_without_specifying_option_1,"strictPropertyInitialization","strictNullChecks"),P.exactOptionalPropertyTypes&&!Wk(P,"strictNullChecks")&&jn(ma.Option_0_cannot_be_specified_without_specifying_option_1,"exactOptionalPropertyTypes","strictNullChecks"),(P.isolatedModules||P.verbatimModuleSyntax)&&P.outFile&&jn(ma.Option_0_cannot_be_specified_with_option_1,"outFile",P.verbatimModuleSyntax?"verbatimModuleSyntax":"isolatedModules"),P.isolatedDeclarations&&(Rk(P)&&jn(ma.Option_0_cannot_be_specified_with_option_1,"allowJs","isolatedDeclarations"),Ik(P)||jn(ma.Option_0_cannot_be_specified_without_specifying_option_1_or_option_2,"isolatedDeclarations","declaration","composite")),P.inlineSourceMap&&(P.sourceMap&&jn(ma.Option_0_cannot_be_specified_with_option_1,"sourceMap","inlineSourceMap"),P.mapRoot&&jn(ma.Option_0_cannot_be_specified_with_option_1,"mapRoot","inlineSourceMap")),P.composite&&(!1===P.declaration&&jn(ma.Composite_projects_may_not_disable_declaration_emit,"declaration"),!1===P.incremental&&jn(ma.Composite_projects_may_not_disable_incremental_compilation,"declaration"));const e=P.outFile;if(P.tsBuildInfoFile||!P.incremental||e||P.configFilePath||Z.addConfigDiagnostic(nk(ma.Option_incremental_can_only_be_specified_using_tsconfig_emitting_to_single_file_or_when_option_tsBuildInfoFile_is_specified)),function(){function e(e,t,n,r,...i){if(n){const o=ik(void 0,ma.Use_0_instead,n);Bn(!t,e,void 0,ik(o,r,...i))}else Bn(!t,e,void 0,r,...i)}Pn("5.0","5.5",e,e=>{0===P.target&&e("target","ES3"),P.noImplicitUseStrict&&e("noImplicitUseStrict"),P.keyofStringsOnly&&e("keyofStringsOnly"),P.suppressExcessPropertyErrors&&e("suppressExcessPropertyErrors"),P.suppressImplicitAnyIndexErrors&&e("suppressImplicitAnyIndexErrors"),P.noStrictGenericChecks&&e("noStrictGenericChecks"),P.charset&&e("charset"),P.out&&e("out",void 0,"outFile"),P.importsNotUsedAsValues&&e("importsNotUsedAsValues",void 0,"verbatimModuleSyntax"),P.preserveValueImports&&e("preserveValueImports",void 0,"verbatimModuleSyntax")})}(),function(){const e=P.suppressOutputPathCheck?void 0:Zq(P);BC(I,ze,(t,n,r)=>{const i=(n?n.commandLine.projectReferences:I)[r],o=n&&n.sourceFile;if(function(e,t,n){function r(e,r,i,o,...a){Mn(t,n,o,...a)}Pn("5.0","5.5",r,t=>{e.prepend&&t("prepend")})}(i,o,r),!t)return void Mn(o,r,ma.File_0_not_found,i.path);const a=t.commandLine.options;a.composite&&!a.noEmit||(n?n.commandLine.fileNames:E).length&&(a.composite||Mn(o,r,ma.Referenced_project_0_must_have_setting_composite_Colon_true,i.path),a.noEmit&&Mn(o,r,ma.Referenced_project_0_may_not_disable_emit,i.path)),!n&&e&&e===Zq(a)&&(Mn(o,r,ma.Cannot_write_file_0_because_it_will_overwrite_tsbuildinfo_file_generated_by_referenced_project_1,e,i.path),Te.set(Ct(e),!0))})}(),P.composite){const e=new Set(E.map(Ct));for(const t of V)ev(t,tt)&&!e.has(t.path)&&Z.addLazyConfigDiagnostic(t,ma.File_0_is_not_listed_within_the_file_list_of_project_1_Projects_must_list_all_files_or_use_an_include_pattern,t.fileName,P.configFilePath||"")}if(P.paths)for(const a in P.paths)if(Pe(P.paths,a))if(tS(a)||On(!0,a,ma.Pattern_0_can_have_at_most_one_Asterisk_character,a),et(P.paths[a])){const e=P.paths[a].length;0===e&&On(!1,a,ma.Substitutions_for_pattern_0_shouldn_t_be_an_empty_array,a);for(let t=0;t<e;t++){const e=P.paths[a][t],n=typeof e;"string"===n?(tS(e)||In(a,t,ma.Substitution_0_in_pattern_1_can_have_at_most_one_Asterisk_character,e,a),P.baseUrl||To(e)||So(e)||In(a,t,ma.Non_relative_paths_are_not_allowed_when_baseUrl_is_not_set_Did_you_forget_a_leading_Slash)):In(a,t,ma.Substitution_0_for_pattern_1_has_incorrect_type_expected_string_got_2,e,a,n)}}else On(!1,a,ma.Substitutions_for_pattern_0_should_be_an_array,a);P.sourceMap||P.inlineSourceMap||(P.inlineSources&&jn(ma.Option_0_can_only_be_used_when_either_option_inlineSourceMap_or_option_sourceMap_is_provided,"inlineSources"),P.sourceRoot&&jn(ma.Option_0_can_only_be_used_when_either_option_inlineSourceMap_or_option_sourceMap_is_provided,"sourceRoot")),!P.mapRoot||P.sourceMap||P.declarationMap||jn(ma.Option_0_cannot_be_specified_without_specifying_option_1_or_option_2,"mapRoot","sourceMap","declarationMap"),P.declarationDir&&(Ik(P)||jn(ma.Option_0_cannot_be_specified_without_specifying_option_1_or_option_2,"declarationDir","declaration","composite"),e&&jn(ma.Option_0_cannot_be_specified_with_option_1,"declarationDir","outFile")),P.declarationMap&&!Ik(P)&&jn(ma.Option_0_cannot_be_specified_without_specifying_option_1_or_option_2,"declarationMap","declaration","composite"),P.lib&&P.noLib&&jn(ma.Option_0_cannot_be_specified_with_option_1,"lib","noLib");const t=Sk(P),n=k(V,e=>tO(e)&&!e.isDeclarationFile);if(P.isolatedModules||P.verbatimModuleSyntax)0===P.module&&t<2&&P.isolatedModules&&jn(ma.Option_isolatedModules_can_only_be_used_when_either_option_module_is_provided_or_option_target_is_ES2015_or_higher,"isolatedModules","target"),!1===P.preserveConstEnums&&jn(ma.Option_preserveConstEnums_cannot_be_disabled_when_0_is_enabled,P.verbatimModuleSyntax?"verbatimModuleSyntax":"isolatedModules","preserveConstEnums");else if(n&&t<2&&0===P.module){const e=tf(n,"boolean"==typeof n.externalModuleIndicator?n:n.externalModuleIndicator);Z.addConfigDiagnostic(ek(n,e.start,e.length,ma.Cannot_use_imports_exports_or_module_augmentations_when_module_is_none))}if(e&&!P.emitDeclarationOnly)if(P.module&&2!==P.module&&4!==P.module)jn(ma.Only_amd_and_system_modules_are_supported_alongside_0,"outFile","module");else if(void 0===P.module&&n){const e=tf(n,"boolean"==typeof n.externalModuleIndicator?n:n.externalModuleIndicator);Z.addConfigDiagnostic(ek(n,e.start,e.length,ma.Cannot_compile_modules_using_option_0_unless_the_module_flag_is_amd_or_system,"outFile"))}if(Ak(P)&&(1===Ck(P)?jn(ma.Option_resolveJsonModule_cannot_be_specified_when_moduleResolution_is_set_to_classic,"resolveJsonModule"):Jk(P)||jn(ma.Option_resolveJsonModule_cannot_be_specified_when_module_is_set_to_none_system_or_umd,"resolveJsonModule","module")),P.outDir||P.rootDir||P.sourceRoot||P.mapRoot||Ik(P)&&P.declarationDir){const e=wt();P.outDir&&""===e&&V.some(e=>Ao(e.fileName)>1)&&jn(ma.Cannot_find_the_common_subdirectory_path_for_the_input_files,"outDir")}P.checkJs&&!Rk(P)&&jn(ma.Option_0_cannot_be_specified_without_specifying_option_1,"checkJs","allowJs"),P.emitDeclarationOnly&&(Ik(P)||jn(ma.Option_0_cannot_be_specified_without_specifying_option_1_or_option_2,"emitDeclarationOnly","declaration","composite")),P.emitDecoratorMetadata&&!P.experimentalDecorators&&jn(ma.Option_0_cannot_be_specified_without_specifying_option_1,"emitDecoratorMetadata","experimentalDecorators"),P.jsxFactory?(P.reactNamespace&&jn(ma.Option_0_cannot_be_specified_with_option_1,"reactNamespace","jsxFactory"),4!==P.jsx&&5!==P.jsx||jn(ma.Option_0_cannot_be_specified_when_option_jsx_is_1,"jsxFactory",SO.get(""+P.jsx)),YI(P.jsxFactory,t)||Rn("jsxFactory",ma.Invalid_value_for_jsxFactory_0_is_not_a_valid_identifier_or_qualified_name,P.jsxFactory)):P.reactNamespace&&!bs(P.reactNamespace,t)&&Rn("reactNamespace",ma.Invalid_value_for_reactNamespace_0_is_not_a_valid_identifier,P.reactNamespace),P.jsxFragmentFactory&&(P.jsxFactory||jn(ma.Option_0_cannot_be_specified_without_specifying_option_1,"jsxFragmentFactory","jsxFactory"),4!==P.jsx&&5!==P.jsx||jn(ma.Option_0_cannot_be_specified_when_option_jsx_is_1,"jsxFragmentFactory",SO.get(""+P.jsx)),YI(P.jsxFragmentFactory,t)||Rn("jsxFragmentFactory",ma.Invalid_value_for_jsxFragmentFactory_0_is_not_a_valid_identifier_or_qualified_name,P.jsxFragmentFactory)),P.reactNamespace&&(4!==P.jsx&&5!==P.jsx||jn(ma.Option_0_cannot_be_specified_when_option_jsx_is_1,"reactNamespace",SO.get(""+P.jsx))),P.jsxImportSource&&2===P.jsx&&jn(ma.Option_0_cannot_be_specified_when_option_jsx_is_1,"jsxImportSource",SO.get(""+P.jsx));const r=Tk(P);P.verbatimModuleSyntax&&(2!==r&&3!==r&&4!==r||jn(ma.Option_verbatimModuleSyntax_cannot_be_used_when_module_is_set_to_UMD_AMD_or_System,"verbatimModuleSyntax")),P.allowImportingTsExtensions&&!(P.noEmit||P.emitDeclarationOnly||P.rewriteRelativeImportExtensions)&&Rn("allowImportingTsExtensions",ma.Option_allowImportingTsExtensions_can_only_be_used_when_either_noEmit_or_emitDeclarationOnly_is_set);const i=Ck(P);if(P.resolvePackageJsonExports&&!Vk(i)&&jn(ma.Option_0_can_only_be_used_when_moduleResolution_is_set_to_node16_nodenext_or_bundler,"resolvePackageJsonExports"),P.resolvePackageJsonImports&&!Vk(i)&&jn(ma.Option_0_can_only_be_used_when_moduleResolution_is_set_to_node16_nodenext_or_bundler,"resolvePackageJsonImports"),P.customConditions&&!Vk(i)&&jn(ma.Option_0_can_only_be_used_when_moduleResolution_is_set_to_node16_nodenext_or_bundler,"customConditions"),100!==i||Bk(r)||200===r||Rn("moduleResolution",ma.Option_0_can_only_be_used_when_module_is_set_to_preserve_or_to_es2015_or_later,"bundler"),hi[r]&&100<=r&&r<=199&&!(3<=i&&i<=99)){const e=hi[r],t=di[e]?e:"Node16";Rn("moduleResolution",ma.Option_moduleResolution_must_be_set_to_0_or_left_unspecified_when_option_module_is_set_to_1,t,e)}else if(di[i]&&3<=i&&i<=99&&!(100<=r&&r<=199)){const e=di[i];Rn("module",ma.Option_module_must_be_set_to_0_when_option_moduleResolution_is_set_to_1,e,e)}if(!P.noEmit&&!P.suppressOutputPathCheck){const e=Et(),t=new Set;Qq(e,e=>{P.emitDeclarationOnly||o(e.jsFilePath,t),o(e.declarationFilePath,t)})}function o(e,t){if(e){const n=Ct(e);if(Me.has(n)){let t;P.configFilePath||(t=ik(void 0,ma.Adding_a_tsconfig_json_file_will_help_organize_projects_that_contain_both_TypeScript_and_JavaScript_files_Learn_more_at_https_Colon_Slash_Slashaka_ms_Slashtsconfig)),t=ik(t,ma.Cannot_write_file_0_because_it_would_overwrite_input_file,e),Un(e,rk(t))}const r=me.useCaseSensitiveFileNames()?n:pt(n);t.has(r)?Un(e,nk(ma.Cannot_write_file_0_because_it_would_be_overwritten_by_multiple_input_files,e)):t.add(r)}}}(),ir("afterProgram"),or("Program","beforeProgram","afterProgram"),null==(D=Xn)||D.pop(),tt;function rt(e,t,n){var r;return null==(r=null==re?void 0:re.get(e.path))?void 0:r.get(t,n)}function ot(e,t,n){var r;return null==(r=null==ae?void 0:ae.get(e.path))?void 0:r.get(t,n)}function ct(e,t){ut(re,e,t)}function lt(e,t){ut(ae,e,t)}function ut(e,t,n){var r;n?null==(r=null==e?void 0:e.get(n.path))||r.forEach((e,r,i)=>t(e,r,i,n.path)):null==e||e.forEach((e,n)=>e.forEach((e,r,i)=>t(e,r,i,n)))}function dt(){return le||(le=new Map,ct(({resolvedModule:e})=>{(null==e?void 0:e.packageId)&&le.set(e.packageId.name,".d.ts"===e.extension||!!le.get(e.packageId.name))}),le)}function ft(e){var t;(null==(t=e.resolutionDiagnostics)?void 0:t.length)&&Z.addFileProcessingDiagnostic({kind:2,diagnostics:e.resolutionDiagnostics})}function gt(e,t,n,r){if(me.resolveModuleNameLiterals||!me.resolveModuleNames)return ft(n);if(!De||Es(t))return;const i=Io(Uo(e.originalFileName,xe)),o=xt(e),a=De.getFromNonRelativeNameCache(t,r,i,o);a&&ft(a)}function ht(e,t,n){var r,i;const o=Uo(t.originalFileName,xe),a=xt(t);null==(r=Xn)||r.push(Xn.Phase.Program,"resolveModuleNamesWorker",{containingFileName:o}),ir("beforeResolveModule");const s=Ne(e,o,a,P,t,n);return ir("afterResolveModule"),or("ResolveModule","beforeResolveModule","afterResolveModule"),null==(i=Xn)||i.pop(),s}function yt(e,t,n){var r,i;const o=nt(t)?void 0:t,a=nt(t)?t:Uo(t.originalFileName,xe),s=o&&xt(o);null==(r=Xn)||r.push(Xn.Phase.Program,"resolveTypeReferenceDirectiveNamesWorker",{containingFileName:a}),ir("beforeResolveTypeReference");const c=Ee(e,a,s,P,o,n);return ir("afterResolveTypeReference"),or("ResolveTypeReference","beforeResolveTypeReference","afterResolveTypeReference"),null==(i=Xn)||i.pop(),c}function xt(e){const t=mn(e.originalFileName);if(t||!lO(e.originalFileName))return t;const n=St(e.path);if(n)return n;if(!me.realpath||!P.preserveSymlinks||!e.originalFileName.includes(ZR))return;const r=Ct(me.realpath(e.originalFileName));return r===e.path?void 0:St(r)}function St(e){const t=hn(e);return nt(t)?mn(t):t?gn(t=>{const n=t.commandLine.options.outFile;if(n)return Ct(n)===e?t:void 0}):void 0}function Tt(e){if(oa(ve,e.fileName,!1)){const t=Oo(e.fileName);if("lib.d.ts"===t||"lib.es6.d.ts"===t)return 0;const n=zt(Yt(t,"lib."),".d.ts"),r=CO.indexOf(n);if(-1!==r)return r+1}return CO.length+2}function Ct(e){return Ko(e,xe,Nn)}function wt(){let e=Z.getCommonSourceDirectory();if(void 0!==e)return e;const t=F(V,e=>ev(e,tt));return e=uV(P,()=>z(t,e=>e.isDeclarationFile?void 0:e.fileName),xe,Nn,e=>function(e,t){let n=!0;const r=me.getCanonicalFileName(Uo(t,xe));for(const i of e)i.isDeclarationFile||0!==me.getCanonicalFileName(Uo(i.fileName,xe)).indexOf(r)&&(Z.addLazyConfigDiagnostic(i,ma.File_0_is_not_under_rootDir_1_rootDir_is_expected_to_contain_all_source_files,i.fileName,t),n=!1);return n}(t,e)),Z.setCommonSourceDirectory(e),e}function Dt(e,t){return Ft({entries:e,containingFile:t,containingSourceFile:t,redirectedReference:xt(t),nameAndModeGetter:xU,resolutionWorker:ht,getResolutionFromOldProgram:(e,n)=>null==M?void 0:M.getResolvedModule(t,e,n),getResolved:fd,canReuseResolutionsInFile:()=>t===(null==M?void 0:M.getSourceFile(t.fileName))&&!Fe(t.path),resolveToOwnAmbientModule:!0})}function Nt(e,t){const n=nt(t)?void 0:t;return Ft({entries:e,containingFile:t,containingSourceFile:n,redirectedReference:n&&xt(n),nameAndModeGetter:TU,resolutionWorker:yt,getResolutionFromOldProgram:(e,t)=>{var r;return n?null==M?void 0:M.getResolvedTypeReferenceDirective(n,e,t):null==(r=null==M?void 0:M.getAutomaticTypeDirectiveResolutions())?void 0:r.get(e,t)},getResolved:md,canReuseResolutionsInFile:()=>n?n===(null==M?void 0:M.getSourceFile(n.fileName))&&!Fe(n.path):!Fe(Ct(t))})}function Ft({entries:e,containingFile:t,containingSourceFile:n,redirectedReference:r,nameAndModeGetter:i,resolutionWorker:o,getResolutionFromOldProgram:a,getResolved:s,canReuseResolutionsInFile:c,resolveToOwnAmbientModule:l}){var _;if(!e.length)return u;if(!(0!==Ye||l&&n.ambientModuleNames.length))return o(e,t,void 0);let d,p,f,m;const g=c();for(let u=0;u<e.length;u++){const c=e[u];if(g){const l=i.getName(c),d=a(l,i.getMode(c,n,null!=(_=null==r?void 0:r.commandLine.options)?_:P)),p=d&&s(d);if(p){Zj(P,me)&&Qj(me,o===ht?p.packageId?ma.Reusing_resolution_of_module_0_from_1_of_old_program_it_was_successfully_resolved_to_2_with_Package_ID_3:ma.Reusing_resolution_of_module_0_from_1_of_old_program_it_was_successfully_resolved_to_2:p.packageId?ma.Reusing_resolution_of_type_reference_directive_0_from_1_of_old_program_it_was_successfully_resolved_to_2_with_Package_ID_3:ma.Reusing_resolution_of_type_reference_directive_0_from_1_of_old_program_it_was_successfully_resolved_to_2,l,n?Uo(n.originalFileName,xe):t,p.resolvedFileName,p.packageId&&vd(p.packageId)),(null!=f?f:f=new Array(e.length))[u]=d,(null!=m?m:m=[]).push(c);continue}}if(l){const t=i.getName(c);if(w(n.ambientModuleNames,t)){Zj(P,me)&&Qj(me,ma.Module_0_was_resolved_as_locally_declared_ambient_module_in_file_1,t,Uo(n.originalFileName,xe)),(null!=f?f:f=new Array(e.length))[u]=vU;continue}}(null!=d?d:d=[]).push(c),(null!=p?p:p=[]).push(u)}if(!d)return f;const h=o(d,t,m);return f?(h.forEach((e,t)=>f[p[t]]=e),f):h}function Et(e){return{getCanonicalFileName:Nn,getCommonSourceDirectory:tt.getCommonSourceDirectory,getCompilerOptions:tt.getCompilerOptions,getCurrentDirectory:()=>xe,getSourceFile:tt.getSourceFile,getSourceFileByPath:tt.getSourceFileByPath,getSourceFiles:tt.getSourceFiles,isSourceFileFromExternalLibrary:It,getResolvedProjectReferenceToRedirect:mn,getProjectReferenceRedirect:un,isSourceOfProjectReferenceRedirect:yn,getSymlinkCache:$n,writeFile:e||Pt,isEmitBlocked:Lt,shouldTransformImportCall:Zn,getEmitModuleFormatOfFile:Qn,getDefaultResolutionModeForFile:Gn,getModeForResolutionAtIndex:Kn,readFile:e=>me.readFile(e),fileExists:e=>{const t=Ct(e);return!!Rt(t)||!Be.has(t)&&me.fileExists(e)},realpath:Ke(me,me.realpath),useCaseSensitiveFileNames:()=>me.useCaseSensitiveFileNames(),getBuildInfo:()=>{var e;return null==(e=tt.getBuildInfo)?void 0:e.call(tt)},getSourceFileFromReference:(e,t)=>tt.getSourceFileFromReference(e,t),redirectTargetsMap:Re,getFileIncludeReasons:tt.getFileIncludeReasons,createHash:Ke(me,me.createHash),getModuleResolutionCache:()=>tt.getModuleResolutionCache(),trace:Ke(me,me.trace),getGlobalTypingsCacheLocation:tt.getGlobalTypingsCacheLocation}}function Pt(e,t,n,r,i,o){me.writeFile(e,t,n,r,i,o)}function At(){return ze}function It(e){return!!fe.get(e.path)}function Ot(){return W||(W=aJ(tt))}function Lt(e){return Te.has(Ct(e))}function jt(e){return Rt(Ct(e))}function Rt(e){return Me.get(e)||void 0}function Mt(e,t,n){return Ps(e?t(e,n):j(tt.getSourceFiles(),e=>(n&&n.throwIfCancellationRequested(),t(e,n))))}function Bt(e){var t;if(mT(e,P,tt))return u;const n=Z.getCombinedDiagnostics(tt).getDiagnostics(e.fileName);return(null==(t=e.commentDirectives)?void 0:t.length)?Wt(e,e.commentDirectives,n).diagnostics:n}function Jt(e){return Im(e)?(e.additionalSyntacticDiagnostics||(e.additionalSyntacticDiagnostics=function(e){return qt(()=>{const t=[];return n(e,e),GI(e,n,r),t;function n(e,n){switch(n.kind){case 169:case 172:case 174:if(n.questionToken===e)return t.push(a(e,ma.The_0_modifier_can_only_be_used_in_TypeScript_files,"?")),"skip";case 173:case 176:case 177:case 178:case 218:case 262:case 219:case 260:if(n.type===e)return t.push(a(e,ma.Type_annotations_can_only_be_used_in_TypeScript_files)),"skip"}switch(e.kind){case 273:if(e.isTypeOnly)return t.push(a(n,ma._0_declarations_can_only_be_used_in_TypeScript_files,"import type")),"skip";break;case 278:if(e.isTypeOnly)return t.push(a(e,ma._0_declarations_can_only_be_used_in_TypeScript_files,"export type")),"skip";break;case 276:case 281:if(e.isTypeOnly)return t.push(a(e,ma._0_declarations_can_only_be_used_in_TypeScript_files,wE(e)?"import...type":"export...type")),"skip";break;case 271:return t.push(a(e,ma.import_can_only_be_used_in_TypeScript_files)),"skip";case 277:if(e.isExportEquals)return t.push(a(e,ma.export_can_only_be_used_in_TypeScript_files)),"skip";break;case 298:if(119===e.token)return t.push(a(e,ma.implements_clauses_can_only_be_used_in_TypeScript_files)),"skip";break;case 264:const r=Oa(120);return fn.assertIsDefined(r),t.push(a(e,ma._0_declarations_can_only_be_used_in_TypeScript_files,r)),"skip";case 267:const i=32&e.flags?Oa(145):Oa(144);return fn.assertIsDefined(i),t.push(a(e,ma._0_declarations_can_only_be_used_in_TypeScript_files,i)),"skip";case 265:return t.push(a(e,ma.Type_aliases_can_only_be_used_in_TypeScript_files)),"skip";case 176:case 174:case 262:return e.body?void 0:(t.push(a(e,ma.Signature_declarations_can_only_be_used_in_TypeScript_files)),"skip");case 266:const o=fn.checkDefined(Oa(94));return t.push(a(e,ma._0_declarations_can_only_be_used_in_TypeScript_files,o)),"skip";case 235:return t.push(a(e,ma.Non_null_assertions_can_only_be_used_in_TypeScript_files)),"skip";case 234:return t.push(a(e.type,ma.Type_assertion_expressions_can_only_be_used_in_TypeScript_files)),"skip";case 238:return t.push(a(e.type,ma.Type_satisfaction_expressions_can_only_be_used_in_TypeScript_files)),"skip";case 216:fn.fail()}}function r(e,n){if(zA(n)){const e=k(n.modifiers,bN);e&&t.push(a(e,ma.Decorators_are_not_valid_here))}else if(xI(n)&&n.modifiers){const e=T(n.modifiers,bN);if(e>=0)if(vN(n)&&!P.experimentalDecorators)t.push(a(n.modifiers[e],ma.Decorators_are_not_valid_here));else if(sE(n)){const r=T(n.modifiers,rN);if(r>=0){const i=T(n.modifiers,iN);if(e>r&&i>=0&&e<i)t.push(a(n.modifiers[e],ma.Decorators_are_not_valid_here));else if(r>=0&&e<r){const i=T(n.modifiers,bN,r);i>=0&&t.push(uT(a(n.modifiers[i],ma.Decorators_may_not_appear_after_export_or_export_default_if_they_also_appear_before_export),a(n.modifiers[e],ma.Decorator_used_before_export_here)))}}}}switch(n.kind){case 263:case 231:case 174:case 176:case 177:case 178:case 218:case 262:case 219:if(e===n.typeParameters)return t.push(o(e,ma.Type_parameter_declarations_can_only_be_used_in_TypeScript_files)),"skip";case 243:if(e===n.modifiers)return i(n.modifiers,243===n.kind),"skip";break;case 172:if(e===n.modifiers){for(const n of e)i_(n)&&126!==n.kind&&129!==n.kind&&t.push(a(n,ma.The_0_modifier_can_only_be_used_in_TypeScript_files,Oa(n.kind)));return"skip"}break;case 169:if(e===n.modifiers&&K(e,i_))return t.push(o(e,ma.Parameter_modifiers_can_only_be_used_in_TypeScript_files)),"skip";break;case 213:case 214:case 233:case 285:case 286:case 215:if(e===n.typeArguments)return t.push(o(e,ma.Type_arguments_can_only_be_used_in_TypeScript_files)),"skip"}}function i(e,n){for(const r of e)switch(r.kind){case 87:if(n)continue;case 125:case 123:case 124:case 148:case 138:case 128:case 164:case 103:case 147:t.push(a(r,ma.The_0_modifier_can_only_be_used_in_TypeScript_files,Oa(r.kind)))}}function o(t,n,...r){const i=t.pos;return ek(e,i,t.end-i,n,...r)}function a(t,n,...r){return Up(e,t,n,...r)}})}(e)),X(e.additionalSyntacticDiagnostics,e.parseDiagnostics)):e.parseDiagnostics}function qt(e){try{return e()}catch(t){throw t instanceof Nr&&(W=void 0),t}}function Vt(e,t,n){if(n)return Ut(e,t,n);let r=null==G?void 0:G.get(e.path);return r||(null!=G?G:G=new Map).set(e.path,r=Ut(e,t)),r}function Ut(e,t,n){return qt(()=>{if(mT(e,P,tt))return u;const r=Ot();fn.assert(!!e.bindDiagnostics);const i=1===e.scriptKind||2===e.scriptKind,o=Cd(e,P.checkJs),a=i&&sT(e,P);let s=e.bindDiagnostics,c=r.getDiagnostics(e,t,n);return o&&(s=F(s,e=>RU.has(e.code)),c=F(c,e=>RU.has(e.code))),function(e,t,n,...r){var i;const o=L(r);if(!t||!(null==(i=e.commentDirectives)?void 0:i.length))return o;const{diagnostics:a,directives:s}=Wt(e,e.commentDirectives,o);if(n)return a;for(const c of s.getUnusedExpectations())a.push(Qp(e,c.range,ma.Unused_ts_expect_error_directive));return a}(e,!o,!!n,s,c,a?e.jsDocDiagnostics:void 0)})}function Wt(e,t,n){const r=Ud(e,t),i=n.filter(e=>-1===function(e,t){const{file:n,start:r}=e;if(!n)return-1;const i=qa(n);let o=Va(i,r).line-1;for(;o>=0;){if(t.markUsed(o))return o;const e=n.text.slice(i[o],i[o+1]).trim();if(""!==e&&!/^\s*\/\/.*$/.test(e))return-1;o--}return-1}(e,r));return{diagnostics:i,directives:r}}function $t(e,t){let n=null==Q?void 0:Q.get(e.path);return n||(null!=Q?Q:Q=new Map).set(e.path,n=function(e,t){return qt(()=>{const n=Ot().getEmitResolver(e,t);return Aq(Et(at),n,e)||u})}(e,t)),n}function Ht(e,t){return e.isDeclarationFile?u:$t(e,t)}function Kt(e,t,n,r){nn(Wo(e),t,n,void 0,r)}function Gt(e,t){return e.fileName===t.fileName}function Xt(e,t){return 80===e.kind?80===t.kind&&e.escapedText===t.escapedText:11===t.kind&&e.text===t.text}function Qt(e,t){const n=_w.createStringLiteral(e),r=_w.createImportDeclaration(void 0,void 0,n);return vw(r,2),IT(n,r),IT(r,t),n.flags&=-17,r.flags&=-17,n}function en(e){if(e.imports)return;const t=Im(e),n=tO(e);let r,i,o;if(t||!e.isDeclarationFile&&(Dk(P)||tO(e))){P.importHelpers&&(r=[Qt(Ku,e)]);const t=eS(Yk(P,e),P);t&&(r||(r=[])).push(Qt(t,e))}for(const s of e.statements)a(s,!1);return(4194304&e.flags||t)&&IC(e,!0,!0,(e,t)=>{OT(e,!1),r=se(r,t)}),e.imports=r||u,e.moduleAugmentations=i||u,void(e.ambientModuleNames=o||u);function a(t,s){if(Ap(t)){const n=wg(t);!(n&&MD(n)&&n.text)||s&&Es(n.text)||(OT(t,!1),r=se(r,n),Le||0!==ue||e.isDeclarationFile||(Zt(n.text,"node:")&&!PC.has(n.text)?Le=!0:void 0===Le&&EC.has(n.text)&&(Le=!1)))}else if(uE(t)&&dp(t)&&(s||Av(t,128)||e.isDeclarationFile)){t.name.parent=t;const r=$h(t.name);if(n||s&&!Es(r))(i||(i=[])).push(t.name);else if(!s){e.isDeclarationFile&&(o||(o=[])).push(r);const n=t.body;if(n)for(const e of n.statements)a(e,!0)}}}}function tn(e,t,n,r){if(wo(e)){const i=me.getCanonicalFileName(e);if(!P.allowNonTsExtensions&&!f(L(Se),e=>Do(i,e)))return void(n&&(BS(i)?n(ma.File_0_is_a_JavaScript_file_Did_you_mean_to_enable_the_allowJs_option,e):n(ma.File_0_has_an_unsupported_extension_The_only_supported_extensions_are_1,e,"'"+L(ke).join("', '")+"'")));const o=t(e);if(n)if(o)EU(r)&&i===me.getCanonicalFileName(Rt(r.file).fileName)&&n(ma.A_file_cannot_have_a_reference_to_itself);else{const t=un(e);t?n(ma.Output_file_0_has_not_been_built_from_source_file_1,t,e):n(ma.File_0_not_found,e)}return o}{const r=P.allowNonTsExtensions&&t(e);if(r)return r;if(n&&P.allowNonTsExtensions)return void n(ma.File_0_not_found,e);const i=f(ke[0],n=>t(e+n));return n&&!i&&n(ma.Could_not_resolve_the_path_0_with_the_extensions_Colon_1,e,"'"+L(ke).join("', '")+"'"),i}}function nn(e,t,n,r,i){tn(e,e=>an(e,t,n,i,r),(e,...t)=>An(void 0,i,e,t),i)}function rn(e,t){return nn(e,!1,!1,void 0,t)}function on(e,t,n){!EU(n)&&K(Z.getFileReasons().get(t.path),EU)?An(t,n,ma.Already_included_file_name_0_differs_from_file_name_1_only_in_casing,[t.fileName,e]):An(t,n,ma.File_name_0_differs_from_already_included_file_name_1_only_in_casing,[e,t.fileName])}function an(e,t,n,r,i){var o,a;null==(o=Xn)||o.push(Xn.Phase.Program,"findSourceFile",{fileName:e,isDefaultLib:t||void 0,fileIncludeKind:Fr[r.kind]});const s=function(e,t,n,r,i){var o;const a=Ct(e);if(We){let o=hn(a);if(!o&&me.realpath&&P.preserveSymlinks&&lO(e)&&e.includes(ZR)){const t=Ct(me.realpath(e));t!==a&&(o=hn(t))}if(o){const s=nt(o)?an(o,t,n,r,i):void 0;return s&&ln(s,a,e,void 0),s}}const s=e;if(Me.has(a)){const n=Me.get(a),i=cn(n||void 0,r,!0);if(n&&i&&!1!==P.forceConsistentCasingInFileNames){const t=n.fileName;Ct(t)!==Ct(e)&&(e=un(e)||e),Ho(t,xe)!==Ho(e,xe)&&on(e,n,r)}return n&&fe.get(n.path)&&0===ue?(fe.set(n.path,!1),P.noResolve||(bn(n,t),xn(n)),P.noLib||Dn(n),de.set(n.path,!1),Fn(n)):n&&de.get(n.path)&&ue<_e&&(de.set(n.path,!1),Fn(n)),n||void 0}let c;if(!We){const t=dn(e);if(t){if(t.commandLine.options.outFile)return;const n=pn(t,e);e=n,c=Ct(n)}}const l=sn(e,De,me,P),_=me.getSourceFile(e,l,t=>An(void 0,r,ma.Cannot_read_file_0_Colon_1,[e,t]),Ze);if(i){const t=vd(i),n=Oe.get(t);if(n){const t=function(e,t,n,r,i,o,a){var s;const c=SI.createRedirectedSourceFile({redirectTarget:e,unredirected:t});return c.fileName=n,c.path=r,c.resolvedPath=i,c.originalFileName=o,c.packageJsonLocations=(null==(s=a.packageJsonLocations)?void 0:s.length)?a.packageJsonLocations:void 0,c.packageJsonScope=a.packageJsonScope,fe.set(r,ue>0),c}(n,_,e,a,Ct(e),s,l);return Re.add(n.path,e),ln(t,a,e,c),cn(t,r,!1),je.set(a,yd(i)),q.push(t),t}_&&(Oe.set(t,_),je.set(a,yd(i)))}if(ln(_,a,e,c),_){if(fe.set(a,ue>0),_.fileName=e,_.path=a,_.resolvedPath=Ct(e),_.originalFileName=s,_.packageJsonLocations=(null==(o=l.packageJsonLocations)?void 0:o.length)?l.packageJsonLocations:void 0,_.packageJsonScope=l.packageJsonScope,cn(_,r,!1),me.useCaseSensitiveFileNames()){const t=pt(a),n=Je.get(t);n?on(e,n,r):Je.set(t,_)}he=he||_.hasNoDefaultLib&&!n,P.noResolve||(bn(_,t),xn(_)),P.noLib||Dn(_),Fn(_),t?J.push(_):q.push(_),(null!=H?H:H=new Set).add(_.path)}return _}(e,t,n,r,i);return null==(a=Xn)||a.pop(),s}function sn(e,t,n,r){const i=jU(Uo(e,xe),null==t?void 0:t.getPackageJsonInfoCache(),n,r),o=Sk(r),a=yk(r);return"object"==typeof i?__spreadProps(__spreadValues({},i),{languageVersion:o,setExternalModuleIndicator:a,jsDocParsingMode:n.jsDocParsingMode}):{languageVersion:o,impliedNodeFormat:i,setExternalModuleIndicator:a,jsDocParsingMode:n.jsDocParsingMode}}function cn(e,t,n){return!(!e||n&&EU(t)&&(null==H?void 0:H.has(t.file))||(Z.getFileReasons().add(e.path,t),0))}function ln(e,t,n,r){r?(_n(n,r,e),_n(n,t,e||!1)):_n(n,t,e)}function _n(e,t,n){Me.set(t,n),void 0!==n?Be.delete(t):Be.set(t,e)}function un(e){const t=dn(e);return t&&pn(t,e)}function dn(e){if(ze&&ze.length&&!lO(e)&&!Do(e,".json"))return mn(e)}function pn(e,t){const n=e.commandLine.options.outFile;return n?QS(n,".d.ts"):iV(t,e.commandLine,!me.useCaseSensitiveFileNames())}function mn(e){void 0===Ve&&(Ve=new Map,gn(e=>{Ct(P.configFilePath)!==e.sourceFile.path&&e.commandLine.fileNames.forEach(t=>Ve.set(Ct(t),e.sourceFile.path))}));const t=Ve.get(Ct(e));return t&&vn(t)}function gn(e){return MC(ze,e)}function hn(e){if(lO(e))return void 0===Ue&&(Ue=new Map,gn(e=>{const t=e.commandLine.options.outFile;if(t){const e=QS(t,".d.ts");Ue.set(Ct(e),!0)}else{const t=mt(()=>dV(e.commandLine,!me.useCaseSensitiveFileNames()));f(e.commandLine.fileNames,n=>{if(!lO(n)&&!Do(n,".json")){const r=iV(n,e.commandLine,!me.useCaseSensitiveFileNames(),t);Ue.set(Ct(r),n)}})}})),Ue.get(e)}function yn(e){return We&&!!mn(e)}function vn(e){if(qe)return qe.get(e)||void 0}function bn(e,t){f(e.referencedFiles,(n,r)=>{nn(VV(n.fileName,e.fileName),t,!1,void 0,{kind:4,file:e.path,index:r})})}function xn(e){const t=e.typeReferenceDirectives;if(!t.length)return;const n=(null==ce?void 0:ce.get(e.path))||Nt(t,e),r=ER();(null!=ae?ae:ae=new Map).set(e.path,r);for(let i=0;i<t.length;i++){const t=e.typeReferenceDirectives[i],o=n[i],a=t.fileName,s=Yn(t,e);r.set(a,s,o),Tn(a,0,o,{kind:5,file:e.path,index:i})}}function kn(e){var t;return(null==(t=xt(e))?void 0:t.commandLine.options)||P}function Tn(e,t,n,r){var i,o;null==(i=Xn)||i.push(Xn.Phase.Program,"processTypeReferenceDirective",{directive:e,hasResolved:!!n.resolvedTypeReferenceDirective,refKind:r.kind,refPath:EU(r)?r.file:void 0}),function(e,t,n,r){ft(n);const{resolvedTypeReferenceDirective:i}=n;i?(i.isExternalLibraryImport&&ue++,nn(i.resolvedFileName,!1,!1,i.packageId,r),i.isExternalLibraryImport&&ue--):An(void 0,r,ma.Cannot_find_type_definition_file_for_0,[e])}(e,0,n,r),null==(o=Xn)||o.pop()}function Cn(e){const t=null==te?void 0:te.get(e);if(t)return t.actual;const n=wn(e);return(null!=te?te:te=new Map).set(e,n),n.actual}function wn(e){var t,n,r,i,o;const a=null==ne?void 0:ne.get(e);if(a)return a;if(!1===P.libReplacement){const t={resolution:{resolvedModule:void 0},actual:zo(ve,e)};return(null!=ne?ne:ne=new Map).set(e,t),t}if(0!==Ye&&M&&!Ae(e)){const i=null==(t=M.resolvedLibReferences)?void 0:t.get(e);if(i){if(i.resolution&&Zj(P,me)){const t=FU(e),o=NU(P,xe,e);Qj(me,i.resolution.resolvedModule?i.resolution.resolvedModule.packageId?ma.Reusing_resolution_of_module_0_from_1_of_old_program_it_was_successfully_resolved_to_2_with_Package_ID_3:ma.Reusing_resolution_of_module_0_from_1_of_old_program_it_was_successfully_resolved_to_2:ma.Reusing_resolution_of_module_0_from_1_of_old_program_it_was_not_resolved,t,Uo(o,xe),null==(n=i.resolution.resolvedModule)?void 0:n.resolvedFileName,(null==(r=i.resolution.resolvedModule)?void 0:r.packageId)&&vd(i.resolution.resolvedModule.packageId))}return(null!=ne?ne:ne=new Map).set(e,i),i}}const s=FU(e),c=NU(P,xe,e);null==(i=Xn)||i.push(Xn.Phase.Program,"resolveLibrary",{resolveFrom:c}),ir("beforeResolveLibrary");const l=Ie(s,c,P,e);ir("afterResolveLibrary"),or("ResolveLibrary","beforeResolveLibrary","afterResolveLibrary"),null==(o=Xn)||o.pop();const _={resolution:l,actual:l.resolvedModule?l.resolvedModule.resolvedFileName:zo(ve,e)};return(null!=ne?ne:ne=new Map).set(e,_),_}function Dn(e){f(e.libReferenceDirectives,(t,n)=>{const r=RC(t);r?Kt(Cn(r),!0,!0,{kind:7,file:e.path,index:n}):Z.addFileProcessingDiagnostic({kind:0,reason:{kind:7,file:e.path,index:n}})})}function Nn(e){return me.getCanonicalFileName(e)}function Fn(e){if(en(e),e.imports.length||e.moduleAugmentations.length){const t=GU(e),n=(null==oe?void 0:oe.get(e.path))||Dt(t,e);fn.assert(n.length===t.length);const r=kn(e),i=ER();(null!=re?re:re=new Map).set(e.path,i);for(let o=0;o<t.length;o++){const a=n[o].resolvedModule,s=t[o].text,c=gU(e,t[o],r);if(i.set(s,c,n[o]),gt(e,s,n[o],c),!a)continue;const l=a.isExternalLibraryImport,_=!rT(a.extension)&&!dn(a.resolvedFileName),u=l&&_&&(!a.originalPath||YR(a.resolvedFileName)),d=a.resolvedFileName;l&&ue++;const p=u&&ue>_e,f=d&&!KU(r,a,e)&&!r.noResolve&&o<e.imports.length&&!p&&!(_&&!Rk(r))&&(Om(e.imports[o])||!(16777216&e.imports[o].flags));p?de.set(e.path,!0):f&&an(d,!1,!1,{kind:3,file:e.path,index:o},a.packageId),l&&ue--}}}function En(e){qe||(qe=new Map);const t=HU(e),n=Ct(t),r=qe.get(n);if(void 0!==r)return r||void 0;let i,o;if(me.getParsedCommandLine){if(i=me.getParsedCommandLine(t),!i)return ln(void 0,n,t,void 0),void qe.set(n,!1);o=fn.checkDefined(i.options.configFile),fn.assert(!o.path||o.path===n),ln(o,n,t,void 0)}else{const e=Uo(Io(t),xe);if(o=me.getSourceFile(t,100),ln(o,n,t,void 0),void 0===o)return void qe.set(n,!1);i=ej(o,ge,e,void 0,t)}o.fileName=t,o.path=n,o.resolvedPath=n,o.originalFileName=t;const a={commandLine:i,sourceFile:o};return qe.set(n,a),i.projectReferences&&(a.references=i.projectReferences.map(En)),a}function Pn(e,t,n,r){const i=new Sn(e),o=new Sn(t),a=new Sn(O||s),c=function(){const e=P.ignoreDeprecations;if(e){if("5.0"===e)return new Sn(e);B()}return Sn.zero}(),l=!(1===o.compareTo(a)),_=!l&&-1===c.compareTo(i);(l||_)&&r((r,i,o)=>{l?void 0===i?n(r,i,o,ma.Option_0_has_been_removed_Please_remove_it_from_your_configuration,r):n(r,i,o,ma.Option_0_1_has_been_removed_Please_remove_it_from_your_configuration,r,i):void 0===i?n(r,i,o,ma.Option_0_is_deprecated_and_will_stop_functioning_in_TypeScript_1_Specify_compilerOption_ignoreDeprecations_Colon_2_to_silence_this_error,r,t,e):n(r,i,o,ma.Option_0_1_is_deprecated_and_will_stop_functioning_in_TypeScript_2_Specify_compilerOption_ignoreDeprecations_Colon_3_to_silence_this_error,r,i,t,e)})}function An(e,t,n,r){Z.addFileProcessingDiagnostic({kind:1,file:e&&e.path,fileProcessingReason:t,diagnostic:n,args:r})}function In(e,t,n,...r){let i=!0;Ln(o=>{aF(o.initializer)&&Kf(o.initializer,e,e=>{const o=e.initializer;oF(o)&&o.elements.length>t&&(Z.addConfigDiagnostic(Up(P.configFile,o.elements[t],n,...r)),i=!1)})}),i&&Jn(n,...r)}function On(e,t,n,...r){let i=!0;Ln(o=>{aF(o.initializer)&&Vn(o.initializer,e,t,void 0,n,...r)&&(i=!1)}),i&&Jn(n,...r)}function Ln(e){return qC(zn(),"paths",e)}function jn(e,t,n,r){Bn(!0,t,n,e,t,n,r)}function Rn(e,t,...n){Bn(!1,e,void 0,t,...n)}function Mn(e,t,n,...r){const i=Qf(e||P.configFile,"references",e=>oF(e.initializer)?e.initializer:void 0);i&&i.elements.length>t?Z.addConfigDiagnostic(Up(e||P.configFile,i.elements[t],n,...r)):Z.addConfigDiagnostic(nk(n,...r))}function Bn(e,t,n,r,...i){const o=zn();(!o||!Vn(o,e,t,n,r,...i))&&Jn(r,...i)}function Jn(e,...t){const n=qn();n?"messageText"in e?Z.addConfigDiagnostic(Wp(P.configFile,n.name,e)):Z.addConfigDiagnostic(Up(P.configFile,n.name,e,...t)):"messageText"in e?Z.addConfigDiagnostic(rk(e)):Z.addConfigDiagnostic(nk(e,...t))}function zn(){if(void 0===Ce){const e=qn();Ce=e&&it(e.initializer,aF)||!1}return Ce||void 0}function qn(){return void 0===we&&(we=Kf(Gf(P.configFile),"compilerOptions",_t)||!1),we||void 0}function Vn(e,t,n,r,i,...o){let a=!1;return Kf(e,n,e=>{"messageText"in i?Z.addConfigDiagnostic(Wp(P.configFile,t?e.name:e.initializer,i)):Z.addConfigDiagnostic(Up(P.configFile,t?e.name:e.initializer,i,...o)),a=!0},r),a}function Un(e,t){Te.set(Ct(e),!0),Z.addConfigDiagnostic(t)}function Wn(e,t){return 0===ia(e,t,xe,!me.useCaseSensitiveFileNames())}function $n(){return me.getSymlinkCache?me.getSymlinkCache():(U||(U=nS(xe,Nn)),V&&!U.hasProcessedResolutions()&&U.setSymlinksFromResolutions(ct,lt,ee),U)}function Hn(e,t){return gU(e,t,kn(e))}function Kn(e,t){return Hn(e,XU(e,t))}function Gn(e){return qU(e,kn(e))}function Qn(e){return JU(e,kn(e))}function Zn(e){return BU(e,kn(e))}function Yn(e,t){return e.resolutionMode||Gn(t)}}function BU(e,t){const n=Tk(t);return!(100<=n&&n<=199||200===n)&&JU(e,t)<5}function JU(e,t){var n;return null!=(n=zU(e,t))?n:Tk(t)}function zU(e,t){var n,r;const i=Tk(t);return 100<=i&&i<=199?e.impliedNodeFormat:1!==e.impliedNodeFormat||"commonjs"!==(null==(n=e.packageJsonScope)?void 0:n.contents.packageJsonContent.type)&&!No(e.fileName,[".cjs",".cts"])?99!==e.impliedNodeFormat||"module"!==(null==(r=e.packageJsonScope)?void 0:r.contents.packageJsonContent.type)&&!No(e.fileName,[".mjs",".mts"])?void 0:99:1}function qU(e,t){return vk(t)?zU(e,t):void 0}var VU={diagnostics:u,sourceMaps:void 0,emittedFiles:void 0,emitSkipped:!0};function UU(e,t,n,r){const i=e.getCompilerOptions();if(i.noEmit)return t?VU:e.emitBuildInfo(n,r);if(!i.noEmitOnError)return;let o,a=[...e.getOptionsDiagnostics(r),...e.getSyntacticDiagnostics(t,r),...e.getGlobalDiagnostics(r),...e.getSemanticDiagnostics(t,r)];if(0===a.length&&Ik(e.getCompilerOptions())&&(a=e.getDeclarationDiagnostics(void 0,r)),a.length){if(!t){const t=e.emitBuildInfo(n,r);t.diagnostics&&(a=[...a,...t.diagnostics]),o=t.emittedFiles}return{diagnostics:a,sourceMaps:void 0,emittedFiles:o,emitSkipped:!0}}}function WU(e,t){return F(e,e=>!e.skippedOn||!t[e.skippedOn])}function $U(e,t=e){return{fileExists:e=>t.fileExists(e),readDirectory:(e,n,r,i,o)=>(fn.assertIsDefined(t.readDirectory,"'CompilerHost.readDirectory' must be implemented to correctly process 'projectReferences'"),t.readDirectory(e,n,r,i,o)),readFile:e=>t.readFile(e),directoryExists:Ke(t,t.directoryExists),getDirectories:Ke(t,t.getDirectories),realpath:Ke(t,t.realpath),useCaseSensitiveFileNames:e.useCaseSensitiveFileNames(),getCurrentDirectory:()=>e.getCurrentDirectory(),onUnRecoverableConfigFileDiagnostic:e.onUnRecoverableConfigFileDiagnostic||lt,trace:e.trace?t=>e.trace(t):void 0}}function HU(e){return X$(e.path)}function KU(e,{extension:t},{isDeclarationFile:n}){switch(t){case".ts":case".d.ts":case".mts":case".d.mts":case".cts":case".d.cts":return;case".tsx":return r();case".jsx":return r()||i();case".js":case".mjs":case".cjs":return i();case".json":return Ak(e)?void 0:ma.Module_0_was_resolved_to_1_but_resolveJsonModule_is_not_used;default:return n||e.allowArbitraryExtensions?void 0:ma.Module_0_was_resolved_to_1_but_allowArbitraryExtensions_is_not_set}function r(){return e.jsx?void 0:ma.Module_0_was_resolved_to_1_but_jsx_is_not_set}function i(){return Rk(e)||!Wk(e,"noImplicitAny")?void 0:ma.Could_not_find_a_declaration_file_for_module_0_1_implicitly_has_an_any_type}}function GU({imports:e,moduleAugmentations:t}){const n=e.map(e=>e);for(const r of t)11===r.kind&&n.push(r);return n}function XU({imports:e,moduleAugmentations:t},n){if(n<e.length)return e[n];let r=e.length;for(const i of t)if(11===i.kind){if(n===r)return i;r++}fn.fail("should never ask for module name at index higher than possible module name")}function QU(e){let t,n,r,i,o,a,s,c=Ge();return{addConfigDiagnostic(e){fn.assert(void 0===t,"Cannot modify program diagnostic state after requesting combined diagnostics"),(null!=i?i:i=fy()).add(e)},addLazyConfigDiagnostic(e,n,...r){fn.assert(void 0===t,"Cannot modify program diagnostic state after requesting combined diagnostics"),(null!=o?o:o=[]).push({file:e,diagnostic:n,args:r})},addFileProcessingDiagnostic(e){fn.assert(void 0===t,"Cannot modify program diagnostic state after requesting combined diagnostics"),(null!=n?n:n=[]).push(e)},setCommonSourceDirectory(e){r=e},reuseStateFromOldProgram(e,t){c=e.getFileReasons(),n=e.getFileProcessingDiagnostics(),t&&(r=e.getCommonSourceDirectory(),i=e.getConfigDiagnostics(),o=e.getLazyConfigDiagnostics())},getFileProcessingDiagnostics:()=>n,getFileReasons:()=>c,getCommonSourceDirectory:()=>r,getConfigDiagnostics:()=>i,getLazyConfigDiagnostics:()=>o,getCombinedDiagnostics:e=>t||(t=fy(),null==i||i.getDiagnostics().forEach(e=>t.add(e)),null==n||n.forEach(n=>{switch(n.kind){case 1:return t.add(l(e,n.file&&e.getSourceFileByPath(n.file),n.fileProcessingReason,n.diagnostic,n.args||u));case 0:return t.add(function(e,{reason:t}){const{file:n,pos:r,end:i}=AU(e,t),o=jC(n.libReferenceDirectives[t.index]),a=Mt(zt(Yt(o,"lib."),".d.ts"),CO,_t);return ek(n,fn.checkDefined(r),fn.checkDefined(i)-r,a?ma.Cannot_find_lib_definition_for_0_Did_you_mean_1:ma.Cannot_find_lib_definition_for_0,o,a)}(e,n));case 2:return n.diagnostics.forEach(e=>t.add(e));default:fn.assertNever(n)}}),null==o||o.forEach(({file:n,diagnostic:r,args:i})=>t.add(l(e,n,void 0,r,i))),a=void 0,s=void 0,t)};function l(t,n,r,i,o){let l,_,d,p,f,m;const g=n&&c.get(n.path);let h=EU(r)?r:void 0,y=n&&(null==a?void 0:a.get(n.path));y?(y.fileIncludeReasonDetails?(l=new Set(g),null==g||g.forEach(k)):null==g||g.forEach(x),f=y.redirectInfo):(null==g||g.forEach(x),f=n&&S$(n,t.getCompilerOptionsForFile(n))),r&&x(r);const v=(null==l?void 0:l.size)!==(null==g?void 0:g.length);h&&1===(null==l?void 0:l.size)&&(l=void 0),l&&y&&(y.details&&!v?m=ik(y.details,i,...null!=o?o:u):y.fileIncludeReasonDetails&&(v?_=S()?se(y.fileIncludeReasonDetails.next.slice(0,g.length),_[0]):[...y.fileIncludeReasonDetails.next,_[0]]:S()?_=y.fileIncludeReasonDetails.next.slice(0,g.length):p=y.fileIncludeReasonDetails)),m||(p||(p=l&&ik(_,ma.The_file_is_in_the_program_because_Colon)),m=ik(f?p?[p,...f]:f:p,i,...o||u)),n&&(y?(!y.fileIncludeReasonDetails||!v&&p)&&(y.fileIncludeReasonDetails=p):(null!=a?a:a=new Map).set(n.path,y={fileIncludeReasonDetails:p,redirectInfo:f}),y.details||v||(y.details=m.next));const b=h&&AU(t,h);return b&&PU(b)?Kp(b.file,b.pos,b.end-b.pos,m,d):rk(m,d);function x(e){(null==l?void 0:l.has(e))||((null!=l?l:l=new Set).add(e),(null!=_?_:_=[]).push(w$(t,e)),k(e))}function k(n){!h&&EU(n)?h=n:h!==n&&(d=se(d,function(t,n){var r;let i=null==s?void 0:s.get(n);return void 0===i&&(null!=s?s:s=new Map).set(n,i=null!=(r=function(t,n){if(EU(n)){const e=AU(t,n);let r;switch(n.kind){case 3:r=ma.File_is_included_via_import_here;break;case 4:r=ma.File_is_included_via_reference_here;break;case 5:r=ma.File_is_included_via_type_library_reference_here;break;case 7:r=ma.File_is_included_via_library_reference_here;break;default:fn.assertNever(n)}return PU(e)?ek(e.file,e.pos,e.end-e.pos,r):void 0}const r=t.getCurrentDirectory(),i=t.getRootFileNames(),o=t.getCompilerOptions();if(!o.configFile)return;let a,s;switch(n.kind){case 0:if(!o.configFile.configFileSpecs)return;const c=Uo(i[n.index],r),l=T$(t,c);if(l){a=Xf(o.configFile,"files",l),s=ma.File_is_matched_by_files_list_specified_here;break}const _=C$(t,c);if(!_||!nt(_))return;a=Xf(o.configFile,"include",_),s=ma.File_is_matched_by_include_pattern_specified_here;break;case 1:case 2:const u=t.getResolvedProjectReferences(),d=t.getProjectReferences(),p=fn.checkDefined(null==u?void 0:u[n.index]),f=BC(d,u,(e,t,n)=>e===p?{sourceFile:(null==t?void 0:t.sourceFile)||o.configFile,index:n}:void 0);if(!f)return;const{sourceFile:m,index:g}=f,h=Qf(m,"references",e=>oF(e.initializer)?e.initializer:void 0);return h&&h.elements.length>g?Up(m,h.elements[g],2===n.kind?ma.File_is_output_from_referenced_project_specified_here:ma.File_is_source_from_referenced_project_specified_here):void 0;case 8:if(!o.types)return;a=JC(e(),"types",n.typeReference),s=ma.File_is_entry_point_of_type_library_specified_here;break;case 6:if(void 0!==n.index){a=JC(e(),"lib",o.lib[n.index]),s=ma.File_is_library_specified_here;break}const y=$k(Sk(o));a=y?zC(e(),"target",y):void 0,s=ma.File_is_default_library_for_target_specified_here;break;default:fn.assertNever(n)}return a&&Up(o.configFile,a,s)}(t,n))&&r),i||void 0}(t,n)))}function S(){var e;return(null==(e=y.fileIncludeReasonDetails.next)?void 0:e.length)!==(null==g?void 0:g.length)}}}function ZU(e,t,n,r,i,o){const a=[],{emitSkipped:s,diagnostics:c}=e.emit(t,function(e,t,n){a.push({name:e,writeByteOrderMark:n,text:t})},r,n,i,o);return{outputFiles:a,emitSkipped:s,diagnostics:c}}var YU,eW=(e=>(e[e.ComputedDts=0]="ComputedDts",e[e.StoredSignatureAtEmit=1]="StoredSignatureAtEmit",e[e.UsedVersion=2]="UsedVersion",e))(eW||{});(e=>{function t(){return function(e,t,r){const i={getKeys:e=>t.get(e),getValues:t=>e.get(t),keys:()=>e.keys(),size:()=>e.size,deleteKey:i=>{(r||(r=new Set)).add(i);const o=e.get(i);return!!o&&(o.forEach(e=>n(t,e,i)),e.delete(i),!0)},set:(o,a)=>{null==r||r.delete(o);const s=e.get(o);return e.set(o,a),null==s||s.forEach(e=>{a.has(e)||n(t,e,o)}),a.forEach(e=>{(null==s?void 0:s.has(e))||function(e,t,n){let r=e.get(t);r||(r=new Set,e.set(t,r)),r.add(n)}(t,e,o)}),i}};return i}(new Map,new Map,void 0)}function n(e,t,n){const r=e.get(t);return!!(null==r?void 0:r.delete(n))&&(r.size||e.delete(t),!0)}function r(e,t){const n=e.getSymbolAtLocation(t);return n&&function(e){return z(e.declarations,e=>{var t;return null==(t=Sd(e))?void 0:t.resolvedPath})}(n)}function i(e,t,n,r){return Ko(e.getProjectReferenceRedirect(t)||t,n,r)}function o(e,t,n){let o;if(t.imports&&t.imports.length>0){const n=e.getTypeChecker();for(const e of t.imports){const t=r(n,e);null==t||t.forEach(c)}}const a=Io(t.resolvedPath);if(t.referencedFiles&&t.referencedFiles.length>0)for(const r of t.referencedFiles)c(i(e,r.fileName,a,n));if(e.forEachResolvedTypeReferenceDirective(({resolvedTypeReferenceDirective:t})=>{if(!t)return;const r=t.resolvedFileName;c(i(e,r,a,n))},t),t.moduleAugmentations.length){const n=e.getTypeChecker();for(const e of t.moduleAugmentations){if(!MD(e))continue;const t=n.getSymbolAtLocation(e);t&&s(t)}}for(const r of e.getTypeChecker().getAmbientModules())r.declarations&&r.declarations.length>1&&s(r);return o;function s(e){if(e.declarations)for(const n of e.declarations){const e=Sd(n);e&&e!==t&&c(e.resolvedPath)}}function c(e){(o||(o=new Set)).add(e)}}function a(e,t){return t&&!t.referencedMap==!e}function s(e){return 0===e.module||e.outFile?void 0:t()}function c(e,t,n,r,i){const o=t.getSourceFileByPath(n);return o?_(e,t,o,r,i)?(e.referencedMap?h:g)(e,t,o,r,i):[o]:u}function l(e,t,n,r,i){e.emit(t,(n,o,a,s,c,l)=>{fn.assert(lO(n),`File extension for signature expected to be dts: Got:: ${n}`),i(IW(e,t,o,r,l),c)},n,2,void 0,!0)}function _(e,t,n,r,i,o=e.useFileVersionAsSignature){var a,s;if(null==(s=e.hasCalledUpdateShapeSignature)?void 0:s.has(n.resolvedPath))return!1;const c=e.fileInfos.get(n.resolvedPath),_=c.signature;let u;return n.isDeclarationFile||o||l(t,n,r,i,t=>{var r;u=t,i.storeSignatureInfo&&(null!=(r=e.signatureInfo)?r:e.signatureInfo=new Map).set(n.resolvedPath,0)}),void 0===u&&(u=n.version,i.storeSignatureInfo&&(null!=(a=e.signatureInfo)?a:e.signatureInfo=new Map).set(n.resolvedPath,2)),(e.oldSignatures||(e.oldSignatures=new Map)).set(n.resolvedPath,_||!1),(e.hasCalledUpdateShapeSignature||(e.hasCalledUpdateShapeSignature=new Set)).add(n.resolvedPath),c.signature=u,u!==_}function d(e,t){if(!e.allFileNames){const n=t.getSourceFiles();e.allFileNames=n===u?u:n.map(e=>e.fileName)}return e.allFileNames}function p(e,t){const n=e.referencedMap.getKeys(t);return n?Re(n.keys()):[]}function f(e){return function(e){return K(e.moduleAugmentations,e=>hp(e.parent))}(e)||!rf(e)&&!of(e)&&!function(e){for(const t of e.statements)if(!pp(t))return!1;return!0}(e)}function m(e,t,n){if(e.allFilesExcludingDefaultLibraryFile)return e.allFilesExcludingDefaultLibraryFile;let r;n&&i(n);for(const o of t.getSourceFiles())o!==n&&i(o);return e.allFilesExcludingDefaultLibraryFile=r||u,e.allFilesExcludingDefaultLibraryFile;function i(e){t.isSourceFileDefaultLibrary(e)||(r||(r=[])).push(e)}}function g(e,t,n){const r=t.getCompilerOptions();return r&&r.outFile?[n]:m(e,t,n)}function h(e,t,n,r,i){if(f(n))return m(e,t,n);const o=t.getCompilerOptions();if(o&&(Dk(o)||o.outFile))return[n];const a=new Map;a.set(n.resolvedPath,n);const s=p(e,n.resolvedPath);for(;s.length>0;){const n=s.pop();if(!a.has(n)){const o=t.getSourceFileByPath(n);a.set(n,o),o&&_(e,t,o,r,i)&&s.push(...p(e,o.resolvedPath))}}return Re(q(a.values(),e=>e))}e.createManyToManyPathMap=t,e.canReuseOldState=a,e.createReferencedMap=s,e.create=function(e,t,n){var r,i;const c=new Map,l=e.getCompilerOptions(),_=s(l),u=a(_,t);e.getTypeChecker();for(const a of e.getSourceFiles()){const n=fn.checkDefined(a.version,"Program intended to be used with Builder should have source files with versions set"),s=u?null==(r=t.oldSignatures)?void 0:r.get(a.resolvedPath):void 0,d=void 0===s?u?null==(i=t.fileInfos.get(a.resolvedPath))?void 0:i.signature:void 0:s||void 0;if(_){const t=o(e,a,e.getCanonicalFileName);t&&_.set(a.resolvedPath,t)}c.set(a.resolvedPath,{version:n,signature:d,affectsGlobalScope:l.outFile?void 0:f(a)||void 0,impliedFormat:a.impliedNodeFormat})}return{fileInfos:c,referencedMap:_,useFileVersionAsSignature:!n&&!u}},e.releaseCache=function(e){e.allFilesExcludingDefaultLibraryFile=void 0,e.allFileNames=void 0},e.getFilesAffectedBy=function(e,t,n,r,i){var o;const a=c(e,t,n,r,i);return null==(o=e.oldSignatures)||o.clear(),a},e.getFilesAffectedByWithOldState=c,e.updateSignatureOfFile=function(e,t,n){e.fileInfos.get(n).signature=t,(e.hasCalledUpdateShapeSignature||(e.hasCalledUpdateShapeSignature=new Set)).add(n)},e.computeDtsSignature=l,e.updateShapeSignature=_,e.getAllDependencies=function(e,t,n){if(t.getCompilerOptions().outFile)return d(e,t);if(!e.referencedMap||f(n))return d(e,t);const r=new Set,i=[n.resolvedPath];for(;i.length;){const t=i.pop();if(!r.has(t)){r.add(t);const n=e.referencedMap.getValues(t);if(n)for(const e of n.keys())i.push(e)}}return Re(q(r.keys(),e=>{var n,r;return null!=(n=null==(r=t.getSourceFileByPath(e))?void 0:r.fileName)?n:e}))},e.getReferencedByPaths=p,e.getAllFilesExcludingDefaultLibraryFile=m})(YU||(YU={}));var tW=(e=>(e[e.None=0]="None",e[e.Js=1]="Js",e[e.JsMap=2]="JsMap",e[e.JsInlineMap=4]="JsInlineMap",e[e.DtsErrors=8]="DtsErrors",e[e.DtsEmit=16]="DtsEmit",e[e.DtsMap=32]="DtsMap",e[e.Dts=24]="Dts",e[e.AllJs=7]="AllJs",e[e.AllDtsEmit=48]="AllDtsEmit",e[e.AllDts=56]="AllDts",e[e.All=63]="All",e))(tW||{});function nW(e){return void 0!==e.program}function rW(e){let t=1;return e.sourceMap&&(t|=2),e.inlineSourceMap&&(t|=4),Ik(e)&&(t|=24),e.declarationMap&&(t|=32),e.emitDeclarationOnly&&(t&=56),t}function iW(e,t){const n=t&&(rt(t)?t:rW(t)),r=rt(e)?e:rW(e);if(n===r)return 0;if(!n||!r)return r;const i=n^r;let o=0;return 7&i&&(o=7&r),8&i&&(o|=8&r),48&i&&(o|=48&r),o}function oW(e,t){var n,r;const i=YU.create(e,t,!1);i.program=e;const o=e.getCompilerOptions();i.compilerOptions=o;const a=o.outFile;i.semanticDiagnosticsPerFile=new Map,a&&o.composite&&(null==t?void 0:t.outSignature)&&a===t.compilerOptions.outFile&&(i.outSignature=t.outSignature&&aW(o,t.compilerOptions,t.outSignature)),i.changedFilesSet=new Set,i.latestChangedDtsFile=o.composite?null==t?void 0:t.latestChangedDtsFile:void 0,i.checkPending=!!i.compilerOptions.noCheck||void 0;const s=YU.canReuseOldState(i.referencedMap,t),c=s?t.compilerOptions:void 0;let l=s&&!Kk(o,c);const _=o.composite&&(null==t?void 0:t.emitSignatures)&&!a&&!Xk(o,t.compilerOptions);let u=!0;s?(null==(n=t.changedFilesSet)||n.forEach(e=>i.changedFilesSet.add(e)),!a&&(null==(r=t.affectedFilesPendingEmit)?void 0:r.size)&&(i.affectedFilesPendingEmit=new Map(t.affectedFilesPendingEmit),i.seenAffectedFiles=new Set),i.programEmitPending=t.programEmitPending,a&&i.changedFilesSet.size&&(l=!1,u=!1),i.hasErrorsFromOldState=t.hasErrors):i.buildInfoEmitPending=Lk(o);const d=i.referencedMap,p=s?t.referencedMap:void 0,f=l&&!o.skipLibCheck==!c.skipLibCheck,m=f&&!o.skipDefaultLibCheck==!c.skipDefaultLibCheck;if(i.fileInfos.forEach((n,r)=>{var a,c,h,y;let v,b;if(!s||!(v=t.fileInfos.get(r))||v.version!==n.version||v.impliedFormat!==n.impliedFormat||(x=b=d&&d.getValues(r),k=p&&p.getValues(r),x!==k&&(void 0===x||void 0===k||x.size!==k.size||cd(x,e=>!k.has(e))))||b&&cd(b,e=>!i.fileInfos.has(e)&&t.fileInfos.has(e)))g(r);else{const n=e.getSourceFileByPath(r),o=u?null==(y=t.emitDiagnosticsPerFile)?void 0:y.get(r):void 0;if(o&&(null!=(a=i.emitDiagnosticsPerFile)?a:i.emitDiagnosticsPerFile=new Map).set(r,t.hasReusableDiagnostic?_W(o,r,e):sW(o,e)),l){if(n.isDeclarationFile&&!f)return;if(n.hasNoDefaultLib&&!m)return;const o=t.semanticDiagnosticsPerFile.get(r);o&&(i.semanticDiagnosticsPerFile.set(r,t.hasReusableDiagnostic?_W(o,r,e):sW(o,e)),(null!=(c=i.semanticDiagnosticsFromOldState)?c:i.semanticDiagnosticsFromOldState=new Set).add(r))}}var x,k;if(_){const e=t.emitSignatures.get(r);e&&(null!=(h=i.emitSignatures)?h:i.emitSignatures=new Map).set(r,aW(o,t.compilerOptions,e))}}),s&&sd(t.fileInfos,(e,t)=>!(i.fileInfos.has(t)||!e.affectsGlobalScope&&(i.buildInfoEmitPending=!0,!a))))YU.getAllFilesExcludingDefaultLibraryFile(i,e,void 0).forEach(e=>g(e.resolvedPath));else if(c){const t=Gk(o,c)?rW(o):iW(o,c);0!==t&&(a?i.changedFilesSet.size||(i.programEmitPending=i.programEmitPending?i.programEmitPending|t:t):(e.getSourceFiles().forEach(e=>{i.changedFilesSet.has(e.resolvedPath)||LW(i,e.resolvedPath,t)}),fn.assert(!i.seenAffectedFiles||!i.seenAffectedFiles.size),i.seenAffectedFiles=i.seenAffectedFiles||new Set),i.buildInfoEmitPending=!0)}return s&&i.semanticDiagnosticsPerFile.size!==i.fileInfos.size&&t.checkPending!==i.checkPending&&(i.buildInfoEmitPending=!0),i;function g(e){i.changedFilesSet.add(e),a&&(l=!1,u=!1,i.semanticDiagnosticsFromOldState=void 0,i.semanticDiagnosticsPerFile.clear(),i.emitDiagnosticsPerFile=void 0),i.buildInfoEmitPending=!0,i.programEmitPending=void 0}}function aW(e,t,n){return!!e.declarationMap==!!t.declarationMap?n:nt(n)?[n]:n[0]}function sW(e,t){return e.length?O(e,e=>{if(nt(e.messageText))return e;const n=cW(e.messageText,e.file,t,e=>{var t;return null==(t=e.repopulateInfo)?void 0:t.call(e)});return n===e.messageText?e:__spreadProps(__spreadValues({},e),{messageText:n})}):e}function cW(e,t,n,r){const i=r(e);if(!0===i)return __spreadProps(__spreadValues({},hd(t)),{next:lW(e.next,t,n,r)});if(i)return __spreadProps(__spreadValues({},gd(t,n,i.moduleReference,i.mode,i.packageName||i.moduleReference)),{next:lW(e.next,t,n,r)});const o=lW(e.next,t,n,r);return o===e.next?e:__spreadProps(__spreadValues({},e),{next:o})}function lW(e,t,n,r){return O(e,e=>cW(e,t,n,r))}function _W(e,t,n){if(!e.length)return u;let r;return e.map(e=>{const r=uW(e,t,n,i);r.reportsUnnecessary=e.reportsUnnecessary,r.reportsDeprecated=e.reportDeprecated,r.source=e.source,r.skippedOn=e.skippedOn;const{relatedInformation:o}=e;return r.relatedInformation=o?o.length?o.map(e=>uW(e,t,n,i)):[]:void 0,r});function i(e){return null!=r||(r=Io(Uo(Zq(n.getCompilerOptions()),n.getCurrentDirectory()))),Ko(e,r,n.getCanonicalFileName)}}function uW(e,t,n,r){const{file:i}=e,o=!1!==i?n.getSourceFileByPath(i?r(i):t):void 0;return __spreadProps(__spreadValues({},e),{file:o,messageText:nt(e.messageText)?e.messageText:cW(e.messageText,o,n,e=>e.info)})}function dW(e,t){fn.assert(!t||!e.affectedFiles||e.affectedFiles[e.affectedFilesIndex-1]!==t||!e.semanticDiagnosticsPerFile.has(t.resolvedPath))}function pW(e,t,n){for(var r;;){const{affectedFiles:i}=e;if(i){const o=e.seenAffectedFiles;let a=e.affectedFilesIndex;for(;a<i.length;){const r=i[a];if(!o.has(r.resolvedPath))return e.affectedFilesIndex=a,LW(e,r.resolvedPath,rW(e.compilerOptions)),yW(e,r,t,n),r;a++}e.changedFilesSet.delete(e.currentChangedFilePath),e.currentChangedFilePath=void 0,null==(r=e.oldSignatures)||r.clear(),e.affectedFiles=void 0}const o=e.changedFilesSet.keys().next();if(o.done)return;if(e.program.getCompilerOptions().outFile)return e.program;e.affectedFiles=YU.getFilesAffectedByWithOldState(e,e.program,o.value,t,n),e.currentChangedFilePath=o.value,e.affectedFilesIndex=0,e.seenAffectedFiles||(e.seenAffectedFiles=new Set)}}function fW(e,t,n){var r,i;if(((null==(r=e.affectedFilesPendingEmit)?void 0:r.size)||e.programEmitPending)&&(t||n||(e.affectedFilesPendingEmit=void 0,e.programEmitPending=void 0),null==(i=e.affectedFilesPendingEmit)||i.forEach((t,r)=>{const i=n?55&t:7&t;i?e.affectedFilesPendingEmit.set(r,i):e.affectedFilesPendingEmit.delete(r)}),e.programEmitPending)){const t=n?55&e.programEmitPending:7&e.programEmitPending;e.programEmitPending=t||void 0}}function mW(e,t,n,r){let i=iW(e,t);return n&&(i&=56),r&&(i&=8),i}function gW(e){return e?8:56}function hW(e){if(!e.cleanedDiagnosticsOfLibFiles){e.cleanedDiagnosticsOfLibFiles=!0;const t=e.program.getCompilerOptions();f(e.program.getSourceFiles(),n=>e.program.isSourceFileDefaultLibrary(n)&&!gT(n,t,e.program)&&bW(e,n.resolvedPath))}}function yW(e,t,n,r){if(bW(e,t.resolvedPath),e.allFilesExcludingDefaultLibraryFile===e.affectedFiles)return hW(e),void YU.updateShapeSignature(e,e.program,t,n,r);e.compilerOptions.assumeChangesOnlyAffectDirectDependencies||function(e,t,n,r){var i,o;if(!e.referencedMap||!e.changedFilesSet.has(t.resolvedPath))return;if(!xW(e,t.resolvedPath))return;if(Dk(e.compilerOptions)){const i=new Map;i.set(t.resolvedPath,!0);const o=YU.getReferencedByPaths(e,t.resolvedPath);for(;o.length>0;){const t=o.pop();if(!i.has(t)){if(i.set(t,!0),kW(e,t,!1,n,r))return;if(vW(e,t,!1,n,r),xW(e,t)){const n=e.program.getSourceFileByPath(t);o.push(...YU.getReferencedByPaths(e,n.resolvedPath))}}}}const a=new Set,s=!!(null==(i=t.symbol)?void 0:i.exports)&&!!sd(t.symbol.exports,n=>{if(128&n.flags)return!0;const r=_x(n,e.program.getTypeChecker());return r!==n&&!!(128&r.flags)&&K(r.declarations,e=>Sd(e)===t)});null==(o=e.referencedMap.getKeys(t.resolvedPath))||o.forEach(t=>{if(kW(e,t,s,n,r))return!0;const i=e.referencedMap.getKeys(t);return i&&cd(i,t=>SW(e,t,s,a,n,r))})}(e,t,n,r)}function vW(e,t,n,r,i){if(bW(e,t),!e.changedFilesSet.has(t)){const o=e.program.getSourceFileByPath(t);o&&(YU.updateShapeSignature(e,e.program,o,r,i,!0),n?LW(e,t,rW(e.compilerOptions)):Ik(e.compilerOptions)&&LW(e,t,e.compilerOptions.declarationMap?56:24))}}function bW(e,t){return!e.semanticDiagnosticsFromOldState||(e.semanticDiagnosticsFromOldState.delete(t),e.semanticDiagnosticsPerFile.delete(t),!e.semanticDiagnosticsFromOldState.size)}function xW(e,t){const n=fn.checkDefined(e.oldSignatures).get(t)||void 0;return fn.checkDefined(e.fileInfos.get(t)).signature!==n}function kW(e,t,n,r,i){var o;return!!(null==(o=e.fileInfos.get(t))?void 0:o.affectsGlobalScope)&&(YU.getAllFilesExcludingDefaultLibraryFile(e,e.program,void 0).forEach(t=>vW(e,t.resolvedPath,n,r,i)),hW(e),!0)}function SW(e,t,n,r,i,o){var a;if(U(r,t)){if(kW(e,t,n,i,o))return!0;vW(e,t,n,i,o),null==(a=e.referencedMap.getKeys(t))||a.forEach(t=>SW(e,t,n,r,i,o))}}function TW(e,t,n,r){return e.compilerOptions.noCheck?u:X(function(e,t,n,r){null!=r||(r=e.semanticDiagnosticsPerFile);const i=t.resolvedPath,o=r.get(i);if(o)return WU(o,e.compilerOptions);const a=e.program.getBindAndCheckDiagnostics(t,n);return r.set(i,a),e.buildInfoEmitPending=!0,WU(a,e.compilerOptions)}(e,t,n,r),e.program.getProgramDiagnostics(t))}function CW(e){var t;return!!(null==(t=e.options)?void 0:t.outFile)}function wW(e){return!!e.fileNames}function DW(e){void 0===e.hasErrors&&(Lk(e.compilerOptions)?e.hasErrors=!K(e.program.getSourceFiles(),t=>{var n,r;const i=e.semanticDiagnosticsPerFile.get(t.resolvedPath);return void 0===i||!!i.length||!!(null==(r=null==(n=e.emitDiagnosticsPerFile)?void 0:n.get(t.resolvedPath))?void 0:r.length)})&&(NW(e)||K(e.program.getSourceFiles(),t=>!!e.program.getProgramDiagnostics(t).length)):e.hasErrors=K(e.program.getSourceFiles(),t=>{var n,r;const i=e.semanticDiagnosticsPerFile.get(t.resolvedPath);return!!(null==i?void 0:i.length)||!!(null==(r=null==(n=e.emitDiagnosticsPerFile)?void 0:n.get(t.resolvedPath))?void 0:r.length)})||NW(e))}function NW(e){return!!(e.program.getConfigFileParsingDiagnostics().length||e.program.getSyntacticDiagnostics().length||e.program.getOptionsDiagnostics().length||e.program.getGlobalDiagnostics().length)}function FW(e){var t;return DW(e),null!=(t=e.buildInfoEmitPending)?t:e.buildInfoEmitPending=!!e.hasErrorsFromOldState!=!!e.hasErrors}var EW=(e=>(e[e.SemanticDiagnosticsBuilderProgram=0]="SemanticDiagnosticsBuilderProgram",e[e.EmitAndSemanticDiagnosticsBuilderProgram=1]="EmitAndSemanticDiagnosticsBuilderProgram",e))(EW||{});function PW(e,t,n,r,i,o){let a,s,c;return void 0===e?(fn.assert(void 0===t),a=n,c=r,fn.assert(!!c),s=c.getProgram()):et(e)?(c=r,s=MU({rootNames:e,options:t,host:n,oldProgram:c&&c.getProgramOrUndefined(),configFileParsingDiagnostics:i,projectReferences:o}),a=n):(s=e,a=t,c=n,i=r),{host:a,newProgram:s,oldProgram:c,configFileParsingDiagnostics:i||u}}function AW(e,t){return void 0!==(null==t?void 0:t.sourceMapUrlPos)?e.substring(0,t.sourceMapUrlPos):e}function IW(e,t,n,r,i){var o,a;let s;return n=AW(n,i),(null==(a=null==i?void 0:i.diagnostics)?void 0:a.length)&&(n+=i.diagnostics.map(n=>`${function(n){return n.file.resolvedPath===t.resolvedPath?`(${n.start},${n.length})`:(void 0===s&&(s=Io(t.resolvedPath)),`${Qo(ca(s,n.file.resolvedPath,e.getCanonicalFileName))}(${n.start},${n.length})`)}(n)}${_i[n.category]}${n.code}: ${c(n.messageText)}`).join("\n")),(null!=(o=r.createHash)?o:Ji)(n);function c(e){return nt(e)?e:void 0===e?"":e.next?e.messageText+e.next.map(c).join("\n"):e.messageText}}function OW(e,{newProgram:t,host:n,oldProgram:r,configFileParsingDiagnostics:i}){let o=r&&r.state;if(o&&t===o.program&&i===t.getConfigFileParsingDiagnostics())return t=void 0,o=void 0,r;const a=oW(t,o);t.getBuildInfo=()=>function(e){var t,n;const r=e.program.getCurrentDirectory(),i=Io(Uo(Zq(e.compilerOptions),r)),o=e.latestChangedDtsFile?b(e.latestChangedDtsFile):void 0,a=[],s=new Map,c=new Set(e.program.getRootFileNames().map(t=>Ko(t,r,e.program.getCanonicalFileName)));if(DW(e),!Lk(e.compilerOptions))return{root:Re(c,e=>x(e)),errors:!!e.hasErrors||void 0,checkPending:e.checkPending,version:l};const _=[];if(e.compilerOptions.outFile){const t=Re(e.fileInfos.entries(),([e,t])=>(T(e,k(e)),t.impliedFormat?{version:t.version,impliedFormat:t.impliedFormat,signature:void 0,affectsGlobalScope:void 0}:t.version));return{fileNames:a,fileInfos:t,root:_,resolvedRoot:C(),options:w(e.compilerOptions),semanticDiagnosticsPerFile:e.changedFilesSet.size?void 0:N(),emitDiagnosticsPerFile:F(),changeFileSet:O(),outSignature:e.outSignature,latestChangedDtsFile:o,pendingEmit:e.programEmitPending?e.programEmitPending!==rW(e.compilerOptions)&&e.programEmitPending:void 0,errors:!!e.hasErrors||void 0,checkPending:e.checkPending,version:l}}let d,p,m;const g=Re(e.fileInfos.entries(),([t,n])=>{var r,i;const o=k(t);T(t,o),fn.assert(a[o-1]===x(t));const s=null==(r=e.oldSignatures)?void 0:r.get(t),c=void 0!==s?s||void 0:n.signature;if(e.compilerOptions.composite){const n=e.program.getSourceFileByPath(t);if(!of(n)&&ev(n,e.program)){const n=null==(i=e.emitSignatures)?void 0:i.get(t);n!==c&&(m=se(m,void 0===n?o:[o,nt(n)||n[0]!==c?n:u]))}}return n.version===c?n.affectsGlobalScope||n.impliedFormat?{version:n.version,signature:void 0,affectsGlobalScope:n.affectsGlobalScope,impliedFormat:n.impliedFormat}:n.version:void 0!==c?void 0===s?n:{version:n.version,signature:c,affectsGlobalScope:n.affectsGlobalScope,impliedFormat:n.impliedFormat}:{version:n.version,signature:!1,affectsGlobalScope:n.affectsGlobalScope,impliedFormat:n.impliedFormat}});let h;(null==(t=e.referencedMap)?void 0:t.size())&&(h=Re(e.referencedMap.keys()).sort(Nt).map(t=>[k(t),S(e.referencedMap.getValues(t))]));const y=N();let v;if(null==(n=e.affectedFilesPendingEmit)?void 0:n.size){const t=rW(e.compilerOptions),n=new Set;for(const r of Re(e.affectedFilesPendingEmit.keys()).sort(Nt))if(U(n,r)){const n=e.program.getSourceFileByPath(r);if(!n||!ev(n,e.program))continue;const i=k(r),o=e.affectedFilesPendingEmit.get(r);v=se(v,o===t?i:24===o?[i]:[i,o])}}return{fileNames:a,fileIdsList:d,fileInfos:g,root:_,resolvedRoot:C(),options:w(e.compilerOptions),referencedMap:h,semanticDiagnosticsPerFile:y,emitDiagnosticsPerFile:F(),changeFileSet:O(),affectedFilesPendingEmit:v,emitSignatures:m,latestChangedDtsFile:o,errors:!!e.hasErrors||void 0,checkPending:e.checkPending,version:l};function b(e){return x(Uo(e,r))}function x(t){return Qo(ca(i,t,e.program.getCanonicalFileName))}function k(e){let t=s.get(e);return void 0===t&&(a.push(x(e)),s.set(e,t=a.length)),t}function S(e){const t=Re(e.keys(),k).sort(kt),n=t.join();let r=null==p?void 0:p.get(n);return void 0===r&&(d=se(d,t),(null!=p?p:p=new Map).set(n,r=d.length)),r}function T(t,n){const r=e.program.getSourceFile(t);if(!e.program.getFileIncludeReasons().get(r.path).some(e=>0===e.kind))return;if(!_.length)return _.push(n);const i=_[_.length-1],o=et(i);if(o&&i[1]===n-1)return i[1]=n;if(o||1===_.length||i!==n-1)return _.push(n);const a=_[_.length-2];return rt(a)&&a===i-1?(_[_.length-2]=[a,n],_.length=_.length-1):_.push(n)}function C(){let t;return c.forEach(n=>{const r=e.program.getSourceFileByPath(n);r&&n!==r.resolvedPath&&(t=se(t,[k(r.resolvedPath),k(n)]))}),t}function w(e){let t;const{optionsNameMap:n}=KO();for(const r of Ie(e).sort(Nt)){const i=n.get(r.toLowerCase());(null==i?void 0:i.affectsBuildInfo)&&((t||(t={}))[r]=D(i,e[r]))}return t}function D(e,t){if(e)if(fn.assert("listOrElement"!==e.type),"list"===e.type){const n=t;if(e.element.isFilePath&&n.length)return n.map(b)}else if(e.isFilePath)return b(t);return t}function N(){let t;return e.fileInfos.forEach((n,r)=>{const i=e.semanticDiagnosticsPerFile.get(r);i?i.length&&(t=se(t,[k(r),E(i,r)])):e.changedFilesSet.has(r)||(t=se(t,k(r)))}),t}function F(){var t;let n;if(!(null==(t=e.emitDiagnosticsPerFile)?void 0:t.size))return n;for(const r of Re(e.emitDiagnosticsPerFile.keys()).sort(Nt)){const t=e.emitDiagnosticsPerFile.get(r);n=se(n,[k(r),E(t,r)])}return n}function E(e,t){return fn.assert(!!e.length),e.map(e=>{const n=P(e,t);n.reportsUnnecessary=e.reportsUnnecessary,n.reportDeprecated=e.reportsDeprecated,n.source=e.source,n.skippedOn=e.skippedOn;const{relatedInformation:r}=e;return n.relatedInformation=r?r.length?r.map(e=>P(e,t)):[]:void 0,n})}function P(e,t){const{file:n}=e;return __spreadProps(__spreadValues({},e),{file:!!n&&(n.resolvedPath===t?void 0:x(n.resolvedPath)),messageText:nt(e.messageText)?e.messageText:A(e.messageText)})}function A(e){if(e.repopulateInfo)return{info:e.repopulateInfo(),next:I(e.next)};const t=I(e.next);return t===e.next?e:__spreadProps(__spreadValues({},e),{next:t})}function I(e){return e&&f(e,(t,n)=>{const r=A(t);if(t===r)return;const i=n>0?e.slice(0,n-1):[];i.push(r);for(let o=n+1;o<e.length;o++)i.push(A(e[o]));return i})||e}function O(){let t;if(e.changedFilesSet.size)for(const n of Re(e.changedFilesSet.keys()).sort(Nt))t=se(t,k(n));return t}}(function(e){return fn.assert(nW(e)),e}(a)),t=void 0,r=void 0,o=void 0;const s=qW(a,i);return s.state=a,s.hasChangedEmitSignature=()=>!!a.hasChangedEmitSignature,s.getAllDependencies=e=>YU.getAllDependencies(a,fn.checkDefined(a.program),e),s.getSemanticDiagnostics=function(e,t){if(fn.assert(nW(a)),dW(a,e),e)return TW(a,e,t);for(;;){const e=g(t);if(!e)break;if(e.affected===a.program)return e.result}let n;for(const r of a.program.getSourceFiles())n=_e(n,TW(a,r,t));return a.checkPending&&!a.compilerOptions.noCheck&&(a.checkPending=void 0,a.buildInfoEmitPending=!0),n||u},s.getDeclarationDiagnostics=function(t,n){var r;if(fn.assert(nW(a)),1===e){let e,i;for(dW(a,t);e=c(void 0,n,void 0,void 0,!0);)t||(i=_e(i,e.result.diagnostics));return(t?null==(r=a.emitDiagnosticsPerFile)?void 0:r.get(t.resolvedPath):i)||u}{const e=a.program.getDeclarationDiagnostics(t,n);return m(t,void 0,!0,e),e}},s.emit=function(t,n,r,i,o){fn.assert(nW(a)),1===e&&dW(a,t);const c=UU(s,t,n,r);if(c)return c;if(!t){if(1===e){let e,t,a=[],s=!1,c=[];for(;t=d(n,r,i,o);)s=s||t.result.emitSkipped,e=_e(e,t.result.diagnostics),c=_e(c,t.result.emittedFiles),a=_e(a,t.result.sourceMaps);return{emitSkipped:s,diagnostics:e||u,emittedFiles:c,sourceMaps:a}}fW(a,i,!1)}const l=a.program.emit(t,p(n,o),r,i,o);return m(t,i,!1,l.diagnostics),l},s.releaseProgram=()=>function(e){YU.releaseCache(e),e.program=void 0}(a),0===e?s.getSemanticDiagnosticsOfNextAffectedFile=g:1===e?(s.getSemanticDiagnosticsOfNextAffectedFile=g,s.emitNextAffectedFile=d,s.emitBuildInfo=function(e,t){if(fn.assert(nW(a)),FW(a)){const r=a.program.emitBuildInfo(e||Ke(n,n.writeFile),t);return a.buildInfoEmitPending=!1,r}return VU}):ft(),s;function c(e,t,r,i,o){var s,c,l,u,d,f,m,g;fn.assert(nW(a));let h=pW(a,t,n);const y=rW(a.compilerOptions);let v,b=o?8:r?56&y:y;if(!h){if(a.compilerOptions.outFile){if(a.programEmitPending&&(b=mW(a.programEmitPending,a.seenProgramEmit,r,o),b&&(h=a.program)),!h&&(null==(d=a.emitDiagnosticsPerFile)?void 0:d.size)){const e=a.seenProgramEmit||0;if(!(e&gW(o))){a.seenProgramEmit=gW(o)|e;const t=[];return a.emitDiagnosticsPerFile.forEach(e=>_e(t,e)),{result:{emitSkipped:!0,diagnostics:t},affected:a.program}}}}else{const e=function(e,t,n){var r;if(null==(r=e.affectedFilesPendingEmit)?void 0:r.size)return sd(e.affectedFilesPendingEmit,(r,i)=>{var o;const a=e.program.getSourceFileByPath(i);if(!a||!ev(a,e.program))return void e.affectedFilesPendingEmit.delete(i);const s=mW(r,null==(o=e.seenEmittedFiles)?void 0:o.get(a.resolvedPath),t,n);return s?{affectedFile:a,emitKind:s}:void 0})}(a,r,o);if(e)({affectedFile:h,emitKind:b}=e);else{const e=function(e,t){var n;if(null==(n=e.emitDiagnosticsPerFile)?void 0:n.size)return sd(e.emitDiagnosticsPerFile,(n,r)=>{var i;const o=e.program.getSourceFileByPath(r);if(!o||!ev(o,e.program))return void e.emitDiagnosticsPerFile.delete(r);const a=(null==(i=e.seenEmittedFiles)?void 0:i.get(o.resolvedPath))||0;return a&gW(t)?void 0:{affectedFile:o,diagnostics:n,seenKind:a}})}(a,o);if(e)return(null!=(s=a.seenEmittedFiles)?s:a.seenEmittedFiles=new Map).set(e.affectedFile.resolvedPath,e.seenKind|gW(o)),{result:{emitSkipped:!0,diagnostics:e.diagnostics},affected:e.affectedFile}}}if(!h){if(o||!FW(a))return;const r=a.program,i=r.emitBuildInfo(e||Ke(n,n.writeFile),t);return a.buildInfoEmitPending=!1,{result:i,affected:r}}}7&b&&(v=0),56&b&&(v=void 0===v?1:void 0);const x=o?{emitSkipped:!0,diagnostics:a.program.getDeclarationDiagnostics(h===a.program?void 0:h,t)}:a.program.emit(h===a.program?void 0:h,p(e,i),t,v,i,void 0,!0);if(h!==a.program){const e=h;a.seenAffectedFiles.add(e.resolvedPath),void 0!==a.affectedFilesIndex&&a.affectedFilesIndex++,a.buildInfoEmitPending=!0;const t=(null==(f=a.seenEmittedFiles)?void 0:f.get(e.resolvedPath))||0;(null!=(c=a.seenEmittedFiles)?c:a.seenEmittedFiles=new Map).set(e.resolvedPath,b|t);const n=iW((null==(m=a.affectedFilesPendingEmit)?void 0:m.get(e.resolvedPath))||y,b|t);n?(null!=(l=a.affectedFilesPendingEmit)?l:a.affectedFilesPendingEmit=new Map).set(e.resolvedPath,n):null==(g=a.affectedFilesPendingEmit)||g.delete(e.resolvedPath),x.diagnostics.length&&(null!=(u=a.emitDiagnosticsPerFile)?u:a.emitDiagnosticsPerFile=new Map).set(e.resolvedPath,x.diagnostics)}else a.changedFilesSet.clear(),a.programEmitPending=a.changedFilesSet.size?iW(y,b):a.programEmitPending?iW(a.programEmitPending,b):void 0,a.seenProgramEmit=b|(a.seenProgramEmit||0),_(x.diagnostics),a.buildInfoEmitPending=!0;return{result:x,affected:h}}function _(e){let t;e.forEach(e=>{if(!e.file)return;let n=null==t?void 0:t.get(e.file.resolvedPath);n||(null!=t?t:t=new Map).set(e.file.resolvedPath,n=[]),n.push(e)}),t&&(a.emitDiagnosticsPerFile=t)}function d(e,t,n,r){return c(e,t,n,r,!1)}function p(e,t){return fn.assert(nW(a)),Ik(a.compilerOptions)?(r,i,o,s,c,l)=>{var _,u,d,p,f,m;if(lO(r))if(a.compilerOptions.outFile){if(a.compilerOptions.composite){const e=g(a.outSignature,void 0);if(!e)return l.skippedDtsWrite=!0;a.outSignature=e}}else{let e;if(fn.assert(1===(null==c?void 0:c.length)),!t){const t=c[0],r=a.fileInfos.get(t.resolvedPath);if(r.signature===t.version){const o=IW(a.program,t,i,n,l);(null==(p=null==l?void 0:l.diagnostics)?void 0:p.length)||(e=o),o!==t.version&&(n.storeSignatureInfo&&(null!=(_=a.signatureInfo)?_:a.signatureInfo=new Map).set(t.resolvedPath,1),a.affectedFiles?(void 0===(null==(f=a.oldSignatures)?void 0:f.get(t.resolvedPath))&&(null!=(u=a.oldSignatures)?u:a.oldSignatures=new Map).set(t.resolvedPath,r.signature||!1),r.signature=o):r.signature=o)}}if(a.compilerOptions.composite){const t=c[0].resolvedPath;if(e=g(null==(m=a.emitSignatures)?void 0:m.get(t),e),!e)return l.skippedDtsWrite=!0;(null!=(d=a.emitSignatures)?d:a.emitSignatures=new Map).set(t,e)}}function g(e,t){const o=!e||nt(e)?e:e[0];if(null!=t||(t=function(e,t,n){var r;return(null!=(r=t.createHash)?r:Ji)(AW(e,n))}(i,n,l)),t===o){if(e===o)return;l?l.differsOnlyInMap=!0:l={differsOnlyInMap:!0}}else a.hasChangedEmitSignature=!0,a.latestChangedDtsFile=r;return t}e?e(r,i,o,s,c,l):n.writeFile?n.writeFile(r,i,o,s,c,l):a.program.writeFile(r,i,o,s,c,l)}:e||Ke(n,n.writeFile)}function m(t,n,r,i){t||1===e||(fW(a,n,r),_(i))}function g(e,t){for(fn.assert(nW(a));;){const r=pW(a,e,n);let i;if(!r)return void(a.checkPending&&!a.compilerOptions.noCheck&&(a.checkPending=void 0,a.buildInfoEmitPending=!0));if(r!==a.program){const n=r;if(t&&t(n)||(i=TW(a,n,e)),a.seenAffectedFiles.add(n.resolvedPath),a.affectedFilesIndex++,a.buildInfoEmitPending=!0,!i)continue}else{let t;const n=new Map;a.program.getSourceFiles().forEach(r=>t=_e(t,TW(a,r,e,n))),a.semanticDiagnosticsPerFile=n,i=t||u,a.changedFilesSet.clear(),a.programEmitPending=rW(a.compilerOptions),a.compilerOptions.noCheck||(a.checkPending=void 0),a.buildInfoEmitPending=!0}return{result:i,affected:r}}}}function LW(e,t,n){var r,i,o;const a=(null==(i=e.affectedFilesPendingEmit)?void 0:i.get(t))||0;(null!=(r=e.affectedFilesPendingEmit)?r:e.affectedFilesPendingEmit=new Map).set(t,a|n),null==(o=e.emitDiagnosticsPerFile)||o.delete(t)}function jW(e){return nt(e)?{version:e,signature:e,affectsGlobalScope:void 0,impliedFormat:void 0}:nt(e.signature)?e:{version:e.version,signature:!1===e.signature?void 0:e.version,affectsGlobalScope:e.affectsGlobalScope,impliedFormat:e.impliedFormat}}function RW(e,t){return rt(e)?t:e[1]||24}function MW(e,t){return e||rW(t||{})}function BW(e,t,n){var r,i,o,a,s;const c=Io(Uo(t,n.getCurrentDirectory())),l=Kt(n.useCaseSensitiveFileNames());let _;const d=null==(i=e.fileNames)?void 0:i.map(function(e){return Ko(e,c,l)});let p;const f=e.latestChangedDtsFile?h(e.latestChangedDtsFile):void 0,m=new Map,g=new Set(A(e.changeFileSet,y));if(CW(e))e.fileInfos.forEach((e,t)=>{const n=y(t+1);m.set(n,nt(e)?{version:e,signature:void 0,affectsGlobalScope:void 0,impliedFormat:void 0}:e)}),_={fileInfos:m,compilerOptions:e.options?QL(e.options,h):{},semanticDiagnosticsPerFile:v(e.semanticDiagnosticsPerFile),emitDiagnosticsPerFile:b(e.emitDiagnosticsPerFile),hasReusableDiagnostic:!0,changedFilesSet:g,latestChangedDtsFile:f,outSignature:e.outSignature,programEmitPending:void 0===e.pendingEmit?void 0:MW(e.pendingEmit,e.options),hasErrors:e.errors,checkPending:e.checkPending};else{p=null==(o=e.fileIdsList)?void 0:o.map(e=>new Set(e.map(y)));const t=(null==(a=e.options)?void 0:a.composite)&&!e.options.outFile?new Map:void 0;e.fileInfos.forEach((e,n)=>{const r=y(n+1),i=jW(e);m.set(r,i),t&&i.signature&&t.set(r,i.signature)}),null==(s=e.emitSignatures)||s.forEach(e=>{if(rt(e))t.delete(y(e));else{const n=y(e[0]);t.set(n,nt(e[1])||e[1].length?e[1]:[t.get(n)])}});const n=e.affectedFilesPendingEmit?rW(e.options||{}):void 0;_={fileInfos:m,compilerOptions:e.options?QL(e.options,h):{},referencedMap:function(e,t){const n=YU.createReferencedMap(t);return n&&e?(e.forEach(([e,t])=>n.set(y(e),p[t-1])),n):n}(e.referencedMap,null!=(r=e.options)?r:{}),semanticDiagnosticsPerFile:v(e.semanticDiagnosticsPerFile),emitDiagnosticsPerFile:b(e.emitDiagnosticsPerFile),hasReusableDiagnostic:!0,changedFilesSet:g,affectedFilesPendingEmit:e.affectedFilesPendingEmit&&Je(e.affectedFilesPendingEmit,e=>y(rt(e)?e:e[0]),e=>RW(e,n)),latestChangedDtsFile:f,emitSignatures:(null==t?void 0:t.size)?t:void 0,hasErrors:e.errors,checkPending:e.checkPending}}return{state:_,getProgram:ft,getProgramOrUndefined:lt,releaseProgram:at,getCompilerOptions:()=>_.compilerOptions,getSourceFile:ft,getSourceFiles:ft,getOptionsDiagnostics:ft,getGlobalDiagnostics:ft,getConfigFileParsingDiagnostics:ft,getSyntacticDiagnostics:ft,getDeclarationDiagnostics:ft,getSemanticDiagnostics:ft,emit:ft,getAllDependencies:ft,getCurrentDirectory:ft,emitNextAffectedFile:ft,getSemanticDiagnosticsOfNextAffectedFile:ft,emitBuildInfo:ft,close:at,hasChangedEmitSignature:st};function h(e){return Uo(e,c)}function y(e){return d[e-1]}function v(e){const t=new Map(q(m.keys(),e=>g.has(e)?void 0:[e,u]));return null==e||e.forEach(e=>{rt(e)?t.delete(y(e)):t.set(y(e[0]),e[1])}),t}function b(e){return e&&Je(e,e=>y(e[0]),e=>e[1])}}function JW(e,t,n){const r=Io(Uo(t,n.getCurrentDirectory())),i=Kt(n.useCaseSensitiveFileNames()),o=new Map;let a=0;const s=new Map,c=new Map(e.resolvedRoot);return e.fileInfos.forEach((t,n)=>{const s=Ko(e.fileNames[n],r,i),c=nt(t)?t:t.version;if(o.set(s,c),a<e.root.length){const t=e.root[a],r=n+1;et(t)?t[0]<=r&&r<=t[1]&&(l(r,s),t[1]===r&&a++):t===r&&(l(r,s),a++)}}),{fileInfos:o,roots:s};function l(t,n){const o=c.get(t);o?s.set(Ko(e.fileNames[o-1],r,i),n):s.set(n,void 0)}}function zW(e,t,n){if(wW(r=e)||!r.root)return;var r;const i=Io(Uo(t,n.getCurrentDirectory())),o=Kt(n.useCaseSensitiveFileNames());return e.root.map(e=>Ko(e,i,o))}function qW(e,t){return{state:void 0,getProgram:n,getProgramOrUndefined:()=>e.program,releaseProgram:()=>e.program=void 0,getCompilerOptions:()=>e.compilerOptions,getSourceFile:e=>n().getSourceFile(e),getSourceFiles:()=>n().getSourceFiles(),getOptionsDiagnostics:e=>n().getOptionsDiagnostics(e),getGlobalDiagnostics:e=>n().getGlobalDiagnostics(e),getConfigFileParsingDiagnostics:()=>t,getSyntacticDiagnostics:(e,t)=>n().getSyntacticDiagnostics(e,t),getDeclarationDiagnostics:(e,t)=>n().getDeclarationDiagnostics(e,t),getSemanticDiagnostics:(e,t)=>n().getSemanticDiagnostics(e,t),emit:(e,t,r,i,o)=>n().emit(e,t,r,i,o),emitBuildInfo:(e,t)=>n().emitBuildInfo(e,t),getAllDependencies:ft,getCurrentDirectory:()=>n().getCurrentDirectory(),close:at};function n(){return fn.checkDefined(e.program)}}function VW(e,t,n,r,i,o){return OW(0,PW(e,t,n,r,i,o))}function UW(e,t,n,r,i,o){return OW(1,PW(e,t,n,r,i,o))}function WW(e,t,n,r,i,o){const{newProgram:a,configFileParsingDiagnostics:s}=PW(e,t,n,r,i,o);return qW({program:a,compilerOptions:a.getCompilerOptions()},s)}function $W(e){return Jt(e,"/node_modules/.staging")?zt(e,"/.staging"):K(no,t=>e.includes(t))?void 0:e}function HW(e,t){if(t<=1)return 1;let n=1,r=0===e[0].search(/[a-z]:/i);if(e[0]!==mo&&!r&&0===e[1].search(/[a-z]\$$/i)){if(2===t)return 2;n=2,r=!0}return r&&!e[n].match(/^users$/i)?n:e[n].match(/^workspaces$/i)?n+1:n+2}function KW(e,t){return void 0===t&&(t=e.length),!(t<=2)&&t>HW(e,t)+1}function GW(e){return KW(Ro(e))}function XW(e){return ZW(Io(e))}function QW(e,t){if(t.length<t.length)return!1;for(let n=0;n<e.length;n++)if(t[n]!==e[n])return!1;return!0}function ZW(e){return GW(e)}function YW(e){return ZW(e)}function e$(e,t,n,r,i,o,a,s){const c=Ro(t),l=Ro(e=xo(e)?Wo(e):Uo(e,a())),_=HW(c,c.length);if(c.length<=_+1)return;const u=c.indexOf("node_modules");if(-1!==u&&u+1<=_+1)return;const d=c.lastIndexOf("node_modules");return o&&QW(i,c)?c.length>i.length+1?n$(l,c,Math.max(i.length+1,_+1),d):{dir:n,dirPath:r,nonRecursive:!0}:t$(l,c,c.length-1,_,u,i,d,s)}function t$(e,t,n,r,i,o,a,s){if(-1!==i)return n$(e,t,i+1,a);let c=!0,l=n;if(!s)for(let _=0;_<n;_++)if(t[_]!==o[_]){c=!1,l=Math.max(_+1,r+1);break}return n$(e,t,l,a,c)}function n$(e,t,n,r,i){let o;return-1!==r&&r+1>=n&&r+2<t.length&&(Zt(t[r+1],"@")?r+3<t.length&&(o=r+3):o=r+2),{dir:Mo(e,n),dirPath:Mo(t,n),nonRecursive:i,packageDir:void 0!==o?Mo(e,o):void 0,packageDirPath:void 0!==o?Mo(t,o):void 0}}function r$(e,t,n,r,i,o,a,s){const c=Ro(t);if(i&&QW(r,c))return n;const l=t$(Ro(e=xo(e)?Wo(e):Uo(e,o())),c,c.length,HW(c,c.length),c.indexOf("node_modules"),r,c.lastIndexOf("node_modules"),a);return l&&s(l.dirPath)?l.dirPath:void 0}function i$(e,t){const n=Uo(e,t());return ko(n)?n:Go(n)}function o$(e){var t;return(null==(t=e.getCompilerHost)?void 0:t.call(e))||e}function a$(e,t,n,r,i){return{nameAndMode:xU,resolve:(o,a)=>function(e,t,n,r,i,o,a){const s=o$(e),c=JR(n,r,i,s,t,o,a);if(!e.getGlobalTypingsCacheLocation)return c;const l=e.getGlobalTypingsCacheLocation();if(!(void 0===l||Es(n)||c.resolvedModule&&nT(c.resolvedModule.extension))){const{resolvedModule:r,failedLookupLocations:o,affectingLocations:a,resolutionDiagnostics:_}=qM(fn.checkDefined(e.globalCacheResolutionModuleName)(n),e.projectName,i,s,l,t);if(r)return c.resolvedModule=r,c.failedLookupLocations=sR(c.failedLookupLocations,o),c.affectingLocations=sR(c.affectingLocations,a),c.resolutionDiagnostics=sR(c.resolutionDiagnostics,_),c}return c}(r,i,o,e,n,t,a)}}function s$(e,t,n){let r,i,o;const a=new Set,s=new Set,c=new Set,l=new Map,_=new Map;let d,p,f,m,g,y=!1,v=!1;const b=mt(()=>e.getCurrentDirectory()),x=e.getCachedDirectoryStructureHost(),k=new Map,S=LR(b(),e.getCanonicalFileName,e.getCompilationSettings()),T=new Map,C=jR(b(),e.getCanonicalFileName,e.getCompilationSettings(),S.getPackageJsonInfoCache(),S.optionsToRedirectsKey),w=new Map,D=LR(b(),e.getCanonicalFileName,RR(e.getCompilationSettings()),S.getPackageJsonInfoCache()),N=new Map,F=new Map,E=i$(t,b),P=e.toPath(E),A=Ro(P),I=KW(A),O=new Map,L=new Map,j=new Map,R=new Map;return{rootDirForResolution:t,resolvedModuleNames:k,resolvedTypeReferenceDirectives:T,resolvedLibraries:w,resolvedFileToResolution:l,resolutionsWithFailedLookups:s,resolutionsWithOnlyAffectingLocations:c,directoryWatchesOfFailedLookups:N,fileWatchesOfAffectingLocations:F,packageDirWatchers:L,dirPathToSymlinkPackageRefCount:j,watchFailedLookupLocationsOfExternalModuleResolutions:U,getModuleResolutionCache:()=>S,startRecordingFilesWithChangedResolutions:function(){r=[]},finishRecordingFilesWithChangedResolutions:function(){const e=r;return r=void 0,e},startCachingPerDirectoryResolution:function(){S.isReadonly=void 0,C.isReadonly=void 0,D.isReadonly=void 0,S.getPackageJsonInfoCache().isReadonly=void 0,S.clearAllExceptPackageJsonInfoCache(),C.clearAllExceptPackageJsonInfoCache(),D.clearAllExceptPackageJsonInfoCache(),X(),O.clear()},finishCachingPerDirectoryResolution:function(t,n){o=void 0,v=!1,X(),t!==n&&(function(t){w.forEach((n,r)=>{var i;(null==(i=null==t?void 0:t.resolvedLibReferences)?void 0:i.has(r))||(ee(n,e.toPath(NU(e.getCompilationSettings(),b(),r)),fd),w.delete(r))})}(t),null==t||t.getSourceFiles().forEach(e=>{var t,n,r;const i=null!=(t=null==(r=e.packageJsonLocations)?void 0:r.length)?t:0,o=null!=(n=_.get(e.resolvedPath))?n:u;for(let a=o.length;a<i;a++)H(e.packageJsonLocations[a],!1);if(o.length>i)for(let a=i;a<o.length;a++)F.get(o[a]).files--;i?_.set(e.resolvedPath,e.packageJsonLocations):_.delete(e.resolvedPath)}),_.forEach((e,n)=>{const r=null==t?void 0:t.getSourceFileByPath(n);r&&r.resolvedPath===n||(e.forEach(e=>F.get(e).files--),_.delete(n))})),N.forEach(J),F.forEach(z),L.forEach(B),y=!1,S.isReadonly=!0,C.isReadonly=!0,D.isReadonly=!0,S.getPackageJsonInfoCache().isReadonly=!0,O.clear()},resolveModuleNameLiterals:function(t,r,i,o,a,s){return q({entries:t,containingFile:r,containingSourceFile:a,redirectedReference:i,options:o,reusedNames:s,perFileCache:k,loader:a$(r,i,o,e,S),getResolutionWithResolvedFileName:fd,shouldRetryResolution:e=>!e.resolvedModule||!rT(e.resolvedModule.extension),logChanges:n,deferWatchingNonRelativeResolution:!0})},resolveTypeReferenceDirectiveReferences:function(t,n,r,i,o,a){return q({entries:t,containingFile:n,containingSourceFile:o,redirectedReference:r,options:i,reusedNames:a,perFileCache:T,loader:CU(n,r,i,o$(e),C),getResolutionWithResolvedFileName:md,shouldRetryResolution:e=>void 0===e.resolvedTypeReferenceDirective,deferWatchingNonRelativeResolution:!1})},resolveLibrary:function(t,n,r,i){const o=o$(e);let a=null==w?void 0:w.get(i);if(!a||a.isInvalidated){const s=a;a=MR(t,n,r,o,D);const c=e.toPath(n);U(t,a,c,fd,!1),w.set(i,a),s&&ee(s,c,fd)}else if(Zj(r,o)){const e=fd(a);Qj(o,(null==e?void 0:e.resolvedFileName)?e.packageId?ma.Reusing_resolution_of_module_0_from_1_of_old_program_it_was_successfully_resolved_to_2_with_Package_ID_3:ma.Reusing_resolution_of_module_0_from_1_of_old_program_it_was_successfully_resolved_to_2:ma.Reusing_resolution_of_module_0_from_1_of_old_program_it_was_not_resolved,t,n,null==e?void 0:e.resolvedFileName,(null==e?void 0:e.packageId)&&vd(e.packageId))}return a},resolveSingleModuleNameWithoutWatching:function(t,n){var r,i;const o=e.toPath(n),a=k.get(o),s=null==a?void 0:a.get(t,void 0);if(s&&!s.isInvalidated)return s;const c=null==(r=e.beforeResolveSingleModuleNameWithoutWatching)?void 0:r.call(e,S),l=o$(e),_=JR(t,n,e.getCompilationSettings(),l,S);return null==(i=e.afterResolveSingleModuleNameWithoutWatching)||i.call(e,S,t,n,_,c),_},removeResolutionsFromProjectReferenceRedirects:function(t){if(!Do(t,".json"))return;const n=e.getCurrentProgram();if(!n)return;const r=n.getResolvedProjectReferenceByPath(t);r&&r.commandLine.fileNames.forEach(t=>ie(e.toPath(t)))},removeResolutionsOfFile:ie,hasChangedAutomaticTypeDirectiveNames:()=>y,invalidateResolutionOfFile:function(t){ie(t);const n=y;oe(l.get(t),ct)&&y&&!n&&e.onChangedAutomaticTypeDirectiveNames()},invalidateResolutionsOfFailedLookupLocations:ce,setFilesWithInvalidatedNonRelativeUnresolvedImports:function(e){fn.assert(o===e||void 0===o),o=e},createHasInvalidatedResolutions:function(e,t){ce();const n=i;return i=void 0,{hasInvalidatedResolutions:t=>e(t)||v||!!(null==n?void 0:n.has(t))||M(t),hasInvalidatedLibResolutions:e=>{var n;return t(e)||!!(null==(n=null==w?void 0:w.get(e))?void 0:n.isInvalidated)}}},isFileWithInvalidatedNonRelativeUnresolvedImports:M,updateTypeRootsWatch:function(){const t=e.getCompilationSettings();if(t.types)return void de();const n=pR(t,{getCurrentDirectory:b});n?yx(R,new Set(n),{createNewValue:pe,onDeleteValue:sx}):de()},closeTypeRootsWatch:de,clear:function(){gx(N,zV),gx(F,zV),O.clear(),L.clear(),j.clear(),a.clear(),de(),k.clear(),T.clear(),l.clear(),s.clear(),c.clear(),f=void 0,m=void 0,g=void 0,p=void 0,d=void 0,v=!1,S.clear(),C.clear(),S.update(e.getCompilationSettings()),C.update(e.getCompilationSettings()),D.clear(),_.clear(),w.clear(),y=!1},onChangesAffectModuleResolution:function(){v=!0,S.clearAllExceptPackageJsonInfoCache(),C.clearAllExceptPackageJsonInfoCache(),S.update(e.getCompilationSettings()),C.update(e.getCompilationSettings())}};function M(e){if(!o)return!1;const t=o.get(e);return!!t&&!!t.length}function B(e,t){0===e.dirPathToWatcher.size&&L.delete(t)}function J(e,t){0===e.refCount&&(N.delete(t),e.watcher.close())}function z(e,t){var n;0!==e.files||0!==e.resolutions||(null==(n=e.symlinks)?void 0:n.size)||(F.delete(t),e.watcher.close())}function q({entries:t,containingFile:n,containingSourceFile:i,redirectedReference:o,options:a,perFileCache:s,reusedNames:c,loader:l,getResolutionWithResolvedFileName:_,deferWatchingNonRelativeResolution:u,shouldRetryResolution:d,logChanges:p}){const f=e.toPath(n),m=s.get(f)||s.set(f,ER()).get(f),g=[],h=p&&M(f),y=e.getCurrentProgram(),b=y&&y.getResolvedProjectReferenceToRedirect(n),x=b?!o||o.sourceFile.path!==b.sourceFile.path:!!o,S=ER();for(const C of t){const t=l.nameAndMode.getName(C),c=l.nameAndMode.getMode(C,i,(null==o?void 0:o.commandLine.options)||a);let y=m.get(t,c);if(!S.has(t,c)&&(v||x||!y||y.isInvalidated||h&&!Es(t)&&d(y))){const n=y;y=l.resolve(t,c),e.onDiscoveredSymlink&&c$(y)&&e.onDiscoveredSymlink(),m.set(t,c,y),y!==n&&(U(t,y,f,_,u),n&&ee(n,f,_)),p&&r&&!T(n,y)&&(r.push(f),p=!1)}else{const r=o$(e);if(Zj(a,r)&&!S.has(t,c)){const e=_(y);Qj(r,s===k?(null==e?void 0:e.resolvedFileName)?e.packageId?ma.Reusing_resolution_of_module_0_from_1_of_old_program_it_was_successfully_resolved_to_2_with_Package_ID_3:ma.Reusing_resolution_of_module_0_from_1_of_old_program_it_was_successfully_resolved_to_2:ma.Reusing_resolution_of_module_0_from_1_of_old_program_it_was_not_resolved:(null==e?void 0:e.resolvedFileName)?e.packageId?ma.Reusing_resolution_of_type_reference_directive_0_from_1_of_old_program_it_was_successfully_resolved_to_2_with_Package_ID_3:ma.Reusing_resolution_of_type_reference_directive_0_from_1_of_old_program_it_was_successfully_resolved_to_2:ma.Reusing_resolution_of_type_reference_directive_0_from_1_of_old_program_it_was_not_resolved,t,n,null==e?void 0:e.resolvedFileName,(null==e?void 0:e.packageId)&&vd(e.packageId))}}fn.assert(void 0!==y&&!y.isInvalidated),S.set(t,c,!0),g.push(y)}return null==c||c.forEach(e=>S.set(l.nameAndMode.getName(e),l.nameAndMode.getMode(e,i,(null==o?void 0:o.commandLine.options)||a),!0)),m.size()!==S.size()&&m.forEach((e,t,n)=>{S.has(t,n)||(ee(e,f,_),m.delete(t,n))}),g;function T(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=_(e),r=_(t);return n===r||!(!n||!r)&&n.resolvedFileName===r.resolvedFileName}}function V(e){return Jt(e,"/node_modules/@types")}function U(t,n,r,i,o){var s;if((null!=(s=n.files)?s:n.files=new Set).add(r),1!==n.files.size)return;!o||Es(t)?$(n):a.add(n);const c=i(n);if(c&&c.resolvedFileName){const t=e.toPath(c.resolvedFileName);let r=l.get(t);r||l.set(t,r=new Set),r.add(n)}}function W(t,n){const r=e$(t,e.toPath(t),E,P,A,I,b,e.preferNonRecursiveWatch);if(r){const{dir:e,dirPath:t,nonRecursive:i,packageDir:o,packageDirPath:a}=r;t===P?(fn.assert(i),fn.assert(!o),n=!0):Q(e,t,o,a,i)}return n}function $(e){var t;fn.assert(!!(null==(t=e.files)?void 0:t.size));const{failedLookupLocations:n,affectingLocations:r,alternateResult:i}=e;if(!(null==n?void 0:n.length)&&!(null==r?void 0:r.length)&&!i)return;((null==n?void 0:n.length)||i)&&s.add(e);let o=!1;if(n)for(const a of n)o=W(a,o);i&&(o=W(i,o)),o&&Q(E,P,void 0,void 0,!0),function(e,t){var n;fn.assert(!!(null==(n=e.files)?void 0:n.size));const{affectingLocations:r}=e;if(null==r?void 0:r.length){t&&c.add(e);for(const e of r)H(e,!0)}}(e,!(null==n?void 0:n.length)&&!i)}function H(t,n){var r;const i=F.get(t);if(i)return void(n?i.resolutions++:i.files++);let o,a=t,s=!1;e.realpath&&(a=e.realpath(t),t!==a&&(s=!0,o=F.get(a)));const c=n?1:0,l=n?0:1;if(!s||!o){const t={watcher:YW(e.toPath(a))?e.watchAffectingFileLocation(a,(t,n)=>{null==x||x.addOrDeleteFile(t,e.toPath(a),n),G(a,S.getPackageJsonInfoCache().getInternalMap()),e.scheduleInvalidateResolutionsOfFailedLookupLocations()}):E$,resolutions:s?0:c,files:s?0:l,symlinks:void 0};F.set(a,t),s&&(o=t)}if(s){fn.assert(!!o);const e={watcher:{close:()=>{var e;const n=F.get(a);!(null==(e=null==n?void 0:n.symlinks)?void 0:e.delete(t))||n.symlinks.size||n.resolutions||n.files||(F.delete(a),n.watcher.close())}},resolutions:c,files:l,symlinks:void 0};F.set(t,e),(null!=(r=o.symlinks)?r:o.symlinks=new Set).add(t)}}function G(t,n){var r;const i=F.get(t);(null==i?void 0:i.resolutions)&&(null!=p?p:p=new Set).add(t),(null==i?void 0:i.files)&&(null!=d?d:d=new Set).add(t),null==(r=null==i?void 0:i.symlinks)||r.forEach(e=>G(e,n)),null==n||n.delete(e.toPath(t))}function X(){a.forEach($),a.clear()}function Q(t,n,r,i,o){i&&e.realpath?function(t,n,r,i,o){var a;fn.assert(!o);let s=O.get(i),c=L.get(i);if(void 0===s){const t=e.realpath(r);s=t!==r&&e.toPath(t)!==i,O.set(i,s),c?c.isSymlink!==s&&(c.dirPathToWatcher.forEach(e=>{te(c.isSymlink?i:n),e.watcher=_()}),c.isSymlink=s):L.set(i,c={dirPathToWatcher:new Map,isSymlink:s})}else fn.assertIsDefined(c),fn.assert(s===c.isSymlink);const l=c.dirPathToWatcher.get(n);function _(){return s?Z(r,i,o):Z(t,n,o)}l?l.refCount++:(c.dirPathToWatcher.set(n,{watcher:_(),refCount:1}),s&&j.set(n,(null!=(a=j.get(n))?a:0)+1))}(t,n,r,i,o):Z(t,n,o)}function Z(e,t,n){let r=N.get(t);return r?(fn.assert(!!n==!!r.nonRecursive),r.refCount++):N.set(t,r={watcher:ne(e,t,n),refCount:1,nonRecursive:n}),r}function Y(t,n){const r=e$(t,e.toPath(t),E,P,A,I,b,e.preferNonRecursiveWatch);if(r){const{dirPath:t,packageDirPath:i}=r;if(t===P)n=!0;else if(i&&e.realpath){const e=L.get(i),n=e.dirPathToWatcher.get(t);if(n.refCount--,0===n.refCount&&(te(e.isSymlink?i:t),e.dirPathToWatcher.delete(t),e.isSymlink)){const e=j.get(t)-1;0===e?j.delete(t):j.set(t,e)}}else te(t)}return n}function ee(t,n,r){if(fn.checkDefined(t.files).delete(n),t.files.size)return;t.files=void 0;const i=r(t);if(i&&i.resolvedFileName){const n=e.toPath(i.resolvedFileName),r=l.get(n);(null==r?void 0:r.delete(t))&&!r.size&&l.delete(n)}const{failedLookupLocations:o,affectingLocations:a,alternateResult:_}=t;if(s.delete(t)){let e=!1;if(o)for(const t of o)e=Y(t,e);_&&(e=Y(_,e)),e&&te(P)}else(null==a?void 0:a.length)&&c.delete(t);if(a)for(const e of a)F.get(e).resolutions--}function te(e){N.get(e).refCount--}function ne(t,n,r){return e.watchDirectoryOfFailedLookupLocation(t,t=>{const r=e.toPath(t);x&&x.addOrDeleteFileOrDirectory(t,r),ae(r,n===r)},r?0:1)}function re(e,t,n){const r=e.get(t);r&&(r.forEach(e=>ee(e,t,n)),e.delete(t))}function ie(e){re(k,e,fd),re(T,e,md)}function oe(e,t){if(!e)return!1;let n=!1;return e.forEach(e=>{if(!e.isInvalidated&&t(e)){e.isInvalidated=n=!0;for(const t of fn.checkDefined(e.files))(null!=i?i:i=new Set).add(t),y=y||Jt(t,DU)}}),n}function ae(t,n){if(n)(g||(g=new Set)).add(t);else{const n=$W(t);if(!n)return!1;if(t=n,e.fileIsOpen(t))return!1;const r=Io(t);if(V(t)||pa(t)||V(r)||pa(r))(f||(f=new Set)).add(t),(m||(m=new Set)).add(t);else{if(RV(e.getCurrentProgram(),t))return!1;if(Do(t,".map"))return!1;(f||(f=new Set)).add(t),(m||(m=new Set)).add(t);const n=eM(t,!0);n&&(m||(m=new Set)).add(n)}}e.scheduleInvalidateResolutionsOfFailedLookupLocations()}function se(){const e=S.getPackageJsonInfoCache().getInternalMap();e&&(f||m||g)&&e.forEach((t,n)=>_e(n)?e.delete(n):void 0)}function ce(){var t;if(v)return d=void 0,se(),(f||m||g||p)&&oe(w,le),f=void 0,m=void 0,g=void 0,p=void 0,!0;let n=!1;return d&&(null==(t=e.getCurrentProgram())||t.getSourceFiles().forEach(e=>{K(e.packageJsonLocations,e=>d.has(e))&&((null!=i?i:i=new Set).add(e.path),n=!0)}),d=void 0),f||m||g||p?(n=oe(s,le)||n,se(),f=void 0,m=void 0,g=void 0,n=oe(c,ue)||n,p=void 0,n):n}function le(t){var n;return!!ue(t)||!!(f||m||g)&&((null==(n=t.failedLookupLocations)?void 0:n.some(t=>_e(e.toPath(t))))||!!t.alternateResult&&_e(e.toPath(t.alternateResult)))}function _e(e){return(null==f?void 0:f.has(e))||h((null==m?void 0:m.keys())||[],t=>!!Zt(e,t)||void 0)||h((null==g?void 0:g.keys())||[],t=>!(!(e.length>t.length&&Zt(e,t))||!ko(t)&&e[t.length]!==mo)||void 0)}function ue(e){var t;return!!p&&(null==(t=e.affectingLocations)?void 0:t.some(e=>p.has(e)))}function de(){gx(R,sx)}function pe(t){return function(t){return!!e.getCompilationSettings().typeRoots||XW(e.toPath(t))}(t)?e.watchTypeRootsDirectory(t,n=>{const r=e.toPath(n);x&&x.addOrDeleteFileOrDirectory(n,r),y=!0,e.onChangedAutomaticTypeDirectiveNames();const i=r$(t,e.toPath(t),P,A,I,b,e.preferNonRecursiveWatch,e=>N.has(e)||j.has(e));i&&ae(r,i===r)},1):E$}}function c$(e){var t,n;return!(!(null==(t=e.resolvedModule)?void 0:t.originalPath)&&!(null==(n=e.resolvedTypeReferenceDirective)?void 0:n.originalPath))}var l$=po?{getCurrentDirectory:()=>po.getCurrentDirectory(),getNewLine:()=>po.newLine,getCanonicalFileName:Kt(po.useCaseSensitiveFileNames)}:void 0;function _$(e,t){const n=e===po&&l$?l$:{getCurrentDirectory:()=>e.getCurrentDirectory(),getNewLine:()=>e.newLine,getCanonicalFileName:Kt(e.useCaseSensitiveFileNames)};if(!t)return t=>e.write(ZV(t,n));const r=new Array(1);return t=>{r[0]=t,e.write(_U(r,n)+n.getNewLine()),r[0]=void 0}}function u$(e,t,n){return!(!e.clearScreen||n.preserveWatchOutput||n.extendedDiagnostics||n.diagnostics||!w(d$,t.code)||(e.clearScreen(),0))}var d$=[ma.Starting_compilation_in_watch_mode.code,ma.File_change_detected_Starting_incremental_compilation.code];function p$(e){return e.now?e.now().toLocaleTimeString("en-US",{timeZone:"UTC"}).replace(" "," "):(new Date).toLocaleTimeString()}function f$(e,t){return t?(t,n,r)=>{u$(e,t,r);let i=`[${sU(p$(e),"[90m")}] `;i+=`${uU(t.messageText,e.newLine)}${n+n}`,e.write(i)}:(t,n,r)=>{let i="";u$(e,t,r)||(i+=n),i+=`${p$(e)} - `,i+=`${uU(t.messageText,e.newLine)}${function(e,t){return w(d$,e.code)?t+t:t}(t,n)}`,e.write(i)}}function m$(e,t,n,r,i,o){const a=i;a.onUnRecoverableConfigFileDiagnostic=e=>J$(i,o,e);const s=fL(e,t,a,n,r);return a.onUnRecoverableConfigFileDiagnostic=void 0,s}function g$(e){return N(e,e=>1===e.category)}function h$(e){return F(e,e=>1===e.category).map(e=>{if(void 0!==e.file)return`${e.file.fileName}`}).map(t=>{if(void 0===t)return;const n=k(e,e=>void 0!==e.file&&e.file.fileName===t);if(void 0!==n){const{line:e}=$a(n.file,n.start);return{fileName:t,line:e+1}}})}function y$(e){return 1===e?ma.Found_1_error_Watching_for_file_changes:ma.Found_0_errors_Watching_for_file_changes}function v$(e,t){const n=sU(":"+e.line,"[90m");return So(e.fileName)&&So(t)?ca(t,e.fileName,!1)+n:e.fileName+n}function b$(e,t,n,r){if(0===e)return"";const i=t.filter(e=>void 0!==e),o=i.map(e=>`${e.fileName}:${e.line}`).filter((e,t,n)=>n.indexOf(e)===t),a=i[0]&&v$(i[0],r.getCurrentDirectory());let s;s=1===e?void 0!==t[0]?[ma.Found_1_error_in_0,a]:[ma.Found_1_error]:0===o.length?[ma.Found_0_errors,e]:1===o.length?[ma.Found_0_errors_in_the_same_file_starting_at_Colon_1,e,a]:[ma.Found_0_errors_in_1_files,e,o.length];const c=nk(...s),l=o.length>1?function(e,t){const n=e.filter((e,t,n)=>t===n.findIndex(t=>(null==t?void 0:t.fileName)===(null==e?void 0:e.fileName)));if(0===n.length)return"";const r=e=>Math.log(e)*Math.LOG10E+1,i=n.map(t=>[t,N(e,e=>e.fileName===t.fileName)]),o=Tt(i,0,e=>e[1]),a=ma.Errors_Files.message,s=a.split(" ")[0].length,c=Math.max(s,r(o)),l=Math.max(r(o)-s,0);let _="";return _+=" ".repeat(l)+a+"\n",i.forEach(e=>{const[n,r]=e,i=Math.log(r)*Math.LOG10E+1|0,o=i<c?" ".repeat(c-i):"",a=v$(n,t.getCurrentDirectory());_+=`${o}${r}  ${a}\n`}),_}(i,r):"";return`${n}${uU(c.messageText,n)}${n}${n}${l}`}function x$(e){return!!e.state}function k$(e,t){var n,r;const i=e.getFileIncludeReasons(),o=t=>la(t,e.getCurrentDirectory(),e.getCanonicalFileName);for(const a of e.getSourceFiles())t(`${D$(a,o)}`),null==(n=i.get(a.path))||n.forEach(n=>t(`  ${w$(e,n,o).messageText}`)),null==(r=S$(a,e.getCompilerOptionsForFile(a),o))||r.forEach(e=>t(`  ${e.messageText}`))}function S$(e,t,n){var r;let i;if(e.path!==e.resolvedPath&&(null!=i?i:i=[]).push(ik(void 0,ma.File_is_output_of_project_reference_source_0,D$(e.originalFileName,n))),e.redirectInfo&&(null!=i?i:i=[]).push(ik(void 0,ma.File_redirects_to_file_0,D$(e.redirectInfo.redirectTarget,n))),rf(e))switch(zU(e,t)){case 99:e.packageJsonScope&&(null!=i?i:i=[]).push(ik(void 0,ma.File_is_ECMAScript_module_because_0_has_field_type_with_value_module,D$(ke(e.packageJsonLocations),n)));break;case 1:e.packageJsonScope?(null!=i?i:i=[]).push(ik(void 0,e.packageJsonScope.contents.packageJsonContent.type?ma.File_is_CommonJS_module_because_0_has_field_type_whose_value_is_not_module:ma.File_is_CommonJS_module_because_0_does_not_have_field_type,D$(ke(e.packageJsonLocations),n))):(null==(r=e.packageJsonLocations)?void 0:r.length)&&(null!=i?i:i=[]).push(ik(void 0,ma.File_is_CommonJS_module_because_package_json_was_not_found))}return i}function T$(e,t){var n;const r=e.getCompilerOptions().configFile;if(!(null==(n=null==r?void 0:r.configFileSpecs)?void 0:n.validatedFilesSpec))return;const i=e.getCanonicalFileName(t),o=Io(Uo(r.fileName,e.getCurrentDirectory())),a=T(r.configFileSpecs.validatedFilesSpec,t=>e.getCanonicalFileName(Uo(t,o))===i);return-1!==a?r.configFileSpecs.validatedFilesSpecBeforeSubstitution[a]:void 0}function C$(e,t){var n,r;const i=e.getCompilerOptions().configFile;if(!(null==(n=null==i?void 0:i.configFileSpecs)?void 0:n.validatedIncludeSpecs))return;if(i.configFileSpecs.isDefaultIncludeSpec)return!0;const o=Do(t,".json"),a=Io(Uo(i.fileName,e.getCurrentDirectory())),s=e.useCaseSensitiveFileNames(),c=T(null==(r=null==i?void 0:i.configFileSpecs)?void 0:r.validatedIncludeSpecs,e=>{if(o&&!Jt(e,".json"))return!1;const n=hS(e,a,"files");return!!n&&xS(`(${n})$`,s).test(t)});return-1!==c?i.configFileSpecs.validatedIncludeSpecsBeforeSubstitution[c]:void 0}function w$(e,t,n){var r,i;const o=e.getCompilerOptions();if(EU(t)){const r=AU(e,t),i=PU(r)?r.file.text.substring(r.pos,r.end):`"${r.text}"`;let o;switch(fn.assert(PU(r)||3===t.kind,"Only synthetic references are imports"),t.kind){case 3:o=PU(r)?r.packageId?ma.Imported_via_0_from_file_1_with_packageId_2:ma.Imported_via_0_from_file_1:r.text===Ku?r.packageId?ma.Imported_via_0_from_file_1_with_packageId_2_to_import_importHelpers_as_specified_in_compilerOptions:ma.Imported_via_0_from_file_1_to_import_importHelpers_as_specified_in_compilerOptions:r.packageId?ma.Imported_via_0_from_file_1_with_packageId_2_to_import_jsx_and_jsxs_factory_functions:ma.Imported_via_0_from_file_1_to_import_jsx_and_jsxs_factory_functions;break;case 4:fn.assert(!r.packageId),o=ma.Referenced_via_0_from_file_1;break;case 5:o=r.packageId?ma.Type_library_referenced_via_0_from_file_1_with_packageId_2:ma.Type_library_referenced_via_0_from_file_1;break;case 7:fn.assert(!r.packageId),o=ma.Library_referenced_via_0_from_file_1;break;default:fn.assertNever(t)}return ik(void 0,o,i,D$(r.file,n),r.packageId&&vd(r.packageId))}switch(t.kind){case 0:if(!(null==(r=o.configFile)?void 0:r.configFileSpecs))return ik(void 0,ma.Root_file_specified_for_compilation);const a=Uo(e.getRootFileNames()[t.index],e.getCurrentDirectory());if(T$(e,a))return ik(void 0,ma.Part_of_files_list_in_tsconfig_json);const s=C$(e,a);return nt(s)?ik(void 0,ma.Matched_by_include_pattern_0_in_1,s,D$(o.configFile,n)):ik(void 0,s?ma.Matched_by_default_include_pattern_Asterisk_Asterisk_Slash_Asterisk:ma.Root_file_specified_for_compilation);case 1:case 2:const c=2===t.kind,l=fn.checkDefined(null==(i=e.getResolvedProjectReferences())?void 0:i[t.index]);return ik(void 0,o.outFile?c?ma.Output_from_referenced_project_0_included_because_1_specified:ma.Source_from_referenced_project_0_included_because_1_specified:c?ma.Output_from_referenced_project_0_included_because_module_is_specified_as_none:ma.Source_from_referenced_project_0_included_because_module_is_specified_as_none,D$(l.sourceFile.fileName,n),o.outFile?"--outFile":"--out");case 8:return ik(void 0,...o.types?t.packageId?[ma.Entry_point_of_type_library_0_specified_in_compilerOptions_with_packageId_1,t.typeReference,vd(t.packageId)]:[ma.Entry_point_of_type_library_0_specified_in_compilerOptions,t.typeReference]:t.packageId?[ma.Entry_point_for_implicit_type_library_0_with_packageId_1,t.typeReference,vd(t.packageId)]:[ma.Entry_point_for_implicit_type_library_0,t.typeReference]);case 6:{if(void 0!==t.index)return ik(void 0,ma.Library_0_specified_in_compilerOptions,o.lib[t.index]);const e=$k(Sk(o));return ik(void 0,...e?[ma.Default_library_for_target_0,e]:[ma.Default_library])}default:fn.assertNever(t)}}function D$(e,t){const n=nt(e)?e:e.fileName;return t?t(n):n}function N$(e,t,n,r,i,o,a,s){const c=e.getCompilerOptions(),l=e.getConfigFileParsingDiagnostics().slice(),_=l.length;_e(l,e.getSyntacticDiagnostics(void 0,o)),l.length===_&&(_e(l,e.getOptionsDiagnostics(o)),c.listFilesOnly||(_e(l,e.getGlobalDiagnostics(o)),l.length===_&&_e(l,e.getSemanticDiagnostics(void 0,o)),c.noEmit&&Ik(c)&&l.length===_&&_e(l,e.getDeclarationDiagnostics(void 0,o))));const d=c.listFilesOnly?{emitSkipped:!0,diagnostics:u}:e.emit(void 0,i,o,a,s);_e(l,d.diagnostics);const p=Ps(l);if(p.forEach(t),n){const t=e.getCurrentDirectory();f(d.emittedFiles,e=>{const r=Uo(e,t);n(`TSFILE: ${r}`)}),function(e,t){const n=e.getCompilerOptions();n.explainFiles?k$(x$(e)?e.getProgram():e,t):(n.listFiles||n.listFilesOnly)&&f(e.getSourceFiles(),e=>{t(e.fileName)})}(e,n)}return r&&r(g$(p),h$(p)),{emitResult:d,diagnostics:p}}function F$(e,t,n,r,i,o,a,s){const{emitResult:c,diagnostics:l}=N$(e,t,n,r,i,o,a,s);return c.emitSkipped&&l.length>0?1:l.length>0?2:0}var E$={close:at},P$=()=>E$;function A$(e=po,t){return{onWatchStatusChange:t||f$(e),watchFile:Ke(e,e.watchFile)||P$,watchDirectory:Ke(e,e.watchDirectory)||P$,setTimeout:Ke(e,e.setTimeout)||at,clearTimeout:Ke(e,e.clearTimeout)||at,preferNonRecursiveWatch:e.preferNonRecursiveWatch}}var I$={ConfigFile:"Config file",ExtendedConfigFile:"Extended config file",SourceFile:"Source file",MissingFile:"Missing file",WildcardDirectory:"Wild card directory",FailedLookupLocations:"Failed Lookup Locations",AffectingFileLocation:"File location affecting resolution",TypeRoots:"Type roots",ConfigFileOfReferencedProject:"Config file of referened project",ExtendedConfigOfReferencedProject:"Extended config file of referenced project",WildcardDirectoryOfReferencedProject:"Wild card directory of referenced project",PackageJson:"package.json file",ClosedScriptInfo:"Closed Script info",ConfigFileForInferredRoot:"Config file for the inferred project root",NodeModules:"node_modules for closed script infos and package.jsons affecting module specifier cache",MissingSourceMapFile:"Missing source map file",NoopConfigFileForInferredRoot:"Noop Config file for the inferred project root",MissingGeneratedFile:"Missing generated file",NodeModulesForModuleSpecifierCache:"node_modules for module specifier cache invalidation",TypingInstallerLocationFile:"File location for typing installer",TypingInstallerLocationDirectory:"Directory location for typing installer"};function O$(e,t){const n=e.trace?t.extendedDiagnostics?2:t.diagnostics?1:0:0,r=0!==n?t=>e.trace(t):at,i=BV(e,n,r);return i.writeLog=r,i}function L$(e,t,n=e){const r=e.useCaseSensitiveFileNames(),i={getSourceFile:$V((t,n)=>n?e.readFile(t,n):i.readFile(t),void 0),getDefaultLibLocation:Ke(e,e.getDefaultLibLocation),getDefaultLibFileName:t=>e.getDefaultLibFileName(t),writeFile:HV((t,n,r)=>e.writeFile(t,n,r),t=>e.createDirectory(t),t=>e.directoryExists(t)),getCurrentDirectory:mt(()=>e.getCurrentDirectory()),useCaseSensitiveFileNames:()=>r,getCanonicalFileName:Kt(r),getNewLine:()=>jb(t()),fileExists:t=>e.fileExists(t),readFile:t=>e.readFile(t),trace:Ke(e,e.trace),directoryExists:Ke(n,n.directoryExists),getDirectories:Ke(n,n.getDirectories),realpath:Ke(e,e.realpath),getEnvironmentVariable:Ke(e,e.getEnvironmentVariable)||(()=>""),createHash:Ke(e,e.createHash),readDirectory:Ke(e,e.readDirectory),storeSignatureInfo:e.storeSignatureInfo,jsDocParsingMode:e.jsDocParsingMode};return i}function j$(e,t){if(t.match(DJ)){let e=t.length,n=e;for(let r=e-1;r>=0;r--){const i=t.charCodeAt(r);switch(i){case 10:r&&13===t.charCodeAt(r-1)&&r--;case 13:break;default:if(i<127||!Ga(i)){n=r;continue}}const o=t.substring(n,e);if(o.match(NJ)){t=t.substring(0,n);break}if(!o.match(FJ))break;e=n}}return(e.createHash||Ji)(t)}function R$(e){const t=e.getSourceFile;e.getSourceFile=(...n)=>{const r=t.call(e,...n);return r&&(r.version=j$(e,r.text)),r}}function M$(e,t){const n=mt(()=>Io(Wo(e.getExecutingFilePath())));return{useCaseSensitiveFileNames:()=>e.useCaseSensitiveFileNames,getNewLine:()=>e.newLine,getCurrentDirectory:mt(()=>e.getCurrentDirectory()),getDefaultLibLocation:n,getDefaultLibFileName:e=>zo(n(),Is(e)),fileExists:t=>e.fileExists(t),readFile:(t,n)=>e.readFile(t,n),directoryExists:t=>e.directoryExists(t),getDirectories:t=>e.getDirectories(t),readDirectory:(t,n,r,i,o)=>e.readDirectory(t,n,r,i,o),realpath:Ke(e,e.realpath),getEnvironmentVariable:Ke(e,e.getEnvironmentVariable),trace:t=>e.write(t+e.newLine),createDirectory:t=>e.createDirectory(t),writeFile:(t,n,r)=>e.writeFile(t,n,r),createHash:Ke(e,e.createHash),createProgram:t||UW,storeSignatureInfo:e.storeSignatureInfo,now:Ke(e,e.now)}}function B$(e=po,t,n,r){const i=t=>e.write(t+e.newLine),o=M$(e,t);return He(o,A$(e,r)),o.afterProgramCreate=e=>{const t=e.getCompilerOptions(),r=jb(t);N$(e,n,i,e=>o.onWatchStatusChange(nk(y$(e),e),r,t,e))},o}function J$(e,t,n){t(n),e.exit(1)}function z$({configFileName:e,optionsToExtend:t,watchOptionsToExtend:n,extraFileExtensions:r,system:i,createProgram:o,reportDiagnostic:a,reportWatchStatus:s}){const c=a||_$(i),l=B$(i,o,c,s);return l.onUnRecoverableConfigFileDiagnostic=e=>J$(i,c,e),l.configFileName=e,l.optionsToExtend=t,l.watchOptionsToExtend=n,l.extraFileExtensions=r,l}function q$({rootFiles:e,options:t,watchOptions:n,projectReferences:r,system:i,createProgram:o,reportDiagnostic:a,reportWatchStatus:s}){const c=B$(i,o,a||_$(i),s);return c.rootFiles=e,c.options=t,c.watchOptions=n,c.projectReferences=r,c}function V$(e){const t=e.system||po,n=e.host||(e.host=W$(e.options,t)),r=$$(e),i=F$(r,e.reportDiagnostic||_$(t),e=>n.trace&&n.trace(e),e.reportErrorSummary||e.options.pretty?(e,r)=>t.write(b$(e,r,t.newLine,n)):void 0);return e.afterProgramEmitAndDiagnostics&&e.afterProgramEmitAndDiagnostics(r),i}function U$(e,t){const n=Zq(e);if(!n)return;let r;if(t.getBuildInfo)r=t.getBuildInfo(n,e.configFilePath);else{const e=t.readFile(n);if(!e)return;r=vV(n,e)}return r&&r.version===l&&wW(r)?BW(r,n,t):void 0}function W$(e,t=po){const n=KV(e,void 0,t);return n.createHash=Ke(t,t.createHash),n.storeSignatureInfo=t.storeSignatureInfo,R$(n),GV(n,e=>Ko(e,n.getCurrentDirectory(),n.getCanonicalFileName)),n}function $$({rootNames:e,options:t,configFileParsingDiagnostics:n,projectReferences:r,host:i,createProgram:o}){return(o=o||UW)(e,t,i=i||W$(t),U$(t,i),n,r)}function H$(e,t,n,r,i,o,a,s){return et(e)?q$({rootFiles:e,options:t,watchOptions:s,projectReferences:a,system:n,createProgram:r,reportDiagnostic:i,reportWatchStatus:o}):z$({configFileName:e,optionsToExtend:t,watchOptionsToExtend:a,extraFileExtensions:s,system:n,createProgram:r,reportDiagnostic:i,reportWatchStatus:o})}function K$(e){let t,n,r,i,o,a,s,c,l=new Map([[void 0,void 0]]),_=e.extendedConfigCache,u=!1;const d=new Map;let p,f=!1;const m=e.useCaseSensitiveFileNames(),g=e.getCurrentDirectory(),{configFileName:h,optionsToExtend:y={},watchOptionsToExtend:v,extraFileExtensions:b,createProgram:x}=e;let k,S,{rootFiles:T,options:C,watchOptions:w,projectReferences:D}=e,N=!1,F=!1;const E=void 0===h?void 0:FV(e,g,m),P=E||e,A=$U(e,P);let I=G();h&&e.configFileParsingResult&&(ce(e.configFileParsingResult),I=G()),ee(ma.Starting_compilation_in_watch_mode),h&&!e.configFileParsingResult&&(I=jb(y),fn.assert(!T),se(),I=G()),fn.assert(C),fn.assert(T);const{watchFile:O,watchDirectory:L,writeLog:j}=O$(e,C),R=Kt(m);let M;j(`Current directory: ${g} CaseSensitiveFileNames: ${m}`),h&&(M=O(h,function(){fn.assert(!!h),n=2,ie()},2e3,w,I$.ConfigFile));const B=L$(e,()=>C,P);R$(B);const J=B.getSourceFile;B.getSourceFile=(e,...t)=>Z(e,X(e),...t),B.getSourceFileByPath=Z,B.getNewLine=()=>I,B.fileExists=function(e){const t=X(e);return!Q(d.get(t))&&P.fileExists(e)},B.onReleaseOldSourceFile=function(e,t,n){const r=d.get(e.resolvedPath);void 0!==r&&(Q(r)?(p||(p=[])).push(e.path):r.sourceFile===e&&(r.fileWatcher&&r.fileWatcher.close(),d.delete(e.resolvedPath),n||z.removeResolutionsOfFile(e.path)))},B.onReleaseParsedCommandLine=function(e){var t;const n=X(e),r=null==s?void 0:s.get(n);r&&(s.delete(n),r.watchedDirectories&&gx(r.watchedDirectories,zV),null==(t=r.watcher)||t.close(),AV(n,c))},B.toPath=X,B.getCompilationSettings=()=>C,B.useSourceOfProjectReferenceRedirect=Ke(e,e.useSourceOfProjectReferenceRedirect),B.preferNonRecursiveWatch=e.preferNonRecursiveWatch,B.watchDirectoryOfFailedLookupLocation=(e,t,n)=>L(e,t,n,w,I$.FailedLookupLocations),B.watchAffectingFileLocation=(e,t)=>O(e,t,2e3,w,I$.AffectingFileLocation),B.watchTypeRootsDirectory=(e,t,n)=>L(e,t,n,w,I$.TypeRoots),B.getCachedDirectoryStructureHost=()=>E,B.scheduleInvalidateResolutionsOfFailedLookupLocations=function(){if(!e.setTimeout||!e.clearTimeout)return z.invalidateResolutionsOfFailedLookupLocations();const t=ne();j("Scheduling invalidateFailedLookup"+(t?", Cancelled earlier one":"")),a=e.setTimeout(re,250,"timerToInvalidateFailedLookupResolutions")},B.onInvalidatedResolution=ie,B.onChangedAutomaticTypeDirectiveNames=ie,B.fileIsOpen=st,B.getCurrentProgram=H,B.writeLog=j,B.getParsedCommandLine=le;const z=s$(B,h?Io(Uo(h,g)):g,!1);B.resolveModuleNameLiterals=Ke(e,e.resolveModuleNameLiterals),B.resolveModuleNames=Ke(e,e.resolveModuleNames),B.resolveModuleNameLiterals||B.resolveModuleNames||(B.resolveModuleNameLiterals=z.resolveModuleNameLiterals.bind(z)),B.resolveTypeReferenceDirectiveReferences=Ke(e,e.resolveTypeReferenceDirectiveReferences),B.resolveTypeReferenceDirectives=Ke(e,e.resolveTypeReferenceDirectives),B.resolveTypeReferenceDirectiveReferences||B.resolveTypeReferenceDirectives||(B.resolveTypeReferenceDirectiveReferences=z.resolveTypeReferenceDirectiveReferences.bind(z)),B.resolveLibrary=e.resolveLibrary?e.resolveLibrary.bind(e):z.resolveLibrary.bind(z),B.getModuleResolutionCache=e.resolveModuleNameLiterals||e.resolveModuleNames?Ke(e,e.getModuleResolutionCache):()=>z.getModuleResolutionCache();const q=e.resolveModuleNameLiterals||e.resolveTypeReferenceDirectiveReferences||e.resolveModuleNames||e.resolveTypeReferenceDirectives?Ke(e,e.hasInvalidatedResolutions)||ct:st,V=e.resolveLibrary?Ke(e,e.hasInvalidatedLibResolutions)||ct:st;return t=U$(C,B),K(),h?{getCurrentProgram:$,getProgram:ae,close:U,getResolutionCache:W}:{getCurrentProgram:$,getProgram:ae,updateRootFileNames:function(e){fn.assert(!h,"Cannot update root file names with config file watch mode"),T=e,ie()},close:U,getResolutionCache:W};function U(){ne(),z.clear(),gx(d,e=>{e&&e.fileWatcher&&(e.fileWatcher.close(),e.fileWatcher=void 0)}),M&&(M.close(),M=void 0),null==_||_.clear(),_=void 0,c&&(gx(c,zV),c=void 0),i&&(gx(i,zV),i=void 0),r&&(gx(r,sx),r=void 0),s&&(gx(s,e=>{var t;null==(t=e.watcher)||t.close(),e.watcher=void 0,e.watchedDirectories&&gx(e.watchedDirectories,zV),e.watchedDirectories=void 0}),s=void 0),t=void 0}function W(){return z}function $(){return t}function H(){return t&&t.getProgramOrUndefined()}function K(){j("Synchronizing program"),fn.assert(C),fn.assert(T),ne();const n=$();f&&(I=G(),n&&rd(n.getCompilerOptions(),C)&&z.onChangesAffectModuleResolution());const{hasInvalidatedResolutions:o,hasInvalidatedLibResolutions:a}=z.createHasInvalidatedResolutions(q,V),{originalReadFile:c,originalFileExists:_,originalDirectoryExists:y,originalCreateDirectory:v,originalWriteFile:b,readFileWithCache:N}=GV(B,X);return IU(H(),T,C,e=>function(e,t){const n=d.get(e);if(!n)return;if(n.version)return n.version;const r=t(e);return void 0!==r?j$(B,r):void 0}(e,N),e=>B.fileExists(e),o,a,te,le,D)?F&&(u&&ee(ma.File_change_detected_Starting_incremental_compilation),t=x(void 0,void 0,B,t,S,D),F=!1):(u&&ee(ma.File_change_detected_Starting_incremental_compilation),function(e,n){j("CreatingProgramWith::"),j(`  roots: ${JSON.stringify(T)}`),j(`  options: ${JSON.stringify(C)}`),D&&j(`  projectReferences: ${JSON.stringify(D)}`);const i=f||!H();f=!1,F=!1,z.startCachingPerDirectoryResolution(),B.hasInvalidatedResolutions=e,B.hasInvalidatedLibResolutions=n,B.hasChangedAutomaticTypeDirectiveNames=te;const o=H();if(t=x(T,C,B,t,S,D),z.finishCachingPerDirectoryResolution(t.getProgram(),o),OV(t.getProgram(),r||(r=new Map),pe),i&&z.updateTypeRootsWatch(),p){for(const e of p)r.has(e)||d.delete(e);p=void 0}}(o,a)),u=!1,e.afterProgramCreate&&n!==t&&e.afterProgramCreate(t),B.readFile=c,B.fileExists=_,B.directoryExists=y,B.createDirectory=v,B.writeFile=b,null==l||l.forEach((e,t)=>{if(t){const n=null==s?void 0:s.get(t);n&&function(e,t,n){var r,i,o,a;n.watcher||(n.watcher=O(e,(n,r)=>{de(e,t,r);const i=null==s?void 0:s.get(t);i&&(i.updateLevel=2),z.removeResolutionsFromProjectReferenceRedirects(t),ie()},2e3,(null==(r=n.parsedCommandLine)?void 0:r.watchOptions)||w,I$.ConfigFileOfReferencedProject)),LV(n.watchedDirectories||(n.watchedDirectories=new Map),null==(i=n.parsedCommandLine)?void 0:i.wildcardDirectories,(r,i)=>{var o;return L(r,n=>{const i=X(n);E&&E.addOrDeleteFileOrDirectory(n,i),Y(i);const o=null==s?void 0:s.get(t);(null==o?void 0:o.parsedCommandLine)&&(jV({watchedDirPath:X(r),fileOrDirectory:n,fileOrDirectoryPath:i,configFileName:e,options:o.parsedCommandLine.options,program:o.parsedCommandLine.fileNames,currentDirectory:g,useCaseSensitiveFileNames:m,writeLog:j,toPath:X})||2!==o.updateLevel&&(o.updateLevel=1,ie()))},i,(null==(o=n.parsedCommandLine)?void 0:o.watchOptions)||w,I$.WildcardDirectoryOfReferencedProject)}),ge(t,null==(o=n.parsedCommandLine)?void 0:o.options,(null==(a=n.parsedCommandLine)?void 0:a.watchOptions)||w,I$.ExtendedConfigOfReferencedProject)}(e,t,n)}else LV(i||(i=new Map),k,me),h&&ge(X(h),C,w,I$.ExtendedConfigFile)}),l=void 0,t}function G(){return jb(C||y)}function X(e){return Ko(e,g,R)}function Q(e){return"boolean"==typeof e}function Z(e,t,n,r,i){const o=d.get(t);if(Q(o))return;const a="object"==typeof n?n.impliedNodeFormat:void 0;if(void 0===o||i||function(e){return"boolean"==typeof e.version}(o)||o.sourceFile.impliedNodeFormat!==a){const i=J(e,n,r);if(o)i?(o.sourceFile=i,o.version=i.version,o.fileWatcher||(o.fileWatcher=_e(t,e,ue,250,w,I$.SourceFile))):(o.fileWatcher&&o.fileWatcher.close(),d.set(t,!1));else if(i){const n=_e(t,e,ue,250,w,I$.SourceFile);d.set(t,{sourceFile:i,version:i.version,fileWatcher:n})}else d.set(t,!1);return i}return o.sourceFile}function Y(e){const t=d.get(e);void 0!==t&&(Q(t)?d.set(e,{version:!1}):t.version=!1)}function ee(t){e.onWatchStatusChange&&e.onWatchStatusChange(nk(t),I,C||y)}function te(){return z.hasChangedAutomaticTypeDirectiveNames()}function ne(){return!!a&&(e.clearTimeout(a),a=void 0,!0)}function re(){a=void 0,z.invalidateResolutionsOfFailedLookupLocations()&&ie()}function ie(){e.setTimeout&&e.clearTimeout&&(o&&e.clearTimeout(o),j("Scheduling update"),o=e.setTimeout(oe,250,"timerToUpdateProgram"))}function oe(){o=void 0,u=!0,ae()}function ae(){switch(n){case 1:j("Reloading new file names and options"),fn.assert(C),fn.assert(h),n=0,T=jj(C.configFile.configFileSpecs,Uo(Io(h),g),C,A,b),hj(T,Uo(h,g),C.configFile.configFileSpecs,S,N)&&(F=!0),K();break;case 2:fn.assert(h),j(`Reloading config file: ${h}`),n=0,E&&E.clearCache(),se(),f=!0,(null!=l?l:l=new Map).set(void 0,void 0),K();break;default:K()}return $()}function se(){fn.assert(h),ce(fL(h,y,A,_||(_=new Map),v,b))}function ce(e){T=e.fileNames,C=e.options,w=e.watchOptions,D=e.projectReferences,k=e.wildcardDirectories,S=OU(e).slice(),N=gj(e.raw),F=!0}function le(t){const n=X(t);let r=null==s?void 0:s.get(n);if(r){if(!r.updateLevel)return r.parsedCommandLine;if(r.parsedCommandLine&&1===r.updateLevel&&!e.getParsedCommandLine){j("Reloading new file names and options"),fn.assert(C);const e=jj(r.parsedCommandLine.options.configFile.configFileSpecs,Uo(Io(t),g),C,A);return r.parsedCommandLine=__spreadProps(__spreadValues({},r.parsedCommandLine),{fileNames:e}),r.updateLevel=void 0,r.parsedCommandLine}}j(`Loading config file: ${t}`);const i=e.getParsedCommandLine?e.getParsedCommandLine(t):function(e){const t=A.onUnRecoverableConfigFileDiagnostic;A.onUnRecoverableConfigFileDiagnostic=at;const n=fL(e,void 0,A,_||(_=new Map),v);return A.onUnRecoverableConfigFileDiagnostic=t,n}(t);return r?(r.parsedCommandLine=i,r.updateLevel=void 0):(s||(s=new Map)).set(n,r={parsedCommandLine:i}),(null!=l?l:l=new Map).set(n,t),i}function _e(e,t,n,r,i,o){return O(t,(t,r)=>n(t,r,e),r,i,o)}function ue(e,t,n){de(e,n,t),2===t&&d.has(n)&&z.invalidateResolutionOfFile(n),Y(n),ie()}function de(e,t,n){E&&E.addOrDeleteFile(e,t,n)}function pe(e,t){return(null==s?void 0:s.has(e))?E$:_e(e,t,fe,500,w,I$.MissingFile)}function fe(e,t,n){de(e,n,t),0===t&&r.has(n)&&(r.get(n).close(),r.delete(n),Y(n),ie())}function me(e,t){return L(e,t=>{fn.assert(h),fn.assert(C);const r=X(t);E&&E.addOrDeleteFileOrDirectory(t,r),Y(r),jV({watchedDirPath:X(e),fileOrDirectory:t,fileOrDirectoryPath:r,configFileName:h,extraFileExtensions:b,options:C,program:$()||T,currentDirectory:g,useCaseSensitiveFileNames:m,writeLog:j,toPath:X})||2!==n&&(n=1,ie())},t,w,I$.WildcardDirectory)}function ge(e,t,r,i){PV(e,t,c||(c=new Map),(e,t)=>O(e,(r,i)=>{var o;de(e,t,i),_&&IV(_,t,X);const a=null==(o=c.get(t))?void 0:o.projects;(null==a?void 0:a.size)&&a.forEach(e=>{if(h&&X(h)===e)n=2;else{const t=null==s?void 0:s.get(e);t&&(t.updateLevel=2),z.removeResolutionsFromProjectReferenceRedirects(e)}ie()})},2e3,r,i),X)}}var G$=(e=>(e[e.Unbuildable=0]="Unbuildable",e[e.UpToDate=1]="UpToDate",e[e.UpToDateWithUpstreamTypes=2]="UpToDateWithUpstreamTypes",e[e.OutputMissing=3]="OutputMissing",e[e.ErrorReadingFile=4]="ErrorReadingFile",e[e.OutOfDateWithSelf=5]="OutOfDateWithSelf",e[e.OutOfDateWithUpstream=6]="OutOfDateWithUpstream",e[e.OutOfDateBuildInfoWithPendingEmit=7]="OutOfDateBuildInfoWithPendingEmit",e[e.OutOfDateBuildInfoWithErrors=8]="OutOfDateBuildInfoWithErrors",e[e.OutOfDateOptions=9]="OutOfDateOptions",e[e.OutOfDateRoots=10]="OutOfDateRoots",e[e.UpstreamOutOfDate=11]="UpstreamOutOfDate",e[e.UpstreamBlocked=12]="UpstreamBlocked",e[e.ComputingUpstream=13]="ComputingUpstream",e[e.TsVersionOutputOfDate=14]="TsVersionOutputOfDate",e[e.UpToDateWithInputFileText=15]="UpToDateWithInputFileText",e[e.ContainerOnly=16]="ContainerOnly",e[e.ForceBuild=17]="ForceBuild",e))(G$||{});function X$(e){return Do(e,".json")?e:zo(e,"tsconfig.json")}var Q$=new Date(-864e13);function Z$(e,t){return function(e,t,n){const r=e.get(t);let i;return r||(i=n(),e.set(t,i)),r||i}(e,t,()=>new Map)}function Y$(e){return e.now?e.now():new Date}function eH(e){return!!e&&!!e.buildOrder}function tH(e){return eH(e)?e.buildOrder:e}function nH(e,t){return n=>{let r=t?`[${sU(p$(e),"[90m")}] `:`${p$(e)} - `;r+=`${uU(n.messageText,e.newLine)}${e.newLine+e.newLine}`,e.write(r)}}function rH(e,t,n,r){const i=M$(e,t);return i.getModifiedTime=e.getModifiedTime?t=>e.getModifiedTime(t):lt,i.setModifiedTime=e.setModifiedTime?(t,n)=>e.setModifiedTime(t,n):at,i.deleteFile=e.deleteFile?t=>e.deleteFile(t):at,i.reportDiagnostic=n||_$(e),i.reportSolutionBuilderStatus=r||nH(e),i.now=Ke(e,e.now),i}function iH(e=po,t,n,r,i){const o=rH(e,t,n,r);return o.reportErrorSummary=i,o}function oH(e=po,t,n,r,i){const o=rH(e,t,n,r);return He(o,A$(e,i)),o}function aH(e,t,n){return YH(!1,e,t,n)}function sH(e,t,n,r){return YH(!0,e,t,n,r)}function cH(e,t,n,r,i){const o=t,a=t,s=function(e){const t={};return NO.forEach(n=>{Pe(e,n.name)&&(t[n.name]=e[n.name])}),t.tscBuild=!0,t}(r),c=L$(o,()=>m.projectCompilerOptions);let l,_,u;R$(c),c.getParsedCommandLine=e=>pH(m,e,_H(m,e)),c.resolveModuleNameLiterals=Ke(o,o.resolveModuleNameLiterals),c.resolveTypeReferenceDirectiveReferences=Ke(o,o.resolveTypeReferenceDirectiveReferences),c.resolveLibrary=Ke(o,o.resolveLibrary),c.resolveModuleNames=Ke(o,o.resolveModuleNames),c.resolveTypeReferenceDirectives=Ke(o,o.resolveTypeReferenceDirectives),c.getModuleResolutionCache=Ke(o,o.getModuleResolutionCache),c.resolveModuleNameLiterals||c.resolveModuleNames||(l=LR(c.getCurrentDirectory(),c.getCanonicalFileName),c.resolveModuleNameLiterals=(e,t,n,r,i)=>wU(e,t,n,r,i,o,l,kU),c.getModuleResolutionCache=()=>l),c.resolveTypeReferenceDirectiveReferences||c.resolveTypeReferenceDirectives||(_=jR(c.getCurrentDirectory(),c.getCanonicalFileName,void 0,null==l?void 0:l.getPackageJsonInfoCache(),null==l?void 0:l.optionsToRedirectsKey),c.resolveTypeReferenceDirectiveReferences=(e,t,n,r,i)=>wU(e,t,n,r,i,o,_,CU)),c.resolveLibrary||(u=LR(c.getCurrentDirectory(),c.getCanonicalFileName,void 0,null==l?void 0:l.getPackageJsonInfoCache()),c.resolveLibrary=(e,t,n)=>MR(e,t,n,o,u)),c.getBuildInfo=(e,t)=>OH(m,e,_H(m,t),void 0);const{watchFile:d,watchDirectory:p,writeLog:f}=O$(a,r),m={host:o,hostWithWatch:a,parseConfigFileHost:$U(o),write:Ke(o,o.trace),options:r,baseCompilerOptions:s,rootNames:n,baseWatchOptions:i,resolvedConfigFilePaths:new Map,configFileCache:new Map,projectStatus:new Map,extendedConfigCache:new Map,buildInfoCache:new Map,outputTimeStamps:new Map,builderPrograms:new Map,diagnostics:new Map,projectPendingBuild:new Map,projectErrorsReported:new Map,compilerHost:c,moduleResolutionCache:l,typeReferenceDirectiveResolutionCache:_,libraryResolutionCache:u,buildOrder:void 0,readFileWithCache:e=>o.readFile(e),projectCompilerOptions:s,cache:void 0,allProjectBuildPending:!0,needsSummary:!0,watchAllProjectsPending:e,watch:e,allWatchedWildcardDirectories:new Map,allWatchedInputFiles:new Map,allWatchedConfigFiles:new Map,allWatchedExtendedConfigFiles:new Map,allWatchedPackageJsonFiles:new Map,filesWatched:new Map,lastCachedPackageJsonLookups:new Map,timerToBuildInvalidatedProject:void 0,reportFileChangeDetected:!1,watchFile:d,watchDirectory:p,writeLog:f};return m}function lH(e,t){return Ko(t,e.compilerHost.getCurrentDirectory(),e.compilerHost.getCanonicalFileName)}function _H(e,t){const{resolvedConfigFilePaths:n}=e,r=n.get(t);if(void 0!==r)return r;const i=lH(e,t);return n.set(t,i),i}function uH(e){return!!e.options}function dH(e,t){const n=e.configFileCache.get(t);return n&&uH(n)?n:void 0}function pH(e,t,n){const{configFileCache:r}=e,i=r.get(n);if(i)return uH(i)?i:void 0;let o;ir("SolutionBuilder::beforeConfigFileParsing");const{parseConfigFileHost:a,baseCompilerOptions:s,baseWatchOptions:c,extendedConfigCache:l,host:_}=e;let u;return _.getParsedCommandLine?(u=_.getParsedCommandLine(t),u||(o=nk(ma.File_0_not_found,t))):(a.onUnRecoverableConfigFileDiagnostic=e=>o=e,u=fL(t,s,a,l,c),a.onUnRecoverableConfigFileDiagnostic=at),r.set(n,u||o),ir("SolutionBuilder::afterConfigFileParsing"),or("SolutionBuilder::Config file parsing","SolutionBuilder::beforeConfigFileParsing","SolutionBuilder::afterConfigFileParsing"),u}function fH(e,t){return X$(qo(e.compilerHost.getCurrentDirectory(),t))}function mH(e,t){const n=new Map,r=new Map,i=[];let o,a;for(const c of t)s(c);return a?{buildOrder:o||u,circularDiagnostics:a}:o||u;function s(t,c){const l=_H(e,t);if(r.has(l))return;if(n.has(l))return void(c||(a||(a=[])).push(nk(ma.Project_references_may_not_form_a_circular_graph_Cycle_detected_Colon_0,i.join("\r\n"))));n.set(l,!0),i.push(t);const _=pH(e,t,l);if(_&&_.projectReferences)for(const n of _.projectReferences)s(fH(e,n.path),c||n.circular);i.pop(),r.set(l,!0),(o||(o=[])).push(t)}}function gH(e){return e.buildOrder||function(e){const t=mH(e,e.rootNames.map(t=>fH(e,t)));e.resolvedConfigFilePaths.clear();const n=new Set(tH(t).map(t=>_H(e,t))),r={onDeleteValue:at};return hx(e.configFileCache,n,r),hx(e.projectStatus,n,r),hx(e.builderPrograms,n,r),hx(e.diagnostics,n,r),hx(e.projectPendingBuild,n,r),hx(e.projectErrorsReported,n,r),hx(e.buildInfoCache,n,r),hx(e.outputTimeStamps,n,r),hx(e.lastCachedPackageJsonLookups,n,r),e.watch&&(hx(e.allWatchedConfigFiles,n,{onDeleteValue:sx}),e.allWatchedExtendedConfigFiles.forEach(e=>{e.projects.forEach(t=>{n.has(t)||e.projects.delete(t)}),e.close()}),hx(e.allWatchedWildcardDirectories,n,{onDeleteValue:e=>e.forEach(zV)}),hx(e.allWatchedInputFiles,n,{onDeleteValue:e=>e.forEach(sx)}),hx(e.allWatchedPackageJsonFiles,n,{onDeleteValue:e=>e.forEach(sx)})),e.buildOrder=t}(e)}function hH(e,t,n){const r=t&&fH(e,t),i=gH(e);if(eH(i))return i;if(r){const t=_H(e,r);if(-1===T(i,n=>_H(e,n)===t))return}const o=r?mH(e,[r]):i;return fn.assert(!eH(o)),fn.assert(!n||void 0!==r),fn.assert(!n||o[o.length-1]===r),n?o.slice(0,o.length-1):o}function yH(e){e.cache&&vH(e);const{compilerHost:t,host:n}=e,r=e.readFileWithCache,i=t.getSourceFile,{originalReadFile:o,originalFileExists:a,originalDirectoryExists:s,originalCreateDirectory:c,originalWriteFile:l,getSourceFileWithCache:_,readFileWithCache:u}=GV(n,t=>lH(e,t),(...e)=>i.call(t,...e));e.readFileWithCache=u,t.getSourceFile=_,e.cache={originalReadFile:o,originalFileExists:a,originalDirectoryExists:s,originalCreateDirectory:c,originalWriteFile:l,originalReadFileWithCache:r,originalGetSourceFile:i}}function vH(e){if(!e.cache)return;const{cache:t,host:n,compilerHost:r,extendedConfigCache:i,moduleResolutionCache:o,typeReferenceDirectiveResolutionCache:a,libraryResolutionCache:s}=e;n.readFile=t.originalReadFile,n.fileExists=t.originalFileExists,n.directoryExists=t.originalDirectoryExists,n.createDirectory=t.originalCreateDirectory,n.writeFile=t.originalWriteFile,r.getSourceFile=t.originalGetSourceFile,e.readFileWithCache=t.originalReadFileWithCache,i.clear(),null==o||o.clear(),null==a||a.clear(),null==s||s.clear(),e.cache=void 0}function bH(e,t){e.projectStatus.delete(t),e.diagnostics.delete(t)}function xH({projectPendingBuild:e},t,n){const r=e.get(t);(void 0===r||r<n)&&e.set(t,n)}function kH(e,t){e.allProjectBuildPending&&(e.allProjectBuildPending=!1,e.options.watch&&nK(e,ma.Starting_compilation_in_watch_mode),yH(e),tH(gH(e)).forEach(t=>e.projectPendingBuild.set(_H(e,t),0)),t&&t.throwIfCancellationRequested())}var SH=(e=>(e[e.Build=0]="Build",e[e.UpdateOutputFileStamps=1]="UpdateOutputFileStamps",e))(SH||{});function TH(e,t){return e.projectPendingBuild.delete(t),e.diagnostics.has(t)?1:0}function CH(e,t,n,r,i,o,a){let s,c,l=0;return{kind:0,project:t,projectPath:n,buildOrder:a,getCompilerOptions:()=>i.options,getCurrentDirectory:()=>e.compilerHost.getCurrentDirectory(),getBuilderProgram:()=>_(_t),getProgram:()=>_(e=>e.getProgramOrUndefined()),getSourceFile:e=>_(t=>t.getSourceFile(e)),getSourceFiles:()=>d(e=>e.getSourceFiles()),getOptionsDiagnostics:e=>d(t=>t.getOptionsDiagnostics(e)),getGlobalDiagnostics:e=>d(t=>t.getGlobalDiagnostics(e)),getConfigFileParsingDiagnostics:()=>d(e=>e.getConfigFileParsingDiagnostics()),getSyntacticDiagnostics:(e,t)=>d(n=>n.getSyntacticDiagnostics(e,t)),getAllDependencies:e=>d(t=>t.getAllDependencies(e)),getSemanticDiagnostics:(e,t)=>d(n=>n.getSemanticDiagnostics(e,t)),getSemanticDiagnosticsOfNextAffectedFile:(e,t)=>_(n=>n.getSemanticDiagnosticsOfNextAffectedFile&&n.getSemanticDiagnosticsOfNextAffectedFile(e,t)),emit:(n,r,i,o,a)=>n||o?_(s=>{var c,l;return s.emit(n,r,i,o,a||(null==(l=(c=e.host).getCustomTransformers)?void 0:l.call(c,t)))}):(m(0,i),f(r,i,a)),done:function(t,r,i){return m(3,t,r,i),ir("SolutionBuilder::Projects built"),TH(e,n)}};function _(e){return m(0),s&&e(s)}function d(e){return _(e)||u}function p(){var r,o,a;if(fn.assert(void 0===s),e.options.dry)return tK(e,ma.A_non_dry_build_would_build_project_0,t),c=1,void(l=2);if(e.options.verbose&&tK(e,ma.Building_project_0,t),0===i.fileNames.length)return iK(e,n,OU(i)),c=0,void(l=2);const{host:_,compilerHost:u}=e;if(e.projectCompilerOptions=i.options,null==(r=e.moduleResolutionCache)||r.update(i.options),null==(o=e.typeReferenceDirectiveResolutionCache)||o.update(i.options),s=_.createProgram(i.fileNames,i.options,u,function({options:e,builderPrograms:t,compilerHost:n},r,i){if(e.force)return;const o=t.get(r);return o||U$(i.options,n)}(e,n,i),OU(i),i.projectReferences),e.watch){const t=null==(a=e.moduleResolutionCache)?void 0:a.getPackageJsonInfoCache().getInternalMap();e.lastCachedPackageJsonLookups.set(n,t&&new Set(Re(t.values(),t=>e.host.realpath&&(SR(t)||t.directoryExists)?e.host.realpath(zo(t.packageDirectory,"package.json")):zo(t.packageDirectory,"package.json")))),e.builderPrograms.set(n,s)}l++}function f(r,a,_){var u,d,p,f;fn.assertIsDefined(s),fn.assert(1===l);const{host:m,compilerHost:g}=e,h=new Map,y=s.getCompilerOptions(),v=Lk(y);let b,x;const{emitResult:k,diagnostics:S}=N$(s,e=>m.reportDiagnostic(e),e.write,void 0,(t,i,o,a,c,l)=>{var _;const u=lH(e,t);if(h.set(lH(e,t),t),null==l?void 0:l.buildInfo){x||(x=Y$(e.host));const r=null==(_=s.hasChangedEmitSignature)?void 0:_.call(s),i=IH(e,t,n);i?(i.buildInfo=l.buildInfo,i.modifiedTime=x,r&&(i.latestChangedDtsTime=x)):e.buildInfoCache.set(n,{path:lH(e,t),buildInfo:l.buildInfo,modifiedTime:x,latestChangedDtsTime:r?x:void 0})}const d=(null==l?void 0:l.differsOnlyInMap)?Wi(e.host,t):void 0;(r||g.writeFile)(t,i,o,a,c,l),(null==l?void 0:l.differsOnlyInMap)?e.host.setModifiedTime(t,d):!v&&e.watch&&(b||(b=AH(e,n))).set(u,x||(x=Y$(e.host)))},a,void 0,_||(null==(p=(d=e.host).getCustomTransformers)?void 0:p.call(d,t)));return y.noEmitOnError&&S.length||!h.size&&8===o.type||MH(e,i,n,ma.Updating_unchanged_output_timestamps_of_project_0,h),e.projectErrorsReported.set(n,!0),c=(null==(f=s.hasChangedEmitSignature)?void 0:f.call(s))?0:2,S.length?(e.diagnostics.set(n,S),e.projectStatus.set(n,{type:0,reason:"it had errors"}),c|=4):(e.diagnostics.delete(n),e.projectStatus.set(n,{type:1,oldestOutputFileName:null!=(u=ye(h.values()))?u:mV(i,!m.useCaseSensitiveFileNames())})),function(e,t){t&&(e.host.afterProgramEmitAndDiagnostics&&e.host.afterProgramEmitAndDiagnostics(t),t.releaseProgram()),e.projectCompilerOptions=e.baseCompilerOptions}(e,s),l=2,k}function m(o,s,_,u){for(;l<=o&&l<3;){const o=l;switch(l){case 0:p();break;case 1:f(_,s,u);break;case 2:zH(e,t,n,r,i,a,fn.checkDefined(c)),l++}fn.assert(l>o)}}}function wH(e,t,n){if(!e.projectPendingBuild.size)return;if(eH(t))return;const{options:r,projectPendingBuild:i}=e;for(let o=0;o<t.length;o++){const a=t[o],s=_H(e,a),c=e.projectPendingBuild.get(s);if(void 0===c)continue;n&&(n=!1,sK(e,t));const l=pH(e,a,s);if(!l){oK(e,s),i.delete(s);continue}2===c?(KH(e,a,s,l),GH(e,s,l),XH(e,a,s,l),QH(e,a,s,l),ZH(e,a,s,l)):1===c&&(l.fileNames=jj(l.options.configFile.configFileSpecs,Io(a),l.options,e.parseConfigFileHost),hj(l.fileNames,a,l.options.configFile.configFileSpecs,l.errors,gj(l.raw)),QH(e,a,s,l),ZH(e,a,s,l));const _=RH(e,l,s);if(!r.force){if(1===_.type){cK(e,a,_),iK(e,s,OU(l)),i.delete(s),r.dry&&tK(e,ma.Project_0_is_up_to_date,a);continue}if(2===_.type||15===_.type)return iK(e,s,OU(l)),{kind:1,status:_,project:a,projectPath:s,projectIndex:o,config:l}}if(12!==_.type){if(16!==_.type)return{kind:0,status:_,project:a,projectPath:s,projectIndex:o,config:l};cK(e,a,_),iK(e,s,OU(l)),i.delete(s)}else cK(e,a,_),iK(e,s,OU(l)),i.delete(s),r.verbose&&tK(e,_.upstreamProjectBlocked?ma.Skipping_build_of_project_0_because_its_dependency_1_was_not_built:ma.Skipping_build_of_project_0_because_its_dependency_1_has_errors,a,_.upstreamProjectName)}}function DH(e,t,n){return cK(e,t.project,t.status),1!==t.kind?CH(e,t.project,t.projectPath,t.projectIndex,t.config,t.status,n):function(e,t,n,r,i){let o=!0;return{kind:1,project:t,projectPath:n,buildOrder:i,getCompilerOptions:()=>r.options,getCurrentDirectory:()=>e.compilerHost.getCurrentDirectory(),updateOutputFileStatmps:()=>{JH(e,r,n),o=!1},done:()=>(o&&JH(e,r,n),ir("SolutionBuilder::Timestamps only updates"),TH(e,n))}}(e,t.project,t.projectPath,t.config,n)}function NH(e,t,n){const r=wH(e,t,n);return r?DH(e,r,t):r}function FH(e){return!!e.watcher}function EH(e,t){const n=lH(e,t),r=e.filesWatched.get(n);if(e.watch&&r){if(!FH(r))return r;if(r.modifiedTime)return r.modifiedTime}const i=Wi(e.host,t);return e.watch&&(r?r.modifiedTime=i:e.filesWatched.set(n,i)),i}function PH(e,t,n,r,i,o,a){const s=lH(e,t),c=e.filesWatched.get(s);if(c&&FH(c))c.callbacks.push(n);else{const l=e.watchFile(t,(t,n,r)=>{const i=fn.checkDefined(e.filesWatched.get(s));fn.assert(FH(i)),i.modifiedTime=r,i.callbacks.forEach(e=>e(t,n,r))},r,i,o,a);e.filesWatched.set(s,{callbacks:[n],watcher:l,modifiedTime:c})}return{close:()=>{const t=fn.checkDefined(e.filesWatched.get(s));fn.assert(FH(t)),1===t.callbacks.length?(e.filesWatched.delete(s),zV(t)):Ht(t.callbacks,n)}}}function AH(e,t){if(!e.watch)return;let n=e.outputTimeStamps.get(t);return n||e.outputTimeStamps.set(t,n=new Map),n}function IH(e,t,n){const r=lH(e,t),i=e.buildInfoCache.get(n);return(null==i?void 0:i.path)===r?i:void 0}function OH(e,t,n,r){const i=lH(e,t),o=e.buildInfoCache.get(n);if(void 0!==o&&o.path===i)return o.buildInfo||void 0;const a=e.readFileWithCache(t),s=a?vV(t,a):void 0;return e.buildInfoCache.set(n,{path:i,buildInfo:s||!1,modifiedTime:r||Ui}),s}function LH(e,t,n,r){if(n<EH(e,t))return{type:5,outOfDateOutputFileName:r,newerInputFileName:t}}function jH(e,t,n){return e.buildInfoCache.get(n).path===t.path}function RH(e,t,n){if(void 0===t)return{type:0,reason:"config file deleted mid-build"};const r=e.projectStatus.get(n);if(void 0!==r)return r;ir("SolutionBuilder::beforeUpToDateCheck");const i=function(e,t,n){var r,i,o,a,s;if(mj(t))return{type:16};let c;const _=!!e.options.force;if(t.projectReferences){e.projectStatus.set(n,{type:13});for(const n of t.projectReferences){const t=HU(n),r=_H(e,t),i=pH(e,t,r),o=RH(e,i,r);if(13!==o.type&&16!==o.type){if(e.options.stopBuildOnErrors&&(0===o.type||12===o.type))return{type:12,upstreamProjectName:n.path,upstreamProjectBlocked:12===o.type};_||(c||(c=[])).push({ref:n,refStatus:o,resolvedRefPath:r,resolvedConfig:i})}}}if(_)return{type:17};const{host:d}=e,p=Zq(t.options),m=Lk(t.options);let g=IH(e,p,n);const h=(null==g?void 0:g.modifiedTime)||Wi(d,p);if(h===Ui)return g||e.buildInfoCache.set(n,{path:lH(e,p),buildInfo:!1,modifiedTime:h}),{type:3,missingOutputFileName:p};const y=OH(e,p,n,h);if(!y)return{type:4,fileName:p};const v=m&&wW(y)?y:void 0;if((v||!m)&&y.version!==l)return{type:14,version:y.version};if(!t.options.noCheck&&(y.errors||y.checkPending))return{type:8,buildInfoFile:p};if(v){if(!t.options.noCheck&&((null==(r=v.changeFileSet)?void 0:r.length)||(null==(i=v.semanticDiagnosticsPerFile)?void 0:i.length)||Ik(t.options)&&(null==(o=v.emitDiagnosticsPerFile)?void 0:o.length)))return{type:8,buildInfoFile:p};if(!t.options.noEmit&&((null==(a=v.changeFileSet)?void 0:a.length)||(null==(s=v.affectedFilesPendingEmit)?void 0:s.length)||void 0!==v.pendingEmit))return{type:7,buildInfoFile:p};if((!t.options.noEmit||t.options.noEmit&&Ik(t.options))&&mW(t.options,v.options||{},void 0,!!t.options.noEmit))return{type:9,buildInfoFile:p}}let b,x=h,k=p,S=Q$,T=!1;const C=new Set;let w,D;for(const l of t.fileNames){const t=EH(e,l);if(t===Ui)return{type:0,reason:`${l} does not exist`};const n=lH(e,l);if(h<t){let t,r;if(v){w||(w=JW(v,p,d));const i=w.roots.get(n);t=w.fileInfos.get(null!=i?i:n);const o=t?e.readFileWithCache(null!=i?i:l):void 0;r=void 0!==o?j$(d,o):void 0,t&&t===r&&(T=!0)}if(!t||t!==r)return{type:5,outOfDateOutputFileName:p,newerInputFileName:l}}t>S&&(b=l,S=t),C.add(n)}if(v?(w||(w=JW(v,p,d)),D=sd(w.roots,(e,t)=>C.has(t)?void 0:t)):D=f(zW(y,p,d),e=>C.has(e)?void 0:e),D)return{type:10,buildInfoFile:p,inputFile:D};if(!m){const r=pV(t,!d.useCaseSensitiveFileNames()),i=AH(e,n);for(const t of r){if(t===p)continue;const n=lH(e,t);let r=null==i?void 0:i.get(n);if(r||(r=Wi(e.host,t),null==i||i.set(n,r)),r===Ui)return{type:3,missingOutputFileName:t};if(r<S)return{type:5,outOfDateOutputFileName:t,newerInputFileName:b};r<x&&(x=r,k=t)}}let N=!1;if(c)for(const{ref:l,refStatus:u,resolvedConfig:f,resolvedRefPath:I}of c){if(u.newestInputFileTime&&u.newestInputFileTime<=x)continue;if(jH(e,null!=g?g:g=e.buildInfoCache.get(n),I))return{type:6,outOfDateOutputFileName:p,newerProjectName:l.path};const t=BH(e,f.options,I);if(!(t&&t<=x))return fn.assert(void 0!==k,"Should have an oldest output filename here"),{type:6,outOfDateOutputFileName:k,newerProjectName:l.path};N=!0}const F=LH(e,t.options.configFilePath,x,k);if(F)return F;const E=f(t.options.configFile.extendedSourceFiles||u,t=>LH(e,t,x,k));if(E)return E;const P=e.lastCachedPackageJsonLookups.get(n),A=P&&cd(P,t=>LH(e,t,x,k));return A||{type:N?2:T?15:1,newestInputFileTime:S,newestInputFileName:b,oldestOutputFileName:k}}(e,t,n);return ir("SolutionBuilder::afterUpToDateCheck"),or("SolutionBuilder::Up-to-date check","SolutionBuilder::beforeUpToDateCheck","SolutionBuilder::afterUpToDateCheck"),e.projectStatus.set(n,i),i}function MH(e,t,n,r,i){if(t.options.noEmit)return;let o;const a=Zq(t.options),s=Lk(t.options);if(a&&s)return(null==i?void 0:i.has(lH(e,a)))||(e.options.verbose&&tK(e,r,t.options.configFilePath),e.host.setModifiedTime(a,o=Y$(e.host)),IH(e,a,n).modifiedTime=o),void e.outputTimeStamps.delete(n);const{host:c}=e,l=pV(t,!c.useCaseSensitiveFileNames()),_=AH(e,n),u=_?new Set:void 0;if(!i||l.length!==i.size){let s=!!e.options.verbose;for(const d of l){const l=lH(e,d);(null==i?void 0:i.has(l))||(s&&(s=!1,tK(e,r,t.options.configFilePath)),c.setModifiedTime(d,o||(o=Y$(e.host))),d===a?IH(e,a,n).modifiedTime=o:_&&(_.set(l,o),u.add(l)))}}null==_||_.forEach((e,t)=>{(null==i?void 0:i.has(t))||u.has(t)||_.delete(t)})}function BH(e,t,n){if(!t.composite)return;const r=fn.checkDefined(e.buildInfoCache.get(n));if(void 0!==r.latestChangedDtsTime)return r.latestChangedDtsTime||void 0;const i=r.buildInfo&&wW(r.buildInfo)&&r.buildInfo.latestChangedDtsFile?e.host.getModifiedTime(Uo(r.buildInfo.latestChangedDtsFile,Io(r.path))):void 0;return r.latestChangedDtsTime=i||!1,i}function JH(e,t,n){if(e.options.dry)return tK(e,ma.A_non_dry_build_would_update_timestamps_for_output_of_project_0,t.options.configFilePath);MH(e,t,n,ma.Updating_output_timestamps_of_project_0),e.projectStatus.set(n,{type:1,oldestOutputFileName:mV(t,!e.host.useCaseSensitiveFileNames())})}function zH(e,t,n,r,i,o,a){if(!(e.options.stopBuildOnErrors&&4&a)&&i.options.composite)for(let s=r+1;s<o.length;s++){const r=o[s],i=_H(e,r);if(e.projectPendingBuild.has(i))continue;const c=pH(e,r,i);if(c&&c.projectReferences)for(const o of c.projectReferences){if(_H(e,fH(e,o.path))!==n)continue;const r=e.projectStatus.get(i);if(r)switch(r.type){case 1:if(2&a){r.type=2;break}case 15:case 2:2&a||e.projectStatus.set(i,{type:6,outOfDateOutputFileName:r.oldestOutputFileName,newerProjectName:t});break;case 12:_H(e,fH(e,r.upstreamProjectName))===n&&bH(e,i)}xH(e,i,0);break}}}function qH(e,t,n,r,i,o){ir("SolutionBuilder::beforeBuild");const a=function(e,t,n,r,i,o){const a=hH(e,t,o);if(!a)return 3;kH(e,n);let s=!0,c=0;for(;;){const t=NH(e,a,s);if(!t)break;s=!1,t.done(n,r,null==i?void 0:i(t.project)),e.diagnostics.has(t.projectPath)||c++}return vH(e),aK(e,a),function(e,t){if(e.watchAllProjectsPending){ir("SolutionBuilder::beforeWatcherCreation"),e.watchAllProjectsPending=!1;for(const n of tH(t)){const t=_H(e,n),r=pH(e,n,t);KH(e,n,t,r),GH(e,t,r),r&&(XH(e,n,t,r),QH(e,n,t,r),ZH(e,n,t,r))}ir("SolutionBuilder::afterWatcherCreation"),or("SolutionBuilder::Watcher creation","SolutionBuilder::beforeWatcherCreation","SolutionBuilder::afterWatcherCreation")}}(e,a),eH(a)?4:a.some(t=>e.diagnostics.has(_H(e,t)))?c?2:1:0}(e,t,n,r,i,o);return ir("SolutionBuilder::afterBuild"),or("SolutionBuilder::Build","SolutionBuilder::beforeBuild","SolutionBuilder::afterBuild"),a}function VH(e,t,n){ir("SolutionBuilder::beforeClean");const r=function(e,t,n){const r=hH(e,t,n);if(!r)return 3;if(eH(r))return rK(e,r.circularDiagnostics),4;const{options:i,host:o}=e,a=i.dry?[]:void 0;for(const s of r){const t=_H(e,s),n=pH(e,s,t);if(void 0===n){oK(e,t);continue}const r=pV(n,!o.useCaseSensitiveFileNames());if(!r.length)continue;const i=new Set(n.fileNames.map(t=>lH(e,t)));for(const s of r)i.has(lH(e,s))||o.fileExists(s)&&(a?a.push(s):(o.deleteFile(s),UH(e,t,0)))}return a&&tK(e,ma.A_non_dry_build_would_delete_the_following_files_Colon_0,a.map(e=>`\r\n * ${e}`).join("")),0}(e,t,n);return ir("SolutionBuilder::afterClean"),or("SolutionBuilder::Clean","SolutionBuilder::beforeClean","SolutionBuilder::afterClean"),r}function UH(e,t,n){e.host.getParsedCommandLine&&1===n&&(n=2),2===n&&(e.configFileCache.delete(t),e.buildOrder=void 0),e.needsSummary=!0,bH(e,t),xH(e,t,n),yH(e)}function WH(e,t,n){e.reportFileChangeDetected=!0,UH(e,t,n),$H(e,250,!0)}function $H(e,t,n){const{hostWithWatch:r}=e;r.setTimeout&&r.clearTimeout&&(e.timerToBuildInvalidatedProject&&r.clearTimeout(e.timerToBuildInvalidatedProject),e.timerToBuildInvalidatedProject=r.setTimeout(HH,t,"timerToBuildInvalidatedProject",e,n))}function HH(e,t,n){ir("SolutionBuilder::beforeBuild");const r=function(e,t){e.timerToBuildInvalidatedProject=void 0,e.reportFileChangeDetected&&(e.reportFileChangeDetected=!1,e.projectErrorsReported.clear(),nK(e,ma.File_change_detected_Starting_incremental_compilation));let n=0;const r=gH(e),i=NH(e,r,!1);if(i)for(i.done(),n++;e.projectPendingBuild.size;){if(e.timerToBuildInvalidatedProject)return;const i=wH(e,r,!1);if(!i)break;if(1!==i.kind&&(t||5===n))return void $H(e,100,!1);DH(e,i,r).done(),1!==i.kind&&n++}return vH(e),r}(t,n);ir("SolutionBuilder::afterBuild"),or("SolutionBuilder::Build","SolutionBuilder::beforeBuild","SolutionBuilder::afterBuild"),r&&aK(t,r)}function KH(e,t,n,r){e.watch&&!e.allWatchedConfigFiles.has(n)&&e.allWatchedConfigFiles.set(n,PH(e,t,()=>WH(e,n,2),2e3,null==r?void 0:r.watchOptions,I$.ConfigFile,t))}function GH(e,t,n){PV(t,null==n?void 0:n.options,e.allWatchedExtendedConfigFiles,(t,r)=>PH(e,t,()=>{var t;return null==(t=e.allWatchedExtendedConfigFiles.get(r))?void 0:t.projects.forEach(t=>WH(e,t,2))},2e3,null==n?void 0:n.watchOptions,I$.ExtendedConfigFile),t=>lH(e,t))}function XH(e,t,n,r){e.watch&&LV(Z$(e.allWatchedWildcardDirectories,n),r.wildcardDirectories,(i,o)=>e.watchDirectory(i,o=>{var a;jV({watchedDirPath:lH(e,i),fileOrDirectory:o,fileOrDirectoryPath:lH(e,o),configFileName:t,currentDirectory:e.compilerHost.getCurrentDirectory(),options:r.options,program:e.builderPrograms.get(n)||(null==(a=dH(e,n))?void 0:a.fileNames),useCaseSensitiveFileNames:e.parseConfigFileHost.useCaseSensitiveFileNames,writeLog:t=>e.writeLog(t),toPath:t=>lH(e,t)})||WH(e,n,1)},o,null==r?void 0:r.watchOptions,I$.WildcardDirectory,t))}function QH(e,t,n,r){e.watch&&yx(Z$(e.allWatchedInputFiles,n),new Set(r.fileNames),{createNewValue:i=>PH(e,i,()=>WH(e,n,0),250,null==r?void 0:r.watchOptions,I$.SourceFile,t),onDeleteValue:sx})}function ZH(e,t,n,r){e.watch&&e.lastCachedPackageJsonLookups&&yx(Z$(e.allWatchedPackageJsonFiles,n),e.lastCachedPackageJsonLookups.get(n),{createNewValue:i=>PH(e,i,()=>WH(e,n,0),2e3,null==r?void 0:r.watchOptions,I$.PackageJson,t),onDeleteValue:sx})}function YH(e,t,n,r,i){const o=cH(e,t,n,r,i);return{build:(e,t,n,r)=>qH(o,e,t,n,r),clean:e=>VH(o,e),buildReferences:(e,t,n,r)=>qH(o,e,t,n,r,!0),cleanReferences:e=>VH(o,e,!0),getNextInvalidatedProject:e=>(kH(o,e),NH(o,gH(o),!1)),getBuildOrder:()=>gH(o),getUpToDateStatusOfProject:e=>{const t=fH(o,e),n=_H(o,t);return RH(o,pH(o,t,n),n)},invalidateProject:(e,t)=>UH(o,e,t||0),close:()=>function(e){gx(e.allWatchedConfigFiles,sx),gx(e.allWatchedExtendedConfigFiles,zV),gx(e.allWatchedWildcardDirectories,e=>gx(e,zV)),gx(e.allWatchedInputFiles,e=>gx(e,sx)),gx(e.allWatchedPackageJsonFiles,e=>gx(e,sx))}(o)}}function eK(e,t){return la(t,e.compilerHost.getCurrentDirectory(),e.compilerHost.getCanonicalFileName)}function tK(e,t,...n){e.host.reportSolutionBuilderStatus(nk(t,...n))}function nK(e,t,...n){var r,i;null==(i=(r=e.hostWithWatch).onWatchStatusChange)||i.call(r,nk(t,...n),e.host.getNewLine(),e.baseCompilerOptions)}function rK({host:e},t){t.forEach(t=>e.reportDiagnostic(t))}function iK(e,t,n){rK(e,n),e.projectErrorsReported.set(t,!0),n.length&&e.diagnostics.set(t,n)}function oK(e,t){iK(e,t,[e.configFileCache.get(t)])}function aK(e,t){if(!e.needsSummary)return;e.needsSummary=!1;const n=e.watch||!!e.host.reportErrorSummary,{diagnostics:r}=e;let i=0,o=[];eH(t)?(sK(e,t.buildOrder),rK(e,t.circularDiagnostics),n&&(i+=g$(t.circularDiagnostics)),n&&(o=[...o,...h$(t.circularDiagnostics)])):(t.forEach(t=>{const n=_H(e,t);e.projectErrorsReported.has(n)||rK(e,r.get(n)||u)}),n&&r.forEach(e=>i+=g$(e)),n&&r.forEach(e=>[...o,...h$(e)])),e.watch?nK(e,y$(i),i):e.host.reportErrorSummary&&e.host.reportErrorSummary(i,o)}function sK(e,t){e.options.verbose&&tK(e,ma.Projects_in_this_build_Colon_0,t.map(t=>"\r\n    * "+eK(e,t)).join(""))}function cK(e,t,n){e.options.verbose&&function(e,t,n){switch(n.type){case 5:return tK(e,ma.Project_0_is_out_of_date_because_output_1_is_older_than_input_2,eK(e,t),eK(e,n.outOfDateOutputFileName),eK(e,n.newerInputFileName));case 6:return tK(e,ma.Project_0_is_out_of_date_because_output_1_is_older_than_input_2,eK(e,t),eK(e,n.outOfDateOutputFileName),eK(e,n.newerProjectName));case 3:return tK(e,ma.Project_0_is_out_of_date_because_output_file_1_does_not_exist,eK(e,t),eK(e,n.missingOutputFileName));case 4:return tK(e,ma.Project_0_is_out_of_date_because_there_was_error_reading_file_1,eK(e,t),eK(e,n.fileName));case 7:return tK(e,ma.Project_0_is_out_of_date_because_buildinfo_file_1_indicates_that_some_of_the_changes_were_not_emitted,eK(e,t),eK(e,n.buildInfoFile));case 8:return tK(e,ma.Project_0_is_out_of_date_because_buildinfo_file_1_indicates_that_program_needs_to_report_errors,eK(e,t),eK(e,n.buildInfoFile));case 9:return tK(e,ma.Project_0_is_out_of_date_because_buildinfo_file_1_indicates_there_is_change_in_compilerOptions,eK(e,t),eK(e,n.buildInfoFile));case 10:return tK(e,ma.Project_0_is_out_of_date_because_buildinfo_file_1_indicates_that_file_2_was_root_file_of_compilation_but_not_any_more,eK(e,t),eK(e,n.buildInfoFile),eK(e,n.inputFile));case 1:if(void 0!==n.newestInputFileTime)return tK(e,ma.Project_0_is_up_to_date_because_newest_input_1_is_older_than_output_2,eK(e,t),eK(e,n.newestInputFileName||""),eK(e,n.oldestOutputFileName||""));break;case 2:return tK(e,ma.Project_0_is_up_to_date_with_d_ts_files_from_its_dependencies,eK(e,t));case 15:return tK(e,ma.Project_0_is_up_to_date_but_needs_to_update_timestamps_of_output_files_that_are_older_than_input_files,eK(e,t));case 11:return tK(e,ma.Project_0_is_out_of_date_because_its_dependency_1_is_out_of_date,eK(e,t),eK(e,n.upstreamProjectName));case 12:return tK(e,n.upstreamProjectBlocked?ma.Project_0_can_t_be_built_because_its_dependency_1_was_not_built:ma.Project_0_can_t_be_built_because_its_dependency_1_has_errors,eK(e,t),eK(e,n.upstreamProjectName));case 0:return tK(e,ma.Project_0_is_out_of_date_because_1,eK(e,t),n.reason);case 14:return tK(e,ma.Project_0_is_out_of_date_because_output_for_it_was_generated_with_version_1_that_differs_with_current_version_2,eK(e,t),n.version,l);case 17:tK(e,ma.Project_0_is_being_forcibly_rebuilt,eK(e,t))}}(e,t,n)}var lK=(e=>(e[e.time=0]="time",e[e.count=1]="count",e[e.memory=2]="memory",e))(lK||{});function _K(e){const t=function(){const e=new Map;return e.set("Library",0),e.set("Definitions",0),e.set("TypeScript",0),e.set("JavaScript",0),e.set("JSON",0),e.set("Other",0),e}();return f(e.getSourceFiles(),n=>{const r=function(e,t){if(e.isSourceFileDefaultLibrary(t))return"Library";if(t.isDeclarationFile)return"Definitions";const n=t.path;return No(n,NS)?"TypeScript":No(n,PS)?"JavaScript":Do(n,".json")?"JSON":"Other"}(e,n),i=qa(n).length;t.set(r,t.get(r)+i)}),t}function uK(e,t,n){return pK(e,n)?_$(e,!0):t}function dK(e){return!!e.writeOutputIsTTY&&e.writeOutputIsTTY()&&!e.getEnvironmentVariable("NO_COLOR")}function pK(e,t){return t&&void 0!==t.pretty?t.pretty:dK(e)}function fK(e){return e.options.all?pe(AO.concat(VO),(e,t)=>wt(e.name,t.name)):F(AO.concat(VO),e=>!!e.showInSimplifiedHelpView)}function mK(e){e.write(pL(ma.Version_0,l)+e.newLine)}function gK(e){if(!dK(e))return{bold:e=>e,blue:e=>e,blueBackground:e=>e,brightWhite:e=>e};const t=e.getEnvironmentVariable("OS")&&e.getEnvironmentVariable("OS").toLowerCase().includes("windows"),n=e.getEnvironmentVariable("WT_SESSION"),r=e.getEnvironmentVariable("TERM_PROGRAM")&&"vscode"===e.getEnvironmentVariable("TERM_PROGRAM"),i="truecolor"===e.getEnvironmentVariable("COLORTERM")||"xterm-256color"===e.getEnvironmentVariable("TERM");function o(e){return`[97m${e}[39m`}return{bold:function(e){return`[1m${e}[22m`},blue:function(e){return!t||n||r?`[94m${e}[39m`:o(e)},brightWhite:o,blueBackground:function(e){return i?`[48;5;68m${e}[39;49m`:`[44m${e}[39;49m`}}}function hK(e){return`--${e.name}${e.shortName?`, -${e.shortName}`:""}`}function yK(e,t,n,r){var i,o;const a=[],s=gK(e),c=hK(t),l=function(e){if("object"!==e.type)return{valueType:function(e){switch(fn.assert("listOrElement"!==e.type),e.type){case"string":case"number":case"boolean":return pL(ma.type_Colon);case"list":return pL(ma.one_or_more_Colon);default:return pL(ma.one_of_Colon)}}(e),possibleValues:function e(t){let n;switch(t.type){case"string":case"number":case"boolean":n=t.type;break;case"list":case"listOrElement":n=e(t.element);break;case"object":n="";break;default:const r={};return t.type.forEach((e,n)=>{var i;(null==(i=t.deprecatedKeys)?void 0:i.has(n))||(r[e]||(r[e]=[])).push(n)}),Object.entries(r).map(([,e])=>e.join("/")).join(", ")}return n}(e)}}(t),_="object"==typeof t.defaultValueDescription?pL(t.defaultValueDescription):(u=t.defaultValueDescription,d="list"===t.type||"listOrElement"===t.type?t.element.type:t.type,void 0!==u&&"object"==typeof d?Re(d.entries()).filter(([,e])=>e===u).map(([e])=>e).join("/"):String(u));var u,d;const p=null!=(i=null==(o=e.getWidthOfTerminal)?void 0:o.call(e))?i:0;if(p>=80){let i="";t.description&&(i=pL(t.description)),a.push(...m(c,i,n,r,p,!0),e.newLine),f(l,t)&&(l&&a.push(...m(l.valueType,l.possibleValues,n,r,p,!1),e.newLine),_&&a.push(...m(pL(ma.default_Colon),_,n,r,p,!1),e.newLine)),a.push(e.newLine)}else{if(a.push(s.blue(c),e.newLine),t.description){const e=pL(t.description);a.push(e)}if(a.push(e.newLine),f(l,t)){if(l&&a.push(`${l.valueType} ${l.possibleValues}`),_){l&&a.push(e.newLine);const t=pL(ma.default_Colon);a.push(`${t} ${_}`)}a.push(e.newLine)}a.push(e.newLine)}return a;function f(e,t){const n=t.defaultValueDescription;return!(t.category===ma.Command_line_Options||w(["string"],null==e?void 0:e.possibleValues)&&w([void 0,"false","n/a"],n))}function m(e,t,n,r,i,o){const a=[];let c=!0,l=t;const _=i-r;for(;l.length>0;){let t="";c?(t=e.padStart(n),t=t.padEnd(r),t=o?s.blue(t):t):t="".padStart(r);const i=l.substr(0,_);l=l.slice(_),a.push(`${t}${i}`),c=!1}return a}}function vK(e,t){let n=0;for(const a of t){const e=hK(a).length;n=n>e?n:e}const r=n+2,i=r+2;let o=[];for(const a of t){const t=yK(e,a,r,i);o=[...o,...t]}return o[o.length-2]!==e.newLine&&o.push(e.newLine),o}function bK(e,t,n,r,i,o){var a;let s=[];if(s.push(gK(e).bold(t)+e.newLine+e.newLine),i&&s.push(i+e.newLine+e.newLine),!r)return s=[...s,...vK(e,n)],o&&s.push(o+e.newLine+e.newLine),s;const c=new Map;for(const l of n){if(!l.category)continue;const e=pL(l.category),t=null!=(a=c.get(e))?a:[];t.push(l),c.set(e,t)}return c.forEach((t,n)=>{s.push(`### ${n}${e.newLine}${e.newLine}`),s=[...s,...vK(e,t)]}),o&&s.push(o+e.newLine+e.newLine),s}function xK(e,t){let n=[...kK(e,`${pL(ma.tsc_Colon_The_TypeScript_Compiler)} - ${pL(ma.Version_0,l)}`)];n=[...n,...bK(e,pL(ma.BUILD_OPTIONS),F(t,e=>e!==VO),!1,tk(ma.Using_build_b_will_make_tsc_behave_more_like_a_build_orchestrator_than_a_compiler_This_is_used_to_trigger_building_composite_projects_which_you_can_learn_more_about_at_0,"https://aka.ms/tsc-composite-builds"))];for(const r of n)e.write(r)}function kK(e,t){var n,r;const i=gK(e),o=[],a=null!=(n=null==(r=e.getWidthOfTerminal)?void 0:r.call(e))?n:0,s=i.blueBackground("".padStart(5)),c=i.blueBackground(i.brightWhite("TS ".padStart(5)));if(a>=t.length+5){const n=(a>120?120:a)-5;o.push(t.padEnd(n)+s+e.newLine),o.push("".padStart(n)+c+e.newLine)}else o.push(t+e.newLine),o.push(e.newLine);return o}function SK(e,t){t.options.all?function(e,t,n,r){let i=[...kK(e,`${pL(ma.tsc_Colon_The_TypeScript_Compiler)} - ${pL(ma.Version_0,l)}`)];i=[...i,...bK(e,pL(ma.ALL_COMPILER_OPTIONS),t,!0,void 0,tk(ma.You_can_learn_about_all_of_the_compiler_options_at_0,"https://aka.ms/tsc"))],i=[...i,...bK(e,pL(ma.WATCH_OPTIONS),r,!1,pL(ma.Including_watch_w_will_start_watching_the_current_project_for_the_file_changes_Once_set_you_can_config_watch_mode_with_Colon))],i=[...i,...bK(e,pL(ma.BUILD_OPTIONS),F(n,e=>e!==VO),!1,tk(ma.Using_build_b_will_make_tsc_behave_more_like_a_build_orchestrator_than_a_compiler_This_is_used_to_trigger_building_composite_projects_which_you_can_learn_more_about_at_0,"https://aka.ms/tsc-composite-builds"))];for(const o of i)e.write(o)}(e,fK(t),UO,DO):function(e,t){const n=gK(e);let r=[...kK(e,`${pL(ma.tsc_Colon_The_TypeScript_Compiler)} - ${pL(ma.Version_0,l)}`)];r.push(n.bold(pL(ma.COMMON_COMMANDS))+e.newLine+e.newLine),a("tsc",ma.Compiles_the_current_project_tsconfig_json_in_the_working_directory),a("tsc app.ts util.ts",ma.Ignoring_tsconfig_json_compiles_the_specified_files_with_default_compiler_options),a("tsc -b",ma.Build_a_composite_project_in_the_working_directory),a("tsc --init",ma.Creates_a_tsconfig_json_with_the_recommended_settings_in_the_working_directory),a("tsc -p ./path/to/tsconfig.json",ma.Compiles_the_TypeScript_project_located_at_the_specified_path),a("tsc --help --all",ma.An_expanded_version_of_this_information_showing_all_possible_compiler_options),a(["tsc --noEmit","tsc --target esnext"],ma.Compiles_the_current_project_with_additional_settings);const i=t.filter(e=>e.isCommandLineOnly||e.category===ma.Command_line_Options),o=t.filter(e=>!w(i,e));r=[...r,...bK(e,pL(ma.COMMAND_LINE_FLAGS),i,!1,void 0,void 0),...bK(e,pL(ma.COMMON_COMPILER_OPTIONS),o,!1,void 0,tk(ma.You_can_learn_about_all_of_the_compiler_options_at_0,"https://aka.ms/tsc"))];for(const s of r)e.write(s);function a(t,i){const o="string"==typeof t?[t]:t;for(const a of o)r.push("  "+n.blue(a)+e.newLine);r.push("  "+pL(i)+e.newLine+e.newLine)}}(e,fK(t))}function TK(e,t,n){let r,i=_$(e);if(n.options.locale&&fc(n.options.locale,e,n.errors),n.errors.length>0)return n.errors.forEach(i),e.exit(1);if(n.options.init)return function(e,t,n,r){const i=e.getCurrentDirectory(),o=Wo(zo(i,"tsconfig.json"));if(e.fileExists(o))t(nk(ma.A_tsconfig_json_file_is_already_defined_at_Colon_0,o));else{e.writeFile(o,XL(n,r,e.newLine));const t=[e.newLine,...kK(e,"Created a new tsconfig.json with:")];t.push(KL(n,e.newLine)+e.newLine+e.newLine),t.push("You can learn more at https://aka.ms/tsconfig"+e.newLine);for(const n of t)e.write(n)}}(e,i,n.options,n.fileNames),e.exit(0);if(n.options.version)return mK(e),e.exit(0);if(n.options.help||n.options.all)return SK(e,n),e.exit(0);if(n.options.watch&&n.options.listFilesOnly)return i(nk(ma.Options_0_and_1_cannot_be_combined,"watch","listFilesOnly")),e.exit(1);if(n.options.project){if(0!==n.fileNames.length)return i(nk(ma.Option_project_cannot_be_mixed_with_source_files_on_a_command_line)),e.exit(1);const t=Wo(n.options.project);if(!t||e.directoryExists(t)){if(r=zo(t,"tsconfig.json"),!e.fileExists(r))return i(nk(ma.Cannot_find_a_tsconfig_json_file_at_the_specified_directory_Colon_0,n.options.project)),e.exit(1)}else if(r=t,!e.fileExists(r))return i(nk(ma.The_specified_path_does_not_exist_Colon_0,n.options.project)),e.exit(1)}else 0===n.fileNames.length&&(r=qV(Wo(e.getCurrentDirectory()),t=>e.fileExists(t)));if(0===n.fileNames.length&&!r)return n.options.showConfig?i(nk(ma.Cannot_find_a_tsconfig_json_file_at_the_current_directory_Colon_0,Wo(e.getCurrentDirectory()))):(mK(e),SK(e,n)),e.exit(1);const o=e.getCurrentDirectory(),a=QL(n.options,e=>Uo(e,o));if(r){const o=new Map,s=m$(r,a,o,n.watchOptions,e,i);if(a.showConfig)return 0!==s.errors.length?(i=uK(e,i,s.options),s.errors.forEach(i),e.exit(1)):(e.write(JSON.stringify(JL(s,r,e),null,4)+e.newLine),e.exit(0));if(i=uK(e,i,s.options),ax(s.options)){if(DK(e,i))return;return function(e,t,n,r,i,o,a){const s=z$({configFileName:r.options.configFilePath,optionsToExtend:i,watchOptionsToExtend:o,system:e,reportDiagnostic:n,reportWatchStatus:jK(e,r.options)});return LK(e,t,s),s.configFileParsingResult=r,s.extendedConfigCache=a,K$(s)}(e,t,i,s,a,n.watchOptions,o)}Lk(s.options)?AK(e,t,i,s):PK(e,t,i,s)}else{if(a.showConfig)return e.write(JSON.stringify(JL(n,zo(o,"tsconfig.json"),e),null,4)+e.newLine),e.exit(0);if(i=uK(e,i,a),ax(a)){if(DK(e,i))return;return function(e,t,n,r,i,o){const a=q$({rootFiles:r,options:i,watchOptions:o,system:e,reportDiagnostic:n,reportWatchStatus:jK(e,i)});return LK(e,t,a),K$(a)}(e,t,i,n.fileNames,a,n.watchOptions)}Lk(a)?AK(e,t,i,__spreadProps(__spreadValues({},n),{options:a})):PK(e,t,i,__spreadProps(__spreadValues({},n),{options:a}))}}function CK(e){if(e.length>0&&45===e[0].charCodeAt(0)){const t=e[0].slice(45===e[0].charCodeAt(1)?2:1).toLowerCase();return t===VO.name||t===VO.shortName}return!1}function wK(e,t,n){if(CK(n)){const{buildOptions:r,watchOptions:i,projects:o,errors:a}=dL(n);if(!r.generateCpuProfile||!e.enableCPUProfiler)return FK(e,t,r,i,o,a);e.enableCPUProfiler(r.generateCpuProfile,()=>FK(e,t,r,i,o,a))}const r=sL(n,t=>e.readFile(t));if(!r.options.generateCpuProfile||!e.enableCPUProfiler)return TK(e,t,r);e.enableCPUProfiler(r.options.generateCpuProfile,()=>TK(e,t,r))}function DK(e,t){return!(e.watchFile&&e.watchDirectory||(t(nk(ma.The_current_host_does_not_support_the_0_option,"--watch")),e.exit(1),0))}var NK=2;function FK(e,t,n,r,i,o){const a=uK(e,_$(e),n);if(n.locale&&fc(n.locale,e,o),o.length>0)return o.forEach(a),e.exit(1);if(n.help)return mK(e),xK(e,WO),e.exit(0);if(0===i.length)return mK(e),xK(e,WO),e.exit(0);if(!e.getModifiedTime||!e.setModifiedTime||n.clean&&!e.deleteFile)return a(nk(ma.The_current_host_does_not_support_the_0_option,"--build")),e.exit(1);if(n.watch){if(DK(e,a))return;const o=oH(e,void 0,a,nH(e,pK(e,n)),jK(e,n));o.jsDocParsingMode=NK;const s=RK(e,n);IK(e,t,o,s);const c=o.onWatchStatusChange;let l=!1;o.onWatchStatusChange=(e,t,n,r)=>{null==c||c(e,t,n,r),!l||e.code!==ma.Found_0_errors_Watching_for_file_changes.code&&e.code!==ma.Found_1_error_Watching_for_file_changes.code||MK(_,s)};const _=sH(o,i,n,r);return _.build(),MK(_,s),l=!0,_}const s=iH(e,void 0,a,nH(e,pK(e,n)),EK(e,n));s.jsDocParsingMode=NK;const c=RK(e,n);IK(e,t,s,c);const l=aH(s,i,n),_=n.clean?l.clean():l.build();return MK(l,c),gr(),e.exit(_)}function EK(e,t){return pK(e,t)?(t,n)=>e.write(b$(t,n,e.newLine,e)):void 0}function PK(e,t,n,r){const{fileNames:i,options:o,projectReferences:a}=r,s=KV(o,void 0,e);s.jsDocParsingMode=NK;const c=s.getCurrentDirectory(),l=Kt(s.useCaseSensitiveFileNames());GV(s,e=>Ko(e,c,l)),zK(e,o,!1);const _=MU({rootNames:i,options:o,projectReferences:a,host:s,configFileParsingDiagnostics:OU(r)}),u=F$(_,n,t=>e.write(t+e.newLine),EK(e,o));return VK(e,_,void 0),t(_),e.exit(u)}function AK(e,t,n,r){const{options:i,fileNames:o,projectReferences:a}=r;zK(e,i,!1);const s=W$(i,e);s.jsDocParsingMode=NK;const c=V$({host:s,system:e,rootNames:o,options:i,configFileParsingDiagnostics:OU(r),projectReferences:a,reportDiagnostic:n,reportErrorSummary:EK(e,i),afterProgramEmitAndDiagnostics:n=>{VK(e,n.getProgram(),void 0),t(n)}});return e.exit(c)}function IK(e,t,n,r){OK(e,n,!0),n.afterProgramEmitAndDiagnostics=n=>{VK(e,n.getProgram(),r),t(n)}}function OK(e,t,n){const r=t.createProgram;t.createProgram=(t,i,o,a,s,c)=>(fn.assert(void 0!==t||void 0===i&&!!a),void 0!==i&&zK(e,i,n),r(t,i,o,a,s,c))}function LK(e,t,n){n.jsDocParsingMode=NK,OK(e,n,!1);const r=n.afterProgramCreate;n.afterProgramCreate=n=>{r(n),VK(e,n.getProgram(),void 0),t(n)}}function jK(e,t){return f$(e,pK(e,t))}function RK(e,t){if(e===po&&t.extendedDiagnostics)return pr(),function(){let e;return{addAggregateStatistic:t,forEachAggregateStatistics:n,clear:r};function t(t){const n=null==e?void 0:e.get(t.name);n?2===n.type?n.value=Math.max(n.value,t.value):n.value+=t.value:(null!=e?e:e=new Map).set(t.name,t)}function n(t){null==e||e.forEach(t)}function r(){e=void 0}}()}function MK(e,t){if(!t)return;if(!dr())return void po.write(ma.Performance_timings_for_diagnostics_or_extendedDiagnostics_are_not_available_in_this_session_A_native_implementation_of_the_Web_Performance_API_could_not_be_found.message+"\n");const n=[];function r(e){const t=ar(e);t&&n.push({name:i(e),value:t,type:1})}function i(e){return e.replace("SolutionBuilder::","")}n.push({name:"Projects in scope",value:tH(e.getBuildOrder()).length,type:1}),r("SolutionBuilder::Projects built"),r("SolutionBuilder::Timestamps only updates"),r("SolutionBuilder::Bundles updated"),t.forEachAggregateStatistics(e=>{e.name=`Aggregate ${e.name}`,n.push(e)}),cr((e,t)=>{qK(e)&&n.push({name:`${i(e)} time`,value:t,type:0})}),fr(),pr(),t.clear(),UK(po,n)}function BK(e,t){return e===po&&(t.diagnostics||t.extendedDiagnostics)}function JK(e,t){return e===po&&t.generateTrace}function zK(e,t,n){BK(e,t)&&pr(e),JK(e,t)&&mr(n?"build":"project",t.generateTrace,t.configFilePath)}function qK(e){return Zt(e,"SolutionBuilder::")}function VK(e,t,n){var r;const i=t.getCompilerOptions();let o;if(JK(e,i)&&(null==(r=Xn)||r.stopTracing()),BK(e,i)){o=[];const r=e.getMemoryUsage?e.getMemoryUsage():-1;s("Files",t.getSourceFiles().length);const l=_K(t);if(i.extendedDiagnostics)for(const[e,t]of l.entries())s("Lines of "+e,t);else s("Lines",y(l.values(),(e,t)=>e+t,0));s("Identifiers",t.getIdentifierCount()),s("Symbols",t.getSymbolCount()),s("Types",t.getTypeCount()),s("Instantiations",t.getInstantiationCount()),r>=0&&a({name:"Memory used",value:r,type:2},!0);const _=dr(),u=_?sr("Program"):0,d=_?sr("Bind"):0,p=_?sr("Check"):0,f=_?sr("Emit"):0;if(i.extendedDiagnostics){const e=t.getRelationCacheSizes();s("Assignability cache size",e.assignable),s("Identity cache size",e.identity),s("Subtype cache size",e.subtype),s("Strict subtype cache size",e.strictSubtype),_&&cr((e,t)=>{qK(e)||c(`${e} time`,t,!0)})}else _&&(c("I/O read",sr("I/O Read"),!0),c("I/O write",sr("I/O Write"),!0),c("Parse time",u,!0),c("Bind time",d,!0),c("Check time",p,!0),c("Emit time",f,!0));_&&c("Total time",u+d+p+f,!1),UK(e,o),_?n?(cr(e=>{qK(e)||_r(e)}),lr(e=>{qK(e)||ur(e)})):fr():e.write(ma.Performance_timings_for_diagnostics_or_extendedDiagnostics_are_not_available_in_this_session_A_native_implementation_of_the_Web_Performance_API_could_not_be_found.message+"\n")}function a(e,t){o.push(e),t&&(null==n||n.addAggregateStatistic(e))}function s(e,t){a({name:e,value:t,type:1},!0)}function c(e,t,n){a({name:e,value:t,type:0},n)}}function UK(e,t){let n=0,r=0;for(const i of t){i.name.length>n&&(n=i.name.length);const e=WK(i);e.length>r&&(r=e.length)}for(const i of t)e.write(`${i.name}:`.padEnd(n+2)+WK(i).toString().padStart(r)+e.newLine)}function WK(e){switch(e.type){case 1:return""+e.value;case 0:return(e.value/1e3).toFixed(2)+"s";case 2:return Math.round(e.value/1e3)+"K";default:fn.assertNever(e.type)}}function $K(e,t=!0){return{type:e,reportFallback:t}}var HK=$K(void 0,!1),KK=$K(void 0,!1),GK=$K(void 0,!0);function XK(e,t){const n=Wk(e,"strictNullChecks");return{serializeTypeOfDeclaration:function(e,n,r){switch(e.kind){case 169:case 341:return u(e,n,r);case 260:return function(e,n,r){var i;const o=yv(e);let s=GK;return o?s=$K(a(o,r,e,n)):!e.initializer||1!==(null==(i=n.declarations)?void 0:i.length)&&1!==N(n.declarations,iE)||t.isExpandoFunctionDeclaration(e)||F(e)||(s=h(e.initializer,r,void 0,void 0,uf(e))),void 0!==s.type?s.type:d(e,n,r,s.reportFallback)}(e,n,r);case 171:case 348:case 172:return function(e,n,r){const i=yv(e),o=t.requiresAddingImplicitUndefined(e,n,r.enclosingDeclaration);let s=GK;if(i)s=$K(a(i,r,e,n,o));else{const t=kN(e)?e.initializer:void 0;t&&!F(e)&&(s=h(t,r,void 0,o,sf(e)))}return void 0!==s.type?s.type:d(e,n,r,s.reportFallback)}(e,n,r);case 208:return d(e,n,r);case 277:return l(e.expression,r,void 0,!0);case 211:case 212:case 226:return function(e,t,n){const r=yv(e);let i;r&&(i=a(r,n,e,t));const o=n.suppressReportInferenceFallback;n.suppressReportInferenceFallback=!0;const s=null!=i?i:d(e,t,n,!1);return n.suppressReportInferenceFallback=o,s}(e,n,r);case 303:case 304:return function(e,n,r){const i=yv(e);let a;if(i&&t.canReuseTypeNodeAnnotation(r,e,i,n)&&(a=o(i,r)),!a&&303===e.kind){const i=e.initializer,s=vA(i)?bA(i):234===i.kind||216===i.kind?i.type:void 0;s&&!Dl(s)&&t.canReuseTypeNodeAnnotation(r,e,s,n)&&(a=o(s,r))}return null!=a?a:d(e,n,r,!1)}(e,n,r);default:fn.assertNever(e,`Node needs to be an inferrable node, found ${fn.formatSyntaxKind(e.kind)}`)}},serializeReturnTypeForSignature:function(e,t,n){switch(e.kind){case 177:return c(e,t,n);case 174:case 262:case 180:case 173:case 179:case 176:case 178:case 181:case 184:case 185:case 218:case 219:case 317:case 323:return D(e,t,n);default:fn.assertNever(e,`Node needs to be an inferrable node, found ${fn.formatSyntaxKind(e.kind)}`)}},serializeTypeOfExpression:l,serializeTypeOfAccessor:c,tryReuseExistingTypeNode(e,n){if(t.canReuseTypeNode(e,n))return i(e,n)}};function r(e,n,r=n){return void 0===n?void 0:t.markNodeReuse(e,16&n.flags?n:_w.cloneNode(n),null!=r?r:n)}function i(n,i){const{finalizeBoundary:o,startRecoveryScope:a,hadError:s,markError:c}=t.createRecoveryBoundary(n),l=pJ(i,_,C_);if(o())return n.approximateLength+=i.end-i.pos,l;function _(i){if(s())return i;const o=a(),l=LC(i)?t.enterNewScope(n,i):void 0,u=function(i){var o;if(iP(i))return pJ(i.type,_,C_);if(_P(i)||319===i.kind)return _w.createKeywordTypeNode(133);if(uP(i))return _w.createKeywordTypeNode(159);if(dP(i))return _w.createUnionTypeNode([pJ(i.type,_,C_),_w.createLiteralTypeNode(_w.createNull())]);if(fP(i))return _w.createUnionTypeNode([pJ(i.type,_,C_),_w.createKeywordTypeNode(157)]);if(pP(i))return pJ(i.type,_);if(gP(i))return _w.createArrayTypeNode(pJ(i.type,_,C_));if(vP(i))return _w.createTypeLiteralNode(A(i.jsDocPropertyTags,e=>{const r=pJ(tN(e.name)?e.name:e.name.right,_,tN),o=t.getJsDocPropertyOverride(n,i,e);return _w.createPropertySignature(void 0,r,e.isBracketed||e.typeExpression&&fP(e.typeExpression.type)?_w.createToken(58):void 0,o||e.typeExpression&&pJ(e.typeExpression.type,_,C_)||_w.createKeywordTypeNode(133))}));if(IN(i)&&tN(i.typeName)&&""===i.typeName.escapedText)return dw(_w.createKeywordTypeNode(133),i);if((FF(i)||IN(i))&&Mm(i))return _w.createTypeLiteralNode([_w.createIndexSignature(void 0,[_w.createParameterDeclaration(void 0,void 0,"x",void 0,pJ(i.typeArguments[0],_,C_))],pJ(i.typeArguments[1],_,C_))]);if(mP(i)){if(Pg(i)){let e;return _w.createConstructorTypeNode(void 0,fJ(i.typeParameters,_,yN),z(i.parameters,(r,i)=>r.name&&tN(r.name)&&"new"===r.name.escapedText?void(e=r.type):_w.createParameterDeclaration(void 0,l(r),t.markNodeReuse(n,_w.createIdentifier(u(r,i)),r),_w.cloneNode(r.questionToken),pJ(r.type,_,C_),void 0)),pJ(e||i.type,_,C_)||_w.createKeywordTypeNode(133))}return _w.createFunctionTypeNode(fJ(i.typeParameters,_,yN),A(i.parameters,(e,r)=>_w.createParameterDeclaration(void 0,l(e),t.markNodeReuse(n,_w.createIdentifier(u(e,r)),e),_w.cloneNode(e.questionToken),pJ(e.type,_,C_),void 0)),pJ(i.type,_,C_)||_w.createKeywordTypeNode(133))}if(KN(i))return t.canReuseTypeNode(n,i)||c(),i;if(yN(i)){const{node:e}=t.trackExistingEntityName(n,i.name);return _w.updateTypeParameterDeclaration(i,fJ(i.modifiers,_,i_),e,pJ(i.constraint,_,C_),pJ(i.default,_,C_))}if(XN(i)){const e=d(i);return e||(c(),i)}if(IN(i)){const e=m(i);return e||(c(),i)}if(gf(i)){if(132===(null==(o=i.attributes)?void 0:o.token))return c(),i;if(!t.canReuseTypeNode(n,i))return t.serializeExistingTypeNode(n,i);const e=g(i,i.argument.literal),a=e===i.argument.literal?r(n,i.argument.literal):e;return _w.updateImportTypeNode(i,a===i.argument.literal?r(n,i.argument):_w.createLiteralTypeNode(a),pJ(i.attributes,_,xE),pJ(i.qualifier,_,o_),fJ(i.typeArguments,_,C_),i.isTypeOf)}if(Nc(i)&&167===i.name.kind&&!t.hasLateBindableName(i)){if(!qh(i))return a(i,_);if(t.shouldRemoveDeclaration(n,i))return}if(c_(i)&&!i.type||kN(i)&&!i.type&&!i.initializer||xN(i)&&!i.type&&!i.initializer||vN(i)&&!i.type&&!i.initializer){let e=a(i,_);return e===i&&(e=t.markNodeReuse(n,_w.cloneNode(i),i)),e.type=_w.createKeywordTypeNode(133),vN(i)&&(e.modifiers=void 0),e}if(jN(i)){const e=f(i);return e||(c(),i)}if(hN(i)&&ub(i.expression)){const{node:r,introducesError:o}=t.trackExistingEntityName(n,i.expression);if(o){const r=t.serializeTypeOfExpression(n,i.expression);let o;if(ZN(r))o=r.literal;else{const e=t.evaluateEntityNameExpression(i.expression),a="string"==typeof e.value?_w.createStringLiteral(e.value,void 0):"number"==typeof e.value?_w.createNumericLiteral(e.value,0):void 0;if(!a)return YN(r)&&t.trackComputedName(n,i.expression),i;o=a}return 11===o.kind&&bs(o.text,Sk(e))?_w.createIdentifier(o.text):9!==o.kind||o.text.startsWith("-")?_w.updateComputedPropertyName(i,o):o}return _w.updateComputedPropertyName(i,r)}if(AN(i)){let e;if(tN(i.parameterName)){const{node:r,introducesError:o}=t.trackExistingEntityName(n,i.parameterName);o&&c(),e=r}else e=_w.cloneNode(i.parameterName);return _w.updateTypePredicateNode(i,_w.cloneNode(i.assertsModifier),e,pJ(i.type,_,C_))}if(BN(i)||RN(i)||QN(i)){const e=a(i,_),r=t.markNodeReuse(n,e===i?_w.cloneNode(i):e,i);return gw(r,rp(r)|(1024&n.flags&&RN(i)?0:1)),r}if(MD(i)&&268435456&n.flags&&!i.singleQuote){const e=_w.cloneNode(i);return e.singleQuote=!0,e}if(WN(i)){const e=pJ(i.checkType,_,C_),r=t.enterNewScope(n,i),o=pJ(i.extendsType,_,C_),a=pJ(i.trueType,_,C_);r();const s=pJ(i.falseType,_,C_);return _w.updateConditionalTypeNode(i,e,o,a,s)}if(GN(i))if(158===i.operator&&155===i.type.kind){if(!t.canReuseTypeNode(n,i))return c(),i}else if(143===i.operator){const e=p(i);return e||(c(),i)}return a(i,_);function a(e,t){return SJ(e,t,void 0,n.enclosingFile&&n.enclosingFile===Sd(e)?void 0:s)}function s(e,t,n,r,i){let o=fJ(e,t,n,r,i);return o&&(-1===o.pos&&-1===o.end||(o===e&&(o=_w.createNodeArray(e.slice(),e.hasTrailingComma)),ET(o,-1,-1))),o}function l(e){return e.dotDotDotToken||(e.type&&gP(e.type)?_w.createToken(26):void 0)}function u(e,t){return e.name&&tN(e.name)&&"this"===e.name.escapedText?"this":l(e)?"args":`arg${t}`}function g(e,r){const i=t.getModuleSpecifierOverride(n,e,r);return i?dw(_w.createStringLiteral(i),r):r}}(i);return null==l||l(),s()?C_(i)&&!AN(i)?(o(),t.serializeExistingTypeNode(n,i)):i:u?t.markNodeReuse(n,u,i):void 0}function u(e){const t=lh(e);switch(t.kind){case 183:return m(t);case 186:return f(t);case 199:return d(t);case 198:const e=t;if(143===e.operator)return p(e)}return pJ(e,_,C_)}function d(e){const t=u(e.objectType);if(void 0!==t)return _w.updateIndexedAccessTypeNode(e,t,pJ(e.indexType,_,C_))}function p(e){fn.assertEqual(e.operator,143);const t=u(e.type);if(void 0!==t)return _w.updateTypeOperatorNode(e,t)}function f(e){const{introducesError:r,node:i}=t.trackExistingEntityName(n,e.exprName);if(!r)return _w.updateTypeQueryNode(e,i,fJ(e.typeArguments,_,C_));const o=t.serializeTypeName(n,e.exprName,!0);return o?t.markNodeReuse(n,o,e.exprName):void 0}function m(e){if(t.canReuseTypeNode(n,e)){const{introducesError:r,node:i}=t.trackExistingEntityName(n,e.typeName),o=fJ(e.typeArguments,_,C_);if(!r){const r=_w.updateTypeReferenceNode(e,i,o);return t.markNodeReuse(n,r,e)}{const r=t.serializeTypeName(n,e.typeName,!1,o);if(r)return t.markNodeReuse(n,r,e.typeName)}}}}function o(e,n,r){if(!e)return;let o;return r&&!w(e)||!t.canReuseTypeNode(n,e)||(o=i(n,e),void 0!==o&&(o=C(o,r,void 0,n))),o}function a(e,n,r,i,a,s=void 0!==a){var c;if(!e)return;if(!(t.canReuseTypeNodeAnnotation(n,r,e,i,a)||a&&t.canReuseTypeNodeAnnotation(n,r,e,i,!1)))return;let l;return a&&!w(e)||(l=o(e,n,a)),void 0===l&&s?(n.tracker.reportInferenceFallback(r),null!=(c=t.serializeExistingTypeNode(n,e,a))?c:_w.createKeywordTypeNode(133)):l}function s(e,n,r,i){var a;if(!e)return;const s=o(e,n,r);return void 0!==s?s:(n.tracker.reportInferenceFallback(e),null!=(a=t.serializeExistingTypeNode(n,e,r))?a:_w.createKeywordTypeNode(133))}function c(e,n,r){var i;return null!=(i=function(e,n,r){const i=t.getAllAccessorDeclarations(e),o=function(e,t){let n=_(e);return n||e===t.firstAccessor||(n=_(t.firstAccessor)),!n&&t.secondAccessor&&e!==t.secondAccessor&&(n=_(t.secondAccessor)),n}(e,i);return o&&!AN(o)?m(r,e,()=>{var t;return null!=(t=a(o,r,e,n))?t:d(e,n,r)}):i.getAccessor?m(r,i.getAccessor,()=>D(i.getAccessor,n,r)):void 0}(e,n,r))?i:f(e,t.getAllAccessorDeclarations(e),r,n)}function l(e,t,n,r){const i=h(e,t,!1,n,r);return void 0!==i.type?i.type:p(e,t,i.reportFallback)}function _(e){if(e)return 177===e.kind?Om(e)&&sl(e)||bv(e):kv(e)}function u(e,n,r){const i=e.parent;if(178===i.kind)return c(i,void 0,r);const o=yv(e),s=t.requiresAddingImplicitUndefined(e,n,r.enclosingDeclaration);let l=GK;return o?l=$K(a(o,r,e,n,s)):vN(e)&&e.initializer&&tN(e.name)&&!F(e)&&(l=h(e.initializer,r,void 0,s)),void 0!==l.type?l.type:d(e,n,r,l.reportFallback)}function d(e,n,r,i=!0){return i&&r.tracker.reportInferenceFallback(e),!0===r.noInferenceFallback?_w.createKeywordTypeNode(133):t.serializeTypeOfDeclaration(r,e,n)}function p(e,n,r=!0,i){var o;return fn.assert(!i),r&&n.tracker.reportInferenceFallback(e),!0===n.noInferenceFallback?_w.createKeywordTypeNode(133):null!=(o=t.serializeTypeOfExpression(n,e))?o:_w.createKeywordTypeNode(133)}function f(e,n,r,i,o=!0){var a;if(177===e.kind)return D(e,i,r,o);{o&&r.tracker.reportInferenceFallback(e);const s=n.getAccessor&&D(n.getAccessor,i,r,o);return null!=(a=null!=s?s:t.serializeTypeOfDeclaration(r,e,i))?a:_w.createKeywordTypeNode(133)}}function m(e,n,r){const i=t.enterNewScope(e,n),o=r();return i(),o}function g(e,t,n,r){return Dl(t)?h(e,n,!0,r):$K(s(t,n,r))}function h(e,r,i=!1,o=!1,a=!1){switch(e.kind){case 217:return vA(e)?g(e.expression,bA(e),r,o):h(e.expression,r,i,o);case 80:if(t.isUndefinedIdentifierExpression(e))return $K(S());break;case 106:return $K(n?C(_w.createLiteralTypeNode(_w.createNull()),o,e,r):_w.createKeywordTypeNode(133));case 219:case 218:return fn.type(e),m(r,e,()=>function(e,t){const n=D(e,void 0,t),r=b(e.typeParameters,t),i=e.parameters.map(e=>v(e,t));return $K(_w.createFunctionTypeNode(r,i,n))}(e,r));case 216:case 234:const s=e;return g(s.expression,s.type,r,o);case 224:const c=e;if(CC(c))return T(40===c.operator?c.operand:c,10===c.operand.kind?163:150,r,i||a,o);break;case 209:return function(e,t,n,r){if(!function(e,t,n){if(!n)return t.tracker.reportInferenceFallback(e),!1;for(const r of e.elements)if(230===r.kind)return t.tracker.reportInferenceFallback(r),!1;return!0}(e,t,n))return r||mu(sh(e).parent)?KK:$K(p(e,t,!1,r));const i=t.noInferenceFallback;t.noInferenceFallback=!0;const o=[];for(const a of e.elements)if(fn.assert(230!==a.kind),232===a.kind)o.push(S());else{const e=h(a,t,n),r=void 0!==e.type?e.type:p(a,t,e.reportFallback);o.push(r)}return _w.createTupleTypeNode(o).emitNode={flags:1,autoGenerate:void 0,internalFlags:0},t.noInferenceFallback=i,HK}(e,r,i,o);case 210:return function(e,n,r,i){if(!function(e,n){let r=!0;for(const i of e.properties){if(262144&i.flags){r=!1;break}if(304===i.kind||305===i.kind)n.tracker.reportInferenceFallback(i),r=!1;else{if(262144&i.name.flags){r=!1;break}if(81===i.name.kind)r=!1;else if(167===i.name.kind){const e=i.name.expression;CC(e,!1)||t.isDefinitelyReferenceToGlobalSymbolObject(e)||(n.tracker.reportInferenceFallback(i.name),r=!1)}}}return r}(e,n))return i||mu(sh(e).parent)?KK:$K(p(e,n,!1,i));const o=n.noInferenceFallback;n.noInferenceFallback=!0;const a=[],s=n.flags;n.flags|=4194304;for(const t of e.properties){fn.assert(!YE(t)&&!eP(t));const e=t.name;let i;switch(t.kind){case 174:i=m(n,t,()=>x(t,e,n,r));break;case 303:i=y(t,e,n,r);break;case 178:case 177:i=k(t,e,n)}i&&(Dw(i,t),a.push(i))}n.flags=s;const c=_w.createTypeLiteralNode(a);return 1024&n.flags||gw(c,1),n.noInferenceFallback=o,HK}(e,r,i,o);case 231:return $K(p(e,r,!0,o));case 228:if(!i&&!a)return $K(_w.createKeywordTypeNode(154));break;default:let l,_=e;switch(e.kind){case 9:l=150;break;case 15:_=_w.createStringLiteral(e.text),l=154;break;case 11:l=154;break;case 10:l=163;break;case 112:case 97:l=136}if(l)return T(_,l,r,i||a,o)}return GK}function y(e,t,n,i){const o=i?[_w.createModifier(148)]:[],a=h(e.initializer,n,i),s=void 0!==a.type?a.type:d(e,void 0,n,a.reportFallback);return _w.createPropertySignature(o,r(n,t),void 0,s)}function v(e,n){return _w.updateParameterDeclaration(e,[],r(n,e.dotDotDotToken),t.serializeNameOfParameter(n,e),t.isOptionalParameter(e)?_w.createToken(58):void 0,u(e,void 0,n),void 0)}function b(e,n){return null==e?void 0:e.map(e=>{var i;const{node:o}=t.trackExistingEntityName(n,e.name);return _w.updateTypeParameterDeclaration(e,null==(i=e.modifiers)?void 0:i.map(e=>r(n,e)),o,s(e.constraint,n),s(e.default,n))})}function x(e,t,n,i){const o=D(e,void 0,n),a=b(e.typeParameters,n),s=e.parameters.map(e=>v(e,n));return i?_w.createPropertySignature([_w.createModifier(148)],r(n,t),r(n,e.questionToken),_w.createFunctionTypeNode(a,s,o)):(tN(t)&&"new"===t.escapedText&&(t=_w.createStringLiteral("new")),_w.createMethodSignature([],r(n,t),r(n,e.questionToken),a,s,o))}function k(e,n,i){const o=t.getAllAccessorDeclarations(e),a=o.getAccessor&&_(o.getAccessor),c=o.setAccessor&&_(o.setAccessor);if(void 0!==a&&void 0!==c)return m(i,e,()=>{const t=e.parameters.map(e=>v(e,i));return Au(e)?_w.updateGetAccessorDeclaration(e,[],r(i,n),t,s(a,i),void 0):_w.updateSetAccessorDeclaration(e,[],r(i,n),t,void 0)});if(o.firstAccessor===e){const t=a?m(i,o.getAccessor,()=>s(a,i)):c?m(i,o.setAccessor,()=>s(c,i)):void 0,l=null!=t?t:f(e,o,i,void 0);return _w.createPropertySignature(void 0===o.setAccessor?[_w.createModifier(148)]:[],r(i,n),void 0,l)}}function S(){return n?_w.createKeywordTypeNode(157):_w.createKeywordTypeNode(133)}function T(e,t,n,i,o){let a;return i?(224===e.kind&&40===e.operator&&(a=_w.createLiteralTypeNode(r(n,e.operand))),a=_w.createLiteralTypeNode(r(n,e))):a=_w.createKeywordTypeNode(t),$K(C(a,o,e,n))}function C(e,t,r,i){const o=r&&sh(r).parent,a=o&&mu(o)&&tC(o);return n&&(t||a)?(w(e)||i.tracker.reportInferenceFallback(e),VN(e)?_w.createUnionTypeNode([...e.types,_w.createKeywordTypeNode(157)]):_w.createUnionTypeNode([e,_w.createKeywordTypeNode(157)])):e}function w(e){return!n||!(!Fh(e.kind)&&201!==e.kind&&184!==e.kind&&185!==e.kind&&188!==e.kind&&189!==e.kind&&187!==e.kind&&203!==e.kind&&197!==e.kind)||(196===e.kind?w(e.type):(192===e.kind||193===e.kind)&&e.types.every(w))}function D(e,n,r,i=!0){let s=GK;const c=Pg(e)?yv(e.parameters[0]):bv(e);return c?s=$K(a(c,r,e,n)):ih(e)&&(s=function(e,t){let n;if(e&&!Pd(e.body)){if(3&Mh(e))return GK;const t=e.body;t&&BF(t)?Af(t,e=>e.parent!==t||n?(n=void 0,!0):void(n=e.expression)):n=t}if(n){if(!F(n))return h(n,t);{const e=vA(n)?bA(n):EF(n)||dF(n)?n.type:void 0;if(e&&!Dl(e))return $K(o(e,t))}}return GK}(e,r)),void 0!==s.type?s.type:function(e,n,r,i){var o;return i&&n.tracker.reportInferenceFallback(e),!0===n.noInferenceFallback?_w.createKeywordTypeNode(133):null!=(o=t.serializeReturnTypeForSignature(n,e,r))?o:_w.createKeywordTypeNode(133)}(e,r,n,i&&s.reportFallback&&!c)}function F(e){return gc(e.parent,e=>lF(e)||!__(e)&&!!yv(e)||jE(e)||$E(e))}}var QK={};i(QK,{NameValidationResult:()=>bG,discoverTypings:()=>yG,isTypingUpToDate:()=>fG,loadSafeList:()=>gG,loadTypesMap:()=>hG,nonRelativeModuleNameForTypingCache:()=>mG,renderPackageNameValidationFailure:()=>TG,validatePackageName:()=>kG});var ZK,YK,eG="action::set",tG="action::invalidate",nG="action::packageInstalled",rG="event::typesRegistry",iG="event::beginInstallTypes",oG="event::endInstallTypes",aG="event::initializationFailed",sG="action::watchTypingLocations";function cG(e){return po.args.includes(e)}function lG(e){const t=po.args.indexOf(e);return t>=0&&t<po.args.length-1?po.args[t+1]:void 0}function _G(){const e=new Date;return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}.${e.getMilliseconds().toString().padStart(3,"0")}`}(YK=ZK||(ZK={})).GlobalCacheLocation="--globalTypingsCacheLocation",YK.LogFile="--logFile",YK.EnableTelemetry="--enableTelemetry",YK.TypingSafeListLocation="--typingSafeListLocation",YK.TypesMapLocation="--typesMapLocation",YK.NpmLocation="--npmLocation",YK.ValidateDefaultNpmLocation="--validateDefaultNpmLocation";var uG="\n    ";function dG(e){return uG+e.replace(/\n/g,uG)}function pG(e){return dG(JSON.stringify(e,void 0,2))}function fG(e,t){return new Sn(Ae(t,`ts${s}`)||Ae(t,"latest")).compareTo(e.version)<=0}function mG(e){return AC.has(e)?"node":e}function gG(e,t){const n=mL(t,t=>e.readFile(t));return new Map(Object.entries(n.config))}function hG(e,t){var n;const r=mL(t,t=>e.readFile(t));if(null==(n=r.config)?void 0:n.simpleMap)return new Map(Object.entries(r.config.simpleMap))}function yG(e,t,n,r,i,o,a,s,c,l){if(!a||!a.enable)return{cachedTypingPaths:[],newTypingNames:[],filesToWatch:[]};const _=new Map;n=z(n,e=>{const t=Wo(e);if(BS(t))return t});const u=[];a.include&&y(a.include,"Explicitly included types");const d=a.exclude||[];if(!l.types){const e=new Set(n.map(Io));e.add(r),e.forEach(e=>{v(e,"bower.json","bower_components",u),v(e,"package.json","node_modules",u)})}a.disableFilenameBasedTypeAcquisition||function(e){const n=z(e,e=>{if(!BS(e))return;const t=Vt(KS(pt(Oo(e))));return i.get(t)});n.length&&y(n,"Inferred typings from file names"),K(e,e=>Do(e,".jsx"))&&(t&&t("Inferred 'react' typings due to presence of '.jsx' extension"),h("react"))}(n),s&&y(ee(s.map(mG),bt,Nt),"Inferred typings from unresolved imports");for(const f of d)_.delete(f)&&t&&t(`Typing for ${f} is in exclude list, will be ignored.`);o.forEach((e,t)=>{const n=c.get(t);!1===_.get(t)&&void 0!==n&&fG(e,n)&&_.set(t,e.typingLocation)});const p=[],m=[];_.forEach((e,t)=>{e?m.push(e):p.push(t)});const g={cachedTypingPaths:m,newTypingNames:p,filesToWatch:u};return t&&t(`Finished typings discovery:${pG(g)}`),g;function h(e){_.has(e)||_.set(e,!1)}function y(e,n){t&&t(`${n}: ${JSON.stringify(e)}`),f(e,h)}function v(n,r,i,o){const a=zo(n,r);let s,c;e.fileExists(a)&&(o.push(a),s=mL(a,t=>e.readFile(t)).config,c=j([s.dependencies,s.devDependencies,s.optionalDependencies,s.peerDependencies],Ie),y(c,`Typing names in '${a}' dependencies`));const l=zo(n,i);if(o.push(l),!e.directoryExists(l))return;const u=[],d=c?c.map(e=>zo(l,e,r)):e.readDirectory(l,[".json"],void 0,void 0,3).filter(e=>{if(Oo(e)!==r)return!1;const t=Ro(Wo(e)),n="@"===t[t.length-3][0];return n&&pt(t[t.length-4])===i||!n&&pt(t[t.length-3])===i});t&&t(`Searching for typing names in ${l}; all files: ${JSON.stringify(d)}`);for(const p of d){const n=Wo(p),r=mL(n,t=>e.readFile(t)).config;if(!r.name)continue;const i=r.types||r.typings;if(i){const o=Uo(i,Io(n));e.fileExists(o)?(t&&t(`    Package '${r.name}' provides its own types.`),_.set(r.name,o)):t&&t(`    Package '${r.name}' provides its own types but they are missing.`)}else u.push(r.name)}y(u,"    Found package names")}}var vG,bG=(e=>(e[e.Ok=0]="Ok",e[e.EmptyName=1]="EmptyName",e[e.NameTooLong=2]="NameTooLong",e[e.NameStartsWithDot=3]="NameStartsWithDot",e[e.NameStartsWithUnderscore=4]="NameStartsWithUnderscore",e[e.NameContainsNonURISafeCharacters=5]="NameContainsNonURISafeCharacters",e))(bG||{}),xG=214;function kG(e){return SG(e,!0)}function SG(e,t){if(!e)return 1;if(e.length>xG)return 2;if(46===e.charCodeAt(0))return 3;if(95===e.charCodeAt(0))return 4;if(t){const t=/^@([^/]+)\/([^/]+)$/.exec(e);if(t){const e=SG(t[1],!1);if(0!==e)return{name:t[1],isScopeName:!0,result:e};const n=SG(t[2],!1);return 0!==n?{name:t[2],isScopeName:!1,result:n}:0}}return encodeURIComponent(e)!==e?5:0}function TG(e,t){return"object"==typeof e?CG(t,e.result,e.name,e.isScopeName):CG(t,e,t,!1)}function CG(e,t,n,r){const i=r?"Scope":"Package";switch(t){case 1:return`'${e}':: ${i} name '${n}' cannot be empty`;case 2:return`'${e}':: ${i} name '${n}' should be less than ${xG} characters`;case 3:return`'${e}':: ${i} name '${n}' cannot start with '.'`;case 4:return`'${e}':: ${i} name '${n}' cannot start with '_'`;case 5:return`'${e}':: ${i} name '${n}' contains non URI safe characters`;case 0:return fn.fail();default:fn.assertNever(t)}}(e=>{class t{constructor(e){this.text=e}getText(e,t){return 0===e&&t===this.text.length?this.text:this.text.substring(e,t)}getLength(){return this.text.length}getChangeRange(){}}e.fromString=function(e){return new t(e)}})(vG||(vG={}));var wG=(e=>(e[e.Dependencies=1]="Dependencies",e[e.DevDependencies=2]="DevDependencies",e[e.PeerDependencies=4]="PeerDependencies",e[e.OptionalDependencies=8]="OptionalDependencies",e[e.All=15]="All",e))(wG||{}),DG=(e=>(e[e.Off=0]="Off",e[e.On=1]="On",e[e.Auto=2]="Auto",e))(DG||{}),NG=(e=>(e[e.Semantic=0]="Semantic",e[e.PartialSemantic=1]="PartialSemantic",e[e.Syntactic=2]="Syntactic",e))(NG||{}),FG={},EG=(e=>(e.Original="original",e.TwentyTwenty="2020",e))(EG||{}),PG=(e=>(e.All="All",e.SortAndCombine="SortAndCombine",e.RemoveUnused="RemoveUnused",e))(PG||{}),AG=(e=>(e[e.Invoked=1]="Invoked",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.TriggerForIncompleteCompletions=3]="TriggerForIncompleteCompletions",e))(AG||{}),IG=(e=>(e.Type="Type",e.Parameter="Parameter",e.Enum="Enum",e))(IG||{}),OG=(e=>(e.none="none",e.definition="definition",e.reference="reference",e.writtenReference="writtenReference",e))(OG||{}),LG=(e=>(e[e.None=0]="None",e[e.Block=1]="Block",e[e.Smart=2]="Smart",e))(LG||{}),jG=(e=>(e.Ignore="ignore",e.Insert="insert",e.Remove="remove",e))(jG||{});function RG(e){return{indentSize:4,tabSize:4,newLineCharacter:e||"\n",convertTabsToSpaces:!0,indentStyle:2,insertSpaceAfterConstructor:!1,insertSpaceAfterCommaDelimiter:!0,insertSpaceAfterSemicolonInForStatements:!0,insertSpaceBeforeAndAfterBinaryOperators:!0,insertSpaceAfterKeywordsInControlFlowStatements:!0,insertSpaceAfterFunctionKeywordForAnonymousFunctions:!1,insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis:!1,insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets:!1,insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces:!0,insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces:!1,insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces:!1,insertSpaceBeforeFunctionParenthesis:!1,placeOpenBraceOnNewLineForFunctions:!1,placeOpenBraceOnNewLineForControlBlocks:!1,semicolons:"ignore",trimTrailingWhitespace:!0,indentSwitchCase:!0}}var MG=RG("\n"),BG=(e=>(e[e.aliasName=0]="aliasName",e[e.className=1]="className",e[e.enumName=2]="enumName",e[e.fieldName=3]="fieldName",e[e.interfaceName=4]="interfaceName",e[e.keyword=5]="keyword",e[e.lineBreak=6]="lineBreak",e[e.numericLiteral=7]="numericLiteral",e[e.stringLiteral=8]="stringLiteral",e[e.localName=9]="localName",e[e.methodName=10]="methodName",e[e.moduleName=11]="moduleName",e[e.operator=12]="operator",e[e.parameterName=13]="parameterName",e[e.propertyName=14]="propertyName",e[e.punctuation=15]="punctuation",e[e.space=16]="space",e[e.text=17]="text",e[e.typeParameterName=18]="typeParameterName",e[e.enumMemberName=19]="enumMemberName",e[e.functionName=20]="functionName",e[e.regularExpressionLiteral=21]="regularExpressionLiteral",e[e.link=22]="link",e[e.linkName=23]="linkName",e[e.linkText=24]="linkText",e))(BG||{}),JG=(e=>(e[e.None=0]="None",e[e.MayIncludeAutoImports=1]="MayIncludeAutoImports",e[e.IsImportStatementCompletion=2]="IsImportStatementCompletion",e[e.IsContinuation=4]="IsContinuation",e[e.ResolvedModuleSpecifiers=8]="ResolvedModuleSpecifiers",e[e.ResolvedModuleSpecifiersBeyondLimit=16]="ResolvedModuleSpecifiersBeyondLimit",e[e.MayIncludeMethodSnippets=32]="MayIncludeMethodSnippets",e))(JG||{}),zG=(e=>(e.Comment="comment",e.Region="region",e.Code="code",e.Imports="imports",e))(zG||{}),qG=(e=>(e[e.JavaScript=0]="JavaScript",e[e.SourceMap=1]="SourceMap",e[e.Declaration=2]="Declaration",e))(qG||{}),VG=(e=>(e[e.None=0]="None",e[e.InMultiLineCommentTrivia=1]="InMultiLineCommentTrivia",e[e.InSingleQuoteStringLiteral=2]="InSingleQuoteStringLiteral",e[e.InDoubleQuoteStringLiteral=3]="InDoubleQuoteStringLiteral",e[e.InTemplateHeadOrNoSubstitutionTemplate=4]="InTemplateHeadOrNoSubstitutionTemplate",e[e.InTemplateMiddleOrTail=5]="InTemplateMiddleOrTail",e[e.InTemplateSubstitutionPosition=6]="InTemplateSubstitutionPosition",e))(VG||{}),UG=(e=>(e[e.Punctuation=0]="Punctuation",e[e.Keyword=1]="Keyword",e[e.Operator=2]="Operator",e[e.Comment=3]="Comment",e[e.Whitespace=4]="Whitespace",e[e.Identifier=5]="Identifier",e[e.NumberLiteral=6]="NumberLiteral",e[e.BigIntLiteral=7]="BigIntLiteral",e[e.StringLiteral=8]="StringLiteral",e[e.RegExpLiteral=9]="RegExpLiteral",e))(UG||{}),WG=(e=>(e.unknown="",e.warning="warning",e.keyword="keyword",e.scriptElement="script",e.moduleElement="module",e.classElement="class",e.localClassElement="local class",e.interfaceElement="interface",e.typeElement="type",e.enumElement="enum",e.enumMemberElement="enum member",e.variableElement="var",e.localVariableElement="local var",e.variableUsingElement="using",e.variableAwaitUsingElement="await using",e.functionElement="function",e.localFunctionElement="local function",e.memberFunctionElement="method",e.memberGetAccessorElement="getter",e.memberSetAccessorElement="setter",e.memberVariableElement="property",e.memberAccessorVariableElement="accessor",e.constructorImplementationElement="constructor",e.callSignatureElement="call",e.indexSignatureElement="index",e.constructSignatureElement="construct",e.parameterElement="parameter",e.typeParameterElement="type parameter",e.primitiveType="primitive type",e.label="label",e.alias="alias",e.constElement="const",e.letElement="let",e.directory="directory",e.externalModuleName="external module name",e.jsxAttribute="JSX attribute",e.string="string",e.link="link",e.linkName="link name",e.linkText="link text",e))(WG||{}),$G=(e=>(e.none="",e.publicMemberModifier="public",e.privateMemberModifier="private",e.protectedMemberModifier="protected",e.exportedModifier="export",e.ambientModifier="declare",e.staticModifier="static",e.abstractModifier="abstract",e.optionalModifier="optional",e.deprecatedModifier="deprecated",e.dtsModifier=".d.ts",e.tsModifier=".ts",e.tsxModifier=".tsx",e.jsModifier=".js",e.jsxModifier=".jsx",e.jsonModifier=".json",e.dmtsModifier=".d.mts",e.mtsModifier=".mts",e.mjsModifier=".mjs",e.dctsModifier=".d.cts",e.ctsModifier=".cts",e.cjsModifier=".cjs",e))($G||{}),HG=(e=>(e.comment="comment",e.identifier="identifier",e.keyword="keyword",e.numericLiteral="number",e.bigintLiteral="bigint",e.operator="operator",e.stringLiteral="string",e.whiteSpace="whitespace",e.text="text",e.punctuation="punctuation",e.className="class name",e.enumName="enum name",e.interfaceName="interface name",e.moduleName="module name",e.typeParameterName="type parameter name",e.typeAliasName="type alias name",e.parameterName="parameter name",e.docCommentTagName="doc comment tag name",e.jsxOpenTagName="jsx open tag name",e.jsxCloseTagName="jsx close tag name",e.jsxSelfClosingTagName="jsx self closing tag name",e.jsxAttribute="jsx attribute",e.jsxText="jsx text",e.jsxAttributeStringLiteralValue="jsx attribute string literal value",e))(HG||{}),KG=(e=>(e[e.comment=1]="comment",e[e.identifier=2]="identifier",e[e.keyword=3]="keyword",e[e.numericLiteral=4]="numericLiteral",e[e.operator=5]="operator",e[e.stringLiteral=6]="stringLiteral",e[e.regularExpressionLiteral=7]="regularExpressionLiteral",e[e.whiteSpace=8]="whiteSpace",e[e.text=9]="text",e[e.punctuation=10]="punctuation",e[e.className=11]="className",e[e.enumName=12]="enumName",e[e.interfaceName=13]="interfaceName",e[e.moduleName=14]="moduleName",e[e.typeParameterName=15]="typeParameterName",e[e.typeAliasName=16]="typeAliasName",e[e.parameterName=17]="parameterName",e[e.docCommentTagName=18]="docCommentTagName",e[e.jsxOpenTagName=19]="jsxOpenTagName",e[e.jsxCloseTagName=20]="jsxCloseTagName",e[e.jsxSelfClosingTagName=21]="jsxSelfClosingTagName",e[e.jsxAttribute=22]="jsxAttribute",e[e.jsxText=23]="jsxText",e[e.jsxAttributeStringLiteralValue=24]="jsxAttributeStringLiteralValue",e[e.bigintLiteral=25]="bigintLiteral",e))(KG||{}),GG=xs(99,!0),XG=(e=>(e[e.None=0]="None",e[e.Value=1]="Value",e[e.Type=2]="Type",e[e.Namespace=4]="Namespace",e[e.All=7]="All",e))(XG||{});function QG(e){switch(e.kind){case 260:return Om(e)&&tl(e)?7:1;case 169:case 208:case 172:case 171:case 303:case 304:case 174:case 173:case 176:case 177:case 178:case 262:case 218:case 219:case 299:case 291:return 1;case 168:case 264:case 265:case 187:return 2;case 346:return void 0===e.name?3:2;case 306:case 263:return 3;case 267:return dp(e)||1===HM(e)?5:4;case 266:case 275:case 276:case 271:case 272:case 277:case 278:return 7;case 307:return 5}return 7}function ZG(e){const t=(e=QX(e)).parent;return 307===e.kind?1:DE(t)||EE(t)||LE(t)||wE(t)||hE(t)||mE(t)&&e===t.name?7:YG(e)?function(e){const t=166===e.kind?e:gN(e.parent)&&e.parent.right===e?e.parent:void 0;return t&&271===t.parent.kind?7:4}(e):ph(e)?QG(t):o_(e)&&gc(e,rn(oP,qu,aP))?7:function(e){switch(hb(e)&&(e=e.parent),e.kind){case 110:return!Tm(e);case 197:return!0}switch(e.parent.kind){case 183:return!0;case 205:return!e.parent.isTypeOf;case 233:return Ef(e.parent)}return!1}(e)?2:function(e){return function(e){let t=e,n=!0;if(166===t.parent.kind){for(;t.parent&&166===t.parent.kind;)t=t.parent;n=t.right===e}return 183===t.parent.kind&&!n}(e)||function(e){let t=e,n=!0;if(211===t.parent.kind){for(;t.parent&&211===t.parent.kind;)t=t.parent;n=t.name===e}if(!n&&233===t.parent.kind&&298===t.parent.parent.kind){const e=t.parent.parent.parent;return 263===e.kind&&119===t.parent.parent.token||264===e.kind&&96===t.parent.parent.token}return!1}(e)}(e)?4:yN(t)?(fn.assert(MP(t.parent)),2):ZN(t)?3:1}function YG(e){for(;166===e.parent.kind;)e=e.parent;return Pm(e.parent)&&e.parent.moduleReference===e}function eX(e,t=!1,n=!1){return lX(e,lF,aX,t,n)}function tX(e,t=!1,n=!1){return lX(e,_F,aX,t,n)}function nX(e,t=!1,n=!1){return lX(e,z_,aX,t,n)}function rX(e,t=!1,n=!1){return lX(e,uF,sX,t,n)}function iX(e,t=!1,n=!1){return lX(e,bN,aX,t,n)}function oX(e,t=!1,n=!1){return lX(e,Cu,cX,t,n)}function aX(e){return e.expression}function sX(e){return e.tag}function cX(e){return e.tagName}function lX(e,t,n,r,i){let o=r?function(e){return yX(e)||vX(e)?e.parent:e}(e):_X(e);return i&&(o=kA(o)),!!o&&!!o.parent&&t(o.parent)&&n(o.parent)===o}function _X(e){return yX(e)?e.parent:e}function uX(e,t){for(;e;){if(256===e.kind&&e.label.escapedText===t)return e.label;e=e.parent}}function dX(e,t){return!!sF(e.expression)&&e.expression.name.text===t}function pX(e){var t;return tN(e)&&(null==(t=it(e.parent,El))?void 0:t.label)===e}function fX(e){var t;return tN(e)&&(null==(t=it(e.parent,eE))?void 0:t.label)===e}function mX(e){return fX(e)||pX(e)}function gX(e){var t;return(null==(t=it(e.parent,Eu))?void 0:t.tagName)===e}function hX(e){var t;return(null==(t=it(e.parent,gN))?void 0:t.right)===e}function yX(e){var t;return(null==(t=it(e.parent,sF))?void 0:t.name)===e}function vX(e){var t;return(null==(t=it(e.parent,cF))?void 0:t.argumentExpression)===e}function bX(e){var t;return(null==(t=it(e.parent,uE))?void 0:t.name)===e}function xX(e){var t;return tN(e)&&(null==(t=it(e.parent,c_))?void 0:t.name)===e}function kX(e){switch(e.parent.kind){case 172:case 171:case 303:case 306:case 174:case 173:case 177:case 178:case 267:return Ec(e.parent)===e;case 212:return e.parent.argumentExpression===e;case 167:return!0;case 201:return 199===e.parent.parent.kind;default:return!1}}function SX(e){return Nm(e.parent.parent)&&Fm(e.parent.parent)===e}function TX(e){for(Ag(e)&&(e=e.parent.parent);;){if(!(e=e.parent))return;switch(e.kind){case 307:case 174:case 173:case 262:case 218:case 177:case 178:case 263:case 264:case 266:case 267:return e}}}function CX(e){switch(e.kind){case 307:return tO(e)?"module":"script";case 267:return"module";case 263:case 231:return"class";case 264:return"interface";case 265:case 338:case 346:return"type";case 266:return"enum";case 260:return t(e);case 208:return t(ny(e));case 219:case 262:case 218:return"function";case 177:return"getter";case 178:return"setter";case 174:case 173:return"method";case 303:const{initializer:n}=e;return c_(n)?"method":"property";case 172:case 171:case 304:case 305:return"property";case 181:return"index";case 180:return"construct";case 179:return"call";case 176:case 175:return"constructor";case 168:return"type parameter";case 306:return"enum member";case 169:return Av(e,31)?"property":"parameter";case 271:case 276:case 281:case 274:case 280:return"alias";case 226:const r=og(e),{right:i}=e;switch(r){case 7:case 8:case 9:case 0:default:return"";case 1:case 2:const e=CX(i);return""===e?"const":e;case 3:case 5:return fF(i)?"method":"property";case 4:return"property";case 6:return"local class"}case 80:return hE(e.parent)?"alias":"";case 277:const o=CX(e.expression);return""===o?"const":o;default:return""}function t(e){return _f(e)?"const":df(e)?"let":"var"}}function wX(e){switch(e.kind){case 110:return!0;case 80:return gv(e)&&169===e.parent.kind;default:return!1}}var DX=/^\/\/\/\s*</;function NX(e,t){return qa(t)[t.getLineAndCharacterOfPosition(e).line]}function FX(e,t){return PX(e,t.pos)&&PX(e,t.end)}function EX(e,t){return e.pos<=t&&t<=e.end}function PX(e,t){return e.pos<t&&t<e.end}function AX(e,t,n){return e.pos<=t&&e.end>=n}function IX(e,t,n){return LX(e.pos,e.end,t,n)}function OX(e,t,n,r){return LX(e.getStart(t),e.end,n,r)}function LX(e,t,n,r){return Math.max(e,n)<Math.min(t,r)}function jX(e,t,n){return fn.assert(e.pos<=t),t<e.end||!RX(e,n)}function RX(e,t){if(void 0===e||Pd(e))return!1;switch(e.kind){case 263:case 264:case 266:case 210:case 206:case 187:case 241:case 268:case 269:case 275:case 279:return MX(e,20,t);case 299:return RX(e.block,t);case 214:if(!e.arguments)return!0;case 213:case 217:case 196:return MX(e,22,t);case 184:case 185:return RX(e.type,t);case 176:case 177:case 178:case 262:case 218:case 174:case 173:case 180:case 179:case 219:return e.body?RX(e.body,t):e.type?RX(e.type,t):JX(e,22,t);case 267:return!!e.body&&RX(e.body,t);case 245:return e.elseStatement?RX(e.elseStatement,t):RX(e.thenStatement,t);case 244:return RX(e.expression,t)||JX(e,27,t);case 209:case 207:case 212:case 167:case 189:return MX(e,24,t);case 181:return e.type?RX(e.type,t):JX(e,24,t);case 296:case 297:return!1;case 248:case 249:case 250:case 247:return RX(e.statement,t);case 246:return JX(e,117,t)?MX(e,22,t):RX(e.statement,t);case 186:return RX(e.exprName,t);case 221:case 220:case 222:case 229:case 230:return RX(e.expression,t);case 215:return RX(e.template,t);case 228:return RX(xe(e.templateSpans),t);case 239:return Ad(e.literal);case 278:case 272:return Ad(e.moduleSpecifier);case 224:return RX(e.operand,t);case 226:return RX(e.right,t);case 227:return RX(e.whenFalse,t);default:return!0}}function MX(e,t,n){const r=e.getChildren(n);if(r.length){const e=ke(r);if(e.kind===t)return!0;if(27===e.kind&&1!==r.length)return r[r.length-2].kind===t}return!1}function BX(e){const t=qX(e);if(t)return{listItemIndex:np(t.getChildren(),e),list:t}}function JX(e,t,n){return!!zX(e,t,n)}function zX(e,t,n){return k(e.getChildren(n),e=>e.kind===t)}function qX(e){const t=k(e.parent.getChildren(),t=>$P(t)&&tx(t,e));return fn.assert(!t||w(t.getChildren(),e)),t}function VX(e){return 90===e.kind}function UX(e){return 86===e.kind}function WX(e){return 100===e.kind}function $X(e,t){if(16777216&e.flags)return;const n=TY(e,t);if(n)return n;const r=function(e){let t;return gc(e,e=>(C_(e)&&(t=e),!gN(e.parent)&&!C_(e.parent)&&!k_(e.parent))),t}(e);return r&&t.getTypeAtLocation(r)}function HX(e,t){if(!t)switch(e.kind){case 263:case 231:return function(e){if(Nc(e))return e.name;if(sE(e)){const t=e.modifiers&&k(e.modifiers,VX);if(t)return t}if(DF(e)){const t=k(e.getChildren(),UX);if(t)return t}}(e);case 262:case 218:return function(e){if(Nc(e))return e.name;if(aE(e)){const t=k(e.modifiers,VX);if(t)return t}if(fF(e)){const t=k(e.getChildren(),WX);if(t)return t}}(e);case 176:return e}if(Nc(e))return e.name}function KX(e,t){if(e.importClause){if(e.importClause.name&&e.importClause.namedBindings)return;if(e.importClause.name)return e.importClause.name;if(e.importClause.namedBindings){if(CE(e.importClause.namedBindings)){const t=Se(e.importClause.namedBindings.elements);if(!t)return;return t.name}if(SE(e.importClause.namedBindings))return e.importClause.namedBindings.name}}if(!t)return e.moduleSpecifier}function GX(e,t){if(e.exportClause){if(FE(e.exportClause)){if(!Se(e.exportClause.elements))return;return e.exportClause.elements[0].name}if(TE(e.exportClause))return e.exportClause.name}if(!t)return e.moduleSpecifier}function XX(e,t){const{parent:n}=e;if(i_(e)&&(t||90!==e.kind)?bI(n)&&w(n.modifiers,e):86===e.kind?sE(n)||DF(e):100===e.kind?aE(n)||fF(e):120===e.kind?cE(n):94===e.kind?_E(n):156===e.kind?lE(n):145===e.kind||144===e.kind?uE(n):102===e.kind?mE(n):139===e.kind?DN(n):153===e.kind&&NN(n)){const e=HX(n,t);if(e)return e}if((115===e.kind||87===e.kind||121===e.kind)&&oE(n)&&1===n.declarations.length){const e=n.declarations[0];if(tN(e.name))return e.name}if(156===e.kind){if(hE(n)&&n.isTypeOnly){const e=KX(n.parent,t);if(e)return e}if(NE(n)&&n.isTypeOnly){const e=GX(n,t);if(e)return e}}if(130===e.kind){if(wE(n)&&n.propertyName||EE(n)&&n.propertyName||SE(n)||TE(n))return n.name;if(NE(n)&&n.exportClause&&TE(n.exportClause))return n.exportClause.name}if(102===e.kind&&gE(n)){const e=KX(n,t);if(e)return e}if(95===e.kind){if(NE(n)){const e=GX(n,t);if(e)return e}if(DE(n))return kA(n.expression)}if(149===e.kind&&LE(n))return n.expression;if(161===e.kind&&(gE(n)||NE(n))&&n.moduleSpecifier)return n.moduleSpecifier;if((96===e.kind||119===e.kind)&&XE(n)&&n.token===e.kind){const e=function(e){if(1===e.types.length)return e.types[0].expression}(n);if(e)return e}if(96===e.kind){if(yN(n)&&n.constraint&&IN(n.constraint))return n.constraint.typeName;if(WN(n)&&IN(n.extendsType))return n.extendsType.typeName}if(140===e.kind&&$N(n))return n.typeParameter.name;if(103===e.kind&&yN(n)&&QN(n.parent))return n.name;if(143===e.kind&&GN(n)&&143===n.operator&&IN(n.type))return n.type.typeName;if(148===e.kind&&GN(n)&&148===n.operator&&MN(n.type)&&IN(n.type.elementType))return n.type.elementType.typeName;if(!t){if((105===e.kind&&_F(n)||116===e.kind&&yF(n)||114===e.kind&&hF(n)||135===e.kind&&vF(n)||127===e.kind&&CF(n)||91===e.kind&&gF(n))&&n.expression)return kA(n.expression);if((103===e.kind||104===e.kind)&&kF(n)&&n.operatorToken===e)return kA(n.right);if(130===e.kind&&EF(n)&&IN(n.type))return n.type.typeName;if(103===e.kind&&HF(n)||165===e.kind&&KF(n))return kA(n.expression)}return e}function QX(e){return XX(e,!1)}function ZX(e){return XX(e,!0)}function YX(e,t){return eQ(e,t,e=>Wh(e)||Fh(e.kind)||nN(e))}function eQ(e,t,n){return nQ(e,t,!1,n,!1)}function tQ(e,t){return nQ(e,t,!0,void 0,!1)}function nQ(e,t,n,r,i){let o,a=e;for(;;){const i=a.getChildren(e),c=Ne(i,t,(e,t)=>t,(o,a)=>{const c=i[o].getEnd();if(c<t)return-1;const l=n?i[o].getFullStart():i[o].getStart(e,!0);return l>t?1:s(i[o],l,c)?i[o-1]&&s(i[o-1])?1:0:r&&l===t&&i[o-1]&&i[o-1].getEnd()===t&&s(i[o-1])?1:-1});if(o)return o;if(!(c>=0&&i[c]))return a;a=i[c]}function s(a,s,c){if(null!=c||(c=a.getEnd()),c<t)return!1;if(null!=s||(s=n?a.getFullStart():a.getStart(e,!0)),s>t)return!1;if(t<c||t===c&&(1===a.kind||i))return!0;if(r&&c===t){const n=aQ(t,e,a);if(n&&r(n))return o=n,!0}return!1}}function rQ(e,t){let n=tQ(e,t);for(;dQ(n);){const t=oQ(n,n.parent,e);if(!t)return;n=t}return n}function iQ(e,t){const n=tQ(e,t);return Ll(n)&&t>n.getStart(e)&&t<n.getEnd()?n:aQ(t,e)}function oQ(e,t,n){return function t(r){return Ll(r)&&r.pos===e.end?r:g(r.getChildren(n),r=>(r.pos<=e.pos&&r.end>e.end||r.pos===e.end)&&kQ(r,n)?t(r):void 0)}(t)}function aQ(e,t,n,r){const i=function i(o){if(sQ(o)&&1!==o.kind)return o;const a=o.getChildren(t),s=Ne(a,e,(e,t)=>t,(t,n)=>e<a[t].end?!a[t-1]||e>=a[t-1].end?0:1:-1);if(s>=0&&a[s]){const n=a[s];if(e<n.end){if(n.getStart(t,!r)>=e||!kQ(n,t)||dQ(n)){const e=lQ(a,s,t,o.kind);return e?!r&&Fu(e)&&e.getChildren(t).length?i(e):cQ(e,t):void 0}return i(n)}}fn.assert(void 0!==n||307===o.kind||1===o.kind||Fu(o));const c=lQ(a,a.length,t,o.kind);return c&&cQ(c,t)}(n||t);return fn.assert(!(i&&dQ(i))),i}function sQ(e){return Ll(e)&&!dQ(e)}function cQ(e,t){if(sQ(e))return e;const n=e.getChildren(t);if(0===n.length)return e;const r=lQ(n,n.length,t,e.kind);return r&&cQ(r,t)}function lQ(e,t,n,r){for(let i=t-1;i>=0;i--)if(dQ(e[i]))0!==i||12!==r&&285!==r||fn.fail("`JsxText` tokens should not be the first child of `JsxElement | JsxSelfClosingElement`");else if(kQ(e[i],n))return e[i]}function _Q(e,t,n=aQ(t,e)){if(n&&Kl(n)){const r=n.getStart(e),i=n.getEnd();if(r<t&&t<i)return!0;if(t===i)return!!n.isUnterminated}return!1}function uQ(e,t){const n=tQ(e,t);return!!n&&(12===n.kind||30===n.kind&&12===n.parent.kind||30===n.kind&&294===n.parent.kind||!(!n||20!==n.kind||294!==n.parent.kind)||30===n.kind&&287===n.parent.kind)}function dQ(e){return BD(e)&&e.containsOnlyTriviaWhiteSpaces}function pQ(e,t){const n=tQ(e,t);return Jl(n.kind)&&t>n.getStart(e)}function fQ(e,t){const n=tQ(e,t);return!!BD(n)||!(19!==n.kind||!$E(n.parent)||!jE(n.parent.parent))||!(30!==n.kind||!Cu(n.parent)||!jE(n.parent.parent))}function mQ(e,t){return function(n){for(;n;)if(n.kind>=285&&n.kind<=294||12===n.kind||30===n.kind||32===n.kind||80===n.kind||20===n.kind||19===n.kind||44===n.kind)n=n.parent;else{if(284!==n.kind)return!1;if(t>n.getStart(e))return!0;n=n.parent}return!1}(tQ(e,t))}function gQ(e,t,n){const r=Oa(e.kind),i=Oa(t),o=e.getFullStart(),a=n.text.lastIndexOf(i,o);if(-1===a)return;if(n.text.lastIndexOf(r,o-1)<a){const e=aQ(a+1,n);if(e&&e.kind===t)return e}const s=e.kind;let c=0;for(;;){const r=aQ(e.getFullStart(),n);if(!r)return;if((e=r).kind===t){if(0===c)return e;c--}else e.kind===s&&c++}}function hQ(e,t,n){const r=vQ(e,t);return void 0!==r&&(Ef(r.called)||0!==yQ(r.called,r.nTypeArguments,n).length||hQ(r.called,t,n))}function yQ(e,t,n){let r=n.getTypeAtLocation(e);return kl(e.parent)&&(r=function(e,t,n){return t?e.getNonNullableType():n?e.getNonOptionalType():e}(r,Sl(e.parent),!0)),(_F(e.parent)?r.getConstructSignatures():r.getCallSignatures()).filter(e=>!!e.typeParameters&&e.typeParameters.length>=t)}function vQ(e,t){if(-1===t.text.lastIndexOf("<",e?e.pos:t.text.length))return;let n=e,r=0,i=0;for(;n;){switch(n.kind){case 30:if(n=aQ(n.getFullStart(),t),n&&29===n.kind&&(n=aQ(n.getFullStart(),t)),!n||!tN(n))return;if(!r)return ph(n)?void 0:{called:n,nTypeArguments:i};r--;break;case 50:r=3;break;case 49:r=2;break;case 32:r++;break;case 20:if(n=gQ(n,19,t),!n)return;break;case 22:if(n=gQ(n,21,t),!n)return;break;case 24:if(n=gQ(n,23,t),!n)return;break;case 28:i++;break;case 39:case 80:case 11:case 9:case 10:case 112:case 97:case 114:case 96:case 143:case 25:case 52:case 58:case 59:break;default:if(C_(n))break;return}n=aQ(n.getFullStart(),t)}}function bQ(e,t,n){return Ade.getRangeOfEnclosingComment(e,t,void 0,n)}function xQ(e,t){return!!gc(tQ(e,t),yP)}function kQ(e,t){return 1===e.kind?!!e.jsDoc:0!==e.getWidth(t)}function SQ(e,t=0){const n=[],r=mu(e)?_c(e)&~t:0;return 2&r&&n.push("private"),4&r&&n.push("protected"),1&r&&n.push("public"),(256&r||CN(e))&&n.push("static"),64&r&&n.push("abstract"),32&r&&n.push("export"),65536&r&&n.push("deprecated"),33554432&e.flags&&n.push("declare"),277===e.kind&&n.push("export"),n.length>0?n.join(","):""}function TQ(e){return 183===e.kind||213===e.kind?e.typeArguments:c_(e)||263===e.kind||264===e.kind?e.typeParameters:void 0}function CQ(e){return 2===e||3===e}function wQ(e){return!(11!==e&&14!==e&&!Jl(e))}function DQ(e,t,n){return!!(4&t.flags)&&e.isEmptyAnonymousObjectType(n)}function NQ(e){if(!e.isIntersection())return!1;const{types:t,checker:n}=e;return 2===t.length&&(DQ(n,t[0],t[1])||DQ(n,t[1],t[0]))}function FQ(e,t,n){return Jl(e.kind)&&e.getStart(n)<t&&t<e.end||!!e.isUnterminated&&t===e.end}function EQ(e){switch(e){case 125:case 123:case 124:return!0}return!1}function PQ(e){const t=We(e);return tj(t,e&&e.configFile),t}function AQ(e){if(209===e.kind||210===e.kind){if(226===e.parent.kind&&e.parent.left===e&&64===e.parent.operatorToken.kind)return!0;if(250===e.parent.kind&&e.parent.initializer===e)return!0;if(AQ(303===e.parent.kind?e.parent.parent:e.parent))return!0}return!1}function IQ(e,t){return LQ(e,t,!0)}function OQ(e,t){return LQ(e,t,!1)}function LQ(e,t,n){const r=bQ(e,t,void 0);return!!r&&n===DX.test(e.text.substring(r.pos,r.end))}function jQ(e,t){if(e)switch(e.kind){case 11:case 15:return MQ(e,t);default:return RQ(e)}}function RQ(e,t,n){return Qs(e.getStart(t),(n||e).getEnd())}function MQ(e,t){let n=e.getEnd()-1;if(e.isUnterminated){if(e.getStart()===n)return;n=Math.min(t,e.getEnd())}return Qs(e.getStart()+1,n)}function BQ(e,t){return Rb(e.getStart(t),e.end)}function JQ(e){return Qs(e.pos,e.end)}function zQ(e){return Rb(e.start,e.start+e.length)}function qQ(e,t,n){return VQ(Xs(e,t),n)}function VQ(e,t){return{span:e,newText:t}}var UQ=[133,131,163,136,97,140,143,146,106,150,151,148,154,155,114,112,116,157,158,159];function WQ(e){return w(UQ,e)}function $Q(e){return 156===e.kind}function HQ(e){return $Q(e)||tN(e)&&"type"===e.text}function KQ(){const e=[];return t=>{const n=rJ(t);return!e[n]&&(e[n]=!0)}}function GQ(e){return e.getText(0,e.getLength())}function XQ(e,t){let n="";for(let r=0;r<t;r++)n+=e;return n}function QQ(e){return e.isTypeParameter()&&e.getConstraint()||e}function ZQ(e){return 167===e.kind?Jh(e.expression)?e.expression.text:void 0:nN(e)?xc(e):$h(e)}function YQ(e){return e.getSourceFiles().some(t=>!(t.isDeclarationFile||e.isSourceFileFromExternalLibrary(t)||!t.externalModuleIndicator&&!t.commonJsModuleIndicator))}function eZ(e){return e.getSourceFiles().some(t=>!t.isDeclarationFile&&!e.isSourceFileFromExternalLibrary(t)&&!!t.externalModuleIndicator)}function tZ(e){return!!e.module||Sk(e)>=2||!!e.noEmit}function nZ(e,t){return{fileExists:t=>e.fileExists(t),getCurrentDirectory:()=>t.getCurrentDirectory(),readFile:Ke(t,t.readFile),useCaseSensitiveFileNames:Ke(t,t.useCaseSensitiveFileNames)||e.useCaseSensitiveFileNames,getSymlinkCache:Ke(t,t.getSymlinkCache)||e.getSymlinkCache,getModuleSpecifierCache:Ke(t,t.getModuleSpecifierCache),getPackageJsonInfoCache:()=>{var t;return null==(t=e.getModuleResolutionCache())?void 0:t.getPackageJsonInfoCache()},getGlobalTypingsCacheLocation:Ke(t,t.getGlobalTypingsCacheLocation),redirectTargetsMap:e.redirectTargetsMap,getProjectReferenceRedirect:t=>e.getProjectReferenceRedirect(t),isSourceOfProjectReferenceRedirect:t=>e.isSourceOfProjectReferenceRedirect(t),getNearestAncestorDirectoryWithPackageJson:Ke(t,t.getNearestAncestorDirectoryWithPackageJson),getFileIncludeReasons:()=>e.getFileIncludeReasons(),getCommonSourceDirectory:()=>e.getCommonSourceDirectory(),getDefaultResolutionModeForFile:t=>e.getDefaultResolutionModeForFile(t),getModeForResolutionAtIndex:(t,n)=>e.getModeForResolutionAtIndex(t,n)}}function rZ(e,t){return __spreadProps(__spreadValues({},nZ(e,t)),{getCommonSourceDirectory:()=>e.getCommonSourceDirectory()})}function iZ(e){return 2===e||e>=3&&e<=99||100===e}function oZ(e,t,n,r,i){return _w.createImportDeclaration(void 0,e||t?_w.createImportClause(!!i,e,t&&t.length?_w.createNamedImports(t):void 0):void 0,"string"==typeof n?aZ(n,r):n,void 0)}function aZ(e,t){return _w.createStringLiteral(e,0===t)}var sZ=(e=>(e[e.Single=0]="Single",e[e.Double=1]="Double",e))(sZ||{});function cZ(e,t){return $m(e,t)?1:0}function lZ(e,t){if(t.quotePreference&&"auto"!==t.quotePreference)return"single"===t.quotePreference?0:1;{const t=Am(e)&&e.imports&&k(e.imports,e=>MD(e)&&!iy(e.parent));return t?cZ(t,e):1}}function _Z(e){switch(e){case 0:return"'";case 1:return'"';default:return fn.assertNever(e)}}function uZ(e){const t=dZ(e);return void 0===t?void 0:bc(t)}function dZ(e){return"default"!==e.escapedName?e.escapedName:g(e.declarations,e=>{const t=Ec(e);return t&&80===t.kind?t.escapedText:void 0})}function pZ(e){return zu(e)&&(LE(e.parent)||gE(e.parent)||WP(e.parent)||Bm(e.parent,!1)&&e.parent.arguments[0]===e||ff(e.parent)&&e.parent.arguments[0]===e)}function fZ(e){return iF(e)&&nF(e.parent)&&tN(e.name)&&!e.propertyName}function mZ(e,t){const n=e.getTypeAtLocation(t.parent);return n&&e.getPropertyOfType(n,t.name.text)}function gZ(e,t,n){if(e)for(;e.parent;){if(nP(e.parent)||!hZ(n,e.parent,t))return e;e=e.parent}}function hZ(e,t,n){return js(e,t.getStart(n))&&t.getEnd()<=Os(e)}function yZ(e,t){return bI(e)?k(e.modifiers,e=>e.kind===t):void 0}function vZ(e,t,n,r,i){var o;const a=243===(et(n)?n[0]:n).kind?Um:Dp,s=F(t.statements,a),{comparer:c,isSorted:l}=h_e.getOrganizeImportsStringComparerWithDetection(s,i),_=et(n)?pe(n,(e,t)=>h_e.compareImportsOrRequireStatements(e,t,c)):[n];if(null==s?void 0:s.length)if(fn.assert(Am(t)),s&&l)for(const u of _){const n=h_e.getImportDeclarationInsertionIndex(s,u,c);if(0===n){const n=s[0]===t.statements[0]?{leadingTriviaOption:rde.LeadingTriviaOption.Exclude}:{};e.insertNodeBefore(t,s[0],u,!1,n)}else{const r=s[n-1];e.insertNodeAfter(t,r,u)}}else{const n=xe(s);n?e.insertNodesAfter(t,n,_):e.insertNodesAtTopOfFile(t,_,r)}else if(Am(t))e.insertNodesAtTopOfFile(t,_,r);else for(const u of _)e.insertStatementsInNewFile(t.fileName,[u],null==(o=mc(u))?void 0:o.getSourceFile())}function bZ(e,t){return fn.assert(e.isTypeOnly),ot(e.getChildAt(0,t),$Q)}function xZ(e,t){return!!e&&!!t&&e.start===t.start&&e.length===t.length}function kZ(e,t,n){return(n?bt:vt)(e.fileName,t.fileName)&&xZ(e.textSpan,t.textSpan)}function SZ(e){return(t,n)=>kZ(t,n,e)}function TZ(e,t){if(e)for(let n=0;n<e.length;n++)if(e.indexOf(e[n])===n){const r=t(e[n],n);if(r)return r}}function CZ(e,t,n){for(let r=t;r<n;r++)if(!Ha(e.charCodeAt(r)))return!1;return!0}function wZ(e,t,n){const r=t.tryGetSourcePosition(e);return r&&(!n||n(Wo(r.fileName))?r:void 0)}function DZ(e,t,n){const{fileName:r,textSpan:i}=e,o=wZ({fileName:r,pos:i.start},t,n);if(!o)return;const a=wZ({fileName:r,pos:i.start+i.length},t,n),s=a?a.pos-o.pos:i.length;return{fileName:o.fileName,textSpan:{start:o.pos,length:s},originalFileName:e.fileName,originalTextSpan:e.textSpan,contextSpan:NZ(e,t,n),originalContextSpan:e.contextSpan}}function NZ(e,t,n){const r=e.contextSpan&&wZ({fileName:e.fileName,pos:e.contextSpan.start},t,n),i=e.contextSpan&&wZ({fileName:e.fileName,pos:e.contextSpan.start+e.contextSpan.length},t,n);return r&&i?{start:r.pos,length:i.pos-r.pos}:void 0}function FZ(e){return!!gc(e.declarations?he(e.declarations):void 0,e=>!!vN(e)||!(iF(e)||nF(e)||rF(e))&&"quit")}var EZ=function(){const e=10*Gu;let t,n,r,i;c();const o=e=>s(e,17);return{displayParts:()=>{const n=t.length&&t[t.length-1].text;return i>e&&n&&"..."!==n&&(Ha(n.charCodeAt(n.length-1))||t.push(PZ(" ",16)),t.push(PZ("...",15))),t},writeKeyword:e=>s(e,5),writeOperator:e=>s(e,12),writePunctuation:e=>s(e,15),writeTrailingSemicolon:e=>s(e,15),writeSpace:e=>s(e,16),writeStringLiteral:e=>s(e,8),writeParameter:e=>s(e,13),writeProperty:e=>s(e,14),writeLiteral:e=>s(e,8),writeSymbol:function(n,r){i>e||(a(),i+=n.length,t.push(function(e,t){return PZ(e,n(t));function n(e){const t=e.flags;return 3&t?FZ(e)?13:9:4&t||32768&t||65536&t?14:8&t?19:16&t?20:32&t?1:64&t?4:384&t?2:1536&t?11:8192&t?10:262144&t?18:524288&t||2097152&t?0:17}}(n,r)))},writeLine:function(){i>e||(i+=1,t.push(HZ()),n=!0)},write:o,writeComment:o,getText:()=>"",getTextPos:()=>0,getColumn:()=>0,getLine:()=>0,isAtStartOfLine:()=>!1,hasTrailingWhitespace:()=>!1,hasTrailingComment:()=>!1,rawWrite:ft,getIndent:()=>r,increaseIndent:()=>{r++},decreaseIndent:()=>{r--},clear:c};function a(){if(!(i>e)&&n){const e=jy(r);e&&(i+=e.length,t.push(PZ(e,16))),n=!1}}function s(n,r){i>e||(a(),i+=n.length,t.push(PZ(n,r)))}function c(){t=[],n=!0,r=0,i=0}}();function PZ(e,t){return{text:e,kind:BG[t]}}function AZ(){return PZ(" ",16)}function IZ(e){return PZ(Oa(e),5)}function OZ(e){return PZ(Oa(e),15)}function LZ(e){return PZ(Oa(e),12)}function jZ(e){return PZ(e,13)}function RZ(e){return PZ(e,14)}function MZ(e){const t=La(e);return void 0===t?BZ(e):IZ(t)}function BZ(e){return PZ(e,17)}function JZ(e){return PZ(e,0)}function zZ(e){return PZ(e,18)}function qZ(e){return PZ(e,24)}function VZ(e){return PZ(e,22)}function UZ(e,t){var n;const r=[VZ(`{@${sP(e)?"link":cP(e)?"linkcode":"linkplain"} `)];if(e.name){const i=null==t?void 0:t.getSymbolAtLocation(e.name),o=i&&t?eY(i,t):void 0,a=function(e){let t=e.indexOf("://");if(0===t){for(;t<e.length&&124!==e.charCodeAt(t);)t++;return t}if(0===e.indexOf("()"))return 2;if("<"===e.charAt(0)){let t=0,n=0;for(;n<e.length;)if("<"===e[n]&&t++,">"===e[n]&&t--,n++,!t)return n}return 0}(e.text),s=ep(e.name)+e.text.slice(0,a),c=function(e){let t=0;if(124===e.charCodeAt(t++)){for(;t<e.length&&32===e.charCodeAt(t);)t++;return e.slice(t)}return e}(e.text.slice(a)),l=(null==o?void 0:o.valueDeclaration)||(null==(n=null==o?void 0:o.declarations)?void 0:n[0]);if(l)r.push(function(e,t){return{text:e,kind:BG[23],target:{fileName:Sd(t).fileName,textSpan:RQ(t)}}}(s,l)),c&&r.push(qZ(c));else{const t=0===a||124===e.text.charCodeAt(a)&&32!==s.charCodeAt(s.length-1)?" ":"";r.push(qZ(s+t+c))}}else e.text&&r.push(qZ(e.text));return r.push(VZ("}")),r}var WZ="\n";function $Z(e,t){var n;return(null==t?void 0:t.newLineCharacter)||(null==(n=e.getNewLine)?void 0:n.call(e))||WZ}function HZ(){return PZ("\n",6)}function KZ(e){try{return e(EZ),EZ.displayParts()}finally{EZ.clear()}}function GZ(e,t,n,r=0){return KZ(i=>{e.writeType(t,n,17408|r,i)})}function XZ(e,t,n,r,i=0){return KZ(o=>{e.writeSymbol(t,n,r,8|i,o)})}function QZ(e,t,n,r=0){return r|=25632,KZ(i=>{e.writeSignature(t,n,r,void 0,i)})}function ZZ(e){return!!e.parent&&Vl(e.parent)&&e.parent.propertyName===e}function YZ(e,t){return CS(e,t.getScriptKind&&t.getScriptKind(e))}function eY(e,t){let n=e;for(;tY(n)||ed(n)&&n.links.target;)n=ed(n)&&n.links.target?n.links.target:_x(n,t);return n}function tY(e){return!!(2097152&e.flags)}function nY(e,t){return iJ(_x(e,t))}function rY(e,t){for(;Ha(e.charCodeAt(t));)t+=1;return t}function iY(e,t){for(;t>-1&&Ka(e.charCodeAt(t));)t-=1;return t+1}function oY(e,t=!0){const n=e&&sY(e);return n&&!t&&_Y(n),OT(n,!1)}function aY(e,t,n){let r=n(e);return r?dw(r,e):r=sY(e,n),r&&!t&&_Y(r),r}function sY(e,t){const n=t?e=>aY(e,!0,t):oY,r=SJ(e,n,void 0,t?e=>e&&lY(e,!0,t):e=>e&&cY(e),n);return r===e?vI(MD(e)?dw(_w.createStringLiteralFromNode(e),e):jD(e)?dw(_w.createNumericLiteral(e.text,e.numericLiteralFlags),e):_w.cloneNode(e),e):(r.parent=void 0,r)}function cY(e,t=!0){if(e){const n=_w.createNodeArray(e.map(e=>oY(e,t)),e.hasTrailingComma);return vI(n,e),n}return e}function lY(e,t,n){return _w.createNodeArray(e.map(e=>aY(e,t,n)),e.hasTrailingComma)}function _Y(e){uY(e),dY(e)}function uY(e){fY(e,1024,mY)}function dY(e){fY(e,2048,Tx)}function pY(e,t){const n=e.getSourceFile();!function(e,t){const n=e.getFullStart(),r=e.getStart();for(let i=n;i<r;i++)if(10===t.charCodeAt(i))return!0;return!1}(e,n.text)?bY(e,t,n):yY(e,t,n),vY(e,t,n)}function fY(e,t,n){hw(e,t);const r=n(e);r&&fY(r,t,n)}function mY(e){return e.forEachChild(e=>e)}function gY(e,t){let n=e;for(let r=1;!Ed(t,n);r++)n=`${e}_${r}`;return n}function hY(e,t,n,r){let i=0,o=-1;for(const{fileName:a,textChanges:s}of e){fn.assert(a===t);for(const e of s){const{span:t,newText:a}=e,s=kY(a,Cy(n));if(-1!==s&&(o=t.start+i+s,!r))return o;i+=a.length-t.length}}return fn.assert(r),fn.assert(o>=0),o}function yY(e,t,n,r,i){_s(n.text,e.pos,xY(t,n,r,i,Ew))}function vY(e,t,n,r,i){us(n.text,e.end,xY(t,n,r,i,Iw))}function bY(e,t,n,r,i){us(n.text,e.pos,xY(t,n,r,i,Ew))}function xY(e,t,n,r,i){return(o,a,s,c)=>{3===s?(o+=2,a-=2):o+=2,i(e,n||s,t.text.slice(o,a),void 0!==r?r:c)}}function kY(e,t){if(Zt(e,t))return 0;let n=e.indexOf(" "+t);return-1===n&&(n=e.indexOf("."+t)),-1===n&&(n=e.indexOf('"'+t)),-1===n?-1:n+1}function SY(e){return kF(e)&&28===e.operatorToken.kind||aF(e)||(EF(e)||PF(e))&&aF(e.expression)}function TY(e,t,n){const r=sh(e.parent);switch(r.kind){case 214:return t.getContextualType(r,n);case 226:{const{left:i,operatorToken:o,right:a}=r;return wY(o.kind)?t.getTypeAtLocation(e===a?i:a):t.getContextualType(e,n)}case 296:return FY(r,t);default:return t.getContextualType(e,n)}}function CY(e,t,n){const r=lZ(e,t),i=JSON.stringify(n);return 0===r?`'${Iy(i).replace(/'/g,()=>"\\'").replace(/\\"/g,'"')}'`:i}function wY(e){switch(e){case 37:case 35:case 38:case 36:return!0;default:return!1}}function DY(e){switch(e.kind){case 11:case 15:case 228:case 215:return!0;default:return!1}}function NY(e){return!!e.getStringIndexType()||!!e.getNumberIndexType()}function FY(e,t){return t.getTypeAtLocation(e.parent.parent.expression)}var EY="anonymous function";function PY(e,t,n,r){const i=n.getTypeChecker();let o=!0;const a=()=>o=!1,s=i.typeToTypeNode(e,t,1,8,{trackSymbol:(e,t,n)=>(o=o&&0===i.isSymbolAccessible(e,t,n,!1).accessibility,!o),reportInaccessibleThisError:a,reportPrivateInBaseOfClassExpression:a,reportInaccessibleUniqueSymbolError:a,moduleResolverHost:rZ(n,r)});return o?s:void 0}function AY(e){return 179===e||180===e||181===e||171===e||173===e}function IY(e){return 262===e||176===e||174===e||177===e||178===e}function OY(e){return 267===e}function LY(e){return 243===e||244===e||246===e||251===e||252===e||253===e||257===e||259===e||172===e||265===e||272===e||271===e||278===e||270===e||277===e}var jY=rn(AY,IY,OY,LY);function RY(e,t,n){const r=gc(t,t=>t.end!==e?"quit":jY(t.kind));return!!r&&function(e,t){const n=e.getLastToken(t);if(n&&27===n.kind)return!1;if(AY(e.kind)){if(n&&28===n.kind)return!1}else if(OY(e.kind)){const n=ke(e.getChildren(t));if(n&&dE(n))return!1}else if(IY(e.kind)){const n=ke(e.getChildren(t));if(n&&Vf(n))return!1}else if(!LY(e.kind))return!1;if(246===e.kind)return!0;const r=oQ(e,gc(e,e=>!e.parent),t);return!r||20===r.kind||t.getLineAndCharacterOfPosition(e.getEnd()).line!==t.getLineAndCharacterOfPosition(r.getStart(t)).line}(r,n)}function MY(e){let t=0,n=0;return KI(e,function r(i){if(LY(i.kind)){const r=i.getLastToken(e);27===(null==r?void 0:r.kind)?t++:n++}else if(AY(i.kind)){const r=i.getLastToken(e);27===(null==r?void 0:r.kind)?t++:r&&28!==r.kind&&$a(e,r.getStart(e)).line!==$a(e,Yp(e,r.end).start).line&&n++}return t+n>=5||KI(i,r)}),0===t&&n<=1||t/n>.2}function BY(e,t){return UY(e,e.getDirectories,t)||[]}function JY(e,t,n,r,i){return UY(e,e.readDirectory,t,n,r,i)||u}function zY(e,t){return UY(e,e.fileExists,t)}function qY(e,t){return VY(()=>Ib(t,e))||!1}function VY(e){try{return e()}catch(t){return}}function UY(e,t,...n){return VY(()=>t&&t.apply(e,n))}function WY(e,t){const n=[];return NM(t,e,e=>{const r=zo(e,"package.json");zY(t,r)&&n.push(r)}),n}function $Y(e,t){let n;return NM(t,e,e=>"node_modules"===e||(n=qV(e,e=>zY(t,e),"package.json"),!!n||void 0)),n}function HY(e,t){if(!t.readFile)return;const n=["dependencies","devDependencies","optionalDependencies","peerDependencies"],r=Ab(t.readFile(e)||""),i={};if(r)for(const s of n){const e=r[s];if(!e)continue;const t=new Map;for(const n in e)t.set(n,e[n]);i[s]=t}const o=[[1,i.dependencies],[2,i.devDependencies],[8,i.optionalDependencies],[4,i.peerDependencies]];return __spreadProps(__spreadValues({},i),{parseable:!!r,fileName:e,get:a,has:(e,t)=>!!a(e,t)});function a(e,t=15){for(const[n,r]of o)if(r&&t&n){const t=r.get(e);if(void 0!==t)return t}}}function KY(e,t,n){const r=(n.getPackageJsonsVisibleToFile&&n.getPackageJsonsVisibleToFile(e.fileName)||function(e,t){if(!t.fileExists)return[];const n=[];return NM(t,Io(e),e=>{const r=zo(e,"package.json");if(t.fileExists(r)){const e=HY(r,t);e&&n.push(e)}}),n}(e.fileName,n)).filter(e=>e.parseable);let i,o,a;return{allowsImportingAmbientModule:function(e,t){if(!r.length||!e.valueDeclaration)return!0;if(o){const t=o.get(e);if(void 0!==t)return t}else o=new Map;const n=Iy(e.getName());if(c(n))return o.set(e,!0),!0;const i=l(e.valueDeclaration.getSourceFile().fileName,t);if(void 0===i)return o.set(e,!0),!0;const a=s(i)||s(n);return o.set(e,a),a},getSourceFileInfo:function(e,t){if(!r.length)return{importable:!0,packageName:void 0};if(a){const t=a.get(e);if(void 0!==t)return t}else a=new Map;const n=l(e.fileName,t);if(!n){const t={importable:!0,packageName:n};return a.set(e,t),t}const i={importable:s(n),packageName:n};return a.set(e,i),i},allowsImportingSpecifier:function(e){return!(r.length&&!c(e))||!(!To(e)&&!xo(e))||s(e)}};function s(e){const t=_(e);for(const n of r)if(n.has(t)||n.has(OM(t)))return!0;return!1}function c(t){return!!(Am(e)&&Im(e)&&AC.has(t)&&(void 0===i&&(i=GY(e)),i))}function l(r,i){if(!r.includes("node_modules"))return;const o=aB.getNodeModulesPackageName(n.getCompilationSettings(),e,r,i,t);return o?To(o)||xo(o)?void 0:_(o):void 0}function _(e){const t=Ro(jM(e)).slice(1);return Zt(t[0],"@")?`${t[0]}/${t[1]}`:t[0]}}function GY(e){return K(e.imports,({text:e})=>AC.has(e))}function XY(e){return w(Ro(e),"node_modules")}function QY(e){return void 0!==e.file&&void 0!==e.start&&void 0!==e.length}function ZY(e,t){const n=Ne(t,RQ(e),_t,St);if(n>=0){const r=t[n];return fn.assertEqual(r.file,e.getSourceFile(),"Diagnostics proided to 'findDiagnosticForNode' must be from a single SourceFile"),ot(r,QY)}}function YY(e,t){var n;let r=Ne(t,e.start,e=>e.start,kt);for(r<0&&(r=~r);(null==(n=t[r-1])?void 0:n.start)===e.start;)r--;const i=[],o=Os(e);for(;;){const n=it(t[r],QY);if(!n||n.start>o)break;Ms(e,n)&&i.push(n),r++}return i}function e0({startPosition:e,endPosition:t}){return Qs(e,void 0===t?e:t)}function t0(e,t){return gc(tQ(e,t.start),n=>n.getStart(e)<t.start||n.getEnd()>Os(t)?"quit":G_(n)&&xZ(t,RQ(n,e)))}function n0(e,t,n=_t){return e?et(e)?n(A(e,t)):t(e,0):void 0}function r0(e){return et(e)?ve(e):e}function i0(e,t,n){return"export="===e.escapedName||"default"===e.escapedName?o0(e)||a0(function(e){var t;return fn.checkDefined(e.parent,`Symbol parent was undefined. Flags: ${fn.formatSymbolFlags(e.flags)}. Declarations: ${null==(t=e.declarations)?void 0:t.map(e=>{const t=fn.formatSyntaxKind(e.kind),n=Om(e),{expression:r}=e;return(n?"[JS]":"")+t+(r?` (expression: ${fn.formatSyntaxKind(r.kind)})`:"")}).join(", ")}.`)}(e),t,!!n):e.name}function o0(e){return g(e.declarations,t=>{var n,r,i;if(DE(t))return null==(n=it(kA(t.expression),tN))?void 0:n.text;if(EE(t)&&2097152===t.symbol.flags)return null==(r=it(t.propertyName,tN))?void 0:r.text;const o=null==(i=it(Ec(t),tN))?void 0:i.text;return o||(e.parent&&!td(e.parent)?e.parent.getName():void 0)})}function a0(e,t,n){return s0(KS(Iy(e.name)),t,n)}function s0(e,t,n){const r=Oo(zt(KS(e),"/index"));let i="",o=!0;const a=r.charCodeAt(0);ys(a,t)?(i+=String.fromCharCode(a),n&&(i=i.toUpperCase())):o=!1;for(let s=1;s<r.length;s++){const e=r.charCodeAt(s),n=vs(e,t);if(n){let t=String.fromCharCode(e);o||(t=t.toUpperCase()),i+=t}o=n}return Oh(i)?`_${i}`:i||"_"}function c0(e,t,n){const r=t.length;if(r+n>e.length)return!1;for(let i=0;i<r;i++)if(t.charCodeAt(i)!==e.charCodeAt(i+n))return!1;return!0}function l0(e){return 95===e.charCodeAt(0)}function _0(e){return!!(65536&_c(e))}function u0(e,t){let n;for(const r of e.imports)if(AC.has(r.text)&&!PC.has(r.text)){if(Zt(r.text,"node:"))return!0;n=!1}return null!=n?n:t.usesUriStyleNodeCoreModules}function d0(e){return"\n"===e?1:0}function p0(e){return et(e)?$x(Gx(e[0]),e.slice(1)):Gx(e)}function f0({options:e},t){const n=!e.semicolons||"ignore"===e.semicolons,r="remove"===e.semicolons||n&&!MY(t);return __spreadProps(__spreadValues({},e),{semicolons:r?"remove":"ignore"})}function m0(e){return 2===e||3===e}function g0(e,t){return e.isSourceFileFromExternalLibrary(t)||e.isSourceFileDefaultLibrary(t)}function h0(e,t){const n=new Set,r=new Set,i=new Set;for(const a of t)if(!GE(a)){const t=_h(a.expression);if(Ml(t))switch(t.kind){case 15:case 11:n.add(t.text);break;case 9:r.add(parseInt(t.text));break;case 10:const e=kT(Jt(t.text,"n")?t.text.slice(0,-1):t.text);e&&i.add(xT(e))}else{const t=e.getSymbolAtLocation(a.expression);if(t&&t.valueDeclaration&&tP(t.valueDeclaration)){const n=e.getConstantValue(t.valueDeclaration);void 0!==n&&o(n)}}}return{addValue:o,hasValue:function(e){switch(typeof e){case"string":return n.has(e);case"number":return r.has(e);case"object":return i.has(xT(e))}}};function o(e){switch(typeof e){case"string":n.add(e);break;case"number":r.add(e)}}}function y0(e,t,n,r){var i;if(!BS("string"==typeof e?e:e.fileName))return!1;const o="string"==typeof e?t.getCompilerOptions():t.getCompilerOptionsForFile(e),a=Tk(o),s=zU("string"==typeof e?{fileName:e,impliedNodeFormat:LU(Ko(e,n.getCurrentDirectory(),zy(n)),null==(i=t.getPackageJsonInfoCache)?void 0:i.call(t),n,o)}:e,o);if(99===s)return!1;if(1===s)return!0;if(o.verbatimModuleSyntax&&1===a)return!0;if(o.verbatimModuleSyntax&&Bk(a))return!1;if("object"==typeof e){if(e.commonJsModuleIndicator)return!0;if(e.externalModuleIndicator)return!1}return r}function v0(e){switch(e.kind){case 241:case 307:case 268:case 296:return!0;default:return!1}}function b0(e,t,n,r){var i;const o=jU(e,null==(i=n.getPackageJsonInfoCache)?void 0:i.call(n),r,n.getCompilerOptions());let a,s;return"object"==typeof o&&(a=o.impliedNodeFormat,s=o.packageJsonScope),{path:Ko(e,n.getCurrentDirectory(),n.getCanonicalFileName),fileName:e,externalModuleIndicator:99===t||void 0,commonJsModuleIndicator:1===t||void 0,impliedNodeFormat:a,packageJsonScope:s,statements:u,imports:u}}var x0=(e=>(e[e.Named=0]="Named",e[e.Default=1]="Default",e[e.Namespace=2]="Namespace",e[e.CommonJS=3]="CommonJS",e))(x0||{}),k0=(e=>(e[e.Named=0]="Named",e[e.Default=1]="Default",e[e.ExportEquals=2]="ExportEquals",e[e.UMD=3]="UMD",e[e.Module=4]="Module",e))(k0||{});function S0(e){let t=1;const n=Ge(),r=new Map,i=new Map;let o;const a={isUsableByFile:e=>e===o,isEmpty:()=>!n.size,clear:()=>{n.clear(),r.clear(),o=void 0},add:(e,s,c,l,_,u,d,p)=>{let f;if(e!==o&&(a.clear(),o=e),_){const t=KT(_.fileName);if(t){const{topLevelNodeModulesIndex:n,topLevelPackageNameIndex:r,packageRootIndex:o}=t;if(f=RM(jM(_.fileName.substring(r+1,o))),Zt(e,_.path.substring(0,n))){const e=i.get(f),t=_.fileName.substring(0,r+1);e?n>e.indexOf(ZR)&&i.set(f,t):i.set(f,t)}}}const m=1===u&&Tb(s)||s,g=0===u||td(m)?bc(c):function(e,t,n){let r;return O0(e,t,n,(e,t)=>(r=t?[e,t]:e,!0)),fn.checkDefined(r)}(m,p,void 0),h="string"==typeof g?g:g[0],y="string"==typeof g?void 0:g[1],v=Iy(l.name),b=t++,x=_x(s,p),k=33554432&s.flags?void 0:s,S=33554432&l.flags?void 0:l;k&&S||r.set(b,[s,l]),n.add(function(e,t,n,r){const i=n||"";return`${e.length} ${iJ(_x(t,r))} ${e} ${i}`}(h,s,Es(v)?void 0:v,p),{id:b,symbolTableKey:c,symbolName:h,capitalizedSymbolName:y,moduleName:v,moduleFile:_,moduleFileName:null==_?void 0:_.fileName,packageName:f,exportKind:u,targetFlags:x.flags,isFromPackageJson:d,symbol:k,moduleSymbol:S})},get:(e,t)=>{if(e!==o)return;const r=n.get(t);return null==r?void 0:r.map(s)},search:(t,r,a,c)=>{if(t===o)return sd(n,(t,n)=>{const{symbolName:o,ambientModuleName:l}=function(e){const t=e.indexOf(" "),n=e.indexOf(" ",t+1),r=parseInt(e.substring(0,t),10),i=e.substring(n+1),o=i.substring(0,r),a=i.substring(r+1),s=""===a?void 0:a;return{symbolName:o,ambientModuleName:s}}(n),_=r&&t[0].capitalizedSymbolName||o;if(a(_,t[0].targetFlags)){const r=t.map(s).filter((n,r)=>function(t,n){if(!n||!t.moduleFileName)return!0;const r=e.getGlobalTypingsCacheLocation();if(r&&Zt(t.moduleFileName,r))return!0;const o=i.get(n);return!o||Zt(t.moduleFileName,o)}(n,t[r].packageName));if(r.length){const e=c(r,_,!!l,n);if(void 0!==e)return e}}})},releaseSymbols:()=>{r.clear()},onFileChanged:(e,t,n)=>!(c(e)&&c(t)||(o&&o!==t.path||n&&GY(e)!==GY(t)||!ie(e.moduleAugmentations,t.moduleAugmentations)||!function(e,t){if(!ie(e.ambientModuleNames,t.ambientModuleNames))return!1;let n=-1,r=-1;for(const i of t.ambientModuleNames){const o=e=>fp(e)&&e.name.text===i;if(n=T(e.statements,o,n+1),r=T(t.statements,o,r+1),e.statements[n]!==t.statements[r])return!1}return!0}(e,t)?(a.clear(),0):(o=t.path,1)))};return fn.isDebugging&&Object.defineProperty(a,"__cache",{value:n}),a;function s(t){if(t.symbol&&t.moduleSymbol)return t;const{id:n,exportKind:i,targetFlags:o,isFromPackageJson:a,moduleFileName:s}=t,[c,l]=r.get(n)||u;if(c&&l)return{symbol:c,moduleSymbol:l,moduleFileName:s,exportKind:i,targetFlags:o,isFromPackageJson:a};const _=(a?e.getPackageJsonAutoImportProvider():e.getCurrentProgram()).getTypeChecker(),d=t.moduleSymbol||l||fn.checkDefined(t.moduleFile?_.getMergedSymbol(t.moduleFile.symbol):_.tryFindAmbientModule(t.moduleName)),p=t.symbol||c||fn.checkDefined(2===i?_.resolveExternalModuleSymbol(d):_.tryGetMemberInModuleExportsAndProperties(bc(t.symbolTableKey),d),`Could not find symbol '${t.symbolName}' by key '${t.symbolTableKey}' in module ${d.name}`);return r.set(n,[p,d]),{symbol:p,moduleSymbol:d,moduleFileName:s,exportKind:i,targetFlags:o,isFromPackageJson:a}}function c(e){return!(e.commonJsModuleIndicator||e.externalModuleIndicator||e.moduleAugmentations||e.ambientModuleNames)}}function T0(e,t,n,r,i,o,a,s){var c;if(!n){let n;const i=Iy(r.name);return AC.has(i)&&void 0!==(n=u0(t,e))?n===Zt(i,"node:"):!o||o.allowsImportingAmbientModule(r,a)||C0(t,i)}if(fn.assertIsDefined(n),t===n)return!1;const l=null==s?void 0:s.get(t.path,n.path,i,{});if(void 0!==(null==l?void 0:l.isBlockedByPackageJsonDependencies))return!l.isBlockedByPackageJsonDependencies||!!l.packageName&&C0(t,l.packageName);const _=zy(a),u=null==(c=a.getGlobalTypingsCacheLocation)?void 0:c.call(a),d=!!aB.forEachFileNameOfModule(t.fileName,n.fileName,a,!1,r=>{const i=e.getSourceFile(r);return(i===n||!i)&&function(e,t,n,r,i){const o=NM(i,t,e=>"node_modules"===Oo(e)?e:void 0),a=o&&Io(n(o));return void 0===a||Zt(n(e),a)||!!r&&Zt(n(r),a)}(t.fileName,r,_,u,a)});if(o){const e=d?o.getSourceFileInfo(n,a):void 0;return null==s||s.setBlockedByPackageJsonDependencies(t.path,n.path,i,{},null==e?void 0:e.packageName,!(null==e?void 0:e.importable)),!!(null==e?void 0:e.importable)||d&&!!(null==e?void 0:e.packageName)&&C0(t,e.packageName)}return d}function C0(e,t){return e.imports&&e.imports.some(e=>e.text===t||e.text.startsWith(t+"/"))}function w0(e,t,n,r,i){var o,a;const s=Jy(t),c=n.autoImportFileExcludePatterns&&D0(n,s);N0(e.getTypeChecker(),e.getSourceFiles(),c,t,(t,n)=>i(t,n,e,!1));const l=r&&(null==(o=t.getPackageJsonAutoImportProvider)?void 0:o.call(t));if(l){const n=$n(),r=e.getTypeChecker();N0(l.getTypeChecker(),l.getSourceFiles(),c,t,(t,n)=>{(n&&!e.getSourceFile(n.fileName)||!n&&!r.resolveName(t.name,void 0,1536,!1))&&i(t,n,l,!0)}),null==(a=t.log)||a.call(t,"forEachExternalModuleToImportFrom autoImportProvider: "+($n()-n))}}function D0(e,t){return z(e.autoImportFileExcludePatterns,e=>{const n=yS(e,"","exclude");return n?xS(n,t):void 0})}function N0(e,t,n,r,i){var o;const a=n&&F0(n,r);for(const s of e.getAmbientModules())s.name.includes("*")||n&&(null==(o=s.declarations)?void 0:o.every(e=>a(e.getSourceFile())))||i(s,void 0);for(const s of t)rf(s)&&!(null==a?void 0:a(s))&&i(e.getMergedSymbol(s.symbol),s)}function F0(e,t){var n;const r=null==(n=t.getSymlinkCache)?void 0:n.call(t).getSymlinkedDirectoriesByRealpath();return({fileName:n,path:i})=>{var o;if(e.some(e=>e.test(n)))return!0;if((null==r?void 0:r.size)&&YR(n)){let a=Io(n);return null!=(o=NM(t,Io(i),t=>{const i=r.get(Xo(t));if(i)return i.some(t=>e.some(e=>e.test(n.replace(a,t))));a=Io(a)}))&&o}return!1}}function E0(e,t){return t.autoImportFileExcludePatterns?F0(D0(t,Jy(e)),e):()=>!1}function P0(e,t,n,r,i){var o,a,s,c,l;const _=$n();null==(o=t.getPackageJsonAutoImportProvider)||o.call(t);const u=(null==(a=t.getCachedExportInfoMap)?void 0:a.call(t))||S0({getCurrentProgram:()=>n,getPackageJsonAutoImportProvider:()=>{var e;return null==(e=t.getPackageJsonAutoImportProvider)?void 0:e.call(t)},getGlobalTypingsCacheLocation:()=>{var e;return null==(e=t.getGlobalTypingsCacheLocation)?void 0:e.call(t)}});if(u.isUsableByFile(e.path))return null==(s=t.log)||s.call(t,"getExportInfoMap: cache hit"),u;null==(c=t.log)||c.call(t,"getExportInfoMap: cache miss or empty; calculating new results");let d=0;try{w0(n,t,r,!0,(t,n,r,o)=>{++d%100==0&&(null==i||i.throwIfCancellationRequested());const a=new Set,s=r.getTypeChecker(),c=A0(t,s);c&&I0(c.symbol,s)&&u.add(e.path,c.symbol,1===c.exportKind?"default":"export=",t,n,c.exportKind,o,s),s.forEachExportAndPropertyOfModule(t,(r,i)=>{r!==(null==c?void 0:c.symbol)&&I0(r,s)&&Cx(a,i)&&u.add(e.path,r,i,t,n,0,o,s)})})}catch(p){throw u.clear(),p}return null==(l=t.log)||l.call(t,`getExportInfoMap: done in ${$n()-_} ms`),u}function A0(e,t){const n=t.resolveExternalModuleSymbol(e);if(n!==e){const e=t.tryGetMemberInModuleExports("default",n);return e?{symbol:e,exportKind:1}:{symbol:n,exportKind:2}}const r=t.tryGetMemberInModuleExports("default",e);if(r)return{symbol:r,exportKind:1}}function I0(e,t){return!(t.isUndefinedSymbol(e)||t.isUnknownSymbol(e)||Gh(e)||Xh(e))}function O0(e,t,n,r){let i,o=e;const a=new Set;for(;o;){const e=o0(o);if(e){const t=r(e);if(t)return t}if("default"!==o.escapedName&&"export="!==o.escapedName){const e=r(o.name);if(e)return e}if(i=se(i,o),!Cx(a,o))break;o=2097152&o.flags?t.getImmediateAliasedSymbol(o):void 0}for(const s of null!=i?i:u)if(s.parent&&td(s.parent)){const e=r(a0(s.parent,n,!1),a0(s.parent,n,!0));if(e)return e}}function L0(){const e=xs(99,!1);function t(t,n,r){let i=0,o=0;const a=[],{prefix:s,pushTemplate:c}=function(e){switch(e){case 3:return{prefix:'"\\\n'};case 2:return{prefix:"'\\\n"};case 1:return{prefix:"/*\n"};case 4:return{prefix:"`\n"};case 5:return{prefix:"}\n",pushTemplate:!0};case 6:return{prefix:"",pushTemplate:!0};case 0:return{prefix:""};default:return fn.assertNever(e)}}(n);t=s+t;const l=s.length;c&&a.push(16),e.setText(t);let _=0;const u=[];let d=0;do{i=e.scan(),jh(i)||(p(),o=i);const n=e.getTokenEnd();if(B0(e.getTokenStart(),n,l,z0(i),u),n>=t.length){const t=M0(e,i,xe(a));void 0!==t&&(_=t)}}while(1!==i);function p(){switch(i){case 44:case 69:R0[o]||14!==e.reScanSlashToken()||(i=14);break;case 30:80===o&&d++;break;case 32:d>0&&d--;break;case 133:case 154:case 150:case 136:case 155:d>0&&!r&&(i=80);break;case 16:a.push(i);break;case 19:a.length>0&&a.push(i);break;case 20:if(a.length>0){const t=xe(a);16===t?(i=e.reScanTemplateToken(!1),18===i?a.pop():fn.assertEqual(i,17,"Should have been a template middle.")):(fn.assertEqual(t,19,"Should have been an open brace"),a.pop())}break;default:if(!Fh(i))break;(25===o||Fh(o)&&Fh(i)&&!function(e,t){if(!EQ(e))return!0;switch(t){case 139:case 153:case 137:case 126:case 129:return!0;default:return!1}}(o,i))&&(i=80)}}return{endOfLineState:_,spans:u}}return{getClassificationsForLine:function(e,n,r){return function(e,t){const n=[],r=e.spans;let i=0;for(let a=0;a<r.length;a+=3){const e=r[a],t=r[a+1],o=r[a+2];if(i>=0){const t=e-i;t>0&&n.push({length:t,classification:4})}n.push({length:t,classification:J0(o)}),i=e+t}const o=t.length-i;return o>0&&n.push({length:o,classification:4}),{entries:n,finalLexState:e.endOfLineState}}(t(e,n,r),e)},getEncodedLexicalClassifications:t}}var j0,R0=ze([80,11,9,10,14,110,46,47,22,24,20,112,97],e=>e,()=>!0);function M0(e,t,n){switch(t){case 11:{if(!e.isUnterminated())return;const t=e.getTokenText(),n=t.length-1;let r=0;for(;92===t.charCodeAt(n-r);)r++;if(!(1&r))return;return 34===t.charCodeAt(0)?3:2}case 3:return e.isUnterminated()?1:void 0;default:if(Jl(t)){if(!e.isUnterminated())return;switch(t){case 18:return 5;case 15:return 4;default:return fn.fail("Only 'NoSubstitutionTemplateLiteral's and 'TemplateTail's can be unterminated; got SyntaxKind #"+t)}}return 16===n?6:void 0}}function B0(e,t,n,r,i){if(8===r)return;0===e&&n>0&&(e+=n);const o=t-e;o>0&&i.push(e-n,o,r)}function J0(e){switch(e){case 1:return 3;case 3:return 1;case 4:return 6;case 25:return 7;case 5:return 2;case 6:return 8;case 8:return 4;case 10:return 0;case 2:case 11:case 12:case 13:case 14:case 15:case 16:case 9:case 17:return 5;default:return}}function z0(e){if(Fh(e))return 3;if(function(e){switch(e){case 42:case 44:case 45:case 40:case 41:case 48:case 49:case 50:case 30:case 32:case 33:case 34:case 104:case 103:case 130:case 152:case 35:case 36:case 37:case 38:case 51:case 53:case 52:case 56:case 57:case 75:case 74:case 79:case 71:case 72:case 73:case 65:case 66:case 67:case 69:case 70:case 64:case 28:case 61:case 76:case 77:case 78:return!0;default:return!1}}(e)||function(e){switch(e){case 40:case 41:case 55:case 54:case 46:case 47:return!0;default:return!1}}(e))return 5;if(e>=19&&e<=79)return 10;switch(e){case 9:return 4;case 10:return 25;case 11:return 6;case 14:return 7;case 7:case 3:case 2:return 1;case 5:case 4:return 8;default:return Jl(e)?6:2}}function q0(e,t,n,r,i){return H0(U0(e,t,n,r,i))}function V0(e,t){switch(t){case 267:case 263:case 264:case 262:case 231:case 218:case 219:e.throwIfCancellationRequested()}}function U0(e,t,n,r,i){const o=[];return n.forEachChild(function a(s){if(s&&Us(i,s.pos,s.getFullWidth())){if(V0(t,s.kind),tN(s)&&!Pd(s)&&r.has(s.escapedText)){const t=e.getSymbolAtLocation(s),r=t&&W0(t,ZG(s),e);r&&function(e,t,n){const r=t-e;fn.assert(r>0,`Classification had non-positive length of ${r}`),o.push(e),o.push(r),o.push(n)}(s.getStart(n),s.getEnd(),r)}s.forEachChild(a)}}),{spans:o,endOfLineState:0}}function W0(e,t,n){const r=e.getFlags();return 2885600&r?32&r?11:384&r?12:524288&r?16:1536&r?4&t||1&t&&function(e){return K(e.declarations,e=>uE(e)&&1===HM(e))}(e)?14:void 0:2097152&r?W0(n.getAliasedSymbol(e),t,n):2&t?64&r?13:262144&r?15:void 0:void 0:void 0}function $0(e){switch(e){case 1:return"comment";case 2:return"identifier";case 3:return"keyword";case 4:return"number";case 25:return"bigint";case 5:return"operator";case 6:return"string";case 8:return"whitespace";case 9:return"text";case 10:return"punctuation";case 11:return"class name";case 12:return"enum name";case 13:return"interface name";case 14:return"module name";case 15:return"type parameter name";case 16:return"type alias name";case 17:return"parameter name";case 18:return"doc comment tag name";case 19:return"jsx open tag name";case 20:return"jsx close tag name";case 21:return"jsx self closing tag name";case 22:return"jsx attribute";case 23:return"jsx text";case 24:return"jsx attribute string literal value";default:return}}function H0(e){fn.assert(e.spans.length%3==0);const t=e.spans,n=[];for(let r=0;r<t.length;r+=3)n.push({textSpan:Xs(t[r],t[r+1]),classificationType:$0(t[r+2])});return n}function K0(e,t,n){return H0(G0(e,t,n))}function G0(e,t,n){const r=n.start,i=n.length,o=xs(99,!1,t.languageVariant,t.text),a=xs(99,!1,t.languageVariant,t.text),s=[];return g(t),{spans:s,endOfLineState:0};function c(e,t,n){s.push(e),s.push(t),s.push(n)}function l(e,n,r,i){if(3===n){const n=rO(t.text,r,i);if(n&&n.jsDoc)return IT(n.jsDoc,e),void function(e){var t,n,r,i,o,a,s,l;let d=e.pos;if(e.tags)for(const f of e.tags){f.pos!==d&&_(d,f.pos-d),c(f.pos,1,10),c(f.tagName.pos,f.tagName.end-f.tagName.pos,18),d=f.tagName.end;let e=f.tagName.end;switch(f.kind){case 341:const c=f;p(c),e=c.isNameFirst&&(null==(t=c.typeExpression)?void 0:t.end)||c.name.end;break;case 348:const _=f;e=_.isNameFirst&&(null==(n=_.typeExpression)?void 0:n.end)||_.name.end;break;case 345:u(f),d=f.end,e=f.typeParameters.end;break;case 346:const m=f;e=309===(null==(r=m.typeExpression)?void 0:r.kind)&&(null==(i=m.fullName)?void 0:i.end)||(null==(o=m.typeExpression)?void 0:o.end)||e;break;case 338:case 343:case 340:e=f.typeExpression.end;break;case 344:g(f.typeExpression),d=f.end,e=f.typeExpression.end;break;case 342:g(f.typeExpression),d=f.end,e=(null==(a=f.typeExpression)?void 0:a.end)||e;break;case 347:e=(null==(s=f.name)?void 0:s.end)||e;break;case 328:case 329:e=f.class.end;break;case 349:g(f.typeExpression),d=f.end,e=(null==(l=f.typeExpression)?void 0:l.end)||e}"object"==typeof f.comment?_(f.comment.pos,f.comment.end-f.comment.pos):"string"==typeof f.comment&&_(e,f.end-e)}return void(d!==e.end&&_(d,e.end-d));function p(e){e.isNameFirst&&(_(d,e.name.pos-d),c(e.name.pos,e.name.end-e.name.pos,17),d=e.name.end),e.typeExpression&&(_(d,e.typeExpression.pos-d),g(e.typeExpression),d=e.typeExpression.end),e.isNameFirst||(_(d,e.name.pos-d),c(e.name.pos,e.name.end-e.name.pos,17),d=e.name.end)}}(n.jsDoc)}else if(2===n&&function(e,n){const r=/^(\/\/\/\s*)(<)(?:(\S+)((?:[^/]|\/[^>])*)(\/>)?)?/m,i=/(\s)(\S+)(\s*)(=)(\s*)('[^']+'|"[^"]+")/g,o=t.text.substr(e,n),a=r.exec(o);if(!a)return!1;if(!a[3]||!(a[3]in Mi))return!1;let s=e;_(s,a[1].length),s+=a[1].length,c(s,a[2].length,10),s+=a[2].length,c(s,a[3].length,21),s+=a[3].length;const l=a[4];let u=s;for(;;){const e=i.exec(l);if(!e)break;const t=s+e.index+e[1].length;t>u&&(_(u,t-u),u=t),c(u,e[2].length,22),u+=e[2].length,e[3].length&&(_(u,e[3].length),u+=e[3].length),c(u,e[4].length,5),u+=e[4].length,e[5].length&&(_(u,e[5].length),u+=e[5].length),c(u,e[6].length,24),u+=e[6].length}s+=a[4].length,s>u&&_(u,s-u),a[5]&&(c(s,a[5].length,10),s+=a[5].length);const d=e+n;return s<d&&_(s,d-s),!0}(r,i))return;_(r,i)}function _(e,t){c(e,t,1)}function u(e){for(const t of e.getChildren())g(t)}function d(e,t,n){let r;for(r=t;r<n&&!Ga(e.charCodeAt(r));r++);for(c(t,r-t,1),a.resetTokenState(r);a.getTokenEnd()<n;)p()}function p(){const e=a.getTokenEnd(),t=a.scan(),n=a.getTokenEnd(),r=m(t);r&&c(e,n-e,r)}function f(e){if(yP(e))return!0;if(Pd(e))return!0;const n=function(e){switch(e.parent&&e.parent.kind){case 286:if(e.parent.tagName===e)return 19;break;case 287:if(e.parent.tagName===e)return 20;break;case 285:if(e.parent.tagName===e)return 21;break;case 291:if(e.parent.name===e)return 22}}(e);if(!Ll(e)&&12!==e.kind&&void 0===n)return!1;const r=12===e.kind?e.pos:function(e){for(o.resetTokenState(e.pos);;){const n=o.getTokenEnd();if(!ts(t.text,n))return n;const r=o.scan(),i=o.getTokenEnd(),a=i-n;if(!jh(r))return n;switch(r){case 4:case 5:continue;case 2:case 3:l(e,r,n,a),o.resetTokenState(i);continue;case 7:const s=t.text,_=s.charCodeAt(n);if(60===_||62===_){c(n,a,1);continue}fn.assert(124===_||61===_),d(s,n,i);break;case 6:break;default:fn.assertNever(r)}}}(e),i=e.end-r;if(fn.assert(i>=0),i>0){const t=n||m(e.kind,e);t&&c(r,i,t)}return!0}function m(e,t){if(Fh(e))return 3;if((30===e||32===e)&&t&&TQ(t.parent))return 10;if(Eh(e)){if(t){const n=t.parent;if(64===e&&(260===n.kind||172===n.kind||169===n.kind||291===n.kind))return 5;if(226===n.kind||224===n.kind||225===n.kind||227===n.kind)return 5}return 10}if(9===e)return 4;if(10===e)return 25;if(11===e)return t&&291===t.parent.kind?24:6;if(14===e)return 6;if(Jl(e))return 6;if(12===e)return 23;if(80===e){if(t){switch(t.parent.kind){case 263:return t.parent.name===t?11:void 0;case 168:return t.parent.name===t?15:void 0;case 264:return t.parent.name===t?13:void 0;case 266:return t.parent.name===t?12:void 0;case 267:return t.parent.name===t?14:void 0;case 169:return t.parent.name===t?pv(t)?3:17:void 0}if(Dl(t.parent))return 3}return 2}}function g(n){if(n&&Ws(r,i,n.pos,n.getFullWidth())){V0(e,n.kind);for(const e of n.getChildren(t))f(e)||g(e)}}}function X0(e){return!!e.sourceFile}function Q0(e,t,n){return Z0(e,t,n)}function Z0(e,t="",n,r){const i=new Map,o=Kt(!!e);function a(e){return"function"==typeof e.getCompilationSettings?e.getCompilationSettings():e}function s(e,t,n,r,i,o,a,s){return _(e,t,n,r,i,o,!0,a,s)}function c(e,t,n,r,i,o,s,c){return _(e,t,a(n),r,i,o,!1,s,c)}function l(e,t){const n=X0(e)?e:e.get(fn.checkDefined(t,"If there are more than one scriptKind's for same document the scriptKind should be provided"));return fn.assert(void 0===t||!n||n.sourceFile.scriptKind===t,`Script kind should match provided ScriptKind:${t} and sourceFile.scriptKind: ${null==n?void 0:n.sourceFile.scriptKind}, !entry: ${!n}`),n}function _(e,t,o,s,c,_,u,d,p){var f,m,g,h;d=CS(e,d);const y=a(o),v=o===y?void 0:o,b=6===d?100:Sk(y),x="object"==typeof p?p:{languageVersion:b,impliedNodeFormat:v&&LU(t,null==(h=null==(g=null==(m=null==(f=v.getCompilerHost)?void 0:f.call(v))?void 0:m.getModuleResolutionCache)?void 0:g.call(m))?void 0:h.getPackageJsonInfoCache(),v,y),setExternalModuleIndicator:yk(y),jsDocParsingMode:n};x.languageVersion=b,fn.assertEqual(n,x.jsDocParsingMode);const k=i.size,S=e1(s,x.impliedNodeFormat),T=V(i,S,()=>new Map);if(Xn){i.size>k&&Xn.instant(Xn.Phase.Session,"createdDocumentRegistryBucket",{configFilePath:y.configFilePath,key:S});const e=!lO(t)&&sd(i,(e,n)=>n!==S&&e.has(t)&&n);e&&Xn.instant(Xn.Phase.Session,"documentRegistryBucketOverlap",{path:t,key1:e,key2:S})}const C=T.get(t);let w=C&&l(C,d);if(!w&&r){const e=r.getDocument(S,t);e&&e.scriptKind===d&&e.text===GQ(c)&&(fn.assert(u),w={sourceFile:e,languageServiceRefCount:0},D())}if(w)w.sourceFile.version!==_&&(w.sourceFile=l7(w.sourceFile,c,_,c.getChangeRange(w.sourceFile.scriptSnapshot)),r&&r.setDocument(S,t,w.sourceFile)),u&&w.languageServiceRefCount++;else{const n=c7(e,c,x,_,!1,d);r&&r.setDocument(S,t,n),w={sourceFile:n,languageServiceRefCount:1},D()}return fn.assert(0!==w.languageServiceRefCount),w.sourceFile;function D(){if(C)if(X0(C)){const e=new Map;e.set(C.sourceFile.scriptKind,C),e.set(d,w),T.set(t,e)}else C.set(d,w);else T.set(t,w)}}function u(e,t,n,r){const o=fn.checkDefined(i.get(e1(t,r))),a=o.get(e),s=l(a,n);s.languageServiceRefCount--,fn.assert(s.languageServiceRefCount>=0),0===s.languageServiceRefCount&&(X0(a)?o.delete(e):(a.delete(n),1===a.size&&o.set(e,h(a.values(),_t))))}return{acquireDocument:function(e,n,r,i,c,l){return s(e,Ko(e,t,o),n,Y0(a(n)),r,i,c,l)},acquireDocumentWithKey:s,updateDocument:function(e,n,r,i,s,l){return c(e,Ko(e,t,o),n,Y0(a(n)),r,i,s,l)},updateDocumentWithKey:c,releaseDocument:function(e,n,r,i){return u(Ko(e,t,o),Y0(n),r,i)},releaseDocumentWithKey:u,getKeyForCompilationSettings:Y0,getDocumentRegistryBucketKeyWithMode:e1,reportStats:function(){const e=Re(i.keys()).filter(e=>e&&"_"===e.charAt(0)).map(e=>{const t=i.get(e),n=[];return t.forEach((e,t)=>{X0(e)?n.push({name:t,scriptKind:e.sourceFile.scriptKind,refCount:e.languageServiceRefCount}):e.forEach((e,r)=>n.push({name:t,scriptKind:r,refCount:e.languageServiceRefCount}))}),n.sort((e,t)=>t.refCount-e.refCount),{bucket:e,sourceFiles:n}});return JSON.stringify(e,void 0,2)},getBuckets:()=>i}}function Y0(e){return wR(e,RO)}function e1(e,t){return t?`${e}|${t}`:e}function t1(e,t,n,r,i,o,a){const s=Jy(r),c=Kt(s),l=n1(t,n,c,a),_=n1(n,t,c,a);return rde.ChangeTracker.with({host:r,formatContext:i,preferences:o},i=>{!function(e,t,n,r,i,o,a){const{configFile:s}=e.getCompilerOptions();if(!s)return;const c=Io(s.fileName),l=Gf(s);function _(e){const t=oF(e.initializer)?e.initializer.elements:[e.initializer];let n=!1;for(const r of t)n=u(r)||n;return n}function u(e){if(!MD(e))return!1;const r=r1(c,e.text),i=n(r);return void 0!==i&&(t.replaceRangeWithText(s,s1(e,s),d(i)),!0)}function d(e){return ca(c,e,!a)}l&&c1(l,(e,n)=>{switch(n){case"files":case"include":case"exclude":{if(_(e)||"include"!==n||!oF(e.initializer))return;const l=z(e.initializer.elements,e=>MD(e)?e.text:void 0);if(0===l.length)return;const u=bS(c,[],l,a,o);return void(xS(fn.checkDefined(u.includeFilePattern),a).test(r)&&!xS(fn.checkDefined(u.includeFilePattern),a).test(i)&&t.insertNodeAfter(s,ke(e.initializer.elements),_w.createStringLiteral(d(i))))}case"compilerOptions":return void c1(e.initializer,(e,t)=>{const n=cL(t);fn.assert("listOrElement"!==(null==n?void 0:n.type)),n&&(n.isFilePath||"list"===n.type&&n.element.isFilePath)?_(e):"paths"===t&&c1(e.initializer,e=>{if(oF(e.initializer))for(const t of e.initializer.elements)u(t)})})}})}(e,i,l,t,n,r.getCurrentDirectory(),s),function(e,t,n,r,i,o){const a=e.getSourceFiles();for(const s of a){const c=n(s.fileName),l=null!=c?c:s.fileName,_=Io(l),u=r(s.fileName),d=u||s.fileName,p=Io(d),f=void 0!==c||void 0!==u;a1(s,t,e=>{if(!To(e))return;const t=r1(p,e),r=n(t);return void 0===r?void 0:Qo(ca(_,r,o))},t=>{const r=e.getTypeChecker().getSymbolAtLocation(t);if((null==r?void 0:r.declarations)&&r.declarations.some(e=>dp(e)))return;const o=void 0!==u?o1(t,JR(t.text,d,e.getCompilerOptions(),i),n,a):i1(r,t,s,e,i,n);return void 0!==o&&(o.updated||f&&To(t.text))?aB.updateModuleSpecifier(e.getCompilerOptions(),s,l,o.newFileName,nZ(e,i),t.text):void 0})}}(e,i,l,_,r,c)})}function n1(e,t,n,r){const i=n(e);return e=>{const o=r&&r.tryGetSourcePosition({fileName:e,pos:0}),a=function(e){if(n(e)===i)return t;const r=iS(e,i,n);return void 0===r?void 0:t+"/"+r}(o?o.fileName:e);return o?void 0===a?void 0:function(e,t,n,r){const i=_a(e,t,r);return r1(Io(n),i)}(o.fileName,a,e,n):a}}function r1(e,t){return Qo(function(e,t){return Wo(zo(e,t))}(e,t))}function i1(e,t,n,r,i,o){if(e){const t=k(e.declarations,nP).fileName,n=o(t);return void 0===n?{newFileName:t,updated:!1}:{newFileName:n,updated:!0}}{const e=r.getModeForUsageLocation(n,t);return o1(t,i.resolveModuleNameLiterals||!i.resolveModuleNames?r.getResolvedModuleFromModuleSpecifier(t,n):i.getResolvedModuleWithFailedLookupLocationsFromCache&&i.getResolvedModuleWithFailedLookupLocationsFromCache(t.text,n.fileName,e),o,r.getSourceFiles())}}function o1(e,t,n,r){if(!t)return;if(t.resolvedModule){const e=a(t.resolvedModule.resolvedFileName);if(e)return e}const i=f(t.failedLookupLocations,function(e){const t=n(e);return t&&k(r,e=>e.fileName===t)?o(e):void 0})||To(e.text)&&f(t.failedLookupLocations,o);return i||t.resolvedModule&&{newFileName:t.resolvedModule.resolvedFileName,updated:!1};function o(e){return Jt(e,"/package.json")?void 0:a(e)}function a(e){const t=n(e);return t&&{newFileName:t,updated:!0}}}function a1(e,t,n,r){for(const i of e.referencedFiles||u){const r=n(i.fileName);void 0!==r&&r!==e.text.slice(i.pos,i.end)&&t.replaceRangeWithText(e,i,r)}for(const i of e.imports){const n=r(i);void 0!==n&&n!==i.text&&t.replaceRangeWithText(e,s1(i,e),n)}}function s1(e,t){return Rb(e.getStart(t)+1,e.end-1)}function c1(e,t){if(aF(e))for(const n of e.properties)ZE(n)&&MD(n.name)&&t(n,n.name.text)}(e=>{function t(e,t){return{fileName:t.fileName,textSpan:RQ(e,t),kind:"none"}}function n(e){return tE(e)?[e]:nE(e)?X(e.catchClause?n(e.catchClause):e.tryBlock&&n(e.tryBlock),e.finallyBlock&&n(e.finallyBlock)):c_(e)?void 0:i(e,n)}function r(e){return El(e)?[e]:c_(e)?void 0:i(e,r)}function i(e,t){const n=[];return e.forEachChild(e=>{const r=t(e);void 0!==r&&n.push(...tt(r))}),n}function o(e,t){const n=a(t);return!!n&&n===e}function a(e){return gc(e,t=>{switch(t.kind){case 255:if(251===e.kind)return!1;case 248:case 249:case 250:case 247:case 246:return!e.label||function(e,t){return!!gc(e.parent,e=>eE(e)?e.label.escapedText===t:"quit")}(t,e.label.escapedText);default:return c_(t)&&"quit"}})}function s(e,t,...n){return!(!t||!w(n,t.kind)||(e.push(t),0))}function c(e){const t=[];if(s(t,e.getFirstToken(),99,117,92)&&246===e.kind){const n=e.getChildren();for(let e=n.length-1;e>=0&&!s(t,n[e],117);e--);}return f(r(e.statement),n=>{o(e,n)&&s(t,n.getFirstToken(),83,88)}),t}function l(e){const t=a(e);if(t)switch(t.kind){case 248:case 249:case 250:case 246:case 247:return c(t);case 255:return _(t)}}function _(e){const t=[];return s(t,e.getFirstToken(),109),f(e.caseBlock.clauses,n=>{s(t,n.getFirstToken(),84,90),f(r(n),n=>{o(e,n)&&s(t,n.getFirstToken(),83)})}),t}function u(e,t){const n=[];return s(n,e.getFirstToken(),113),e.catchClause&&s(n,e.catchClause.getFirstToken(),85),e.finallyBlock&&s(n,zX(e,98,t),98),n}function d(e,t){const r=function(e){let t=e;for(;t.parent;){const e=t.parent;if(Vf(e)||307===e.kind)return e;if(nE(e)&&e.tryBlock===t&&e.catchClause)return t;t=e}}(e);if(!r)return;const i=[];return f(n(r),e=>{i.push(zX(e,111,t))}),Vf(r)&&Af(r,e=>{i.push(zX(e,107,t))}),i}function p(e,t){const r=Zf(e);if(!r)return;const i=[];return Af(ot(r.body,BF),e=>{i.push(zX(e,107,t))}),f(n(r.body),e=>{i.push(zX(e,111,t))}),i}function m(e){const t=Zf(e);if(!t)return;const n=[];return t.modifiers&&t.modifiers.forEach(e=>{s(n,e,134)}),KI(t,e=>{g(e,e=>{vF(e)&&s(n,e.getFirstToken(),135)})}),n}function g(e,t){t(e),c_(e)||g_(e)||cE(e)||uE(e)||lE(e)||C_(e)||KI(e,e=>g(e,t))}e.getDocumentHighlights=function(e,n,r,i,o){const a=YX(r,i);if(a.parent&&(ME(a.parent)&&a.parent.tagName===a||BE(a.parent))){const{openingElement:e,closingElement:n}=a.parent.parent,i=[e,n].map(({tagName:e})=>t(e,r));return[{fileName:r.fileName,highlightSpans:i}]}return function(e,t,n,r,i){const o=new Set(i.map(e=>e.fileName)),a=Mce.getReferenceEntriesForNode(e,t,n,i,r,void 0,o);if(!a)return;const s=qe(a.map(Mce.toHighlightSpan),e=>e.fileName,e=>e.span),c=Kt(n.useCaseSensitiveFileNames());return Re(q(s.entries(),([e,t])=>{if(!o.has(e)){if(!n.redirectTargetsMap.has(Ko(e,n.getCurrentDirectory(),c)))return;const t=n.getSourceFile(e);e=k(i,e=>!!e.redirectInfo&&e.redirectInfo.redirectTarget===t).fileName,fn.assert(o.has(e))}return{fileName:e,highlightSpans:t}}))}(i,a,e,n,o)||function(e,n){const r=function(e,n){switch(e.kind){case 101:case 93:return VF(e.parent)?function(e,n){const r=function(e,t){const n=[];for(;VF(e.parent)&&e.parent.elseStatement===e;)e=e.parent;for(;;){const r=e.getChildren(t);s(n,r[0],101);for(let e=r.length-1;e>=0&&!s(n,r[e],93);e--);if(!e.elseStatement||!VF(e.elseStatement))break;e=e.elseStatement}return n}(e,n),i=[];for(let o=0;o<r.length;o++){if(93===r[o].kind&&o<r.length-1){const e=r[o],t=r[o+1];let a=!0;for(let r=t.getStart(n)-1;r>=e.end;r--)if(!Ka(n.text.charCodeAt(r))){a=!1;break}if(a){i.push({fileName:n.fileName,textSpan:Qs(e.getStart(),t.end),kind:"reference"}),o++;continue}}i.push(t(r[o],n))}return i}(e.parent,n):void 0;case 107:return o(e.parent,QF,p);case 111:return o(e.parent,tE,d);case 113:case 85:case 98:return o(85===e.kind?e.parent.parent:e.parent,nE,u);case 109:return o(e.parent,YF,_);case 84:case 90:return GE(e.parent)||KE(e.parent)?o(e.parent.parent.parent,YF,_):void 0;case 83:case 88:return o(e.parent,El,l);case 99:case 117:case 92:return o(e.parent,e=>Q_(e,!0),c);case 137:return i(wN,[137]);case 139:case 153:return i(h_,[139,153]);case 135:return o(e.parent,vF,m);case 134:return a(m(e));case 127:return a(function(e){const t=Zf(e);if(!t)return;const n=[];return KI(t,e=>{g(e,e=>{CF(e)&&s(n,e.getFirstToken(),127)})}),n}(e));case 103:case 147:return;default:return t_(e.kind)&&(mu(e.parent)||JF(e.parent))?a((r=e.kind,z(function(e,t){const n=e.parent;switch(n.kind){case 268:case 307:case 241:case 296:case 297:return 64&t&&sE(e)?[...e.members,e]:n.statements;case 176:case 174:case 262:return[...n.parameters,...g_(n.parent)?n.parent.members:[]];case 263:case 231:case 264:case 187:const r=n.members;if(15&t){const e=k(n.members,wN);if(e)return[...r,...e.parameters]}else if(64&t)return[...r,n];return r;default:return}}(e.parent,Zv(r)),e=>yZ(e,r)))):void 0}var r;function i(t,r){return o(e.parent,t,e=>{var i;return z(null==(i=it(e,uu))?void 0:i.symbol.declarations,e=>t(e)?k(e.getChildren(n),e=>w(r,e.kind)):void 0)})}function o(e,t,r){return t(e)?a(r(e,n)):void 0}function a(e){return e&&e.map(e=>t(e,n))}}(e,n);return r&&[{fileName:n.fileName,highlightSpans:r}]}(a,r)}})(j0||(j0={}));var l1=(e=>(e[e.exact=0]="exact",e[e.prefix=1]="prefix",e[e.substring=2]="substring",e[e.camelCase=3]="camelCase",e))(l1||{});function _1(e,t){return{kind:e,isCaseSensitive:t}}function u1(e){const t=new Map,n=e.trim().split(".").map(e=>{return{totalTextChunk:C1(t=e.trim()),subWordTextChunks:T1(t)};var t});return 1===n.length&&""===n[0].totalTextChunk.text?{getMatchForLastSegmentOfPattern:()=>_1(2,!0),getFullMatch:()=>_1(2,!0),patternContainsDots:!1}:n.some(e=>!e.subWordTextChunks.length)?void 0:{getFullMatch:(e,r)=>function(e,t,n,r){const i=f1(t,ke(n),r);if(!i)return;if(n.length-1>e.length)return;let o;for(let a=n.length-2,s=e.length-1;a>=0;a-=1,s-=1)o=m1(o,f1(e[s],n[a],r));return o}(e,r,n,t),getMatchForLastSegmentOfPattern:e=>f1(e,ke(n),t),patternContainsDots:n.length>1}}function d1(e,t){let n=t.get(e);return n||t.set(e,n=D1(e)),n}function p1(e,t,n){const r=function(e,t){const n=e.length-t.length;for(let r=0;r<=n;r++)if(O1(t,(t,n)=>x1(e.charCodeAt(n+r))===t))return r;return-1}(e,t.textLowerCase);if(0===r)return _1(t.text.length===e.length?0:1,Zt(e,t.text));if(t.isLowerCase){if(-1===r)return;const i=d1(e,n);for(const n of i)if(h1(e,n,t.text,!0))return _1(2,h1(e,n,t.text,!1));if(t.text.length<e.length&&v1(e.charCodeAt(r)))return _1(2,!1)}else{if(e.indexOf(t.text)>0)return _1(2,!0);if(t.characterSpans.length>0){const r=d1(e,n),i=!!y1(e,r,t,!1)||!y1(e,r,t,!0)&&void 0;if(void 0!==i)return _1(3,i)}}}function f1(e,t,n){if(O1(t.totalTextChunk.text,e=>32!==e&&42!==e)){const r=p1(e,t.totalTextChunk,n);if(r)return r}const r=t.subWordTextChunks;let i;for(const o of r)i=m1(i,p1(e,o,n));return i}function m1(e,t){return Ct([e,t],g1)}function g1(e,t){return void 0===e?1:void 0===t?-1:kt(e.kind,t.kind)||Rt(!e.isCaseSensitive,!t.isCaseSensitive)}function h1(e,t,n,r,i={start:0,length:n.length}){return i.length<=t.length&&I1(0,i.length,o=>function(e,t,n){return n?x1(e)===x1(t):e===t}(n.charCodeAt(i.start+o),e.charCodeAt(t.start+o),r))}function y1(e,t,n,r){const i=n.characterSpans;let o=0,a=0;for(;;){if(a===i.length)return!0;if(o===t.length)return!1;let s=t[o],c=!1;for(;a<i.length;a++){const t=i[a];if(c&&(!v1(n.text.charCodeAt(i[a-1].start))||!v1(n.text.charCodeAt(i[a].start))))break;if(!h1(e,s,n.text,r,t))break;c=!0,s=Xs(s.start+t.length,s.length-t.length)}o++}}function v1(e){if(e>=65&&e<=90)return!0;if(e<127||!Pa(e,99))return!1;const t=String.fromCharCode(e);return t===t.toUpperCase()}function b1(e){if(e>=97&&e<=122)return!0;if(e<127||!Pa(e,99))return!1;const t=String.fromCharCode(e);return t===t.toLowerCase()}function x1(e){return e>=65&&e<=90?e-65+97:e<127?e:String.fromCharCode(e).toLowerCase().charCodeAt(0)}function k1(e){return e>=48&&e<=57}function S1(e){return v1(e)||b1(e)||k1(e)||95===e||36===e}function T1(e){const t=[];let n=0,r=0;for(let i=0;i<e.length;i++)S1(e.charCodeAt(i))?(0===r&&(n=i),r++):r>0&&(t.push(C1(e.substr(n,r))),r=0);return r>0&&t.push(C1(e.substr(n,r))),t}function C1(e){const t=e.toLowerCase();return{text:e,textLowerCase:t,isLowerCase:e===t,characterSpans:w1(e)}}function w1(e){return N1(e,!1)}function D1(e){return N1(e,!0)}function N1(e,t){const n=[];let r=0;for(let i=1;i<e.length;i++){const o=k1(e.charCodeAt(i-1)),a=k1(e.charCodeAt(i)),s=A1(e,t,i),c=t&&P1(e,i,r);(F1(e.charCodeAt(i-1))||F1(e.charCodeAt(i))||o!==a||s||c)&&(E1(e,r,i)||n.push(Xs(r,i-r)),r=i)}return E1(e,r,e.length)||n.push(Xs(r,e.length-r)),n}function F1(e){switch(e){case 33:case 34:case 35:case 37:case 38:case 39:case 40:case 41:case 42:case 44:case 45:case 46:case 47:case 58:case 59:case 63:case 64:case 91:case 92:case 93:case 95:case 123:case 125:return!0}return!1}function E1(e,t,n){return O1(e,e=>F1(e)&&95!==e,t,n)}function P1(e,t,n){return t!==n&&t+1<e.length&&v1(e.charCodeAt(t))&&b1(e.charCodeAt(t+1))&&O1(e,v1,n,t)}function A1(e,t,n){const r=v1(e.charCodeAt(n-1));return v1(e.charCodeAt(n))&&(!t||!r)}function I1(e,t,n){for(let r=e;r<t;r++)if(!n(r))return!1;return!0}function O1(e,t,n=0,r=e.length){return I1(n,r,n=>t(e.charCodeAt(n),n))}function L1(e,t=!0,n=!1){const r={pragmas:void 0,checkJsDirective:void 0,referencedFiles:[],typeReferenceDirectives:[],libReferenceDirectives:[],amdDependencies:[],hasNoDefaultLib:void 0,moduleName:void 0},i=[];let o,a,s,c=0,l=!1;function _(){return a=s,s=GG.scan(),19===s?c++:20===s&&c--,s}function u(){const e=GG.getTokenValue(),t=GG.getTokenStart();return{fileName:e,pos:t,end:t+e.length}}function d(){i.push(u()),f()}function f(){0===c&&(l=!0)}function m(){let e=GG.getToken();return 138===e&&(e=_(),144===e&&(e=_(),11===e&&(o||(o=[]),o.push({ref:u(),depth:c}))),!0)}function g(){if(25===a)return!1;let e=GG.getToken();if(102===e){if(e=_(),21===e){if(e=_(),11===e||15===e)return d(),!0}else{if(11===e)return d(),!0;if(156===e&&GG.lookAhead(()=>{const e=GG.scan();return 161!==e&&(42===e||19===e||80===e||Fh(e))})&&(e=_()),80===e||Fh(e))if(e=_(),161===e){if(e=_(),11===e)return d(),!0}else if(64===e){if(y(!0))return!0}else{if(28!==e)return!0;e=_()}if(19===e){for(e=_();20!==e&&1!==e;)e=_();20===e&&(e=_(),161===e&&(e=_(),11===e&&d()))}else 42===e&&(e=_(),130===e&&(e=_(),(80===e||Fh(e))&&(e=_(),161===e&&(e=_(),11===e&&d()))))}return!0}return!1}function h(){let e=GG.getToken();if(95===e){if(f(),e=_(),156===e&&GG.lookAhead(()=>{const e=GG.scan();return 42===e||19===e})&&(e=_()),19===e){for(e=_();20!==e&&1!==e;)e=_();20===e&&(e=_(),161===e&&(e=_(),11===e&&d()))}else if(42===e)e=_(),161===e&&(e=_(),11===e&&d());else if(102===e&&(e=_(),156===e&&GG.lookAhead(()=>{const e=GG.scan();return 80===e||Fh(e)})&&(e=_()),(80===e||Fh(e))&&(e=_(),64===e&&y(!0))))return!0;return!0}return!1}function y(e,t=!1){let n=e?_():GG.getToken();return 149===n&&(n=_(),21===n&&(n=_(),(11===n||t&&15===n)&&d()),!0)}function v(){let e=GG.getToken();if(80===e&&"define"===GG.getTokenValue()){if(e=_(),21!==e)return!0;if(e=_(),11===e||15===e){if(e=_(),28!==e)return!0;e=_()}if(23!==e)return!0;for(e=_();24!==e&&1!==e;)11!==e&&15!==e||d(),e=_();return!0}return!1}if(t&&function(){for(GG.setText(e),_();1!==GG.getToken();){if(16===GG.getToken()){const e=[GG.getToken()];e:for(;p(e);){const t=GG.scan();switch(t){case 1:break e;case 102:g();break;case 16:e.push(t);break;case 19:p(e)&&e.push(t);break;case 20:p(e)&&(16===xe(e)?18===GG.reScanTemplateToken(!1)&&e.pop():e.pop())}}_()}m()||g()||h()||n&&(y(!1,!0)||v())||_()}GG.setText(void 0)}(),uO(r,e),dO(r,at),l){if(o)for(const e of o)i.push(e.ref);return{referencedFiles:r.referencedFiles,typeReferenceDirectives:r.typeReferenceDirectives,libReferenceDirectives:r.libReferenceDirectives,importedFiles:i,isLibFile:!!r.hasNoDefaultLib,ambientExternalModules:void 0}}{let e;if(o)for(const t of o)0===t.depth?(e||(e=[]),e.push(t.ref.fileName)):i.push(t.ref);return{referencedFiles:r.referencedFiles,typeReferenceDirectives:r.typeReferenceDirectives,libReferenceDirectives:r.libReferenceDirectives,importedFiles:i,isLibFile:!!r.hasNoDefaultLib,ambientExternalModules:e}}}var j1=/^data:(?:application\/json;charset=[uU][tT][fF]-8;base64,([A-Za-z0-9+/=]+)$)?/;function R1(e){const t=Kt(e.useCaseSensitiveFileNames()),n=e.getCurrentDirectory(),r=new Map,i=new Map;return{tryGetSourcePosition:function e(t){if(!lO(t.fileName))return;if(!s(t.fileName))return;const n=a(t.fileName).getSourcePosition(t);return n&&n!==t?e(n)||n:void 0},tryGetGeneratedPosition:function(t){if(lO(t.fileName))return;const n=s(t.fileName);if(!n)return;const r=e.getProgram();if(r.isSourceOfProjectReferenceRedirect(n.fileName))return;const i=r.getCompilerOptions().outFile,o=i?KS(i)+".d.ts":Ky(t.fileName,r.getCompilerOptions(),r);if(void 0===o)return;const c=a(o,t.fileName).getGeneratedPosition(t);return c===t?void 0:c},toLineColumnOffset:function(e,t){return l(e).getLineAndCharacterOfPosition(t)},clearCache:function(){r.clear(),i.clear()},documentPositionMappers:i};function o(e){return Ko(e,n,t)}function a(n,r){const a=o(n),s=i.get(a);if(s)return s;let c;if(e.getDocumentPositionMapper)c=e.getDocumentPositionMapper(n,r);else if(e.readFile){const r=l(n);c=r&&M1({getSourceFileLike:l,getCanonicalFileName:t,log:t=>e.log(t)},n,EJ(r.text,qa(r)),t=>!e.fileExists||e.fileExists(t)?e.readFile(t):void 0)}return i.set(a,c||$J),c||$J}function s(t){const n=e.getProgram();if(!n)return;const r=o(t),i=n.getSourceFileByPath(r);return i&&i.resolvedPath===r?i:void 0}function c(t){const n=o(t),i=r.get(n);if(void 0!==i)return i||void 0;if(!e.readFile||e.fileExists&&!e.fileExists(t))return void r.set(n,!1);const a=e.readFile(t),s=!!a&&function(e,t){return{text:e,lineMap:t,getLineAndCharacterOfPosition(e){return Va(qa(this),e)}}}(a);return r.set(n,s),s||void 0}function l(t){return e.getSourceFileLike?e.getSourceFileLike(t):s(t)||c(t)}}function M1(e,t,n,r){let i=PJ(n);if(i){const n=j1.exec(i);if(n){if(n[1]){const r=n[1];return B1(e,Fb(po,r),t)}i=void 0}}const o=[];i&&o.push(i),o.push(t+".map");const a=i&&Uo(i,Io(t));for(const s of o){const n=Uo(s,Io(t)),i=r(n,a);if(nt(i))return B1(e,i,n);if(void 0!==i)return i||void 0}}function B1(e,t,n){const r=IJ(t);if(r&&r.sources&&r.file&&r.mappings&&(!r.sourcesContent||!r.sourcesContent.some(nt)))return WJ(e,r,n)}var J1=new Map;function z1(e,t,n){var r;t.getSemanticDiagnostics(e,n);const i=[],o=t.getTypeChecker();var a;1!==t.getImpliedNodeFormatForEmit(e)&&!No(e.fileName,[".cts",".cjs"])&&e.commonJsModuleIndicator&&(eZ(t)||tZ(t.getCompilerOptions()))&&function(e){return e.statements.some(e=>{switch(e.kind){case 243:return e.declarationList.declarations.some(e=>!!e.initializer&&Bm(q1(e.initializer),!0));case 244:{const{expression:t}=e;if(!kF(t))return Bm(t,!0);const n=og(t);return 1===n||2===n}default:return!1}})}(e)&&i.push(qp(kF(a=e.commonJsModuleIndicator)?a.left:a,ma.File_is_a_CommonJS_module_it_may_be_converted_to_an_ES_module));const s=Im(e);if(J1.clear(),function t(n){if(s)(function(e,t){var n,r,i,o;if(fF(e)){if(iE(e.parent)&&(null==(n=e.symbol.members)?void 0:n.size))return!0;const o=t.getSymbolOfExpando(e,!1);return!(!o||!(null==(r=o.exports)?void 0:r.size)&&!(null==(i=o.members)?void 0:i.size))}return!!aE(e)&&!!(null==(o=e.symbol.members)?void 0:o.size)})(n,o)&&i.push(qp(iE(n.parent)?n.parent.name:n,ma.This_constructor_function_may_be_converted_to_a_class_declaration));else{if(JF(n)&&n.parent===e&&2&n.declarationList.flags&&1===n.declarationList.declarations.length){const e=n.declarationList.declarations[0].initializer;e&&Bm(e,!0)&&i.push(qp(e,ma.require_call_may_be_converted_to_an_import))}const t=U7.getJSDocTypedefNodes(n);for(const e of t)i.push(qp(e,ma.JSDoc_typedef_may_be_converted_to_TypeScript_type));U7.parameterShouldGetTypeFromJSDoc(n)&&i.push(qp(n.name||n,ma.JSDoc_types_may_be_moved_to_TypeScript_types))}Q1(n)&&function(e,t,n){(function(e,t){return!Bh(e)&&e.body&&BF(e.body)&&function(e,t){return!!Af(e,e=>W1(e,t))}(e.body,t)&&U1(e,t)})(e,t)&&!J1.has(X1(e))&&n.push(qp(!e.name&&iE(e.parent)&&tN(e.parent.name)?e.parent.name:e,ma.This_may_be_converted_to_an_async_function))}(n,o,i),n.forEachChild(t)}(e),Fk(t.getCompilerOptions()))for(const c of e.imports){const n=V1(Sg(c));if(!n)continue;const o=null==(r=t.getResolvedModuleFromModuleSpecifier(c,e))?void 0:r.resolvedModule,a=o&&t.getSourceFile(o.resolvedFileName);a&&a.externalModuleIndicator&&!0!==a.externalModuleIndicator&&DE(a.externalModuleIndicator)&&a.externalModuleIndicator.isExportEquals&&i.push(qp(n,ma.Import_may_be_converted_to_a_default_import))}return _e(i,e.bindSuggestionDiagnostics),_e(i,t.getSuggestionDiagnostics(e,n)),i.sort((e,t)=>e.start-t.start),i}function q1(e){return sF(e)?q1(e.expression):e}function V1(e){switch(e.kind){case 272:const{importClause:t,moduleSpecifier:n}=e;return t&&!t.name&&t.namedBindings&&274===t.namedBindings.kind&&MD(n)?t.namedBindings.name:void 0;case 271:return e.name;default:return}}function U1(e,t){const n=t.getSignatureFromDeclaration(e),r=n?t.getReturnTypeOfSignature(n):void 0;return!!r&&!!t.getPromisedTypeOfPromise(r)}function W1(e,t){return QF(e)&&!!e.expression&&$1(e.expression,t)}function $1(e,t){if(!H1(e)||!K1(e)||!e.arguments.every(e=>G1(e,t)))return!1;let n=e.expression.expression;for(;H1(n)||sF(n);)if(lF(n)){if(!K1(n)||!n.arguments.every(e=>G1(e,t)))return!1;n=n.expression.expression}else n=n.expression;return!0}function H1(e){return lF(e)&&(dX(e,"then")||dX(e,"catch")||dX(e,"finally"))}function K1(e){const t=e.expression.name.text,n="then"===t?2:"catch"===t||"finally"===t?1:0;return!(e.arguments.length>n)&&(e.arguments.length<n||1===n||K(e.arguments,e=>106===e.kind||tN(e)&&"undefined"===e.text))}function G1(e,t){switch(e.kind){case 262:case 218:if(1&Mh(e))return!1;case 219:J1.set(X1(e),!0);case 106:return!0;case 80:case 211:{const n=t.getSymbolAtLocation(e);return!!n&&(t.isUndefinedSymbol(n)||K(_x(n,t).declarations,e=>c_(e)||Lu(e)&&!!e.initializer&&c_(e.initializer)))}default:return!1}}function X1(e){return`${e.pos.toString()}:${e.end.toString()}`}function Q1(e){switch(e.kind){case 262:case 174:case 218:case 219:return!0;default:return!1}}var Z1=new Set(["isolatedModules"]);function Y1(e,t){return o2(e,t,!1)}function e2(e,t){return o2(e,t,!0)}var t2,n2,r2='/// <reference no-default-lib="true"/>\ninterface Boolean {}\ninterface Function {}\ninterface CallableFunction {}\ninterface NewableFunction {}\ninterface IArguments {}\ninterface Number {}\ninterface Object {}\ninterface RegExp {}\ninterface String {}\ninterface Array<T> { length: number; [n: number]: T; }\ninterface SymbolConstructor {\n    (desc?: string | number): symbol;\n    for(name: string): symbol;\n    readonly toStringTag: symbol;\n}\ndeclare var Symbol: SymbolConstructor;\ninterface Symbol {\n    readonly [Symbol.toStringTag]: string;\n}',i2="lib.d.ts";function o2(e,t,n){var r;null!=t2||(t2=ZI(i2,r2,{languageVersion:99}));const i=[],o=t.compilerOptions?s2(t.compilerOptions,i):{},a={target:1,jsx:1};for(const f in a)Pe(a,f)&&void 0===o[f]&&(o[f]=a[f]);for(const f of BO)o.verbatimModuleSyntax&&Z1.has(f.name)||(o[f.name]=f.transpileOptionValue);o.suppressOutputPathCheck=!0,o.allowNonTsExtensions=!0,n?(o.declaration=!0,o.emitDeclarationOnly=!0,o.isolatedDeclarations=!0):(o.declaration=!1,o.declarationMap=!1);const s=jb(o),c={getSourceFile:e=>e===Wo(l)?_:e===Wo(i2)?t2:void 0,writeFile:(e,t)=>{Do(e,".map")?(fn.assertEqual(d,void 0,"Unexpected multiple source map outputs, file:",e),d=t):(fn.assertEqual(u,void 0,"Unexpected multiple outputs, file:",e),u=t)},getDefaultLibFileName:()=>i2,useCaseSensitiveFileNames:()=>!1,getCanonicalFileName:e=>e,getCurrentDirectory:()=>"",getNewLine:()=>s,fileExists:e=>e===l||!!n&&e===i2,readFile:()=>"",directoryExists:()=>!0,getDirectories:()=>[]},l=t.fileName||(t.compilerOptions&&t.compilerOptions.jsx?"module.tsx":"module.ts"),_=ZI(l,e,{languageVersion:Sk(o),impliedNodeFormat:LU(Ko(l,"",c.getCanonicalFileName),void 0,c,o),setExternalModuleIndicator:yk(o),jsDocParsingMode:null!=(r=t.jsDocParsingMode)?r:0});let u,d;t.moduleName&&(_.moduleName=t.moduleName),t.renamedDependencies&&(_.renamedDependencies=new Map(Object.entries(t.renamedDependencies)));const p=MU(n?[l,i2]:[l],o,c);return t.reportDiagnostics&&(_e(i,p.getSyntacticDiagnostics(_)),_e(i,p.getOptionsDiagnostics())),_e(i,p.emit(void 0,void 0,void 0,n,t.transformers,n).diagnostics),void 0===u?fn.fail("Output generation failed"):{outputText:u,diagnostics:i,sourceMapText:d}}function a2(e,t,n,r,i){const o=Y1(e,{compilerOptions:t,fileName:n,reportDiagnostics:!!r,moduleName:i});return _e(r,o.diagnostics),o.outputText}function s2(e,t){n2=n2||F(AO,e=>"object"==typeof e.type&&!sd(e.type,e=>"number"!=typeof e)),e=PQ(e);for(const n of n2){if(!Pe(e,n.name))continue;const r=e[n.name];nt(r)?e[n.name]=YO(n,r,t):sd(n.type,e=>e===r)||t.push(QO(n))}return e}var c2={};function l2(e,t,n,r,i,o,a){const s=u1(r);if(!s)return u;const c=[],l=1===e.length?e[0]:void 0;for(const _ of e)n.throwIfCancellationRequested(),o&&_.isDeclarationFile||_2(_,!!a,l)||_.getNamedDeclarations().forEach((e,n)=>{u2(s,n,e,t,_.fileName,!!a,l,c)});return c.sort(h2),(void 0===i?c:c.slice(0,i)).map(y2)}function _2(e,t,n){return e!==n&&t&&(XY(e.path)||e.hasNoDefaultLib)}function u2(e,t,n,r,i,o,a,s){const c=e.getMatchForLastSegmentOfPattern(t);if(c)for(const l of n)if(d2(l,r,o,a))if(e.patternContainsDots){const n=e.getFullMatch(g2(l),t);n&&s.push({name:t,fileName:i,matchKind:n.kind,isCaseSensitive:n.isCaseSensitive,declaration:l})}else s.push({name:t,fileName:i,matchKind:c.kind,isCaseSensitive:c.isCaseSensitive,declaration:l})}function d2(e,t,n,r){var i;switch(e.kind){case 273:case 276:case 271:const o=t.getSymbolAtLocation(e.name),a=t.getAliasedSymbol(o);return o.escapedName!==a.escapedName&&!(null==(i=a.declarations)?void 0:i.every(e=>_2(e.getSourceFile(),n,r)));default:return!0}}function p2(e,t){const n=Ec(e);return!!n&&(m2(n,t)||167===n.kind&&f2(n.expression,t))}function f2(e,t){return m2(e,t)||sF(e)&&(t.push(e.name.text),!0)&&f2(e.expression,t)}function m2(e,t){return Wh(e)&&(t.push($h(e)),!0)}function g2(e){const t=[],n=Ec(e);if(n&&167===n.kind&&!f2(n.expression,t))return u;t.shift();let r=TX(e);for(;r;){if(!p2(r,t))return u;r=TX(r)}return t.reverse(),t}function h2(e,t){return kt(e.matchKind,t.matchKind)||Lt(e.name,t.name)}function y2(e){const t=e.declaration,n=TX(t),r=n&&Ec(n);return{name:e.name,kind:CX(t),kindModifiers:SQ(t),matchKind:l1[e.matchKind],isCaseSensitive:e.isCaseSensitive,fileName:e.fileName,textSpan:RQ(t),containerName:r?r.text:"",containerKind:r?CX(n):""}}i(c2,{getNavigateToItems:()=>l2});var v2={};i(v2,{getNavigationBarItems:()=>F2,getNavigationTree:()=>E2});var b2,x2,k2,S2,T2=/\s+/g,C2=150,w2=[],D2=[],N2=[];function F2(e,t){b2=t,x2=e;try{return A(function(e){const t=[];function n(e){if(r(e)&&(t.push(e),e.children))for(const t of e.children)n(t)}return n(e),t;function r(e){if(e.children)return!0;switch(I2(e)){case 263:case 231:case 266:case 264:case 267:case 307:case 265:case 346:case 338:return!0;case 219:case 262:case 218:return t(e);default:return!1}function t(e){if(!e.node.body)return!1;switch(I2(e.parent)){case 268:case 307:case 174:case 176:return!0;default:return!1}}}}(L2(e)),i6)}finally{P2()}}function E2(e,t){b2=t,x2=e;try{return r6(L2(e))}finally{P2()}}function P2(){x2=void 0,b2=void 0,w2=[],k2=void 0,N2=[]}function A2(e){return f6(e.getText(x2))}function I2(e){return e.node.kind}function O2(e,t){e.children?e.children.push(t):e.children=[t]}function L2(e){fn.assert(!w2.length);const t={node:e,name:void 0,additionalNodes:void 0,parent:void 0,children:void 0,indent:0};k2=t;for(const n of e.statements)$2(n);return q2(),fn.assert(!k2&&!w2.length),t}function j2(e,t){O2(k2,R2(e,t))}function R2(e,t){return{node:e,name:t||(mu(e)||G_(e)?Ec(e):void 0),additionalNodes:void 0,parent:k2,children:void 0,indent:k2.indent+1}}function M2(e){S2||(S2=new Map),S2.set(e,!0)}function B2(e){for(let t=0;t<e;t++)q2()}function J2(e,t){const n=[];for(;!Wh(t);){const e=dg(t),r=fg(t);t=t.expression,"prototype"===r||nN(e)||n.push(e)}n.push(t);for(let r=n.length-1;r>0;r--)z2(e,n[r]);return[n.length-1,n[0]]}function z2(e,t){const n=R2(e,t);O2(k2,n),w2.push(k2),D2.push(S2),S2=void 0,k2=n}function q2(){k2.children&&(H2(k2.children,k2),Y2(k2.children)),k2=w2.pop(),S2=D2.pop()}function V2(e,t,n){z2(e,n),$2(t),q2()}function U2(e){e.initializer&&function(e){switch(e.kind){case 219:case 218:case 231:return!0;default:return!1}}(e.initializer)?(z2(e),KI(e.initializer,$2),q2()):V2(e,e.initializer)}function W2(e){const t=Ec(e);if(void 0===t)return!1;if(hN(t)){const e=t.expression;return ub(e)||jD(e)||Jh(e)}return!!t}function $2(e){if(b2.throwIfCancellationRequested(),e&&!Ll(e))switch(e.kind){case 176:const t=e;V2(t,t.body);for(const e of t.parameters)ic(e,t)&&j2(e);break;case 174:case 177:case 178:case 173:W2(e)&&V2(e,e.body);break;case 172:W2(e)&&U2(e);break;case 171:W2(e)&&j2(e);break;case 273:const n=e;n.name&&j2(n.name);const{namedBindings:r}=n;if(r)if(274===r.kind)j2(r);else for(const e of r.elements)j2(e);break;case 304:V2(e,e.name);break;case 305:const{expression:i}=e;tN(i)?j2(e,i):j2(e);break;case 208:case 303:case 260:{const t=e;D_(t.name)?$2(t.name):U2(t);break}case 262:const o=e.name;o&&tN(o)&&M2(o.text),V2(e,e.body);break;case 219:case 218:V2(e,e.body);break;case 266:z2(e);for(const a of e.members)l6(a)||j2(a);q2();break;case 263:case 231:case 264:z2(e);for(const a of e.members)$2(a);q2();break;case 267:V2(e,c6(e).body);break;case 277:{const t=e.expression,n=aF(t)||lF(t)?t:mF(t)||fF(t)?t.body:void 0;n?(z2(e),$2(n),q2()):j2(e);break}case 281:case 271:case 181:case 179:case 180:case 265:j2(e);break;case 213:case 226:{const t=og(e);switch(t){case 1:case 2:return void V2(e,e.right);case 6:case 3:{const n=e,r=n.left,i=3===t?r.expression:r;let o,a=0;return tN(i.expression)?(M2(i.expression.text),o=i.expression):[a,o]=J2(n,i.expression),6===t?aF(n.right)&&n.right.properties.length>0&&(z2(n,o),KI(n.right,$2),q2()):fF(n.right)||mF(n.right)?V2(e,n.right,o):(z2(n,o),V2(e,n.right,r.name),q2()),void B2(a)}case 7:case 9:{const n=e,r=7===t?n.arguments[0]:n.arguments[0].expression,i=n.arguments[1],[o,a]=J2(e,r);return z2(e,a),z2(e,vI(_w.createIdentifier(i.text),i)),$2(e.arguments[2]),q2(),q2(),void B2(o)}case 5:{const t=e,n=t.left,r=n.expression;if(tN(r)&&"prototype"!==fg(n)&&S2&&S2.has(r.text))return void(fF(t.right)||mF(t.right)?V2(e,t.right,r):lg(n)&&(z2(t,r),V2(t.left,t.right,dg(n)),q2()));break}case 4:case 0:case 8:break;default:fn.assertNever(t)}}default:Iu(e)&&f(e.jsDoc,e=>{f(e.tags,e=>{Ag(e)&&j2(e)})}),KI(e,$2)}}function H2(e,t){const n=new Map;E(e,(e,r)=>{const i=e.name||Ec(e.node),o=i&&A2(i);if(!o)return!0;const a=n.get(o);if(!a)return n.set(o,e),!0;if(a instanceof Array){for(const n of a)if(G2(n,e,r,t))return!1;return a.push(e),!0}{const i=a;return!G2(i,e,r,t)&&(n.set(o,[i,e]),!0)}})}var K2={5:!0,3:!0,7:!0,9:!0,0:!1,1:!1,2:!1,8:!1,6:!0,4:!1};function G2(e,t,n,r){return!!function(e,t,n,r){function i(e){return fF(e)||aE(e)||iE(e)}const o=kF(t.node)||lF(t.node)?og(t.node):0,a=kF(e.node)||lF(e.node)?og(e.node):0;if(K2[o]&&K2[a]||i(e.node)&&K2[o]||i(t.node)&&K2[a]||sE(e.node)&&X2(e.node)&&K2[o]||sE(t.node)&&K2[a]||sE(e.node)&&X2(e.node)&&i(t.node)||sE(t.node)&&i(e.node)&&X2(e.node)){let o=e.additionalNodes&&xe(e.additionalNodes)||e.node;if(!sE(e.node)&&!sE(t.node)||i(e.node)||i(t.node)){const n=i(e.node)?e.node:i(t.node)?t.node:void 0;if(void 0!==n){const r=R2(vI(_w.createConstructorDeclaration(void 0,[],void 0),n));r.indent=e.indent+1,r.children=e.node===n?e.children:t.children,e.children=e.node===n?X([r],t.children||[t]):X(e.children||[__spreadValues({},e)],[r])}else(e.children||t.children)&&(e.children=X(e.children||[__spreadValues({},e)],t.children||[t]),e.children&&(H2(e.children,e),Y2(e.children)));o=e.node=vI(_w.createClassDeclaration(void 0,e.name||_w.createIdentifier("__class__"),void 0,void 0,[]),e.node)}else e.children=X(e.children,t.children),e.children&&H2(e.children,e);const a=t.node;return r.children[n-1].node.end===o.end?vI(o,{pos:o.pos,end:a.end}):(e.additionalNodes||(e.additionalNodes=[]),e.additionalNodes.push(vI(_w.createClassDeclaration(void 0,e.name||_w.createIdentifier("__class__"),void 0,void 0,[]),t.node))),!0}return 0!==o}(e,t,n,r)||!!function(e,t,n){if(e.kind!==t.kind||e.parent!==t.parent&&(!Q2(e,n)||!Q2(t,n)))return!1;switch(e.kind){case 172:case 174:case 177:case 178:return Iv(e)===Iv(t);case 267:return Z2(e,t)&&s6(e)===s6(t);default:return!0}}(e.node,t.node,r)&&(o=t,(i=e).additionalNodes=i.additionalNodes||[],i.additionalNodes.push(o.node),o.additionalNodes&&i.additionalNodes.push(...o.additionalNodes),i.children=X(i.children,o.children),i.children&&(H2(i.children,i),Y2(i.children)),!0);var i,o}function X2(e){return!!(16&e.flags)}function Q2(e,t){if(void 0===e.parent)return!1;const n=dE(e.parent)?e.parent.parent:e.parent;return n===t.node||w(t.additionalNodes,n)}function Z2(e,t){return e.body&&t.body?e.body.kind===t.body.kind&&(267!==e.body.kind||Z2(e.body,t.body)):e.body===t.body}function Y2(e){e.sort(e6)}function e6(e,t){return Lt(t6(e.node),t6(t.node))||kt(I2(e),I2(t))}function t6(e){if(267===e.kind)return a6(e);const t=Ec(e);if(t&&a_(t)){const e=Uh(t);return e&&bc(e)}switch(e.kind){case 218:case 219:case 231:return d6(e);default:return}}function n6(e,t){if(267===e.kind)return f6(a6(e));if(t){const e=tN(t)?t.text:cF(t)?`[${A2(t.argumentExpression)}]`:A2(t);if(e.length>0)return f6(e)}switch(e.kind){case 307:const t=e;return tO(t)?`"${Cy(Oo(KS(Wo(t.fileName))))}"`:"<global>";case 277:return DE(e)&&e.isExportEquals?"export=":"default";case 219:case 262:case 218:case 263:case 231:return 2048&$v(e)?"default":d6(e);case 176:return"constructor";case 180:return"new()";case 179:return"()";case 181:return"[]";default:return"<unknown>"}}function r6(e){return{text:n6(e.node,e.name),kind:CX(e.node),kindModifiers:u6(e.node),spans:o6(e),nameSpan:e.name&&_6(e.name),childItems:A(e.children,r6)}}function i6(e){return{text:n6(e.node,e.name),kind:CX(e.node),kindModifiers:u6(e.node),spans:o6(e),childItems:A(e.children,function(e){return{text:n6(e.node,e.name),kind:CX(e.node),kindModifiers:SQ(e.node),spans:o6(e),childItems:N2,indent:0,bolded:!1,grayed:!1}})||N2,indent:e.indent,bolded:!1,grayed:!1}}function o6(e){const t=[_6(e.node)];if(e.additionalNodes)for(const n of e.additionalNodes)t.push(_6(n));return t}function a6(e){return dp(e)?ep(e.name):s6(e)}function s6(e){const t=[$h(e.name)];for(;e.body&&267===e.body.kind;)e=e.body,t.push($h(e.name));return t.join(".")}function c6(e){return e.body&&uE(e.body)?c6(e.body):e}function l6(e){return!e.name||167===e.name.kind}function _6(e){return 307===e.kind?JQ(e):RQ(e,x2)}function u6(e){return e.parent&&260===e.parent.kind&&(e=e.parent),SQ(e)}function d6(e){const{parent:t}=e;if(e.name&&ud(e.name)>0)return f6(jp(e.name));if(iE(t))return f6(jp(t.name));if(kF(t)&&64===t.operatorToken.kind)return A2(t.left).replace(T2,"");if(ZE(t))return A2(t.name);if(2048&$v(e))return"default";if(g_(e))return"<class>";if(lF(t)){let e=p6(t.expression);if(void 0!==e)return e=f6(e),e.length>C2?`${e} callback`:`${e}(${f6(z(t.arguments,e=>zu(e)||q_(e)?e.getText(x2):void 0).join(", "))}) callback`}return"<function>"}function p6(e){if(tN(e))return e.text;if(sF(e)){const t=p6(e.expression),n=e.name.text;return void 0===t?n:`${t}.${n}`}}function f6(e){return(e=e.length>C2?e.substring(0,C2)+"...":e).replace(/\\?(?:\r?\n|[\r\u2028\u2029])/g,"")}var m6={};i(m6,{addExportsInOldFile:()=>K6,addImportsForMovedSymbols:()=>t3,addNewFileToTsconfig:()=>H6,addOrRemoveBracesToArrowFunction:()=>z3,addTargetFileImports:()=>F3,containsJsx:()=>f3,convertArrowFunctionOrFunctionExpression:()=>Z3,convertParamsToDestructuredObject:()=>c4,convertStringOrTemplateLiteral:()=>N4,convertToOptionalChainExpression:()=>V4,createNewFileName:()=>d3,doChangeNamedToNamespaceOrDefault:()=>P6,extractSymbol:()=>t8,generateGetAccessorAndSetAccessor:()=>b8,getApplicableRefactors:()=>y6,getEditsForRefactor:()=>v6,getExistingLocals:()=>C3,getIdentifierForNode:()=>N3,getNewStatementsAndRemoveFromOldFile:()=>$6,getStatementsToMove:()=>p3,getUsageInfo:()=>g3,inferFunctionReturnType:()=>T8,isInImport:()=>v3,isRefactorErrorInfo:()=>w3,refactorKindBeginsWith:()=>D3,registerRefactor:()=>h6});var g6=new Map;function h6(e,t){g6.set(e,t)}function y6(e,t){return Re(M(g6.values(),n=>{var r;return e.cancellationToken&&e.cancellationToken.isCancellationRequested()||!(null==(r=n.kinds)?void 0:r.some(t=>D3(t,e.kind)))?void 0:n.getAvailableActions(e,t)}))}function v6(e,t,n,r){const i=g6.get(t);return i&&i.getEditsForAction(e,n,r)}var b6="Convert export",x6={name:"Convert default export to named export",description:Gx(ma.Convert_default_export_to_named_export),kind:"refactor.rewrite.export.named"},k6={name:"Convert named export to default export",description:Gx(ma.Convert_named_export_to_default_export),kind:"refactor.rewrite.export.default"};function S6(e,t=!0){const{file:n,program:r}=e,i=e0(e),o=tQ(n,i.start),a=o.parent&&32&$v(o.parent)&&t?o.parent:gZ(o,n,i);if(!a||!(nP(a.parent)||dE(a.parent)&&dp(a.parent.parent)))return{error:Gx(ma.Could_not_find_export_statement)};const s=r.getTypeChecker(),c=function(e,t){if(nP(e))return e.symbol;const n=e.parent.symbol;return n.valueDeclaration&&yp(n.valueDeclaration)?t.getMergedSymbol(n):n}(a.parent,s),l=$v(a)||(DE(a)&&!a.isExportEquals?2080:0),_=!!(2048&l);if(!(32&l)||!_&&c.exports.has("default"))return{error:Gx(ma.This_file_already_has_a_default_export)};const u=e=>tN(e)&&s.getSymbolAtLocation(e)?void 0:{error:Gx(ma.Can_only_convert_named_export)};switch(a.kind){case 262:case 263:case 264:case 266:case 265:case 267:{const e=a;if(!e.name)return;return u(e.name)||{exportNode:e,exportName:e.name,wasDefault:_,exportingModuleSymbol:c}}case 243:{const e=a;if(!(2&e.declarationList.flags)||1!==e.declarationList.declarations.length)return;const t=ve(e.declarationList.declarations);if(!t.initializer)return;return fn.assert(!_,"Can't have a default flag here"),u(t.name)||{exportNode:e,exportName:t.name,wasDefault:_,exportingModuleSymbol:c}}case 277:{const e=a;if(e.isExportEquals)return;return u(e.expression)||{exportNode:e,exportName:e.expression,wasDefault:_,exportingModuleSymbol:c}}default:return}}function T6(e,t){return _w.createImportSpecifier(!1,e===t?void 0:_w.createIdentifier(e),_w.createIdentifier(t))}function C6(e,t){return _w.createExportSpecifier(!1,e===t?void 0:_w.createIdentifier(e),_w.createIdentifier(t))}h6(b6,{kinds:[x6.kind,k6.kind],getAvailableActions:function(e){const t=S6(e,"invoked"===e.triggerReason);if(!t)return u;if(!w3(t)){const e=t.wasDefault?x6:k6;return[{name:b6,description:e.description,actions:[e]}]}return e.preferences.provideRefactorNotApplicableReason?[{name:b6,description:Gx(ma.Convert_default_export_to_named_export),actions:[__spreadProps(__spreadValues({},x6),{notApplicableReason:t.error}),__spreadProps(__spreadValues({},k6),{notApplicableReason:t.error})]}]:u},getEditsForAction:function(e,t){fn.assert(t===x6.name||t===k6.name,"Unexpected action name");const n=S6(e);fn.assert(n&&!w3(n),"Expected applicable refactor info");const r=rde.ChangeTracker.with(e,t=>function(e,t,n,r,i){(function(e,{wasDefault:t,exportNode:n,exportName:r},i,o){if(t)if(DE(n)&&!n.isExportEquals){const t=n.expression,r=C6(t.text,t.text);i.replaceNode(e,n,_w.createExportDeclaration(void 0,!1,_w.createNamedExports([r])))}else i.delete(e,fn.checkDefined(yZ(n,90),"Should find a default keyword in modifier list"));else{const t=fn.checkDefined(yZ(n,95),"Should find an export keyword in modifier list");switch(n.kind){case 262:case 263:case 264:i.insertNodeAfter(e,t,_w.createToken(90));break;case 243:const a=ve(n.declarationList.declarations);if(!Mce.Core.isSymbolReferencedInFile(r,o,e)&&!a.type){i.replaceNode(e,n,_w.createExportDefault(fn.checkDefined(a.initializer,"Initializer was previously known to be present")));break}case 266:case 265:case 267:i.deleteModifier(e,t),i.insertNodeAfter(e,n,_w.createExportDefault(_w.createIdentifier(r.text)));break;default:fn.fail(`Unexpected exportNode kind ${n.kind}`)}}})(e,n,r,t.getTypeChecker()),function(e,{wasDefault:t,exportName:n,exportingModuleSymbol:r},i,o){const a=e.getTypeChecker(),s=fn.checkDefined(a.getSymbolAtLocation(n),"Export name should resolve to a symbol");Mce.Core.eachExportReference(e.getSourceFiles(),a,o,s,r,n.text,t,e=>{if(n===e)return;const r=e.getSourceFile();t?function(e,t,n,r){const{parent:i}=t;switch(i.kind){case 211:n.replaceNode(e,t,_w.createIdentifier(r));break;case 276:case 281:{const t=i;n.replaceNode(e,t,T6(r,t.name.text));break}case 273:{const o=i;fn.assert(o.name===t,"Import clause name should match provided ref");const a=T6(r,t.text),{namedBindings:s}=o;if(s)if(274===s.kind){n.deleteRange(e,{pos:t.getStart(e),end:s.getStart(e)});const i=MD(o.parent.moduleSpecifier)?cZ(o.parent.moduleSpecifier,e):1,a=oZ(void 0,[T6(r,t.text)],o.parent.moduleSpecifier,i);n.insertNodeAfter(e,o.parent,a)}else n.delete(e,t),n.insertNodeAtEndOfList(e,s.elements,a);else n.replaceNode(e,t,_w.createNamedImports([a]));break}case 205:const o=i;n.replaceNode(e,i,_w.createImportTypeNode(o.argument,o.attributes,_w.createIdentifier(r),o.typeArguments,o.isTypeOf));break;default:fn.failBadSyntaxKind(i)}}(r,e,i,n.text):function(e,t,n){const r=t.parent;switch(r.kind){case 211:n.replaceNode(e,t,_w.createIdentifier("default"));break;case 276:{const t=_w.createIdentifier(r.name.text);1===r.parent.elements.length?n.replaceNode(e,r.parent,t):(n.delete(e,r),n.insertNodeBefore(e,r.parent,t));break}case 281:n.replaceNode(e,r,C6("default",r.name.text));break;default:fn.assertNever(r,`Unexpected parent kind ${r.kind}`)}}(r,e,i)})}(t,n,r,i)}(e.file,e.program,n,t,e.cancellationToken));return{edits:r,renameFilename:void 0,renameLocation:void 0}}});var w6="Convert import",D6={0:{name:"Convert namespace import to named imports",description:Gx(ma.Convert_namespace_import_to_named_imports),kind:"refactor.rewrite.import.named"},2:{name:"Convert named imports to namespace import",description:Gx(ma.Convert_named_imports_to_namespace_import),kind:"refactor.rewrite.import.namespace"},1:{name:"Convert named imports to default import",description:Gx(ma.Convert_named_imports_to_default_import),kind:"refactor.rewrite.import.default"}};function N6(e,t=!0){const{file:n}=e,r=e0(e),i=tQ(n,r.start),o=t?gc(i,rn(gE,WP)):gZ(i,n,r);if(void 0===o||!gE(o)&&!WP(o))return{error:"Selection is not an import declaration."};const a=r.start+r.length,s=oQ(o,o.parent,n);if(s&&a>s.getStart())return;const{importClause:c}=o;return c?c.namedBindings?274===c.namedBindings.kind?{convertTo:0,import:c.namedBindings}:F6(e.program,c)?{convertTo:1,import:c.namedBindings}:{convertTo:2,import:c.namedBindings}:{error:Gx(ma.Could_not_find_namespace_import_or_named_imports)}:{error:Gx(ma.Could_not_find_import_clause)}}function F6(e,t){return Fk(e.getCompilerOptions())&&function(e,t){const n=t.resolveExternalModuleName(e);if(!n)return!1;const r=t.resolveExternalModuleSymbol(n);return n!==r}(t.parent.moduleSpecifier,e.getTypeChecker())}function E6(e){return sF(e)?e.name:e.right}function P6(e,t,n,r,i=F6(t,r.parent)){const o=t.getTypeChecker(),a=r.parent.parent,{moduleSpecifier:s}=a,c=new Set;r.elements.forEach(e=>{const t=o.getSymbolAtLocation(e.name);t&&c.add(t)});const l=s&&MD(s)?s0(s.text,99):"module",_=r.elements.some(function(t){return!!Mce.Core.eachSymbolReferenceInFile(t.name,o,e,e=>{const t=o.resolveName(l,e,-1,!0);return!!t&&(!c.has(t)||EE(e.parent))})})?gY(l,e):l,u=new Set;for(const d of r.elements){const t=d.propertyName||d.name;Mce.Core.eachSymbolReferenceInFile(d.name,o,e,r=>{const i=11===t.kind?_w.createElementAccessExpression(_w.createIdentifier(_),_w.cloneNode(t)):_w.createPropertyAccessExpression(_w.createIdentifier(_),_w.cloneNode(t));YE(r.parent)?n.replaceNode(e,r.parent,_w.createPropertyAssignment(r.text,i)):EE(r.parent)?u.add(d):n.replaceNode(e,r,i)})}if(n.replaceNode(e,r,i?_w.createIdentifier(_):_w.createNamespaceImport(_w.createIdentifier(_))),u.size&&gE(a)){const t=Re(u.values(),e=>_w.createImportSpecifier(e.isTypeOnly,e.propertyName&&_w.cloneNode(e.propertyName),_w.cloneNode(e.name)));n.insertNodeAfter(e,r.parent.parent,A6(a,void 0,t))}}function A6(e,t,n){return _w.createImportDeclaration(void 0,I6(t,n),e.moduleSpecifier,void 0)}function I6(e,t){return _w.createImportClause(!1,e,t&&t.length?_w.createNamedImports(t):void 0)}h6(w6,{kinds:Le(D6).map(e=>e.kind),getAvailableActions:function(e){const t=N6(e,"invoked"===e.triggerReason);if(!t)return u;if(!w3(t)){const e=D6[t.convertTo];return[{name:w6,description:e.description,actions:[e]}]}return e.preferences.provideRefactorNotApplicableReason?Le(D6).map(e=>({name:w6,description:e.description,actions:[__spreadProps(__spreadValues({},e),{notApplicableReason:t.error})]})):u},getEditsForAction:function(e,t){fn.assert(K(Le(D6),e=>e.name===t),"Unexpected action name");const n=N6(e);fn.assert(n&&!w3(n),"Expected applicable refactor info");const r=rde.ChangeTracker.with(e,t=>function(e,t,n,r){const i=t.getTypeChecker();0===r.convertTo?function(e,t,n,r,i){let o=!1;const a=[],s=new Map;Mce.Core.eachSymbolReferenceInFile(r.name,t,e,e=>{if(M_(e.parent)){const r=E6(e.parent).text;t.resolveName(r,e,-1,!0)&&s.set(r,!0),fn.assert((sF(n=e.parent)?n.expression:n.left)===e,"Parent expression should match id"),a.push(e.parent)}else o=!0;var n});const c=new Map;for(const u of a){const t=E6(u).text;let r=c.get(t);void 0===r&&c.set(t,r=s.has(t)?gY(t,e):t),n.replaceNode(e,u,_w.createIdentifier(r))}const l=[];c.forEach((e,t)=>{l.push(_w.createImportSpecifier(!1,e===t?void 0:_w.createIdentifier(t),_w.createIdentifier(e)))});const _=r.parent.parent;if(o&&!i&&gE(_))n.insertNodeAfter(e,_,A6(_,void 0,l));else{const t=o?_w.createIdentifier(r.name.text):void 0;n.replaceNode(e,r.parent,I6(t,l))}}(e,i,n,r.import,Fk(t.getCompilerOptions())):P6(e,t,n,r.import,1===r.convertTo)}(e.file,e.program,t,n));return{edits:r,renameFilename:void 0,renameLocation:void 0}}});var O6="Extract type",L6={name:"Extract to type alias",description:Gx(ma.Extract_to_type_alias),kind:"refactor.extract.type"},j6={name:"Extract to interface",description:Gx(ma.Extract_to_interface),kind:"refactor.extract.interface"},R6={name:"Extract to typedef",description:Gx(ma.Extract_to_typedef),kind:"refactor.extract.typedef"};function M6(e,t=!0){const{file:n,startPosition:r}=e,i=Im(n),o=zQ(e0(e)),a=o.pos===o.end&&t,s=function(e,t,n,r){const i=[()=>tQ(e,t),()=>eQ(e,t,()=>!0)];for(const o of i){const t=o(),i=OX(t,e,n.pos,n.end),a=gc(t,t=>t.parent&&C_(t)&&!J6(n,t.parent,e)&&(r||i));if(a)return a}}(n,r,o,a);if(!s||!C_(s))return{info:{error:Gx(ma.Selection_is_not_a_valid_type_node)},affectedTextRange:void 0};const c=e.program.getTypeChecker(),l=function(e,t){return gc(e,yu)||(t?gc(e,yP):void 0)}(s,i);if(void 0===l)return{info:{error:Gx(ma.No_type_could_be_extracted_from_this_type_node)},affectedTextRange:void 0};const _=function(e,t){var n;return null!=(n=gc(e,e=>e===t?"quit":!(!VN(e.parent)&&!UN(e.parent))))?n:e}(s,l);if(!C_(_))return{info:{error:Gx(ma.Selection_is_not_a_valid_type_node)},affectedTextRange:void 0};const d=[];(VN(_.parent)||UN(_.parent))&&o.end>s.end&&_e(d,_.parent.types.filter(e=>OX(e,n,o.pos,o.end)));const p=d.length>1?d:_,{typeParameters:f,affectedTextRange:m}=function(e,t,n,r){const i=[],o=tt(t),a={pos:o[0].getStart(r),end:o[o.length-1].end};for(const c of o)if(s(c))return{typeParameters:void 0,affectedTextRange:void 0};return{typeParameters:i,affectedTextRange:a};function s(t){if(IN(t)){if(tN(t.typeName)){const o=t.typeName,s=e.resolveName(o.text,o,262144,!0);for(const e of(null==s?void 0:s.declarations)||u)if(yN(e)&&e.getSourceFile()===r){if(e.name.escapedText===o.escapedText&&J6(e,a,r))return!0;if(J6(n,e,r)&&!J6(a,e,r)){ue(i,e);break}}}}else if($N(t)){const e=gc(t,e=>WN(e)&&J6(e.extendsType,t,r));if(!e||!J6(a,e,r))return!0}else if(AN(t)||KN(t)){const e=gc(t.parent,c_);if(e&&e.type&&J6(e.type,t,r)&&!J6(a,e,r))return!0}else if(jN(t))if(tN(t.exprName)){const i=e.resolveName(t.exprName.text,t.exprName,111551,!1);if((null==i?void 0:i.valueDeclaration)&&J6(n,i.valueDeclaration,r)&&!J6(a,i.valueDeclaration,r))return!0}else if(pv(t.exprName.left)&&!J6(a,t.parent,r))return!0;return r&&BN(t)&&$a(r,t.pos).line===$a(r,t.end).line&&gw(t,1),KI(t,s)}}(c,p,l,n);return f?{info:{isJS:i,selection:p,enclosingNode:l,typeParameters:f,typeElements:B6(c,p)},affectedTextRange:m}:{info:{error:Gx(ma.No_type_could_be_extracted_from_this_type_node)},affectedTextRange:void 0}}function B6(e,t){if(t){if(et(t)){const n=[];for(const r of t){const t=B6(e,r);if(!t)return;_e(n,t)}return n}if(UN(t)){const n=[],r=new Set;for(const i of t.types){const t=B6(e,i);if(!t||!t.every(e=>e.name&&Cx(r,ZQ(e.name))))return;_e(n,t)}return n}return HN(t)?B6(e,t.type):RN(t)?t.members:void 0}}function J6(e,t,n){return AX(e,ns(n.text,t.pos),t.end)}function z6(e){return et(e.selection)?{firstTypeNode:e.selection[0],lastTypeNode:e.selection[e.selection.length-1],newTypeNode:VN(e.selection[0].parent)?_w.createUnionTypeNode(e.selection):_w.createIntersectionTypeNode(e.selection)}:{firstTypeNode:e.selection,lastTypeNode:e.selection,newTypeNode:e.selection}}h6(O6,{kinds:[L6.kind,j6.kind,R6.kind],getAvailableActions:function(e){const{info:t,affectedTextRange:n}=M6(e,"invoked"===e.triggerReason);return t?w3(t)?e.preferences.provideRefactorNotApplicableReason?[{name:O6,description:Gx(ma.Extract_type),actions:[__spreadProps(__spreadValues({},R6),{notApplicableReason:t.error}),__spreadProps(__spreadValues({},L6),{notApplicableReason:t.error}),__spreadProps(__spreadValues({},j6),{notApplicableReason:t.error})]}]:u:[{name:O6,description:Gx(ma.Extract_type),actions:t.isJS?[R6]:se([L6],t.typeElements&&j6)}].map(t=>__spreadProps(__spreadValues({},t),{actions:t.actions.map(t=>__spreadProps(__spreadValues({},t),{range:n?{start:{line:$a(e.file,n.pos).line,offset:$a(e.file,n.pos).character},end:{line:$a(e.file,n.end).line,offset:$a(e.file,n.end).character}}:void 0}))})):u},getEditsForAction:function(e,t){const{file:n}=e,{info:r}=M6(e);fn.assert(r&&!w3(r),"Expected to find a range to extract");const i=gY("NewType",n),o=rde.ChangeTracker.with(e,o=>{switch(t){case L6.name:return fn.assert(!r.isJS,"Invalid actionName/JS combo"),function(e,t,n,r){const{enclosingNode:i,typeParameters:o}=r,{firstTypeNode:a,lastTypeNode:s,newTypeNode:c}=z6(r),l=_w.createTypeAliasDeclaration(void 0,n,o.map(e=>_w.updateTypeParameterDeclaration(e,e.modifiers,e.name,e.constraint,void 0)),c);e.insertNodeBefore(t,i,Uw(l),!0),e.replaceNodeRange(t,a,s,_w.createTypeReferenceNode(n,o.map(e=>_w.createTypeReferenceNode(e.name,void 0))),{leadingTriviaOption:rde.LeadingTriviaOption.Exclude,trailingTriviaOption:rde.TrailingTriviaOption.ExcludeWhitespace})}(o,n,i,r);case R6.name:return fn.assert(r.isJS,"Invalid actionName/JS combo"),function(e,t,n,r,i){var o;tt(i.selection).forEach(e=>{gw(e,7168)});const{enclosingNode:a,typeParameters:s}=i,{firstTypeNode:c,lastTypeNode:l,newTypeNode:_}=z6(i),u=_w.createJSDocTypedefTag(_w.createIdentifier("typedef"),_w.createJSDocTypeExpression(_),_w.createIdentifier(r)),d=[];f(s,e=>{const t=gl(e),n=_w.createTypeParameterDeclaration(void 0,e.name),r=_w.createJSDocTemplateTag(_w.createIdentifier("template"),t&&ot(t,iP),[n]);d.push(r)});const p=_w.createJSDocComment(void 0,_w.createNodeArray(X(d,[u])));if(yP(a)){const r=a.getStart(n),i=$Z(t.host,null==(o=t.formatContext)?void 0:o.options);e.insertNodeAt(n,a.getStart(n),p,{suffix:i+i+n.text.slice(iY(n.text,r-1),r)})}else e.insertNodeBefore(n,a,p,!0);e.replaceNodeRange(n,c,l,_w.createTypeReferenceNode(r,s.map(e=>_w.createTypeReferenceNode(e.name,void 0))))}(o,e,n,i,r);case j6.name:return fn.assert(!r.isJS&&!!r.typeElements,"Invalid actionName/JS combo"),function(e,t,n,r){var i;const{enclosingNode:o,typeParameters:a,typeElements:s}=r,c=_w.createInterfaceDeclaration(void 0,n,a,void 0,s);vI(c,null==(i=s[0])?void 0:i.parent),e.insertNodeBefore(t,o,Uw(c),!0);const{firstTypeNode:l,lastTypeNode:_}=z6(r);e.replaceNodeRange(t,l,_,_w.createTypeReferenceNode(n,a.map(e=>_w.createTypeReferenceNode(e.name,void 0))),{leadingTriviaOption:rde.LeadingTriviaOption.Exclude,trailingTriviaOption:rde.TrailingTriviaOption.ExcludeWhitespace})}(o,n,i,r);default:fn.fail("Unexpected action name")}}),a=n.fileName;return{edits:o,renameFilename:a,renameLocation:hY(o,a,i,!1)}}});var q6="Move to file",V6=Gx(ma.Move_to_file),U6={name:"Move to file",description:V6,kind:"refactor.move.file"};function W6(e){return{edits:[],renameFilename:void 0,renameLocation:void 0,notApplicableReason:e}}function $6(e,t,n,r,i,o,a,s,c,l){const _=o.getTypeChecker(),u=un(e.statements,hf),d=!y0(t.fileName,o,a,!!e.commonJsModuleIndicator),f=lZ(e,s);t3(n.oldFileImportsFromTargetFile,t.fileName,l,o),function(e,t,n,r){for(const i of e.statements)w(t,i)||Y6(i,e=>{e3(e,e=>{n.has(e.symbol)&&r.removeExistingImport(e)})})}(e,i.all,n.unusedImportsFromOldFile,l),l.writeFixes(r,f),function(e,t,n){for(const{first:r,afterLast:i}of t)n.deleteNodeRangeExcludingEnd(e,r,i)}(e,i.ranges,r),function(e,t,n,r,i,o,a){const s=t.getTypeChecker();for(const c of t.getSourceFiles())if(c!==r)for(const l of c.statements)Y6(l,_=>{if(s.getSymbolAtLocation(Z6(_))!==r.symbol)return;const u=e=>{const t=iF(e.parent)?mZ(s,e.parent):_x(s.getSymbolAtLocation(e),s);return!!t&&i.has(t)};r3(c,_,e,u);const d=qo(Io(Uo(r.fileName,t.getCurrentDirectory())),o);if(0===Ft(!t.useCaseSensitiveFileNames())(d,c.fileName))return;const p=aB.getModuleSpecifier(t.getCompilerOptions(),c,c.fileName,d,nZ(t,n)),f=c3(_,aZ(p,a),u);f&&e.insertNodeAfter(c,l,f);const m=G6(_);m&&X6(e,c,s,i,p,m,_,a)})}(r,o,a,e,n.movedSymbols,t.fileName,f),K6(e,n.targetFileImportsFromOldFile,r,d),F3(e,n.oldImportsNeededByTargetFile,n.targetFileImportsFromOldFile,_,o,c),!Am(t)&&u.length&&r.insertStatementsInNewFile(t.fileName,u,e),c.writeFixes(r,f);const m=function(e,t,n,r){return j(t,t=>{if(i3(t)&&!n3(e,t,r)&&y3(t,e=>{var t;return n.includes(fn.checkDefined(null==(t=it(e,uu))?void 0:t.symbol))})){const e=function(e,t){return t?[o3(e)]:function(e){return[e,...s3(e).map(a3)]}(e)}(oY(t),r);if(e)return e}return oY(t)})}(e,i.all,Re(n.oldFileImportsFromTargetFile.keys()),d);Am(t)&&t.statements.length>0?function(e,t,n,r,i){var o;const a=new Set,s=null==(o=r.symbol)?void 0:o.exports;if(s){const n=t.getTypeChecker(),o=new Map;for(const e of i.all)i3(e)&&Av(e,32)&&y3(e,e=>{var t;const n=g(uu(e)?null==(t=s.get(e.symbol.escapedName))?void 0:t.declarations:void 0,e=>NE(e)?e:EE(e)?it(e.parent.parent,NE):void 0);n&&n.moduleSpecifier&&o.set(n,(o.get(n)||new Set).add(e))});for(const[t,i]of Re(o))if(t.exportClause&&FE(t.exportClause)&&p(t.exportClause.elements)){const o=t.exportClause.elements,s=F(o,e=>void 0===k(_x(e.symbol,n).declarations,e=>x3(e)&&i.has(e)));if(0===p(s)){e.deleteNode(r,t),a.add(t);continue}p(s)<p(o)&&e.replaceNode(r,t,_w.updateExportDeclaration(t,t.modifiers,t.isTypeOnly,_w.updateNamedExports(t.exportClause,_w.createNodeArray(s,o.hasTrailingComma)),t.moduleSpecifier,t.attributes))}}const c=S(r.statements,e=>NE(e)&&!!e.moduleSpecifier&&!a.has(e));c?e.insertNodesBefore(r,c,n,!0):e.insertNodesAfter(r,r.statements[r.statements.length-1],n)}(r,o,m,t,i):Am(t)?r.insertNodesAtEndOfFile(t,m,!1):r.insertStatementsInNewFile(t.fileName,c.hasFixes()?[4,...m]:m,e)}function H6(e,t,n,r,i){const o=e.getCompilerOptions().configFile;if(!o)return;const a=Wo(zo(n,"..",r)),s=_a(o.fileName,a,i),c=o.statements[0]&&it(o.statements[0].expression,aF),l=c&&k(c.properties,e=>ZE(e)&&MD(e.name)&&"files"===e.name.text);l&&oF(l.initializer)&&t.insertNodeInListAfter(o,ke(l.initializer.elements),_w.createStringLiteral(s),l.initializer.elements)}function K6(e,t,n,r){const i=KQ();t.forEach((t,o)=>{if(o.declarations)for(const a of o.declarations){if(!x3(a))continue;const t=l3(a);if(!t)continue;const o=_3(a);i(o)&&u3(e,o,t,n,r)}})}function G6(e){switch(e.kind){case 272:return e.importClause&&e.importClause.namedBindings&&274===e.importClause.namedBindings.kind?e.importClause.namedBindings.name:void 0;case 271:return e.name;case 260:return it(e.name,tN);default:return fn.assertNever(e,`Unexpected node kind ${e.kind}`)}}function X6(e,t,n,r,i,o,a,s){const c=s0(i,99);let l=!1;const _=[];if(Mce.Core.eachSymbolReferenceInFile(o,n,t,e=>{sF(e.parent)&&(l=l||!!n.resolveName(c,e,-1,!0),r.has(n.getSymbolAtLocation(e.parent.name))&&_.push(e))}),_.length){const n=l?gY(c,t):c;for(const r of _)e.replaceNode(t,r,_w.createIdentifier(n));e.insertNodeAfter(t,a,function(e,t,n,r){const i=_w.createIdentifier(t),o=aZ(n,r);switch(e.kind){case 272:return _w.createImportDeclaration(void 0,_w.createImportClause(!1,void 0,_w.createNamespaceImport(i)),o,void 0);case 271:return _w.createImportEqualsDeclaration(void 0,!1,i,_w.createExternalModuleReference(o));case 260:return _w.createVariableDeclaration(i,void 0,void 0,Q6(o));default:return fn.assertNever(e,`Unexpected node kind ${e.kind}`)}}(a,c,i,s))}}function Q6(e){return _w.createCallExpression(_w.createIdentifier("require"),void 0,[e])}function Z6(e){return 272===e.kind?e.moduleSpecifier:271===e.kind?e.moduleReference.expression:e.initializer.arguments[0]}function Y6(e,t){if(gE(e))MD(e.moduleSpecifier)&&t(e);else if(mE(e))LE(e.moduleReference)&&zu(e.moduleReference.expression)&&t(e);else if(JF(e))for(const n of e.declarationList.declarations)n.initializer&&Bm(n.initializer,!0)&&t(n)}function e3(e,t){var n,r,i,o,a;if(272===e.kind){if((null==(n=e.importClause)?void 0:n.name)&&t(e.importClause),274===(null==(i=null==(r=e.importClause)?void 0:r.namedBindings)?void 0:i.kind)&&t(e.importClause.namedBindings),275===(null==(a=null==(o=e.importClause)?void 0:o.namedBindings)?void 0:a.kind))for(const s of e.importClause.namedBindings.elements)t(s)}else if(271===e.kind)t(e);else if(260===e.kind)if(80===e.name.kind)t(e);else if(206===e.name.kind)for(const s of e.name.elements)tN(s.name)&&t(s)}function t3(e,t,n,r){for(const[i,o]of e){const e=i0(i,Sk(r.getCompilerOptions())),a="default"===i.name&&i.parent?1:0;n.addImportForNonExistentExport(e,t,a,i.flags,o)}}function n3(e,t,n,r){var i;return n?!qF(t)&&Av(t,32)||!!(r&&e.symbol&&(null==(i=e.symbol.exports)?void 0:i.has(r.escapedText))):!!e.symbol&&!!e.symbol.exports&&s3(t).some(t=>e.symbol.exports.has(vc(t)))}function r3(e,t,n,r){if(272===t.kind&&t.importClause){const{name:i,namedBindings:o}=t.importClause;if((!i||r(i))&&(!o||275===o.kind&&0!==o.elements.length&&o.elements.every(e=>r(e.name))))return n.delete(e,t)}e3(t,t=>{t.name&&tN(t.name)&&r(t.name)&&n.delete(e,t)})}function i3(e){return fn.assert(nP(e.parent),"Node parent should be a SourceFile"),S3(e)||JF(e)}function o3(e){const t=bI(e)?X([_w.createModifier(95)],Ic(e)):void 0;switch(e.kind){case 262:return _w.updateFunctionDeclaration(e,t,e.asteriskToken,e.name,e.typeParameters,e.parameters,e.type,e.body);case 263:const n=xI(e)?Ac(e):void 0;return _w.updateClassDeclaration(e,X(n,t),e.name,e.typeParameters,e.heritageClauses,e.members);case 243:return _w.updateVariableStatement(e,t,e.declarationList);case 267:return _w.updateModuleDeclaration(e,t,e.name,e.body);case 266:return _w.updateEnumDeclaration(e,t,e.name,e.members);case 265:return _w.updateTypeAliasDeclaration(e,t,e.name,e.typeParameters,e.type);case 264:return _w.updateInterfaceDeclaration(e,t,e.name,e.typeParameters,e.heritageClauses,e.members);case 271:return _w.updateImportEqualsDeclaration(e,t,e.isTypeOnly,e.name,e.moduleReference);case 244:return fn.fail();default:return fn.assertNever(e,`Unexpected declaration kind ${e.kind}`)}}function a3(e){return _w.createExpressionStatement(_w.createBinaryExpression(_w.createPropertyAccessExpression(_w.createIdentifier("exports"),_w.createIdentifier(e)),64,_w.createIdentifier(e)))}function s3(e){switch(e.kind){case 262:case 263:return[e.name.text];case 243:return z(e.declarationList.declarations,e=>tN(e.name)?e.name.text:void 0);case 267:case 266:case 265:case 264:case 271:return u;case 244:return fn.fail("Can't export an ExpressionStatement");default:return fn.assertNever(e,`Unexpected decl kind ${e.kind}`)}}function c3(e,t,n){switch(e.kind){case 272:{const r=e.importClause;if(!r)return;const i=r.name&&n(r.name)?r.name:void 0,o=r.namedBindings&&function(e,t){if(274===e.kind)return t(e.name)?e:void 0;{const n=e.elements.filter(e=>t(e.name));return n.length?_w.createNamedImports(n):void 0}}(r.namedBindings,n);return i||o?_w.createImportDeclaration(void 0,_w.createImportClause(r.isTypeOnly,i,o),oY(t),void 0):void 0}case 271:return n(e.name)?e:void 0;case 260:{const r=function(e,t){switch(e.kind){case 80:return t(e)?e:void 0;case 207:return e;case 206:{const n=e.elements.filter(e=>e.propertyName||!tN(e.name)||t(e.name));return n.length?_w.createObjectBindingPattern(n):void 0}}}(e.name,n);return r?function(e,t,n,r=2){return _w.createVariableStatement(void 0,_w.createVariableDeclarationList([_w.createVariableDeclaration(e,void 0,t,n)],r))}(r,e.type,Q6(t),e.parent.flags):void 0}default:return fn.assertNever(e,`Unexpected import kind ${e.kind}`)}}function l3(e){return qF(e)?it(e.expression.left.name,tN):it(e.name,tN)}function _3(e){switch(e.kind){case 260:return e.parent.parent;case 208:return _3(ot(e.parent.parent,e=>iE(e)||iF(e)));default:return e}}function u3(e,t,n,r,i){if(!n3(e,t,i,n))if(i)qF(t)||r.insertExportModifier(e,t);else{const n=s3(t);0!==n.length&&r.insertNodesAfter(e,t,n.map(a3))}}function d3(e,t,n,r){const i=t.getTypeChecker();if(r){const t=g3(e,r.all,i),s=Io(e.fileName),c=iT(e.fileName),l=zo(s,function(e,t,n,r){let i=e;for(let o=1;;o++){const a=zo(n,i+t);if(!r.fileExists(a))return i;i=`${e}.${o}`}}((o=t.oldFileImportsFromTargetFile,a=t.movedSymbols,cd(o,uZ)||cd(a,uZ)||"newFile"),c,s,n))+c;return l}var o,a;return""}function p3(e){const t=function(e){const{file:t}=e,n=zQ(e0(e)),{statements:r}=t;let i=T(r,e=>e.end>n.pos);if(-1===i)return;const o=T3(t,r[i]);o&&(i=o.start);let a=T(r,e=>e.end>=n.end,i);-1!==a&&n.end<=r[a].getStart()&&a--;const s=T3(t,r[a]);return s&&(a=s.end),{toMove:r.slice(i,-1===a?r.length:a+1),afterLast:-1===a?void 0:r[a+1]}}(e);if(void 0===t)return;const n=[],r=[],{toMove:i,afterLast:o}=t;return G(i,m3,(e,t)=>{for(let r=e;r<t;r++)n.push(i[r]);r.push({first:i[e],afterLast:o})}),0===n.length?void 0:{all:n,ranges:r}}function f3(e){return k(e,e=>!!(2&e.transformFlags))}function m3(e){return!function(e){switch(e.kind){case 272:return!0;case 271:return!Av(e,32);case 243:return e.declarationList.declarations.every(e=>!!e.initializer&&Bm(e.initializer,!0));default:return!1}}(e)&&!hf(e)}function g3(e,t,n,r=new Set,i){var o;const a=new Set,s=new Map,c=new Map,l=function(e){if(void 0===e)return;const t=n.getJsxNamespace(e),r=n.resolveName(t,e,1920,!0);return r&&K(r.declarations,v3)?r:void 0}(f3(t));l&&s.set(l,[!1,it(null==(o=l.declarations)?void 0:o[0],e=>wE(e)||hE(e)||SE(e)||mE(e)||iF(e)||iE(e))]);for(const d of t)y3(d,e=>{a.add(fn.checkDefined(qF(e)?n.getSymbolAtLocation(e.expression.left):e.symbol,"Need a symbol here"))});const _=new Set;for(const d of t)h3(d,n,i,(t,i)=>{if(!K(t.declarations))return;if(r.has(_x(t,n)))return void _.add(t);const o=k(t.declarations,v3);if(o){const e=s.get(t);s.set(t,[(void 0===e||e)&&i,it(o,e=>wE(e)||hE(e)||SE(e)||mE(e)||iF(e)||iE(e))])}else!a.has(t)&&x(t.declarations,t=>{return x3(t)&&(iE(n=t)?n.parent.parent.parent:n.parent)===e;var n})&&c.set(t,i)});for(const d of s.keys())_.add(d);const u=new Map;for(const d of e.statements)w(t,d)||(l&&2&d.transformFlags&&_.delete(l),h3(d,n,i,(e,t)=>{a.has(e)&&u.set(e,t),_.delete(e)}));return{movedSymbols:a,targetFileImportsFromOldFile:c,oldFileImportsFromTargetFile:u,oldImportsNeededByTargetFile:s,unusedImportsFromOldFile:_}}function h3(e,t,n,r){e.forEachChild(function e(i){if(tN(i)&&!ph(i)){if(n&&!tx(n,i))return;const e=t.getSymbolAtLocation(i);e&&r(e,CT(i))}else i.forEachChild(e)})}function y3(e,t){switch(e.kind){case 262:case 263:case 267:case 266:case 265:case 264:case 271:return t(e);case 243:return g(e.declarationList.declarations,e=>k3(e.name,t));case 244:{const{expression:n}=e;return kF(n)&&1===og(n)?t(e):void 0}}}function v3(e){switch(e.kind){case 271:case 276:case 273:case 274:return!0;case 260:return b3(e);case 208:return iE(e.parent.parent)&&b3(e.parent.parent);default:return!1}}function b3(e){return nP(e.parent.parent.parent)&&!!e.initializer&&Bm(e.initializer,!0)}function x3(e){return S3(e)&&nP(e.parent)||iE(e)&&nP(e.parent.parent.parent)}function k3(e,t){switch(e.kind){case 80:return t(ot(e.parent,e=>iE(e)||iF(e)));case 207:case 206:return g(e.elements,e=>NF(e)?void 0:k3(e.name,t));default:return fn.assertNever(e,`Unexpected name kind ${e.kind}`)}}function S3(e){switch(e.kind){case 262:case 263:case 267:case 266:case 265:case 264:case 271:return!0;default:return!1}}function T3(e,t){if(__(t)){const n=t.symbol.declarations;if(void 0===n||p(n)<=1||!w(n,t))return;const r=n[0],i=n[p(n)-1],o=z(n,t=>Sd(t)===e&&yu(t)?t:void 0),a=T(e.statements,e=>e.end>=i.end);return{toMove:o,start:T(e.statements,e=>e.end>=r.end),end:a}}}function C3(e,t,n){const r=new Set;for(const i of e.imports){const e=Sg(i);if(gE(e)&&e.importClause&&e.importClause.namedBindings&&CE(e.importClause.namedBindings))for(const t of e.importClause.namedBindings.elements){const e=n.getSymbolAtLocation(t.propertyName||t.name);e&&r.add(_x(e,n))}if(Jm(e.parent)&&nF(e.parent.name))for(const t of e.parent.name.elements){const e=n.getSymbolAtLocation(t.propertyName||t.name);e&&r.add(_x(e,n))}}for(const i of t)h3(i,n,void 0,t=>{const i=_x(t,n);i.valueDeclaration&&Sd(i.valueDeclaration).path===e.path&&r.add(i)});return r}function w3(e){return void 0!==e.error}function D3(e,t){return!t||e.substr(0,t.length)===t}function N3(e,t,n,r){return!sF(e)||g_(t)||n.resolveName(e.name.text,e,111551,!1)||nN(e.name)||kc(e.name)?gY(g_(t)?"newProperty":"newLocal",r):e.name.text}function F3(e,t,n,r,i,o){t.forEach(([e,t],n)=>{var i;const a=_x(n,r);r.isUnknownSymbol(a)?o.addVerbatimImport(fn.checkDefined(null!=t?t:gc(null==(i=n.declarations)?void 0:i[0],Fp))):void 0===a.parent?(fn.assert(void 0!==t,"expected module symbol to have a declaration"),o.addImportForModuleSymbol(n,e,t)):o.addImportFromExportedSymbol(a,e,t)}),t3(n,e.fileName,o,i)}h6(q6,{kinds:[U6.kind],getAvailableActions:function(e,t){const n=e.file,r=p3(e);if(!t)return u;if("implicit"===e.triggerReason&&void 0!==e.endPosition){const t=gc(tQ(n,e.startPosition),v0),r=gc(tQ(n,e.endPosition),v0);if(t&&!nP(t)&&r&&!nP(r))return u}if(e.preferences.allowTextChangesInNewFiles&&r){const e={start:{line:$a(n,r.all[0].getStart(n)).line,offset:$a(n,r.all[0].getStart(n)).character},end:{line:$a(n,ke(r.all).end).line,offset:$a(n,ke(r.all).end).character}};return[{name:q6,description:V6,actions:[__spreadProps(__spreadValues({},U6),{range:e})]}]}return e.preferences.provideRefactorNotApplicableReason?[{name:q6,description:V6,actions:[__spreadProps(__spreadValues({},U6),{notApplicableReason:Gx(ma.Selection_is_not_a_valid_statement_or_statements)})]}]:u},getEditsForAction:function(e,t,n){fn.assert(t===q6,"Wrong refactor invoked");const r=fn.checkDefined(p3(e)),{host:i,program:o}=e;fn.assert(n,"No interactive refactor arguments available");const a=n.targetFile;if(BS(a)||JS(a)){if(i.fileExists(a)&&void 0===o.getSourceFile(a))return W6(Gx(ma.Cannot_move_statements_to_the_selected_file));const t=rde.ChangeTracker.with(e,t=>function(e,t,n,r,i,o,a,s){const c=r.getTypeChecker(),l=!a.fileExists(n),_=l?b0(n,t.externalModuleIndicator?99:t.commonJsModuleIndicator?1:void 0,r,a):fn.checkDefined(r.getSourceFile(n)),u=U7.createImportAdder(t,e.program,e.preferences,e.host),d=U7.createImportAdder(_,e.program,e.preferences,e.host);$6(t,_,g3(t,i.all,c,l?void 0:C3(_,i.all,c)),o,i,r,a,s,d,u),l&&H6(r,o,t.fileName,n,zy(a))}(e,e.file,n.targetFile,e.program,r,t,e.host,e.preferences));return{edits:t,renameFilename:void 0,renameLocation:void 0}}return W6(Gx(ma.Cannot_move_to_file_selected_file_is_invalid))}});var E3="Inline variable",P3=Gx(ma.Inline_variable),A3={name:E3,description:P3,kind:"refactor.inline.variable"};function I3(e,t,n,r){var i,o;const a=r.getTypeChecker(),s=YX(e,t),c=s.parent;if(tN(s)){if(ox(c)&&Rf(c)&&tN(c.name)){if(1!==(null==(i=a.getMergedSymbol(c.symbol).declarations)?void 0:i.length))return{error:Gx(ma.Variables_with_multiple_declarations_cannot_be_inlined)};if(O3(c))return;const t=L3(c,a,e);return t&&{references:t,declaration:c,replacement:c.initializer}}if(n){let t=a.resolveName(s.text,s,111551,!1);if(t=t&&a.getMergedSymbol(t),1!==(null==(o=null==t?void 0:t.declarations)?void 0:o.length))return{error:Gx(ma.Variables_with_multiple_declarations_cannot_be_inlined)};const n=t.declarations[0];if(!ox(n)||!Rf(n)||!tN(n.name))return;if(O3(n))return;const r=L3(n,a,e);return r&&{references:r,declaration:n,replacement:n.initializer}}return{error:Gx(ma.Could_not_find_variable_to_inline)}}}function O3(e){return K(ot(e.parent.parent,JF).modifiers,rN)}function L3(e,t,n){const r=[],i=Mce.Core.eachSymbolReferenceInFile(e.name,t,n,t=>!(!Mce.isWriteAccessForReference(t)||YE(t.parent))||!(!EE(t.parent)&&!DE(t.parent))||!!jN(t.parent)||!!Rs(e,t.pos)||void r.push(t));return 0===r.length||i?void 0:r}function j3(e,t){t=oY(t);const{parent:n}=e;return G_(n)&&(cy(t)<cy(n)||SY(n))||c_(t)&&(J_(n)||sF(n))||sF(n)&&(jD(t)||aF(t))?_w.createParenthesizedExpression(t):tN(e)&&YE(n)?_w.createPropertyAssignment(e,t):t}function R3(e,t,n,r){const i=n.parent,o=i.templateSpans.indexOf(n),a=0===o?i.head:i.templateSpans[o-1];e.replaceRangeWithText(t,{pos:a.getEnd()-2,end:n.literal.getStart()+1},r.text.replace(/\\/g,"\\\\").replace(/`/g,"\\`"))}h6(E3,{kinds:[A3.kind],getAvailableActions(e){const{file:t,program:n,preferences:r,startPosition:i,triggerReason:o}=e,a=I3(t,i,"invoked"===o,n);return a?m6.isRefactorErrorInfo(a)?r.provideRefactorNotApplicableReason?[{name:E3,description:P3,actions:[__spreadProps(__spreadValues({},A3),{notApplicableReason:a.error})]}]:u:[{name:E3,description:P3,actions:[A3]}]:u},getEditsForAction(e,t){fn.assert(t===E3,"Unexpected refactor invoked");const{file:n,program:r,startPosition:i}=e,o=I3(n,i,!0,r);if(!o||m6.isRefactorErrorInfo(o))return;const{references:a,declaration:s,replacement:c}=o;return{edits:rde.ChangeTracker.with(e,e=>{for(const t of a){const r=MD(c)&&tN(t)&&sh(t.parent);r&&RF(r)&&!uF(r.parent.parent)?R3(e,n,r,c):e.replaceNode(n,t,j3(t,c))}e.delete(n,s)})}}});var M3="Move to a new file",B3=Gx(ma.Move_to_a_new_file),J3={name:M3,description:B3,kind:"refactor.move.newFile"};h6(M3,{kinds:[J3.kind],getAvailableActions:function(e){const t=p3(e),n=e.file;if("implicit"===e.triggerReason&&void 0!==e.endPosition){const t=gc(tQ(n,e.startPosition),v0),r=gc(tQ(n,e.endPosition),v0);if(t&&!nP(t)&&r&&!nP(r))return u}if(e.preferences.allowTextChangesInNewFiles&&t){const n=e.file,r={start:{line:$a(n,t.all[0].getStart(n)).line,offset:$a(n,t.all[0].getStart(n)).character},end:{line:$a(n,ke(t.all).end).line,offset:$a(n,ke(t.all).end).character}};return[{name:M3,description:B3,actions:[__spreadProps(__spreadValues({},J3),{range:r})]}]}return e.preferences.provideRefactorNotApplicableReason?[{name:M3,description:B3,actions:[__spreadProps(__spreadValues({},J3),{notApplicableReason:Gx(ma.Selection_is_not_a_valid_statement_or_statements)})]}]:u},getEditsForAction:function(e,t){fn.assert(t===M3,"Wrong refactor invoked");const n=fn.checkDefined(p3(e)),r=rde.ChangeTracker.with(e,t=>function(e,t,n,r,i,o,a){const s=t.getTypeChecker(),c=g3(e,n.all,s),l=d3(e,t,i,n),_=b0(l,e.externalModuleIndicator?99:e.commonJsModuleIndicator?1:void 0,t,i),u=U7.createImportAdder(e,o.program,o.preferences,o.host),d=U7.createImportAdder(_,o.program,o.preferences,o.host);$6(e,_,c,r,n,t,i,a,d,u),H6(t,r,e.fileName,l,zy(i))}(e.file,e.program,n,t,e.host,e,e.preferences));return{edits:r,renameFilename:void 0,renameLocation:void 0}}});var z3={},q3="Convert overload list to single signature",V3=Gx(ma.Convert_overload_list_to_single_signature),U3={name:q3,description:V3,kind:"refactor.rewrite.function.overloadList"};function W3(e){switch(e.kind){case 173:case 174:case 179:case 176:case 180:case 262:return!0}return!1}function $3(e,t,n){const r=gc(tQ(e,t),W3);if(!r)return;if(__(r)&&r.body&&EX(r.body,t))return;const i=n.getTypeChecker(),o=r.symbol;if(!o)return;const a=o.declarations;if(p(a)<=1)return;if(!x(a,t=>Sd(t)===e))return;if(!W3(a[0]))return;const s=a[0].kind;if(!x(a,e=>e.kind===s))return;const c=a;if(K(c,e=>!!e.typeParameters||K(e.parameters,e=>!!e.modifiers||!tN(e.name))))return;const l=z(c,e=>i.getSignatureFromDeclaration(e));if(p(l)!==p(a))return;const _=i.getReturnTypeOfSignature(l[0]);return x(l,e=>i.getReturnTypeOfSignature(e)===_)?c:void 0}h6(q3,{kinds:[U3.kind],getEditsForAction:function(e){const{file:t,startPosition:n,program:r}=e,i=$3(t,n,r);if(!i)return;const o=r.getTypeChecker(),a=i[i.length-1];let s=a;switch(a.kind){case 173:s=_w.updateMethodSignature(a,a.modifiers,a.name,a.questionToken,a.typeParameters,c(i),a.type);break;case 174:s=_w.updateMethodDeclaration(a,a.modifiers,a.asteriskToken,a.name,a.questionToken,a.typeParameters,c(i),a.type,a.body);break;case 179:s=_w.updateCallSignature(a,a.typeParameters,c(i),a.type);break;case 176:s=_w.updateConstructorDeclaration(a,a.modifiers,c(i),a.body);break;case 180:s=_w.updateConstructSignature(a,a.typeParameters,c(i),a.type);break;case 262:s=_w.updateFunctionDeclaration(a,a.modifiers,a.asteriskToken,a.name,a.typeParameters,c(i),a.type,a.body);break;default:return fn.failBadSyntaxKind(a,"Unhandled signature kind in overload list conversion refactoring")}if(s!==a)return{renameFilename:void 0,renameLocation:void 0,edits:rde.ChangeTracker.with(e,e=>{e.replaceNodeRange(t,i[0],i[i.length-1],s)})};function c(e){const t=e[e.length-1];return __(t)&&t.body&&(e=e.slice(0,e.length-1)),_w.createNodeArray([_w.createParameterDeclaration(void 0,_w.createToken(26),"args",void 0,_w.createUnionTypeNode(A(e,l)))])}function l(e){const t=A(e.parameters,_);return gw(_w.createTupleTypeNode(t),K(t,e=>!!p(Nw(e)))?0:1)}function _(e){fn.assert(tN(e.name));const t=vI(_w.createNamedTupleMember(e.dotDotDotToken,e.name,e.questionToken,e.type||_w.createKeywordTypeNode(133)),e),n=e.symbol&&e.symbol.getDocumentationComment(o);if(n){const e=r7(n);e.length&&Fw(t,[{text:`*\n${e.split("\n").map(e=>` * ${e}`).join("\n")}\n `,kind:3,pos:-1,end:-1,hasTrailingNewLine:!0,hasLeadingNewline:!0}])}return t}},getAvailableActions:function(e){const{file:t,startPosition:n,program:r}=e;return $3(t,n,r)?[{name:q3,description:V3,actions:[U3]}]:u}});var H3="Add or remove braces in an arrow function",K3=Gx(ma.Add_or_remove_braces_in_an_arrow_function),G3={name:"Add braces to arrow function",description:Gx(ma.Add_braces_to_arrow_function),kind:"refactor.rewrite.arrow.braces.add"},X3={name:"Remove braces from arrow function",description:Gx(ma.Remove_braces_from_arrow_function),kind:"refactor.rewrite.arrow.braces.remove"};function Q3(e,t,n=!0,r){const i=tQ(e,t),o=Zf(i);if(!o)return{error:Gx(ma.Could_not_find_a_containing_arrow_function)};if(!mF(o))return{error:Gx(ma.Containing_function_is_not_an_arrow_function)};if(tx(o,i)&&(!tx(o.body,i)||n)){if(D3(G3.kind,r)&&G_(o.body))return{func:o,addBraces:!0,expression:o.body};if(D3(X3.kind,r)&&BF(o.body)&&1===o.body.statements.length){const e=ve(o.body.statements);if(QF(e))return{func:o,addBraces:!1,expression:e.expression&&aF(Ix(e.expression,!1))?_w.createParenthesizedExpression(e.expression):e.expression,returnStatement:e}}}}h6(H3,{kinds:[X3.kind],getEditsForAction:function(e,t){const{file:n,startPosition:r}=e,i=Q3(n,r);fn.assert(i&&!w3(i),"Expected applicable refactor info");const{expression:o,returnStatement:a,func:s}=i;let c;if(t===G3.name){const e=_w.createReturnStatement(o);c=_w.createBlock([e],!0),yY(o,e,n,3,!0)}else if(t===X3.name&&a){const e=o||_w.createVoidZero();c=SY(e)?_w.createParenthesizedExpression(e):e,bY(a,c,n,3,!1),yY(a,c,n,3,!1),vY(a,c,n,3,!1)}else fn.fail("invalid action");return{renameFilename:void 0,renameLocation:void 0,edits:rde.ChangeTracker.with(e,e=>{e.replaceNode(n,s.body,c)})}},getAvailableActions:function(e){const{file:t,startPosition:n,triggerReason:r}=e,i=Q3(t,n,"invoked"===r);return i?w3(i)?e.preferences.provideRefactorNotApplicableReason?[{name:H3,description:K3,actions:[__spreadProps(__spreadValues({},G3),{notApplicableReason:i.error}),__spreadProps(__spreadValues({},X3),{notApplicableReason:i.error})]}]:u:[{name:H3,description:K3,actions:[i.addBraces?G3:X3]}]:u}});var Z3={},Y3="Convert arrow function or function expression",e4=Gx(ma.Convert_arrow_function_or_function_expression),t4={name:"Convert to anonymous function",description:Gx(ma.Convert_to_anonymous_function),kind:"refactor.rewrite.function.anonymous"},n4={name:"Convert to named function",description:Gx(ma.Convert_to_named_function),kind:"refactor.rewrite.function.named"},r4={name:"Convert to arrow function",description:Gx(ma.Convert_to_arrow_function),kind:"refactor.rewrite.function.arrow"};function i4(e){let t=!1;return e.forEachChild(function e(n){wX(n)?t=!0:g_(n)||aE(n)||fF(n)||KI(n,e)}),t}function o4(e,t,n){const r=tQ(e,t),i=n.getTypeChecker(),o=function(e,t,n){if(!function(e){return iE(e)||oE(e)&&1===e.declarations.length}(n))return;const r=(iE(n)?n:ve(n.declarations)).initializer;return r&&(mF(r)||fF(r)&&!s4(e,t,r))?r:void 0}(e,i,r.parent);if(o&&!i4(o.body)&&!i.containsArgumentsReference(o))return{selectedVariableDeclaration:!0,func:o};const a=Zf(r);if(a&&(fF(a)||mF(a))&&!tx(a.body,r)&&!i4(a.body)&&!i.containsArgumentsReference(a)){if(fF(a)&&s4(e,i,a))return;return{selectedVariableDeclaration:!1,func:a}}}function a4(e){if(G_(e)){const t=_w.createReturnStatement(e),n=e.getSourceFile();return vI(t,e),_Y(t),bY(e,t,n,void 0,!0),_w.createBlock([t],!0)}return e}function s4(e,t,n){return!!n.name&&Mce.Core.isSymbolReferencedInFile(n.name,t,e)}h6(Y3,{kinds:[t4.kind,n4.kind,r4.kind],getEditsForAction:function(e,t){const{file:n,startPosition:r,program:i}=e,o=o4(n,r,i);if(!o)return;const{func:a}=o,s=[];switch(t){case t4.name:s.push(...function(e,t){const{file:n}=e,r=a4(t.body),i=_w.createFunctionExpression(t.modifiers,t.asteriskToken,void 0,t.typeParameters,t.parameters,t.type,r);return rde.ChangeTracker.with(e,e=>e.replaceNode(n,t,i))}(e,a));break;case n4.name:const t=function(e){const t=e.parent;if(!iE(t)||!Rf(t))return;const n=t.parent,r=n.parent;return oE(n)&&JF(r)&&tN(t.name)?{variableDeclaration:t,variableDeclarationList:n,statement:r,name:t.name}:void 0}(a);if(!t)return;s.push(...function(e,t,n){const{file:r}=e,i=a4(t.body),{variableDeclaration:o,variableDeclarationList:a,statement:s,name:c}=n;uY(s);const l=32&lc(o)|Uv(t),_=_w.createModifiersFromModifierFlags(l),u=_w.createFunctionDeclaration(p(_)?_:void 0,t.asteriskToken,c,t.typeParameters,t.parameters,t.type,i);return 1===a.declarations.length?rde.ChangeTracker.with(e,e=>e.replaceNode(r,s,u)):rde.ChangeTracker.with(e,e=>{e.delete(r,o),e.insertNodeAfter(r,s,u)})}(e,a,t));break;case r4.name:if(!fF(a))return;s.push(...function(e,t){const{file:n}=e,r=t.body.statements,i=r[0];let o;!function(e,t){return 1===e.statements.length&&QF(t)&&!!t.expression}(t.body,i)?o=t.body:(o=i.expression,_Y(o),pY(i,o));const a=_w.createArrowFunction(t.modifiers,t.typeParameters,t.parameters,t.type,_w.createToken(39),o);return rde.ChangeTracker.with(e,e=>e.replaceNode(n,t,a))}(e,a));break;default:return fn.fail("invalid action")}return{renameFilename:void 0,renameLocation:void 0,edits:s}},getAvailableActions:function(e){const{file:t,startPosition:n,program:r,kind:i}=e,o=o4(t,n,r);if(!o)return u;const{selectedVariableDeclaration:a,func:s}=o,c=[],l=[];if(D3(n4.kind,i)){const e=a||mF(s)&&iE(s.parent)?void 0:Gx(ma.Could_not_convert_to_named_function);e?l.push(__spreadProps(__spreadValues({},n4),{notApplicableReason:e})):c.push(n4)}if(D3(t4.kind,i)){const e=!a&&mF(s)?void 0:Gx(ma.Could_not_convert_to_anonymous_function);e?l.push(__spreadProps(__spreadValues({},t4),{notApplicableReason:e})):c.push(t4)}if(D3(r4.kind,i)){const e=fF(s)?void 0:Gx(ma.Could_not_convert_to_arrow_function);e?l.push(__spreadProps(__spreadValues({},r4),{notApplicableReason:e})):c.push(r4)}return[{name:Y3,description:e4,actions:0===c.length&&e.preferences.provideRefactorNotApplicableReason?l:c}]}});var c4={},l4="Convert parameters to destructured object",_4=Gx(ma.Convert_parameters_to_destructured_object),u4={name:l4,description:_4,kind:"refactor.rewrite.parameters.toDestructured"};function d4(e,t){const n=h7(e);if(n){const e=t.getContextualTypeForObjectLiteralElement(n),r=null==e?void 0:e.getSymbol();if(r&&!(6&cx(r)))return r}}function p4(e){const t=e.node;return wE(t.parent)||hE(t.parent)||mE(t.parent)||SE(t.parent)||EE(t.parent)||DE(t.parent)?t:void 0}function f4(e){if(mu(e.node.parent))return e.node}function m4(e){if(e.node.parent){const t=e.node,n=t.parent;switch(n.kind){case 213:case 214:const e=it(n,z_);if(e&&e.expression===t)return e;break;case 211:const r=it(n,sF);if(r&&r.parent&&r.name===t){const e=it(r.parent,z_);if(e&&e.expression===r)return e}break;case 212:const i=it(n,cF);if(i&&i.parent&&i.argumentExpression===t){const e=it(i.parent,z_);if(e&&e.expression===i)return e}}}}function g4(e){if(e.node.parent){const t=e.node,n=t.parent;switch(n.kind){case 211:const e=it(n,sF);if(e&&e.expression===t)return e;break;case 212:const r=it(n,cF);if(r&&r.expression===t)return r}}}function h4(e){const t=e.node;if(2===ZG(t)||_b(t.parent))return t}function y4(e,t,n){const r=eQ(e,t),i=Yf(r);if(!function(e){const t=gc(e,Nu);if(t){const e=gc(t,e=>!Nu(e));return!!e&&__(e)}return!1}(r))return!(i&&function(e,t){var n;if(!function(e,t){return function(e){return S4(e)?e.length-1:e.length}(e)>=1&&x(e,e=>function(e,t){if(Uu(e)){const n=t.getTypeAtLocation(e);if(!t.isArrayType(n)&&!t.isTupleType(n))return!1}return!e.modifiers&&tN(e.name)}(e,t))}(e.parameters,t))return!1;switch(e.kind){case 262:return x4(e)&&b4(e,t);case 174:if(aF(e.parent)){const r=d4(e.name,t);return 1===(null==(n=null==r?void 0:r.declarations)?void 0:n.length)&&b4(e,t)}return b4(e,t);case 176:return sE(e.parent)?x4(e.parent)&&b4(e,t):k4(e.parent.parent)&&b4(e,t);case 218:case 219:return k4(e.parent)}return!1}(i,n)&&tx(i,r))||i.body&&tx(i.body,r)?void 0:i}function v4(e){return SN(e)&&(cE(e.parent)||RN(e.parent))}function b4(e,t){return!!e.body&&!t.isImplementationOfOverload(e)}function x4(e){return!!e.name||!!yZ(e,90)}function k4(e){return iE(e)&&_f(e)&&tN(e.name)&&!e.type}function S4(e){return e.length>0&&wX(e[0].name)}function T4(e){return S4(e)&&(e=_w.createNodeArray(e.slice(1),e.hasTrailingComma)),e}function C4(e,t){const n=T4(e.parameters),r=Uu(ke(n)),i=A(r?t.slice(0,n.length-1):t,(e,t)=>{const r=D4(n[t]),i=(o=r,tN(a=e)&&$h(a)===o?_w.createShorthandPropertyAssignment(o):_w.createPropertyAssignment(o,a));var o,a;return _Y(i.name),ZE(i)&&_Y(i.initializer),pY(e,i),i});if(r&&t.length>=n.length){const e=t.slice(n.length-1),r=_w.createPropertyAssignment(D4(ke(n)),_w.createArrayLiteralExpression(e));i.push(r)}return _w.createObjectLiteralExpression(i,!1)}function w4(e,t,n){const r=t.getTypeChecker(),i=T4(e.parameters),o=A(i,function(e){const t=_w.createBindingElement(void 0,void 0,D4(e),Uu(e)&&u(e)?_w.createArrayLiteralExpression():e.initializer);return _Y(t),e.initializer&&t.initializer&&pY(e.initializer,t.initializer),t}),a=_w.createObjectBindingPattern(o),s=function(e){const t=A(e,_);return hw(_w.createTypeLiteralNode(t),1)}(i);let c;x(i,u)&&(c=_w.createObjectLiteralExpression());const l=_w.createParameterDeclaration(void 0,void 0,a,void 0,s,c);if(S4(e.parameters)){const t=e.parameters[0],n=_w.createParameterDeclaration(void 0,void 0,t.name,void 0,t.type);return _Y(n.name),pY(t.name,n.name),t.type&&(_Y(n.type),pY(t.type,n.type)),_w.createNodeArray([n,l])}return _w.createNodeArray([l]);function _(e){let i=e.type;var o;i||!e.initializer&&!Uu(e)||(o=e,i=PY(r.getTypeAtLocation(o),o,t,n));const a=_w.createPropertySignature(void 0,D4(e),u(e)?_w.createToken(58):e.questionToken,i);return _Y(a),pY(e.name,a.name),e.type&&a.type&&pY(e.type,a.type),a}function u(e){if(Uu(e)){const t=r.getTypeAtLocation(e);return!r.isTupleType(t)}return r.isOptionalParameter(e)}}function D4(e){return $h(e.name)}h6(l4,{kinds:[u4.kind],getEditsForAction:function(e,t){fn.assert(t===l4,"Unexpected action name");const{file:n,startPosition:r,program:i,cancellationToken:o,host:a}=e,s=y4(n,r,i.getTypeChecker());if(!s||!o)return;const c=function(e,t,n){const r=function(e){switch(e.kind){case 262:return e.name?[e.name]:[fn.checkDefined(yZ(e,90),"Nameless function declaration should be a default export")];case 174:return[e.name];case 176:const t=fn.checkDefined(zX(e,137,e.getSourceFile()),"Constructor declaration should have constructor keyword");return 231===e.parent.kind?[e.parent.parent.name,t]:[t];case 219:return[e.parent.name];case 218:return e.name?[e.name,e.parent.name]:[e.parent.name];default:return fn.assertNever(e,`Unexpected function declaration kind ${e.kind}`)}}(e),i=wN(e)?function(e){switch(e.parent.kind){case 263:const t=e.parent;return t.name?[t.name]:[fn.checkDefined(yZ(t,90),"Nameless class declaration should be a default export")];case 231:const n=e.parent,r=e.parent.parent,i=n.name;return i?[i,r.name]:[r.name]}}(e):[],o=ee([...r,...i],yt),a=t.getTypeChecker(),s=j(o,e=>Mce.getReferenceEntriesForNode(-1,e,t,t.getSourceFiles(),n)),c=l(s);return x(c.declarations,e=>w(o,e))||(c.valid=!1),c;function l(t){const n={accessExpressions:[],typeUsages:[]},o={functionCalls:[],declarations:[],classReferences:n,valid:!0},s=A(r,_),c=A(i,_),l=wN(e),u=A(r,e=>d4(e,a));for(const r of t){if(r.kind===Mce.EntryKind.Span){o.valid=!1;continue}if(w(u,_(r.node))){if(v4(r.node.parent)){o.signature=r.node.parent;continue}const e=m4(r);if(e){o.functionCalls.push(e);continue}}const t=d4(r.node,a);if(t&&w(u,t)){const e=f4(r);if(e){o.declarations.push(e);continue}}if(w(s,_(r.node))||tX(r.node)){if(p4(r))continue;const e=f4(r);if(e){o.declarations.push(e);continue}const t=m4(r);if(t){o.functionCalls.push(t);continue}}if(l&&w(c,_(r.node))){if(p4(r))continue;const t=f4(r);if(t){o.declarations.push(t);continue}const i=g4(r);if(i){n.accessExpressions.push(i);continue}if(sE(e.parent)){const e=h4(r);if(e){n.typeUsages.push(e);continue}}}o.valid=!1}return o}function _(e){const t=a.getSymbolAtLocation(e);return t&&eY(t,a)}}(s,i,o);if(c.valid){const t=rde.ChangeTracker.with(e,e=>function(e,t,n,r,i,o){const a=o.signature,s=A(w4(i,t,n),e=>oY(e));a&&l(a,A(w4(a,t,n),e=>oY(e))),l(i,s);const c=re(o.functionCalls,(e,t)=>kt(e.pos,t.pos));for(const _ of c)if(_.arguments&&_.arguments.length){const e=oY(C4(i,_.arguments),!0);r.replaceNodeRange(Sd(_),ve(_.arguments),ke(_.arguments),e,{leadingTriviaOption:rde.LeadingTriviaOption.IncludeAll,trailingTriviaOption:rde.TrailingTriviaOption.Include})}function l(t,n){r.replaceNodeRangeWithNodes(e,ve(t.parameters),ke(t.parameters),n,{joiner:", ",indentation:0,leadingTriviaOption:rde.LeadingTriviaOption.IncludeAll,trailingTriviaOption:rde.TrailingTriviaOption.Include})}}(n,i,a,e,s,c));return{renameFilename:void 0,renameLocation:void 0,edits:t}}return{edits:[]}},getAvailableActions:function(e){const{file:t,startPosition:n}=e;return Im(t)?u:y4(t,n,e.program.getTypeChecker())?[{name:l4,description:_4,actions:[u4]}]:u}});var N4={},F4="Convert to template string",E4=Gx(ma.Convert_to_template_string),P4={name:F4,description:E4,kind:"refactor.rewrite.string"};function A4(e,t){const n=tQ(e,t),r=O4(n);return!L4(r).isValidConcatenation&&pF(r.parent)&&kF(r.parent.parent)?r.parent.parent:n}function I4(e,t){const n=O4(t),r=e.file,i=function({nodes:e,operators:t},n){const r=j4(t,n),i=R4(e,n,r),[o,a,s,c]=J4(0,e);if(o===e.length){const e=_w.createNoSubstitutionTemplateLiteral(a,s);return i(c,e),e}const l=[],_=_w.createTemplateHead(a,s);i(c,_);for(let u=o;u<e.length;u++){const t=q4(e[u]);r(u,t);const[n,o,a,s]=J4(u+1,e);u=n-1;const c=u===e.length-1;if(TF(t)){const e=A(t.templateSpans,(e,n)=>{z4(e);const r=n===t.templateSpans.length-1,i=e.literal.text+(r?o:""),s=B4(e.literal)+(r?a:"");return _w.createTemplateSpan(e.expression,c&&r?_w.createTemplateTail(i,s):_w.createTemplateMiddle(i,s))});l.push(...e)}else{const e=c?_w.createTemplateTail(o,a):_w.createTemplateMiddle(o,a);i(s,e),l.push(_w.createTemplateSpan(t,e))}}return _w.createTemplateExpression(_,l)}(L4(n),r),o=gs(r.text,n.end);if(o){const t=o[o.length-1],a={pos:o[0].pos,end:t.end};return rde.ChangeTracker.with(e,e=>{e.deleteRange(r,a),e.replaceNode(r,n,i)})}return rde.ChangeTracker.with(e,e=>e.replaceNode(r,n,i))}function O4(e){return gc(e.parent,e=>{switch(e.kind){case 211:case 212:return!1;case 228:case 226:return!(kF(e.parent)&&(t=e.parent,64!==t.operatorToken.kind&&65!==t.operatorToken.kind));default:return"quit"}var t})||e}function L4(e){const t=e=>{if(!kF(e))return{nodes:[e],operators:[],validOperators:!0,hasString:MD(e)||zD(e)};const{nodes:n,operators:r,hasString:i,validOperators:o}=t(e.left);if(!(i||MD(e.right)||TF(e.right)))return{nodes:[e],operators:[],hasString:!1,validOperators:!0};const a=40===e.operatorToken.kind,s=o&&a;return n.push(e.right),r.push(e.operatorToken),{nodes:n,operators:r,hasString:!0,validOperators:s}},{nodes:n,operators:r,validOperators:i,hasString:o}=t(e);return{nodes:n,operators:r,isValidConcatenation:i&&o}}h6(F4,{kinds:[P4.kind],getEditsForAction:function(e,t){const{file:n,startPosition:r}=e,i=A4(n,r);return t===E4?{edits:I4(e,i)}:fn.fail("invalid action")},getAvailableActions:function(e){const{file:t,startPosition:n}=e,r=O4(A4(t,n)),i=MD(r),o={name:F4,description:E4,actions:[]};return i&&"invoked"!==e.triggerReason?u:Tm(r)&&(i||kF(r)&&L4(r).isValidConcatenation)?(o.actions.push(P4),[o]):e.preferences.provideRefactorNotApplicableReason?(o.actions.push(__spreadProps(__spreadValues({},P4),{notApplicableReason:Gx(ma.Can_only_convert_string_concatenations_and_string_literals)})),[o]):u}});var j4=(e,t)=>(n,r)=>{n<e.length&&vY(e[n],r,t,3,!1)},R4=(e,t,n)=>(r,i)=>{for(;r.length>0;){const o=r.shift();vY(e[o],i,t,3,!1),n(o,i)}};function M4(e){return e.replace(/\\.|[$`]/g,e=>"\\"===e[0]?e:"\\"+e)}function B4(e){const t=qD(e)||VD(e)?-2:-1;return ep(e).slice(1,t)}function J4(e,t){const n=[];let r="",i="";for(;e<t.length;){const o=t[e];if(!zu(o)){if(TF(o)){r+=o.head.text,i+=B4(o.head);break}break}r+=o.text,i+=M4(ep(o).slice(1,-1)),n.push(e),e++}return[e,r,i,n]}function z4(e){const t=e.getSourceFile();vY(e,e.expression,t,3,!1),bY(e.expression,e.expression,t,3,!1)}function q4(e){return pF(e)&&(z4(e),e=e.expression),e}var V4={},U4="Convert to optional chain expression",W4=Gx(ma.Convert_to_optional_chain_expression),$4={name:U4,description:W4,kind:"refactor.rewrite.expression.optionalChain"};function H4(e){return kF(e)||SF(e)}function K4(e){return H4(e)||function(e){return qF(e)||QF(e)||JF(e)}(e)}function G4(e,t=!0){const{file:n,program:r}=e,i=e0(e),o=0===i.length;if(o&&!t)return;const a=tQ(n,i.start),s=iQ(n,i.start+i.length),c=Qs(a.pos,s&&s.end>=a.pos?s.getEnd():a.getEnd()),l=o?function(e){for(;e.parent;){if(K4(e)&&!K4(e.parent))return e;e=e.parent}}(a):function(e,t){for(;e.parent;){if(K4(e)&&0!==t.length&&e.end>=t.start+t.length)return e;e=e.parent}}(a,c),_=l&&K4(l)?function(e){if(H4(e))return e;if(JF(e)){const t=jg(e),n=null==t?void 0:t.initializer;return n&&H4(n)?n:void 0}return e.expression&&H4(e.expression)?e.expression:void 0}(l):void 0;if(!_)return{error:Gx(ma.Could_not_find_convertible_access_expression)};const u=r.getTypeChecker();return SF(_)?function(e,t){const n=e.condition,r=Y4(e.whenTrue);if(!r||t.isNullableType(t.getTypeAtLocation(r)))return{error:Gx(ma.Could_not_find_convertible_access_expression)};if((sF(n)||tN(n))&&Q4(n,r.expression))return{finalExpression:r,occurrences:[n],expression:e};if(kF(n)){const t=X4(r.expression,n);return t?{finalExpression:r,occurrences:t,expression:e}:{error:Gx(ma.Could_not_find_matching_access_expressions)}}}(_,u):function(e){if(56!==e.operatorToken.kind)return{error:Gx(ma.Can_only_convert_logical_AND_access_chains)};const t=Y4(e.right);if(!t)return{error:Gx(ma.Could_not_find_convertible_access_expression)};const n=X4(t.expression,e.left);return n?{finalExpression:t,occurrences:n,expression:e}:{error:Gx(ma.Could_not_find_matching_access_expressions)}}(_)}function X4(e,t){const n=[];for(;kF(t)&&56===t.operatorToken.kind;){const r=Q4(_h(e),_h(t.right));if(!r)break;n.push(r),e=r,t=t.left}const r=Q4(e,t);return r&&n.push(r),n.length>0?n:void 0}function Q4(e,t){if(tN(t)||sF(t)||cF(t))return function(e,t){for(;(lF(e)||sF(e)||cF(e))&&Z4(e)!==Z4(t);)e=e.expression;for(;sF(e)&&sF(t)||cF(e)&&cF(t);){if(Z4(e)!==Z4(t))return!1;e=e.expression,t=t.expression}return tN(e)&&tN(t)&&e.getText()===t.getText()}(e,t)?t:void 0}function Z4(e){return tN(e)||Jh(e)?e.getText():sF(e)?Z4(e.name):cF(e)?Z4(e.argumentExpression):void 0}function Y4(e){return kF(e=_h(e))?Y4(e.left):(sF(e)||cF(e)||lF(e))&&!kl(e)?e:void 0}function e8(e,t,n){if(sF(t)||cF(t)||lF(t)){const r=e8(e,t.expression,n),i=n.length>0?n[n.length-1]:void 0,o=(null==i?void 0:i.getText())===t.expression.getText();if(o&&n.pop(),lF(t))return o?_w.createCallChain(r,_w.createToken(29),t.typeArguments,t.arguments):_w.createCallChain(r,t.questionDotToken,t.typeArguments,t.arguments);if(sF(t))return o?_w.createPropertyAccessChain(r,_w.createToken(29),t.name):_w.createPropertyAccessChain(r,t.questionDotToken,t.name);if(cF(t))return o?_w.createElementAccessChain(r,_w.createToken(29),t.argumentExpression):_w.createElementAccessChain(r,t.questionDotToken,t.argumentExpression)}return t}h6(U4,{kinds:[$4.kind],getEditsForAction:function(e,t){const n=G4(e);return fn.assert(n&&!w3(n),"Expected applicable refactor info"),{edits:rde.ChangeTracker.with(e,t=>function(e,t,n,r){const{finalExpression:i,occurrences:o,expression:a}=r,s=o[o.length-1],c=e8(t,i,o);c&&(sF(c)||cF(c)||lF(c))&&(kF(a)?n.replaceNodeRange(e,s,i,c):SF(a)&&n.replaceNode(e,a,_w.createBinaryExpression(c,_w.createToken(61),a.whenFalse)))}(e.file,e.program.getTypeChecker(),t,n)),renameFilename:void 0,renameLocation:void 0}},getAvailableActions:function(e){const t=G4(e,"invoked"===e.triggerReason);return t?w3(t)?e.preferences.provideRefactorNotApplicableReason?[{name:U4,description:W4,actions:[__spreadProps(__spreadValues({},$4),{notApplicableReason:t.error})]}]:u:[{name:U4,description:W4,actions:[$4]}]:u}});var t8={};i(t8,{Messages:()=>n8,RangeFacts:()=>c8,getRangeToExtract:()=>l8,getRefactorActionsToExtractSymbol:()=>a8,getRefactorEditsToExtractSymbol:()=>s8});var n8,r8="Extract Symbol",i8={name:"Extract Constant",description:Gx(ma.Extract_constant),kind:"refactor.extract.constant"},o8={name:"Extract Function",description:Gx(ma.Extract_function),kind:"refactor.extract.function"};function a8(e){const t=e.kind,n=l8(e.file,e0(e),"invoked"===e.triggerReason),r=n.targetRange;if(void 0===r){if(!n.errors||0===n.errors.length||!e.preferences.provideRefactorNotApplicableReason)return u;const r=[];return D3(o8.kind,t)&&r.push({name:r8,description:o8.description,actions:[__spreadProps(__spreadValues({},o8),{notApplicableReason:m(n.errors)})]}),D3(i8.kind,t)&&r.push({name:r8,description:i8.description,actions:[__spreadProps(__spreadValues({},i8),{notApplicableReason:m(n.errors)})]}),r}const{affectedTextRange:i,extractions:o}=function(e,t){const{scopes:n,affectedTextRange:r,readsAndWrites:{functionErrorsPerScope:i,constantErrorsPerScope:o}}=d8(e,t),a=n.map((e,t)=>{const n=function(e){return __(e)?"inner function":g_(e)?"method":"function"}(e),r=function(e){return g_(e)?"readonly field":"constant"}(e),a=__(e)?function(e){switch(e.kind){case 176:return"constructor";case 218:case 262:return e.name?`function '${e.name.text}'`:EY;case 219:return"arrow function";case 174:return`method '${e.name.getText()}'`;case 177:return`'get ${e.name.getText()}'`;case 178:return`'set ${e.name.getText()}'`;default:fn.assertNever(e,`Unexpected scope kind ${e.kind}`)}}(e):g_(e)?function(e){return 263===e.kind?e.name?`class '${e.name.text}'`:"anonymous class declaration":e.name?`class expression '${e.name.text}'`:"anonymous class expression"}(e):function(e){return 268===e.kind?`namespace '${e.parent.name.getText()}'`:e.externalModuleIndicator?0:1}(e);let s,c;return 1===a?(s=$x(Gx(ma.Extract_to_0_in_1_scope),[n,"global"]),c=$x(Gx(ma.Extract_to_0_in_1_scope),[r,"global"])):0===a?(s=$x(Gx(ma.Extract_to_0_in_1_scope),[n,"module"]),c=$x(Gx(ma.Extract_to_0_in_1_scope),[r,"module"])):(s=$x(Gx(ma.Extract_to_0_in_1),[n,a]),c=$x(Gx(ma.Extract_to_0_in_1),[r,a])),0!==t||g_(e)||(c=$x(Gx(ma.Extract_to_0_in_enclosing_scope),[r])),{functionExtraction:{description:s,errors:i[t]},constantExtraction:{description:c,errors:o[t]}}});return{affectedTextRange:r,extractions:a}}(r,e);if(void 0===o)return u;const a=[],s=new Map;let c;const l=[],_=new Map;let d,p=0;for(const{functionExtraction:u,constantExtraction:g}of o){if(D3(o8.kind,t)){const t=u.description;0===u.errors.length?s.has(t)||(s.set(t,!0),a.push({description:t,name:`function_scope_${p}`,kind:o8.kind,range:{start:{line:$a(e.file,i.pos).line,offset:$a(e.file,i.pos).character},end:{line:$a(e.file,i.end).line,offset:$a(e.file,i.end).character}}})):c||(c={description:t,name:`function_scope_${p}`,notApplicableReason:m(u.errors),kind:o8.kind})}if(D3(i8.kind,t)){const t=g.description;0===g.errors.length?_.has(t)||(_.set(t,!0),l.push({description:t,name:`constant_scope_${p}`,kind:i8.kind,range:{start:{line:$a(e.file,i.pos).line,offset:$a(e.file,i.pos).character},end:{line:$a(e.file,i.end).line,offset:$a(e.file,i.end).character}}})):d||(d={description:t,name:`constant_scope_${p}`,notApplicableReason:m(g.errors),kind:i8.kind})}p++}const f=[];return a.length?f.push({name:r8,description:Gx(ma.Extract_function),actions:a}):e.preferences.provideRefactorNotApplicableReason&&c&&f.push({name:r8,description:Gx(ma.Extract_function),actions:[c]}),l.length?f.push({name:r8,description:Gx(ma.Extract_constant),actions:l}):e.preferences.provideRefactorNotApplicableReason&&d&&f.push({name:r8,description:Gx(ma.Extract_constant),actions:[d]}),f.length?f:u;function m(e){let t=e[0].messageText;return"string"!=typeof t&&(t=t.messageText),t}}function s8(e,t){const n=l8(e.file,e0(e)).targetRange,r=/^function_scope_(\d+)$/.exec(t);if(r){const t=+r[1];return fn.assert(isFinite(t),"Expected to parse a finite number from the function scope index"),function(e,t,n){const{scopes:r,readsAndWrites:{target:i,usagesPerScope:o,functionErrorsPerScope:a,exposedVariableDeclarations:s}}=d8(e,t);return fn.assert(!a[n].length,"The extraction went missing? How?"),t.cancellationToken.throwIfCancellationRequested(),function(e,t,{usages:n,typeParameterUsages:r,substitutions:i},o,a,s){const c=s.program.getTypeChecker(),l=Sk(s.program.getCompilerOptions()),_=U7.createImportAdder(s.file,s.program,s.preferences,s.host),d=t.getSourceFile(),p=gY(g_(t)?"newMethod":"newFunction",d),f=Om(t),m=_w.createIdentifier(p);let g;const h=[],y=[];let v;n.forEach((e,n)=>{let r;if(!f){let n=c.getTypeOfSymbolAtLocation(e.symbol,e.node);n=c.getBaseTypeOfLiteralType(n),r=U7.typeToAutoImportableTypeNode(c,_,n,t,l,1,8)}const i=_w.createParameterDeclaration(void 0,void 0,n,void 0,r);h.push(i),2===e.usage&&(v||(v=[])).push(e),y.push(_w.createIdentifier(n))});const b=Re(r.values(),e=>({type:e,declaration:p8(e,s.startPosition)}));b.sort(f8);const x=0===b.length?void 0:z(b,({declaration:e})=>e),S=void 0!==x?x.map(e=>_w.createTypeReferenceNode(e.name,void 0)):void 0;if(G_(e)&&!f){const n=c.getContextualType(e);g=c.typeToTypeNode(n,t,1,8)}const{body:T,returnValueProperty:C}=function(e,t,n,r,i){const o=void 0!==n||t.length>0;if(BF(e)&&!o&&0===r.size)return{body:_w.createBlock(e.statements,!0),returnValueProperty:void 0};let a,s=!1;const c=_w.createNodeArray(BF(e)?e.statements.slice(0):[yu(e)?e:_w.createReturnStatement(_h(e))]);if(o||r.size){const r=fJ(c,l,yu).slice();if(o&&!i&&yu(e)){const e=m8(t,n);1===e.length?r.push(_w.createReturnStatement(e[0].name)):r.push(_w.createReturnStatement(_w.createObjectLiteralExpression(e)))}return{body:_w.createBlock(r,!0),returnValueProperty:a}}return{body:_w.createBlock(c,!0),returnValueProperty:void 0};function l(e){if(!s&&QF(e)&&o){const r=m8(t,n);return e.expression&&(a||(a="__return"),r.unshift(_w.createPropertyAssignment(a,pJ(e.expression,l,G_)))),1===r.length?_w.createReturnStatement(r[0].name):_w.createReturnStatement(_w.createObjectLiteralExpression(r))}{const t=s;s=s||__(e)||g_(e);const n=r.get(rJ(e).toString()),i=n?oY(n):SJ(e,l,void 0);return s=t,i}}}(e,o,v,i,!!(1&a.facts));let w;_Y(T);const D=!!(16&a.facts);if(g_(t)){const e=f?[]:[_w.createModifier(123)];32&a.facts&&e.push(_w.createModifier(126)),4&a.facts&&e.push(_w.createModifier(134)),w=_w.createMethodDeclaration(e.length?e:void 0,2&a.facts?_w.createToken(42):void 0,m,void 0,x,h,g,T)}else D&&h.unshift(_w.createParameterDeclaration(void 0,void 0,"this",void 0,c.typeToTypeNode(c.getTypeAtLocation(a.thisNode),t,1,8),void 0)),w=_w.createFunctionDeclaration(4&a.facts?[_w.createToken(134)]:void 0,2&a.facts?_w.createToken(42):void 0,m,x,h,g,T);const N=rde.ChangeTracker.fromContext(s),F=function(e,t){return k(function(e){if(__(e)){const t=e.body;if(BF(t))return t.statements}else{if(dE(e)||nP(e))return e.statements;if(g_(e))return e.members}return u}(t),t=>t.pos>=e&&__(t)&&!wN(t))}((g8(a.range)?ke(a.range):a.range).end,t);F?N.insertNodeBefore(s.file,F,w,!0):N.insertNodeAtEndOfScope(s.file,t,w),_.writeFixes(N);const E=[],P=function(e,t,n){const r=_w.createIdentifier(n);if(g_(e)){const n=32&t.facts?_w.createIdentifier(e.name.text):_w.createThis();return _w.createPropertyAccessExpression(n,r)}return r}(t,a,p);D&&y.unshift(_w.createIdentifier("this"));let A=_w.createCallExpression(D?_w.createPropertyAccessExpression(P,"call"):P,S,y);if(2&a.facts&&(A=_w.createYieldExpression(_w.createToken(42),A)),4&a.facts&&(A=_w.createAwaitExpression(A)),y8(e)&&(A=_w.createJsxExpression(void 0,A)),o.length&&!v)if(fn.assert(!C,"Expected no returnValueProperty"),fn.assert(!(1&a.facts),"Expected RangeFacts.HasReturn flag to be unset"),1===o.length){const e=o[0];E.push(_w.createVariableStatement(void 0,_w.createVariableDeclarationList([_w.createVariableDeclaration(oY(e.name),void 0,oY(e.type),A)],e.parent.flags)))}else{const e=[],n=[];let r=o[0].parent.flags,i=!1;for(const s of o){e.push(_w.createBindingElement(void 0,void 0,oY(s.name)));const o=c.typeToTypeNode(c.getBaseTypeOfLiteralType(c.getTypeAtLocation(s)),t,1,8);n.push(_w.createPropertySignature(void 0,s.symbol.name,void 0,o)),i=i||void 0!==s.type,r&=s.parent.flags}const a=i?_w.createTypeLiteralNode(n):void 0;a&&gw(a,1),E.push(_w.createVariableStatement(void 0,_w.createVariableDeclarationList([_w.createVariableDeclaration(_w.createObjectBindingPattern(e),void 0,a,A)],r)))}else if(o.length||v){if(o.length)for(const t of o){let e=t.parent.flags;2&e&&(e=-3&e|1),E.push(_w.createVariableStatement(void 0,_w.createVariableDeclarationList([_w.createVariableDeclaration(t.symbol.name,void 0,j(t.type))],e)))}C&&E.push(_w.createVariableStatement(void 0,_w.createVariableDeclarationList([_w.createVariableDeclaration(C,void 0,j(g))],1)));const e=m8(o,v);C&&e.unshift(_w.createShorthandPropertyAssignment(C)),1===e.length?(fn.assert(!C,"Shouldn't have returnValueProperty here"),E.push(_w.createExpressionStatement(_w.createAssignment(e[0].name,A))),1&a.facts&&E.push(_w.createReturnStatement())):(E.push(_w.createExpressionStatement(_w.createAssignment(_w.createObjectLiteralExpression(e),A))),C&&E.push(_w.createReturnStatement(_w.createIdentifier(C))))}else 1&a.facts?E.push(_w.createReturnStatement(A)):g8(a.range)?E.push(_w.createExpressionStatement(A)):E.push(A);g8(a.range)?N.replaceNodeRangeWithNodes(s.file,ve(a.range),ke(a.range),E):N.replaceNodeWithNodes(s.file,a.range,E);const I=N.getChanges(),O=(g8(a.range)?ve(a.range):a.range).getSourceFile().fileName,L=hY(I,O,p,!1);return{renameFilename:O,renameLocation:L,edits:I};function j(e){if(void 0===e)return;const t=oY(e);let n=t;for(;HN(n);)n=n.type;return VN(n)&&k(n.types,e=>157===e.kind)?t:_w.createUnionTypeNode([t,_w.createKeywordTypeNode(157)])}}(i,r[n],o[n],s,e,t)}(n,e,t)}const i=/^constant_scope_(\d+)$/.exec(t);if(i){const t=+i[1];return fn.assert(isFinite(t),"Expected to parse a finite number from the constant scope index"),function(e,t,n){const{scopes:r,readsAndWrites:{target:i,usagesPerScope:o,constantErrorsPerScope:a,exposedVariableDeclarations:s}}=d8(e,t);return fn.assert(!a[n].length,"The extraction went missing? How?"),fn.assert(0===s.length,"Extract constant accepted a range containing a variable declaration?"),t.cancellationToken.throwIfCancellationRequested(),function(e,t,{substitutions:n},r,i){const o=i.program.getTypeChecker(),a=t.getSourceFile(),s=N3(e,t,o,a),c=Om(t);let l=c||!o.isContextSensitive(e)?void 0:o.typeToTypeNode(o.getContextualType(e),t,1,8),_=function(e,t){return t.size?n(e):e;function n(e){const r=t.get(rJ(e).toString());return r?oY(r):SJ(e,n,void 0)}}(_h(e),n);({variableType:l,initializer:_}=m(l,_)),_Y(_);const u=rde.ChangeTracker.fromContext(i);if(g_(t)){fn.assert(!c,"Cannot extract to a JS class");const n=[];n.push(_w.createModifier(123)),32&r&&n.push(_w.createModifier(126)),n.push(_w.createModifier(148));const o=_w.createPropertyDeclaration(n,s,void 0,l,_);let a=_w.createPropertyAccessExpression(32&r?_w.createIdentifier(t.name.getText()):_w.createThis(),_w.createIdentifier(s));y8(e)&&(a=_w.createJsxExpression(void 0,a));const d=function(e,t){const n=t.members;let r;fn.assert(n.length>0,"Found no members");let i=!0;for(const o of n){if(o.pos>e)return r||n[0];if(i&&!kN(o)){if(void 0!==r)return o;i=!1}r=o}return void 0===r?fn.fail():r}(e.pos,t);u.insertNodeBefore(i.file,d,o,!0),u.replaceNode(i.file,e,a)}else{const n=_w.createVariableDeclaration(s,void 0,l,_),r=function(e,t){let n;for(;void 0!==e&&e!==t;){if(iE(e)&&e.initializer===n&&oE(e.parent)&&e.parent.declarations.length>1)return e;n=e,e=e.parent}}(e,t);if(r){u.insertNodeBefore(i.file,r,n);const t=_w.createIdentifier(s);u.replaceNode(i.file,e,t)}else if(244===e.parent.kind&&t===gc(e,u8)){const t=_w.createVariableStatement(void 0,_w.createVariableDeclarationList([n],2));u.replaceNode(i.file,e.parent,t)}else{const r=_w.createVariableStatement(void 0,_w.createVariableDeclarationList([n],2)),o=function(e,t){let n;fn.assert(!g_(t));for(let r=e;r!==t;r=r.parent)u8(r)&&(n=r);for(let r=(n||e).parent;;r=r.parent){if(v0(r)){let t;for(const n of r.statements){if(n.pos>e.pos)break;t=n}return!t&&KE(r)?(fn.assert(YF(r.parent.parent),"Grandparent isn't a switch statement"),r.parent.parent):fn.checkDefined(t,"prevStatement failed to get set")}fn.assert(r!==t,"Didn't encounter a block-like before encountering scope")}}(e,t);if(0===o.pos?u.insertNodeAtTopOfFile(i.file,r,!1):u.insertNodeBefore(i.file,o,r,!1),244===e.parent.kind)u.delete(i.file,e.parent);else{let t=_w.createIdentifier(s);y8(e)&&(t=_w.createJsxExpression(void 0,t)),u.replaceNode(i.file,e,t)}}}const d=u.getChanges(),p=e.getSourceFile().fileName,f=hY(d,p,s,!0);return{renameFilename:p,renameLocation:f,edits:d};function m(n,r){if(void 0===n)return{variableType:n,initializer:r};if(!fF(r)&&!mF(r)||r.typeParameters)return{variableType:n,initializer:r};const i=o.getTypeAtLocation(e),a=Se(o.getSignaturesOfType(i,0));if(!a)return{variableType:n,initializer:r};if(a.getTypeParameters())return{variableType:n,initializer:r};const s=[];let c=!1;for(const e of r.parameters)if(e.type)s.push(e);else{const n=o.getTypeAtLocation(e);n===o.getAnyType()&&(c=!0),s.push(_w.updateParameterDeclaration(e,e.modifiers,e.dotDotDotToken,e.name,e.questionToken,e.type||o.typeToTypeNode(n,t,1,8),e.initializer))}if(c)return{variableType:n,initializer:r};if(n=void 0,mF(r))r=_w.updateArrowFunction(r,bI(e)?Ic(e):void 0,r.typeParameters,s,r.type||o.typeToTypeNode(a.getReturnType(),t,1,8),r.equalsGreaterThanToken,r.body);else{if(a&&a.thisParameter){const n=he(s);if(!n||tN(n.name)&&"this"!==n.name.escapedText){const n=o.getTypeOfSymbolAtLocation(a.thisParameter,e);s.splice(0,0,_w.createParameterDeclaration(void 0,void 0,"this",void 0,o.typeToTypeNode(n,t,1,8)))}}r=_w.updateFunctionExpression(r,bI(e)?Ic(e):void 0,r.asteriskToken,r.name,r.typeParameters,s,r.type||o.typeToTypeNode(a.getReturnType(),t,1),r.body)}return{variableType:n,initializer:r}}}(G_(i)?i:i.statements[0].expression,r[n],o[n],e.facts,t)}(n,e,t)}fn.fail("Unrecognized action name")}h6(r8,{kinds:[i8.kind,o8.kind],getEditsForAction:s8,getAvailableActions:a8}),(e=>{function t(e){return{message:e,code:0,category:3,key:e}}e.cannotExtractRange=t("Cannot extract range."),e.cannotExtractImport=t("Cannot extract import statement."),e.cannotExtractSuper=t("Cannot extract super call."),e.cannotExtractJSDoc=t("Cannot extract JSDoc."),e.cannotExtractEmpty=t("Cannot extract empty range."),e.expressionExpected=t("expression expected."),e.uselessConstantType=t("No reason to extract constant of type."),e.statementOrExpressionExpected=t("Statement or expression expected."),e.cannotExtractRangeContainingConditionalBreakOrContinueStatements=t("Cannot extract range containing conditional break or continue statements."),e.cannotExtractRangeContainingConditionalReturnStatement=t("Cannot extract range containing conditional return statement."),e.cannotExtractRangeContainingLabeledBreakOrContinueStatementWithTargetOutsideOfTheRange=t("Cannot extract range containing labeled break or continue with target outside of the range."),e.cannotExtractRangeThatContainsWritesToReferencesLocatedOutsideOfTheTargetRangeInGenerators=t("Cannot extract range containing writes to references located outside of the target range in generators."),e.typeWillNotBeVisibleInTheNewScope=t("Type will not visible in the new scope."),e.functionWillNotBeVisibleInTheNewScope=t("Function will not visible in the new scope."),e.cannotExtractIdentifier=t("Select more than a single identifier."),e.cannotExtractExportedEntity=t("Cannot extract exported declaration"),e.cannotWriteInExpression=t("Cannot write back side-effects when extracting an expression"),e.cannotExtractReadonlyPropertyInitializerOutsideConstructor=t("Cannot move initialization of read-only class property outside of the constructor"),e.cannotExtractAmbientBlock=t("Cannot extract code from ambient contexts"),e.cannotAccessVariablesFromNestedScopes=t("Cannot access variables from nested scopes"),e.cannotExtractToJSClass=t("Cannot extract constant to a class scope in JS"),e.cannotExtractToExpressionArrowFunction=t("Cannot extract constant to an arrow function without a block"),e.cannotExtractFunctionsContainingThisToMethod=t("Cannot extract functions containing this to method")})(n8||(n8={}));var c8=(e=>(e[e.None=0]="None",e[e.HasReturn=1]="HasReturn",e[e.IsGenerator=2]="IsGenerator",e[e.IsAsyncFunction=4]="IsAsyncFunction",e[e.UsesThis=8]="UsesThis",e[e.UsesThisInFunction=16]="UsesThisInFunction",e[e.InStaticRegion=32]="InStaticRegion",e))(c8||{});function l8(e,t,n=!0){const{length:r}=t;if(0===r&&!n)return{errors:[ek(e,t.start,r,n8.cannotExtractEmpty)]};const i=0===r&&n,o=rQ(e,t.start),a=iQ(e,Os(t)),s=o&&a&&n?function(e,t,n){const r=e.getStart(n);let i=t.getEnd();return 59===n.text.charCodeAt(i)&&i++,{start:r,length:i-r}}(o,a,e):t,c=i?function(e){return gc(e,e=>e.parent&&h8(e)&&!kF(e.parent))}(o):gZ(o,e,s),l=i?c:gZ(a,e,s);let _,u=0;if(!c||!l)return{errors:[ek(e,t.start,r,n8.cannotExtractRange)]};if(16777216&c.flags)return{errors:[ek(e,t.start,r,n8.cannotExtractJSDoc)]};if(c.parent!==l.parent)return{errors:[ek(e,t.start,r,n8.cannotExtractRange)]};if(c!==l){if(!v0(c.parent))return{errors:[ek(e,t.start,r,n8.cannotExtractRange)]};const n=[];for(const e of c.parent.statements){if(e===c||n.length){const t=f(e);if(t)return{errors:t};n.push(e)}if(e===l)break}return n.length?{targetRange:{range:n,facts:u,thisNode:_}}:{errors:[ek(e,t.start,r,n8.cannotExtractRange)]}}if(QF(c)&&!c.expression)return{errors:[ek(e,t.start,r,n8.cannotExtractRange)]};const d=function(e){if(QF(e)){if(e.expression)return e.expression}else if(JF(e)||oE(e)){const t=JF(e)?e.declarationList.declarations:e.declarations;let n,r=0;for(const e of t)e.initializer&&(r++,n=e.initializer);if(1===r)return n}else if(iE(e)&&e.initializer)return e.initializer;return e}(c),p=function(e){if(tN(qF(e)?e.expression:e))return[qp(e,n8.cannotExtractIdentifier)]}(d)||f(d);return p?{errors:p}:{targetRange:{range:_8(d),facts:u,thisNode:_}};function f(e){let n;var r;if((r=n||(n={}))[r.None=0]="None",r[r.Break=1]="Break",r[r.Continue=2]="Continue",r[r.Return=4]="Return",fn.assert(e.pos<=e.end,"This failure could trigger https://github.com/Microsoft/TypeScript/issues/20809 (1)"),fn.assert(!tT(e.pos),"This failure could trigger https://github.com/Microsoft/TypeScript/issues/20809 (2)"),!(yu(e)||Tm(e)&&h8(e)||v8(e)))return[qp(e,n8.statementOrExpressionExpected)];if(33554432&e.flags)return[qp(e,n8.cannotExtractAmbientBlock)];const i=em(e);let o;i&&function(e,t){let n=e;for(;n!==t;){if(172===n.kind){Iv(n)&&(u|=32);break}if(169===n.kind){176===Zf(n).kind&&(u|=32);break}174===n.kind&&Iv(n)&&(u|=32),n=n.parent}}(e,i);let a,s=4;if(function e(n){if(o)return!0;if(mu(n)&&Av(260===n.kind?n.parent.parent:n,32))return(o||(o=[])).push(qp(n,n8.cannotExtractExportedEntity)),!0;switch(n.kind){case 272:return(o||(o=[])).push(qp(n,n8.cannotExtractImport)),!0;case 277:return(o||(o=[])).push(qp(n,n8.cannotExtractExportedEntity)),!0;case 108:if(213===n.parent.kind){const e=em(n);if(void 0===e||e.pos<t.start||e.end>=t.start+t.length)return(o||(o=[])).push(qp(n,n8.cannotExtractSuper)),!0}else u|=8,_=n;break;case 219:KI(n,function e(t){if(wX(t))u|=8,_=n;else{if(g_(t)||c_(t)&&!mF(t))return!1;KI(t,e)}});case 263:case 262:nP(n.parent)&&void 0===n.parent.externalModuleIndicator&&(o||(o=[])).push(qp(n,n8.functionWillNotBeVisibleInTheNewScope));case 231:case 218:case 174:case 176:case 177:case 178:return!1}const r=s;switch(n.kind){case 245:s&=-5;break;case 258:s=0;break;case 241:n.parent&&258===n.parent.kind&&n.parent.finallyBlock===n&&(s=4);break;case 297:case 296:s|=1;break;default:Q_(n,!1)&&(s|=3)}switch(n.kind){case 197:case 110:u|=8,_=n;break;case 256:{const t=n.label;(a||(a=[])).push(t.escapedText),KI(n,e),a.pop();break}case 252:case 251:{const e=n.label;e?w(a,e.escapedText)||(o||(o=[])).push(qp(n,n8.cannotExtractRangeContainingLabeledBreakOrContinueStatementWithTargetOutsideOfTheRange)):s&(252===n.kind?1:2)||(o||(o=[])).push(qp(n,n8.cannotExtractRangeContainingConditionalBreakOrContinueStatements));break}case 223:u|=4;break;case 229:u|=2;break;case 253:4&s?u|=1:(o||(o=[])).push(qp(n,n8.cannotExtractRangeContainingConditionalReturnStatement));break;default:KI(n,e)}s=r}(e),8&u){const t=im(e,!1,!1);(262===t.kind||174===t.kind&&210===t.parent.kind||218===t.kind)&&(u|=16)}return o}}function _8(e){return yu(e)?[e]:Tm(e)?qF(e.parent)?[e.parent]:e:v8(e)?e:void 0}function u8(e){return mF(e)?iu(e.body):__(e)||nP(e)||dE(e)||g_(e)}function d8(e,t){const{file:n}=t,r=function(e){let t=g8(e.range)?ve(e.range):e.range;if(8&e.facts&&!(16&e.facts)){const e=em(t);if(e){const n=gc(t,__);return n?[n,e]:[e]}}const n=[];for(;;)if(t=t.parent,169===t.kind&&(t=gc(t,e=>__(e)).parent),u8(t)&&(n.push(t),307===t.kind))return n}(e),i=function(e,t){return g8(e.range)?{pos:ve(e.range).getStart(t),end:ke(e.range).getEnd()}:e.range}(e,n),o=function(e,t,n,r,i,o){const a=new Map,s=[],c=[],l=[],_=[],u=[],d=new Map,p=[];let f;const m=g8(e.range)?1===e.range.length&&qF(e.range[0])?e.range[0].expression:void 0:e.range;let g;if(void 0===m){const t=e.range,n=ve(t).getStart(),i=ke(t).end;g=ek(r,n,i-n,n8.expressionExpected)}else 147456&i.getTypeAtLocation(m).flags&&(g=qp(m,n8.uselessConstantType));for(const k of t){s.push({usages:new Map,typeParameterUsages:new Map,substitutions:new Map}),c.push(new Map),l.push([]);const e=[];g&&e.push(g),g_(k)&&Om(k)&&e.push(qp(k,n8.cannotExtractToJSClass)),mF(k)&&!BF(k.body)&&e.push(qp(k,n8.cannotExtractToExpressionArrowFunction)),_.push(e)}const h=new Map,y=g8(e.range)?_w.createBlock(e.range):e.range,v=g8(e.range)?ve(e.range):e.range,b=x(v);if(T(y),!b||g8(e.range)||VE(e.range)||S(i.getContextualType(e.range)),a.size>0){const e=new Map;let n=0;for(let r=v;void 0!==r&&n<t.length;r=r.parent)if(r===t[n]&&(e.forEach((e,t)=>{s[n].typeParameterUsages.set(t,e)}),n++),Cp(r))for(const t of ml(r)){const n=i.getTypeAtLocation(t);a.has(n.id.toString())&&e.set(n.id.toString(),n)}fn.assert(n===t.length,"Should have iterated all scopes")}u.length&&KI(Tp(t[0],t[0].parent)?t[0]:Op(t[0]),D);for(let k=0;k<t.length;k++){const n=s[k];if(k>0&&(n.usages.size>0||n.typeParameterUsages.size>0)){const t=g8(e.range)?e.range[0]:e.range;_[k].push(qp(t,n8.cannotAccessVariablesFromNestedScopes))}16&e.facts&&g_(t[k])&&l[k].push(qp(e.thisNode,n8.cannotExtractFunctionsContainingThisToMethod));let r,i=!1;if(s[k].usages.forEach(e=>{2===e.usage&&(i=!0,106500&e.symbol.flags&&e.symbol.valueDeclaration&&Pv(e.symbol.valueDeclaration,8)&&(r=e.symbol.valueDeclaration))}),fn.assert(g8(e.range)||0===p.length,"No variable declarations expected if something was extracted"),i&&!g8(e.range)){const t=qp(e.range,n8.cannotWriteInExpression);l[k].push(t),_[k].push(t)}else if(r&&k>0){const e=qp(r,n8.cannotExtractReadonlyPropertyInitializerOutsideConstructor);l[k].push(e),_[k].push(e)}else if(f){const e=qp(f,n8.cannotExtractExportedEntity);l[k].push(e),_[k].push(e)}}return{target:y,usagesPerScope:s,functionErrorsPerScope:l,constantErrorsPerScope:_,exposedVariableDeclarations:p};function x(e){return!!gc(e,e=>Cp(e)&&0!==ml(e).length)}function S(e){const t=i.getSymbolWalker(()=>(o.throwIfCancellationRequested(),!0)),{visitedTypes:n}=t.walkType(e);for(const r of n)r.isTypeParameter()&&a.set(r.id.toString(),r)}function T(e,t=1){if(b&&S(i.getTypeAtLocation(e)),mu(e)&&e.symbol&&u.push(e),cb(e))T(e.left,2),T(e.right);else if(H_(e))T(e.operand,2);else if(sF(e)||cF(e))KI(e,T);else if(tN(e)){if(!e.parent)return;if(gN(e.parent)&&e!==e.parent.left)return;if(sF(e.parent)&&e!==e.parent.expression)return;C(e,t,Ef(e))}else KI(e,T)}function C(e,n,r){const i=w(e,n,r);if(i)for(let o=0;o<t.length;o++){const t=c[o].get(i);t&&s[o].substitutions.set(rJ(e).toString(),t)}}function w(o,a,u){const d=N(o);if(!d)return;const p=iJ(d).toString(),f=h.get(p);if(f&&f>=a)return p;if(h.set(p,a),f){for(const e of s)e.usages.get(o.text)&&e.usages.set(o.text,{usage:a,symbol:d,node:o});return p}const m=d.getDeclarations(),g=m&&k(m,e=>e.getSourceFile()===r);if(g&&!AX(n,g.getStart(),g.end)){if(2&e.facts&&2===a){const e=qp(o,n8.cannotExtractRangeThatContainsWritesToReferencesLocatedOutsideOfTheTargetRangeInGenerators);for(const t of l)t.push(e);for(const t of _)t.push(e)}for(let e=0;e<t.length;e++){const n=t[e];if(i.resolveName(d.name,n,d.flags,!1)!==d&&!c[e].has(p)){const t=F(d.exportSymbol||d,n,u);if(t)c[e].set(p,t);else if(u){if(!(262144&d.flags)){const t=qp(o,n8.typeWillNotBeVisibleInTheNewScope);l[e].push(t),_[e].push(t)}}else s[e].usages.set(o.text,{usage:a,symbol:d,node:o})}}return p}}function D(t){if(t===e.range||g8(e.range)&&e.range.includes(t))return;const n=tN(t)?N(t):i.getSymbolAtLocation(t);if(n){const e=k(u,e=>e.symbol===n);if(e)if(iE(e)){const t=e.symbol.id.toString();d.has(t)||(p.push(e),d.set(t,!0))}else f=f||e}KI(t,D)}function N(e){return e.parent&&YE(e.parent)&&e.parent.name===e?i.getShorthandAssignmentValueSymbol(e.parent):i.getSymbolAtLocation(e)}function F(e,t,n){if(!e)return;const r=e.getDeclarations();if(r&&r.some(e=>e.parent===t))return _w.createIdentifier(e.name);const i=F(e.parent,t,n);return void 0!==i?n?_w.createQualifiedName(i,_w.createIdentifier(e.name)):_w.createPropertyAccessExpression(i,e.name):void 0}}(e,r,i,n,t.program.getTypeChecker(),t.cancellationToken);return{scopes:r,affectedTextRange:i,readsAndWrites:o}}function p8(e,t){let n;const r=e.symbol;if(r&&r.declarations)for(const i of r.declarations)(void 0===n||i.pos<n.pos)&&i.pos<t&&(n=i);return n}function f8({type:e,declaration:t},{type:n,declaration:r}){return jt(t,r,"pos",kt)||Nt(e.symbol?e.symbol.getName():"",n.symbol?n.symbol.getName():"")||kt(e.id,n.id)}function m8(e,t){const n=A(e,e=>_w.createShorthandPropertyAssignment(e.symbol.name)),r=A(t,e=>_w.createShorthandPropertyAssignment(e.symbol.name));return void 0===n?r:void 0===r?n:n.concat(r)}function g8(e){return et(e)}function h8(e){const{parent:t}=e;if(306===t.kind)return!1;switch(e.kind){case 11:return 272!==t.kind&&276!==t.kind;case 230:case 206:case 208:return!1;case 80:return 208!==t.kind&&276!==t.kind&&281!==t.kind}return!0}function y8(e){return v8(e)||(jE(e)||RE(e)||JE(e))&&(jE(e.parent)||JE(e.parent))}function v8(e){return MD(e)&&e.parent&&VE(e.parent)}var b8={},x8="Generate 'get' and 'set' accessors",k8=Gx(ma.Generate_get_and_set_accessors),S8={name:x8,description:k8,kind:"refactor.rewrite.property.generateAccessors"};h6(x8,{kinds:[S8.kind],getEditsForAction:function(e,t){if(!e.endPosition)return;const n=U7.getAccessorConvertiblePropertyAtPosition(e.file,e.program,e.startPosition,e.endPosition);fn.assert(n&&!w3(n),"Expected applicable refactor info");const r=U7.generateAccessorFromProperty(e.file,e.program,e.startPosition,e.endPosition,e,t);if(!r)return;const i=e.file.fileName,o=n.renameAccessor?n.accessorName:n.fieldName;return{renameFilename:i,renameLocation:(tN(o)?0:-1)+hY(r,i,o.text,vN(n.declaration)),edits:r}},getAvailableActions(e){if(!e.endPosition)return u;const t=U7.getAccessorConvertiblePropertyAtPosition(e.file,e.program,e.startPosition,e.endPosition,"invoked"===e.triggerReason);return t?w3(t)?e.preferences.provideRefactorNotApplicableReason?[{name:x8,description:k8,actions:[__spreadProps(__spreadValues({},S8),{notApplicableReason:t.error})]}]:u:[{name:x8,description:k8,actions:[S8]}]:u}});var T8={},C8="Infer function return type",w8=Gx(ma.Infer_function_return_type),D8={name:C8,description:w8,kind:"refactor.rewrite.function.returnType"};function N8(e){if(Om(e.file)||!D3(D8.kind,e.kind))return;const t=gc(YX(e.file,e.startPosition),e=>BF(e)||e.parent&&mF(e.parent)&&(39===e.kind||e.parent.body===e)?"quit":function(e){switch(e.kind){case 262:case 218:case 219:case 174:return!0;default:return!1}}(e));if(!t||!t.body||t.type)return{error:Gx(ma.Return_type_must_be_inferred_from_a_function)};const n=e.program.getTypeChecker();let r;if(n.isImplementationOfOverload(t)){const e=n.getTypeAtLocation(t).getCallSignatures();e.length>1&&(r=n.getUnionType(z(e,e=>e.getReturnType())))}if(!r){const e=n.getSignatureFromDeclaration(t);if(e){const i=n.getTypePredicateOfSignature(e);if(i&&i.type){const e=n.typePredicateToTypePredicateNode(i,t,1,8);if(e)return{declaration:t,returnTypeNode:e}}else r=n.getReturnTypeOfSignature(e)}}if(!r)return{error:Gx(ma.Could_not_determine_function_return_type)};const i=n.typeToTypeNode(r,t,1,8);return i?{declaration:t,returnTypeNode:i}:void 0}h6(C8,{kinds:[D8.kind],getEditsForAction:function(e){const t=N8(e);if(t&&!w3(t))return{renameFilename:void 0,renameLocation:void 0,edits:rde.ChangeTracker.with(e,n=>function(e,t,n,r){const i=zX(n,22,e),o=mF(n)&&void 0===i,a=o?ve(n.parameters):i;a&&(o&&(t.insertNodeBefore(e,a,_w.createToken(21)),t.insertNodeAfter(e,a,_w.createToken(22))),t.insertNodeAt(e,a.end,r,{prefix:": "}))}(e.file,n,t.declaration,t.returnTypeNode))}},getAvailableActions:function(e){const t=N8(e);return t?w3(t)?e.preferences.provideRefactorNotApplicableReason?[{name:C8,description:w8,actions:[__spreadProps(__spreadValues({},D8),{notApplicableReason:t.error})]}]:u:[{name:C8,description:w8,actions:[D8]}]:u}});var F8=(e=>(e[e.typeOffset=8]="typeOffset",e[e.modifierMask=255]="modifierMask",e))(F8||{}),E8=(e=>(e[e.class=0]="class",e[e.enum=1]="enum",e[e.interface=2]="interface",e[e.namespace=3]="namespace",e[e.typeParameter=4]="typeParameter",e[e.type=5]="type",e[e.parameter=6]="parameter",e[e.variable=7]="variable",e[e.enumMember=8]="enumMember",e[e.property=9]="property",e[e.function=10]="function",e[e.member=11]="member",e))(E8||{}),P8=(e=>(e[e.declaration=0]="declaration",e[e.static=1]="static",e[e.async=2]="async",e[e.readonly=3]="readonly",e[e.defaultLibrary=4]="defaultLibrary",e[e.local=5]="local",e))(P8||{});function A8(e,t,n,r){const i=I8(e,t,n,r);fn.assert(i.spans.length%3==0);const o=i.spans,a=[];for(let s=0;s<o.length;s+=3)a.push({textSpan:Xs(o[s],o[s+1]),classificationType:o[s+2]});return a}function I8(e,t,n,r){return{spans:O8(e,n,r,t),endOfLineState:0}}function O8(e,t,n,r){const i=[];return e&&t&&function(e,t,n,r,i){const o=e.getTypeChecker();let a=!1;function s(c){switch(c.kind){case 267:case 263:case 264:case 262:case 231:case 218:case 219:i.throwIfCancellationRequested()}if(!c||!Us(n,c.pos,c.getFullWidth())||0===c.getFullWidth())return;const l=a;if((jE(c)||RE(c))&&(a=!0),$E(c)&&(a=!1),tN(c)&&!a&&!function(e){const t=e.parent;return t&&(hE(t)||wE(t)||SE(t))}(c)&&!zT(c.escapedText)){let n=o.getSymbolAtLocation(c);if(n){2097152&n.flags&&(n=o.getAliasedSymbol(n));let i=function(e,t){const n=e.getFlags();if(32&n)return 0;if(384&n)return 1;if(524288&n)return 5;if(64&n){if(2&t)return 2}else if(262144&n)return 4;let r=e.valueDeclaration||e.declarations&&e.declarations[0];return r&&iF(r)&&(r=L8(r)),r&&R8.get(r.kind)}(n,ZG(c));if(void 0!==i){let a=0;c.parent&&(iF(c.parent)||R8.get(c.parent.kind)===i)&&c.parent.name===c&&(a=1),6===i&&j8(c)&&(i=9),i=function(e,t,n){if(7===n||9===n||6===n){const r=e.getTypeAtLocation(t);if(r){const e=e=>e(r)||r.isUnion()&&r.types.some(e);if(6!==n&&e(e=>e.getConstructSignatures().length>0))return 0;if(e(e=>e.getCallSignatures().length>0)&&!e(e=>e.getProperties().length>0)||function(e){for(;j8(e);)e=e.parent;return lF(e.parent)&&e.parent.expression===e}(t))return 9===n?11:10}}return n}(o,c,i);const s=n.valueDeclaration;if(s){const r=lc(s),o=uc(s);256&r&&(a|=2),1024&r&&(a|=4),0!==i&&2!==i&&(8&r||2&o||8&n.getFlags())&&(a|=8),7!==i&&10!==i||!function(e,t){return iF(e)&&(e=L8(e)),iE(e)?(!nP(e.parent.parent.parent)||QE(e.parent))&&e.getSourceFile()===t:!!aE(e)&&!nP(e.parent)&&e.getSourceFile()===t}(s,t)||(a|=32),e.isSourceFileDefaultLibrary(s.getSourceFile())&&(a|=16)}else n.declarations&&n.declarations.some(t=>e.isSourceFileDefaultLibrary(t.getSourceFile()))&&(a|=16);r(c,i,a)}}}KI(c,s),a=l}s(t)}(e,t,n,(e,n,r)=>{i.push(e.getStart(t),e.getWidth(t),(n+1<<8)+r)},r),i}function L8(e){for(;;){if(!iF(e.parent.parent))return e.parent.parent;e=e.parent.parent}}function j8(e){return gN(e.parent)&&e.parent.right===e||sF(e.parent)&&e.parent.name===e}var R8=new Map([[260,7],[169,6],[172,9],[267,3],[266,1],[306,8],[263,0],[174,11],[262,10],[218,10],[173,11],[177,9],[178,9],[171,9],[264,2],[265,5],[168,4],[303,9],[304,9]]),M8="0.8";function B8(e,t,n,r){const i=Il(e)?new J8(e,t,n):80===e?new W8(80,t,n):81===e?new $8(81,t,n):new U8(e,t,n);return i.parent=r,i.flags=101441536&r.flags,i}var J8=class{constructor(e,t,n){this.pos=t,this.end=n,this.kind=e,this.id=0,this.flags=0,this.modifierFlagsCache=0,this.transformFlags=0,this.parent=void 0,this.original=void 0,this.emitNode=void 0}assertHasRealPosition(e){fn.assert(!tT(this.pos)&&!tT(this.end),e||"Node must have a real position for this operation")}getSourceFile(){return Sd(this)}getStart(e,t){return this.assertHasRealPosition(),Wd(this,e,t)}getFullStart(){return this.assertHasRealPosition(),this.pos}getEnd(){return this.assertHasRealPosition(),this.end}getWidth(e){return this.assertHasRealPosition(),this.getEnd()-this.getStart(e)}getFullWidth(){return this.assertHasRealPosition(),this.end-this.pos}getLeadingTriviaWidth(e){return this.assertHasRealPosition(),this.getStart(e)-this.pos}getFullText(e){return this.assertHasRealPosition(),(e||this.getSourceFile()).text.substring(this.pos,this.end)}getText(e){return this.assertHasRealPosition(),e||(e=this.getSourceFile()),e.text.substring(this.getStart(e),this.getEnd())}getChildCount(e){return this.getChildren(e).length}getChildAt(e,t){return this.getChildren(t)[e]}getChildren(e=Sd(this)){var t;return this.assertHasRealPosition("Node without a real position cannot be scanned and thus has no token nodes - use forEachChild and collect the result if that's fine"),null!=(t=GP(this,e))?t:XP(this,e,function(e,t){const n=[];if(Fu(e))return e.forEachChild(e=>{n.push(e)}),n;GG.setText((t||e.getSourceFile()).text);let r=e.pos;const i=t=>{z8(n,r,t.pos,e),n.push(t),r=t.end},o=t=>{z8(n,r,t.pos,e),n.push(function(e,t){const n=B8(352,e.pos,e.end,t),r=[];let i=e.pos;for(const o of e)z8(r,i,o.pos,t),r.push(o),i=o.end;return z8(r,i,e.end,t),n._children=r,n}(t,e)),r=t.end};return f(e.jsDoc,i),r=e.pos,e.forEachChild(i,o),z8(n,r,e.end,e),GG.setText(void 0),n}(this,e))}getFirstToken(e){this.assertHasRealPosition();const t=this.getChildren(e);if(!t.length)return;const n=k(t,e=>e.kind<309||e.kind>351);return n.kind<166?n:n.getFirstToken(e)}getLastToken(e){this.assertHasRealPosition();const t=xe(this.getChildren(e));if(t)return t.kind<166?t:t.getLastToken(e)}forEachChild(e,t){return KI(this,e,t)}};function z8(e,t,n,r){for(GG.resetTokenState(t);t<n;){const i=GG.scan(),o=GG.getTokenEnd();if(o<=n){if(80===i){if(YT(r))continue;fn.fail(`Did not expect ${fn.formatSyntaxKind(r.kind)} to have an Identifier in its trivia`)}e.push(B8(i,t,o,r))}if(t=o,1===i)break}}var q8=class{constructor(e,t,n){this.pos=t,this.end=n,this.kind=e,this.id=0,this.flags=0,this.transformFlags=0,this.parent=void 0,this.emitNode=void 0}getSourceFile(){return Sd(this)}getStart(e,t){return Wd(this,e,t)}getFullStart(){return this.pos}getEnd(){return this.end}getWidth(e){return this.getEnd()-this.getStart(e)}getFullWidth(){return this.end-this.pos}getLeadingTriviaWidth(e){return this.getStart(e)-this.pos}getFullText(e){return(e||this.getSourceFile()).text.substring(this.pos,this.end)}getText(e){return e||(e=this.getSourceFile()),e.text.substring(this.getStart(e),this.getEnd())}getChildCount(){return this.getChildren().length}getChildAt(e){return this.getChildren()[e]}getChildren(){return 1===this.kind&&this.jsDoc||u}getFirstToken(){}getLastToken(){}forEachChild(){}},V8=class{constructor(e,t){this.flags=e,this.escapedName=t,this.declarations=void 0,this.valueDeclaration=void 0,this.id=0,this.mergeId=0,this.parent=void 0,this.members=void 0,this.exports=void 0,this.exportSymbol=void 0,this.constEnumOnlyModule=void 0,this.isReferenced=void 0,this.lastAssignmentPos=void 0,this.links=void 0}getFlags(){return this.flags}get name(){return Sc(this)}getEscapedName(){return this.escapedName}getName(){return this.name}getDeclarations(){return this.declarations}getDocumentationComment(e){if(!this.documentationComment)if(this.documentationComment=u,!this.declarations&&ed(this)&&this.links.target&&ed(this.links.target)&&this.links.target.links.tupleLabelDeclaration){const t=this.links.target.links.tupleLabelDeclaration;this.documentationComment=Q8([t],e)}else this.documentationComment=Q8(this.declarations,e);return this.documentationComment}getContextualDocumentationComment(e,t){if(e){if(Au(e)&&(this.contextualGetAccessorDocumentationComment||(this.contextualGetAccessorDocumentationComment=u,this.contextualGetAccessorDocumentationComment=Q8(F(this.declarations,Au),t)),p(this.contextualGetAccessorDocumentationComment)))return this.contextualGetAccessorDocumentationComment;if(Pu(e)&&(this.contextualSetAccessorDocumentationComment||(this.contextualSetAccessorDocumentationComment=u,this.contextualSetAccessorDocumentationComment=Q8(F(this.declarations,Pu),t)),p(this.contextualSetAccessorDocumentationComment)))return this.contextualSetAccessorDocumentationComment}return this.getDocumentationComment(t)}getJsDocTags(e){return void 0===this.tags&&(this.tags=u,this.tags=X8(this.declarations,e)),this.tags}getContextualJsDocTags(e,t){if(e){if(Au(e)&&(this.contextualGetAccessorTags||(this.contextualGetAccessorTags=u,this.contextualGetAccessorTags=X8(F(this.declarations,Au),t)),p(this.contextualGetAccessorTags)))return this.contextualGetAccessorTags;if(Pu(e)&&(this.contextualSetAccessorTags||(this.contextualSetAccessorTags=u,this.contextualSetAccessorTags=X8(F(this.declarations,Pu),t)),p(this.contextualSetAccessorTags)))return this.contextualSetAccessorTags}return this.getJsDocTags(t)}},U8=class extends q8{constructor(e,t,n){super(e,t,n)}},W8=class extends q8{constructor(e,t,n){super(e,t,n)}get text(){return xc(this)}},$8=class extends q8{constructor(e,t,n){super(e,t,n)}get text(){return xc(this)}},H8=class{constructor(e,t){this.flags=t,this.checker=e}getFlags(){return this.flags}getSymbol(){return this.symbol}getProperties(){return this.checker.getPropertiesOfType(this)}getProperty(e){return this.checker.getPropertyOfType(this,e)}getApparentProperties(){return this.checker.getAugmentedPropertiesOfType(this)}getCallSignatures(){return this.checker.getSignaturesOfType(this,0)}getConstructSignatures(){return this.checker.getSignaturesOfType(this,1)}getStringIndexType(){return this.checker.getIndexTypeOfType(this,0)}getNumberIndexType(){return this.checker.getIndexTypeOfType(this,1)}getBaseTypes(){return this.isClassOrInterface()?this.checker.getBaseTypes(this):void 0}isNullableType(){return this.checker.isNullableType(this)}getNonNullableType(){return this.checker.getNonNullableType(this)}getNonOptionalType(){return this.checker.getNonOptionalType(this)}getConstraint(){return this.checker.getBaseConstraintOfType(this)}getDefault(){return this.checker.getDefaultFromTypeParameter(this)}isUnion(){return!!(1048576&this.flags)}isIntersection(){return!!(2097152&this.flags)}isUnionOrIntersection(){return!!(3145728&this.flags)}isLiteral(){return!!(2432&this.flags)}isStringLiteral(){return!!(128&this.flags)}isNumberLiteral(){return!!(256&this.flags)}isTypeParameter(){return!!(262144&this.flags)}isClassOrInterface(){return!!(3&xx(this))}isClass(){return!!(1&xx(this))}isIndexType(){return!!(4194304&this.flags)}get typeArguments(){if(4&xx(this))return this.checker.getTypeArguments(this)}},K8=class{constructor(e,t){this.flags=t,this.checker=e}getDeclaration(){return this.declaration}getTypeParameters(){return this.typeParameters}getParameters(){return this.parameters}getReturnType(){return this.checker.getReturnTypeOfSignature(this)}getTypeParameterAtPosition(e){const t=this.checker.getParameterType(this,e);if(t.isIndexType()&&HT(t.type)){const e=t.type.getConstraint();if(e)return this.checker.getIndexType(e)}return t}getDocumentationComment(){return this.documentationComment||(this.documentationComment=Q8(sn(this.declaration),this.checker))}getJsDocTags(){return this.jsDocTags||(this.jsDocTags=X8(sn(this.declaration),this.checker))}};function G8(e){return _l(e).some(e=>"inheritDoc"===e.tagName.text||"inheritdoc"===e.tagName.text)}function X8(e,t){if(!e)return u;let n=Wle.getJsDocTagsFromDeclarations(e,t);if(t&&(0===n.length||e.some(G8))){const r=new Set;for(const i of e){const e=Z8(t,i,e=>{var n;if(!r.has(e))return r.add(e),177===i.kind||178===i.kind?e.getContextualJsDocTags(i,t):1===(null==(n=e.declarations)?void 0:n.length)?e.getJsDocTags(t):void 0});e&&(n=[...e,...n])}}return n}function Q8(e,t){if(!e)return u;let n=Wle.getJsDocCommentsFromDeclarations(e,t);if(t&&(0===n.length||e.some(G8))){const r=new Set;for(const i of e){const e=Z8(t,i,e=>{if(!r.has(e))return r.add(e),177===i.kind||178===i.kind?e.getContextualDocumentationComment(i,t):e.getDocumentationComment(t)});e&&(n=0===n.length?e.slice():e.concat(HZ(),n))}}return n}function Z8(e,t,n){var r;const i=176===(null==(r=t.parent)?void 0:r.kind)?t.parent.parent:t.parent;if(!i)return;const o=Ov(t);return g(Ch(i),r=>{const i=e.getTypeAtLocation(r),a=o&&i.symbol?e.getTypeOfSymbol(i.symbol):i,s=e.getPropertyOfType(a,t.symbol.name);return s?n(s):void 0})}var Y8=class extends J8{constructor(e,t,n){super(e,t,n)}update(e,t){return nO(this,e,t)}getLineAndCharacterOfPosition(e){return $a(this,e)}getLineStarts(){return qa(this)}getPositionOfLineAndCharacter(e,t,n){return za(qa(this),e,t,this.text,n)}getLineEndOfPosition(e){const{line:t}=this.getLineAndCharacterOfPosition(e),n=this.getLineStarts();let r;t+1>=n.length&&(r=this.getEnd()),r||(r=n[t+1]-1);const i=this.getFullText();return"\n"===i[r]&&"\r"===i[r-1]?r-1:r}getNamedDeclarations(){return this.namedDeclarations||(this.namedDeclarations=this.computeNamedDeclarations()),this.namedDeclarations}computeNamedDeclarations(){const e=Ge();return this.forEachChild(function r(i){switch(i.kind){case 262:case 218:case 174:case 173:const o=i,a=n(o);if(a){const t=function(t){let n=e.get(t);return n||e.set(t,n=[]),n}(a),n=xe(t);n&&o.parent===n.parent&&o.symbol===n.symbol?o.body&&!n.body&&(t[t.length-1]=o):t.push(o)}KI(i,r);break;case 263:case 231:case 264:case 265:case 266:case 267:case 271:case 281:case 276:case 273:case 274:case 177:case 178:case 187:t(i),KI(i,r);break;case 169:if(!Av(i,31))break;case 260:case 208:{const e=i;if(D_(e.name)){KI(e.name,r);break}e.initializer&&r(e.initializer)}case 306:case 172:case 171:t(i);break;case 278:const s=i;s.exportClause&&(FE(s.exportClause)?f(s.exportClause.elements,r):r(s.exportClause.name));break;case 272:const c=i.importClause;c&&(c.name&&t(c.name),c.namedBindings&&(274===c.namedBindings.kind?t(c.namedBindings):f(c.namedBindings.elements,r)));break;case 226:0!==og(i)&&t(i);default:KI(i,r)}}),e;function t(t){const r=n(t);r&&e.add(r,t)}function n(e){const t=Fc(e);return t&&(hN(t)&&sF(t.expression)?t.expression.name.text:a_(t)?ZQ(t):void 0)}}},e7=class{constructor(e,t,n){this.fileName=e,this.text=t,this.skipTrivia=n||(e=>e)}getLineAndCharacterOfPosition(e){return $a(this,e)}};function t7(e){let t=!0;for(const r in e)if(Pe(e,r)&&!n7(r)){t=!1;break}if(t)return e;const n={};for(const r in e)Pe(e,r)&&(n[n7(r)?r:r.charAt(0).toLowerCase()+r.substr(1)]=e[r]);return n}function n7(e){return!e.length||e.charAt(0)===e.charAt(0).toLowerCase()}function r7(e){return e?A(e,e=>e.text).join(""):""}function i7(){return{target:1,jsx:1}}function o7(){return U7.getSupportedErrorCodes()}var a7=class{constructor(e){this.host=e}getCurrentSourceFile(e){var t,n,r,i,o,a,s,c;const l=this.host.getScriptSnapshot(e);if(!l)throw new Error("Could not find file: '"+e+"'.");const _=YZ(e,this.host),u=this.host.getScriptVersion(e);let d;if(this.currentFileName!==e)d=c7(e,l,{languageVersion:99,impliedNodeFormat:LU(Ko(e,this.host.getCurrentDirectory(),(null==(r=null==(n=(t=this.host).getCompilerHost)?void 0:n.call(t))?void 0:r.getCanonicalFileName)||zy(this.host)),null==(c=null==(s=null==(a=null==(o=(i=this.host).getCompilerHost)?void 0:o.call(i))?void 0:a.getModuleResolutionCache)?void 0:s.call(a))?void 0:c.getPackageJsonInfoCache(),this.host,this.host.getCompilationSettings()),setExternalModuleIndicator:yk(this.host.getCompilationSettings()),jsDocParsingMode:0},u,!0,_);else if(this.currentFileVersion!==u){const e=l.getChangeRange(this.currentFileScriptSnapshot);d=l7(this.currentSourceFile,l,u,e)}return d&&(this.currentFileVersion=u,this.currentFileName=e,this.currentFileScriptSnapshot=l,this.currentSourceFile=d),this.currentSourceFile}};function s7(e,t,n){e.version=n,e.scriptSnapshot=t}function c7(e,t,n,r,i,o){const a=ZI(e,GQ(t),n,i,o);return s7(a,t,r),a}function l7(e,t,n,r,i){if(r&&n!==e.version){let o;const a=0!==r.span.start?e.text.substr(0,r.span.start):"",s=Os(r.span)!==e.text.length?e.text.substr(Os(r.span)):"";if(0===r.newLength)o=a&&s?a+s:a||s;else{const e=t.getText(r.span.start,r.span.start+r.newLength);o=a&&s?a+e+s:a?a+e:e+s}const c=nO(e,o,r,i);return s7(c,t,n),c.nameTable=void 0,e!==c&&e.scriptSnapshot&&(e.scriptSnapshot.dispose&&e.scriptSnapshot.dispose(),e.scriptSnapshot=void 0),c}const o={languageVersion:e.languageVersion,impliedNodeFormat:e.impliedNodeFormat,setExternalModuleIndicator:e.setExternalModuleIndicator,jsDocParsingMode:e.jsDocParsingMode};return c7(e.fileName,t,o,n,!0,e.scriptKind)}var _7={isCancellationRequested:st,throwIfCancellationRequested:at},u7=class{constructor(e){this.cancellationToken=e}isCancellationRequested(){return this.cancellationToken.isCancellationRequested()}throwIfCancellationRequested(){var e;if(this.isCancellationRequested())throw null==(e=Xn)||e.instant(Xn.Phase.Session,"cancellationThrown",{kind:"CancellationTokenObject"}),new Nr}},d7=class{constructor(e,t=20){this.hostCancellationToken=e,this.throttleWaitMilliseconds=t,this.lastCancellationCheckTime=0}isCancellationRequested(){const e=$n();return Math.abs(e-this.lastCancellationCheckTime)>=this.throttleWaitMilliseconds&&(this.lastCancellationCheckTime=e,this.hostCancellationToken.isCancellationRequested())}throwIfCancellationRequested(){var e;if(this.isCancellationRequested())throw null==(e=Xn)||e.instant(Xn.Phase.Session,"cancellationThrown",{kind:"ThrottledCancellationToken"}),new Nr}},p7=["getSemanticDiagnostics","getSuggestionDiagnostics","getCompilerOptionsDiagnostics","getSemanticClassifications","getEncodedSemanticClassifications","getCodeFixesAtPosition","getCombinedCodeFix","applyCodeActionCommand","organizeImports","getEditsForFileRename","getEmitOutput","getApplicableRefactors","getEditsForRefactor","prepareCallHierarchy","provideCallHierarchyIncomingCalls","provideCallHierarchyOutgoingCalls","provideInlayHints","getSupportedCodeFixes","getPasteEdits"],f7=[...p7,"getCompletionsAtPosition","getCompletionEntryDetails","getCompletionEntrySymbol","getSignatureHelpItems","getQuickInfoAtPosition","getDefinitionAtPosition","getDefinitionAndBoundSpan","getImplementationAtPosition","getTypeDefinitionAtPosition","getReferencesAtPosition","findReferences","getDocumentHighlights","getNavigateToItems","getRenameInfo","findRenameLocations","getApplicableRefactors","preparePasteEditsForFile"];function m7(e,t=Q0(e.useCaseSensitiveFileNames&&e.useCaseSensitiveFileNames(),e.getCurrentDirectory(),e.jsDocParsingMode),n){var r;let i;i=void 0===n?0:"boolean"==typeof n?n?2:0:n;const o=new a7(e);let a,s,c=0;const l=e.getCancellationToken?new u7(e.getCancellationToken()):_7,_=e.getCurrentDirectory();function d(t){e.log&&e.log(t)}Kx(null==(r=e.getLocalizedDiagnosticMessages)?void 0:r.bind(e));const p=Jy(e),m=Kt(p),g=R1({useCaseSensitiveFileNames:()=>p,getCurrentDirectory:()=>_,getProgram:v,fileExists:Ke(e,e.fileExists),readFile:Ke(e,e.readFile),getDocumentPositionMapper:Ke(e,e.getDocumentPositionMapper),getSourceFileLike:Ke(e,e.getSourceFileLike),log:d});function h(e){const t=a.getSourceFile(e);if(!t){const t=new Error(`Could not find source file: '${e}'.`);throw t.ProgramFiles=a.getSourceFiles().map(e=>e.fileName),t}return t}function y(){e.updateFromProject&&!e.updateFromProjectInProgress?e.updateFromProject():function(){var n,r,o;if(fn.assert(2!==i),e.getProjectVersion){const t=e.getProjectVersion();if(t){if(s===t&&!(null==(n=e.hasChangedAutomaticTypeDirectiveNames)?void 0:n.call(e)))return;s=t}}const u=e.getTypeRootsVersion?e.getTypeRootsVersion():0;c!==u&&(d("TypeRoots version has changed; provide new program"),a=void 0,c=u);const f=e.getScriptFileNames().slice(),h=e.getCompilationSettings()||{target:1,jsx:1},y=e.hasInvalidatedResolutions||st,v=Ke(e,e.hasInvalidatedLibResolutions)||st,b=Ke(e,e.hasChangedAutomaticTypeDirectiveNames),x=null==(r=e.getProjectReferences)?void 0:r.call(e);let k,S={getSourceFile:O,getSourceFileByPath:L,getCancellationToken:()=>l,getCanonicalFileName:m,useCaseSensitiveFileNames:()=>p,getNewLine:()=>jb(h),getDefaultLibFileName:t=>e.getDefaultLibFileName(t),writeFile:at,getCurrentDirectory:()=>_,fileExists:t=>e.fileExists(t),readFile:t=>e.readFile&&e.readFile(t),getSymlinkCache:Ke(e,e.getSymlinkCache),realpath:Ke(e,e.realpath),directoryExists:t=>Ib(t,e),getDirectories:t=>e.getDirectories?e.getDirectories(t):[],readDirectory:(t,n,r,i,o)=>(fn.checkDefined(e.readDirectory,"'LanguageServiceHost.readDirectory' must be implemented to correctly process 'projectReferences'"),e.readDirectory(t,n,r,i,o)),onReleaseOldSourceFile:I,onReleaseParsedCommandLine:P,hasInvalidatedResolutions:y,hasInvalidatedLibResolutions:v,hasChangedAutomaticTypeDirectiveNames:b,trace:Ke(e,e.trace),resolveModuleNames:Ke(e,e.resolveModuleNames),getModuleResolutionCache:Ke(e,e.getModuleResolutionCache),createHash:Ke(e,e.createHash),resolveTypeReferenceDirectives:Ke(e,e.resolveTypeReferenceDirectives),resolveModuleNameLiterals:Ke(e,e.resolveModuleNameLiterals),resolveTypeReferenceDirectiveReferences:Ke(e,e.resolveTypeReferenceDirectiveReferences),resolveLibrary:Ke(e,e.resolveLibrary),useSourceOfProjectReferenceRedirect:Ke(e,e.useSourceOfProjectReferenceRedirect),getParsedCommandLine:F,jsDocParsingMode:e.jsDocParsingMode,getGlobalTypingsCacheLocation:Ke(e,e.getGlobalTypingsCacheLocation)};const T=S.getSourceFile,{getSourceFileWithCache:C}=GV(S,e=>Ko(e,_,m),(...e)=>T.call(S,...e));S.getSourceFile=C,null==(o=e.setCompilerHost)||o.call(e,S);const w={useCaseSensitiveFileNames:p,fileExists:e=>S.fileExists(e),readFile:e=>S.readFile(e),directoryExists:e=>S.directoryExists(e),getDirectories:e=>S.getDirectories(e),realpath:S.realpath,readDirectory:(...e)=>S.readDirectory(...e),trace:S.trace,getCurrentDirectory:S.getCurrentDirectory,onUnRecoverableConfigFileDiagnostic:at},D=t.getKeyForCompilationSettings(h);let N=new Set;return IU(a,f,h,(t,n)=>e.getScriptVersion(n),e=>S.fileExists(e),y,v,b,F,x)?(S=void 0,k=void 0,void(N=void 0)):(a=MU({rootNames:f,options:h,host:S,oldProgram:a,projectReferences:x}),S=void 0,k=void 0,N=void 0,g.clearCache(),void a.getTypeChecker());function F(t){const n=Ko(t,_,m),r=null==k?void 0:k.get(n);if(void 0!==r)return r||void 0;const i=e.getParsedCommandLine?e.getParsedCommandLine(t):E(t);return(k||(k=new Map)).set(n,i||!1),i}function E(e){const t=O(e,100);if(t)return t.path=Ko(e,_,m),t.resolvedPath=t.path,t.originalFileName=t.fileName,ej(t,w,Uo(Io(e),_),void 0,Uo(e,_))}function P(t,n,r){var i;e.getParsedCommandLine?null==(i=e.onReleaseParsedCommandLine)||i.call(e,t,n,r):n&&A(n.sourceFile,r)}function A(e,n){const r=t.getKeyForCompilationSettings(n);t.releaseDocumentWithKey(e.resolvedPath,r,e.scriptKind,e.impliedNodeFormat)}function I(t,n,r,i){var o;A(t,n),null==(o=e.onReleaseOldSourceFile)||o.call(e,t,n,r,i)}function O(e,t,n,r){return L(e,Ko(e,_,m),t,n,r)}function L(n,r,i,o,s){fn.assert(S,"getOrCreateSourceFileByPath called after typical CompilerHost lifetime, check the callstack something with a reference to an old host.");const c=e.getScriptSnapshot(n);if(!c)return;const l=YZ(n,e),_=e.getScriptVersion(n);if(!s){const o=a&&a.getSourceFileByPath(r);if(o){if(l===o.scriptKind||N.has(o.resolvedPath))return t.updateDocumentWithKey(n,r,e,D,c,_,l,i);t.releaseDocumentWithKey(o.resolvedPath,t.getKeyForCompilationSettings(a.getCompilerOptions()),o.scriptKind,o.impliedNodeFormat),N.add(o.resolvedPath)}}return t.acquireDocumentWithKey(n,r,e,D,c,_,l,i)}}()}function v(){if(2!==i)return y(),a;fn.assert(void 0===a)}function b(){if(a){const e=t.getKeyForCompilationSettings(a.getCompilerOptions());f(a.getSourceFiles(),n=>t.releaseDocumentWithKey(n.resolvedPath,e,n.scriptKind,n.impliedNodeFormat)),a=void 0}}function x(e,t){if(Bs(t,e))return;const n=gc(iQ(e,Os(t))||e,e=>Js(e,t)),r=[];return k(t,n,r),e.end===t.start+t.length&&r.push(e.endOfFileToken),K(r,nP)?void 0:r}function k(e,t,n){return!!function(e,t){const n=t.start+t.length;return e.pos<n&&e.end>t.start}(t,e)&&(Bs(e,t)?(S(t,n),!0):v0(t)?function(e,t,n){const r=[],i=t.statements.filter(t=>k(e,t,r));return i.length===t.statements.length?(S(t,n),!0):(n.push(...r),!1)}(e,t,n):g_(t)?function(e,t,n){var r,i,o;const a=t=>Hs(t,e);if((null==(r=t.modifiers)?void 0:r.some(a))||t.name&&a(t.name)||(null==(i=t.typeParameters)?void 0:i.some(a))||(null==(o=t.heritageClauses)?void 0:o.some(a)))return S(t,n),!0;const s=[],c=t.members.filter(t=>k(e,t,s));return c.length===t.members.length?(S(t,n),!0):(n.push(...s),!1)}(e,t,n):(S(t,n),!0))}function S(e,t){for(;e.parent&&!vC(e);)e=e.parent;t.push(e)}function T(e,t,n,r){y();const i=n&&n.use===Mce.FindReferencesUse.Rename?a.getSourceFiles().filter(e=>!a.isSourceFileDefaultLibrary(e)):a.getSourceFiles();return Mce.findReferenceOrRenameEntries(a,l,i,e,t,n,r)}const C=new Map(Object.entries({19:20,21:22,23:24,32:30}));function w(t){return fn.assertEqual(t.type,"install package"),e.installPackage?e.installPackage({fileName:(n=t.file,Ko(n,_,m)),packageName:t.packageName}):Promise.reject("Host does not implement `installPackage`");var n}function D(e,t){return{lineStarts:e.getLineStarts(),firstLine:e.getLineAndCharacterOfPosition(t.pos).line,lastLine:e.getLineAndCharacterOfPosition(t.end).line}}function N(e,t,n){const r=o.getCurrentSourceFile(e),i=[],{lineStarts:a,firstLine:s,lastLine:c}=D(r,t);let l=n||!1,_=Number.MAX_VALUE;const u=new Map,d=new RegExp(/\S/),p=mQ(r,a[s]),f=p?"{/*":"//";for(let o=s;o<=c;o++){const e=r.text.substring(a[o],r.getLineEndOfPosition(a[o])),t=d.exec(e);t&&(_=Math.min(_,t.index),u.set(o.toString(),t.index),e.substr(t.index,f.length)!==f&&(l=void 0===n||n))}for(let o=s;o<=c;o++){if(s!==c&&a[o]===t.end)continue;const n=u.get(o.toString());void 0!==n&&(p?i.push(...F(e,{pos:a[o]+_,end:r.getLineEndOfPosition(a[o])},l,p)):l?i.push({newText:f,span:{length:0,start:a[o]+_}}):r.text.substr(a[o]+n,f.length)===f&&i.push({newText:"",span:{length:f.length,start:a[o]+n}}))}return i}function F(e,t,n,r){var i;const a=o.getCurrentSourceFile(e),s=[],{text:c}=a;let l=!1,_=n||!1;const u=[];let{pos:d}=t;const p=void 0!==r?r:mQ(a,d),f=p?"{/*":"/*",m=p?"*/}":"*/",g=p?"\\{\\/\\*":"\\/\\*",h=p?"\\*\\/\\}":"\\*\\/";for(;d<=t.end;){const e=bQ(a,d+(c.substr(d,f.length)===f?f.length:0));if(e)p&&(e.pos--,e.end++),u.push(e.pos),3===e.kind&&u.push(e.end),l=!0,d=e.end+1;else{const e=c.substring(d,t.end).search(`(${g})|(${h})`);_=void 0!==n?n:_||!CZ(c,d,-1===e?t.end:d+e),d=-1===e?t.end+1:d+e+m.length}}if(_||!l){2!==(null==(i=bQ(a,t.pos))?void 0:i.kind)&&ne(u,t.pos,kt),ne(u,t.end,kt);const e=u[0];c.substr(e,f.length)!==f&&s.push({newText:f,span:{length:0,start:e}});for(let t=1;t<u.length-1;t++)c.substr(u[t]-m.length,m.length)!==m&&s.push({newText:m,span:{length:0,start:u[t]}}),c.substr(u[t],f.length)!==f&&s.push({newText:f,span:{length:0,start:u[t]}});s.length%2!=0&&s.push({newText:m,span:{length:0,start:u[u.length-1]}})}else for(const o of u){const e=o-m.length>0?o-m.length:0,t=c.substr(e,m.length)===m?m.length:0;s.push({newText:"",span:{length:f.length,start:o-t}})}return s}function E({openingElement:e,closingElement:t,parent:n}){return!vO(e.tagName,t.tagName)||jE(n)&&vO(e.tagName,n.openingElement.tagName)&&E(n)}function P({closingFragment:e,parent:t}){return!!(262144&e.flags)||JE(t)&&P(t)}function I(t,n,r,i,o,a){const[s,c]="number"==typeof n?[n,void 0]:[n.pos,n.end];return{file:t,startPosition:s,endPosition:c,program:v(),host:e,formatContext:Ade.getFormatContext(i,e),cancellationToken:l,preferences:r,triggerReason:o,kind:a}}C.forEach((e,t)=>C.set(e.toString(),Number(t)));const O={dispose:function(){b(),e=void 0},cleanupSemanticCache:b,getSyntacticDiagnostics:function(e){return y(),a.getSyntacticDiagnostics(h(e),l).slice()},getSemanticDiagnostics:function(e){y();const t=h(e),n=a.getSemanticDiagnostics(t,l);if(!Ik(a.getCompilerOptions()))return n.slice();const r=a.getDeclarationDiagnostics(t,l);return[...n,...r]},getRegionSemanticDiagnostics:function(e,t){y();const n=h(e),r=a.getCompilerOptions();if(mT(n,r,a)||!yT(n,r)||a.getCachedSemanticDiagnostics(n))return;const i=function(e,t){const n=[],r=Gs(t.map(e=>JQ(e)));for(const i of r){const t=x(e,i);if(!t)return;n.push(...t)}if(n.length)return n}(n,t);if(!i)return;const o=Gs(i.map(e=>Qs(e.getFullStart(),e.getEnd())));return{diagnostics:a.getSemanticDiagnostics(n,l,i).slice(),spans:o}},getSuggestionDiagnostics:function(e){return y(),z1(h(e),a,l)},getCompilerOptionsDiagnostics:function(){return y(),[...a.getOptionsDiagnostics(l),...a.getGlobalDiagnostics(l)]},getSyntacticClassifications:function(e,t){return K0(l,o.getCurrentSourceFile(e),t)},getSemanticClassifications:function(e,t,n){return y(),"2020"===(n||"original")?A8(a,l,h(e),t):q0(a.getTypeChecker(),l,h(e),a.getClassifiableNames(),t)},getEncodedSyntacticClassifications:function(e,t){return G0(l,o.getCurrentSourceFile(e),t)},getEncodedSemanticClassifications:function(e,t,n){return y(),"original"===(n||"original")?U0(a.getTypeChecker(),l,h(e),a.getClassifiableNames(),t):I8(a,l,h(e),t)},getCompletionsAtPosition:function(t,n,r=FG,i){const o=__spreadProps(__spreadValues({},r),{includeCompletionsForModuleExports:r.includeCompletionsForModuleExports||r.includeExternalModuleExports,includeCompletionsWithInsertText:r.includeCompletionsWithInsertText||r.includeInsertTextCompletions});return y(),jae.getCompletionsAtPosition(e,a,d,h(t),n,o,r.triggerCharacter,r.triggerKind,l,i&&Ade.getFormatContext(i,e),r.includeSymbol)},getCompletionEntryDetails:function(t,n,r,i,o,s=FG,c){return y(),jae.getCompletionEntryDetails(a,d,h(t),n,{name:r,source:o,data:c},e,i&&Ade.getFormatContext(i,e),s,l)},getCompletionEntrySymbol:function(t,n,r,i,o=FG){return y(),jae.getCompletionEntrySymbol(a,d,h(t),n,{name:r,source:i},e,o)},getSignatureHelpItems:function(e,t,{triggerReason:n}=FG){y();const r=h(e);return uue.getSignatureHelpItems(a,r,t,n,l)},getQuickInfoAtPosition:function(e,t){y();const n=h(e),r=YX(n,t);if(r===n)return;const i=a.getTypeChecker(),o=function(e){return _F(e.parent)&&e.pos===e.parent.pos?e.parent.expression:JN(e.parent)&&e.pos===e.parent.pos||mf(e.parent)&&e.parent.name===e||HE(e.parent)?e.parent:e}(r),s=function(e,t){const n=h7(e);if(n){const e=t.getContextualType(n.parent),r=e&&y7(n,t,e,!1);if(r&&1===r.length)return ve(r)}return t.getSymbolAtLocation(e)}(o,i);if(!s||i.isUnknownSymbol(s)){const e=function(e,t,n){switch(t.kind){case 80:return!(16777216&t.flags&&!Om(t)&&(171===t.parent.kind&&t.parent.name===t||gc(t,e=>169===e.kind))||mX(t)||gX(t)||Dl(t.parent));case 211:case 166:return!bQ(e,n);case 110:case 197:case 108:case 202:return!0;case 236:return mf(t);default:return!1}}(n,o,t)?i.getTypeAtLocation(o):void 0;return e&&{kind:"",kindModifiers:"",textSpan:RQ(o,n),displayParts:i.runWithCancellationToken(l,t=>GZ(t,e,TX(o))),documentation:e.symbol?e.symbol.getDocumentationComment(i):void 0,tags:e.symbol?e.symbol.getJsDocTags(i):void 0}}const{symbolKind:c,displayParts:_,documentation:u,tags:d}=i.runWithCancellationToken(l,e=>Kue.getSymbolDisplayPartsDocumentationAndSymbolKind(e,s,n,TX(o),o));return{kind:c,kindModifiers:Kue.getSymbolModifiers(i,s),textSpan:RQ(o,n),displayParts:_,documentation:u,tags:d}},getDefinitionAtPosition:function(e,t,n,r){return y(),kle.getDefinitionAtPosition(a,h(e),t,n,r)},getDefinitionAndBoundSpan:function(e,t){return y(),kle.getDefinitionAndBoundSpan(a,h(e),t)},getImplementationAtPosition:function(e,t){return y(),Mce.getImplementationsAtPosition(a,l,a.getSourceFiles(),h(e),t)},getTypeDefinitionAtPosition:function(e,t){return y(),kle.getTypeDefinitionAtPosition(a.getTypeChecker(),h(e),t)},getReferencesAtPosition:function(e,t){return y(),T(YX(h(e),t),t,{use:Mce.FindReferencesUse.References},Mce.toReferenceEntry)},findReferences:function(e,t){return y(),Mce.findReferencedSymbols(a,l,a.getSourceFiles(),h(e),t)},getFileReferences:function(e){return y(),Mce.Core.getReferencesForFileName(e,a,a.getSourceFiles()).map(Mce.toReferenceEntry)},getDocumentHighlights:function(e,t,n){const r=Wo(e);fn.assert(n.some(e=>Wo(e)===r)),y();const i=z(n,e=>a.getSourceFile(e)),o=h(e);return j0.getDocumentHighlights(a,l,o,t,i)},getNameOrDottedNameSpan:function(e,t,n){const r=o.getCurrentSourceFile(e),i=YX(r,t);if(i===r)return;switch(i.kind){case 211:case 166:case 11:case 97:case 112:case 106:case 108:case 110:case 197:case 80:break;default:return}let a=i;for(;;)if(yX(a)||hX(a))a=a.parent;else{if(!bX(a))break;if(267!==a.parent.parent.kind||a.parent.parent.body!==a.parent)break;a=a.parent.parent.name}return Qs(a.getStart(),i.getEnd())},getBreakpointStatementAtPosition:function(e,t){const n=o.getCurrentSourceFile(e);return x7.spanInSourceFileAtLocation(n,t)},getNavigateToItems:function(e,t,n,r=!1,i=!1){return y(),l2(n?[h(n)]:a.getSourceFiles(),a.getTypeChecker(),l,e,t,r,i)},getRenameInfo:function(e,t,n){return y(),iue.getRenameInfo(a,h(e),t,n||{})},getSmartSelectionRange:function(e,t){return Rue.getSmartSelectionRange(t,o.getCurrentSourceFile(e))},findRenameLocations:function(e,t,n,r,i){y();const o=h(e),a=ZX(YX(o,t));if(iue.nodeIsEligibleForRename(a)){if(tN(a)&&(ME(a.parent)||BE(a.parent))&&Oy(a.escapedText)){const{openingElement:e,closingElement:t}=a.parent.parent;return[e,t].map(e=>{const t=RQ(e.tagName,o);return __spreadValues({fileName:o.fileName,textSpan:t},Mce.toContextSpan(t,o,e.parent))})}{const e=lZ(o,null!=i?i:FG),s="boolean"==typeof i?i:null==i?void 0:i.providePrefixAndSuffixTextForRename;return T(a,t,{findInStrings:n,findInComments:r,providePrefixAndSuffixTextForRename:s,use:Mce.FindReferencesUse.Rename},(t,n,r)=>Mce.toRenameLocation(t,n,r,s||!1,e))}}},getNavigationBarItems:function(e){return F2(o.getCurrentSourceFile(e),l)},getNavigationTree:function(e){return E2(o.getCurrentSourceFile(e),l)},getOutliningSpans:function(e){const t=o.getCurrentSourceFile(e);return G_e.collectElements(t,l)},getTodoComments:function(e,t){y();const n=h(e);l.throwIfCancellationRequested();const r=n.text,i=[];if(t.length>0&&!n.fileName.includes("/node_modules/")){const e=function(){const e="("+/(?:^(?:\s|\*)*)/.source+"|"+/(?:\/{2,}\s*)/.source+"|"+/(?:\/\*+\s*)/.source+")",n="(?:"+A(t,e=>"("+e.text.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")+")").join("|")+")";return new RegExp(e+"("+n+/(?:.*?)/.source+")"+/(?:$|\*\/)/.source,"gim")}();let a;for(;a=e.exec(r);){l.throwIfCancellationRequested();const e=3;fn.assert(a.length===t.length+e);const s=a[1],c=a.index+s.length;if(!bQ(n,c))continue;let _;for(let n=0;n<t.length;n++)a[n+e]&&(_=t[n]);if(void 0===_)return fn.fail();if(o(r.charCodeAt(c+_.text.length)))continue;const u=a[2];i.push({descriptor:_,message:u,position:c})}}return i;function o(e){return e>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57}},getBraceMatchingAtPosition:function(e,t){const n=o.getCurrentSourceFile(e),r=eQ(n,t),i=r.getStart(n)===t?C.get(r.kind.toString()):void 0,a=i&&zX(r.parent,i,n);return a?[RQ(r,n),RQ(a,n)].sort((e,t)=>e.start-t.start):u},getIndentationAtPosition:function(e,t,n){let r=$n();const i=t7(n),a=o.getCurrentSourceFile(e);d("getIndentationAtPosition: getCurrentSourceFile: "+($n()-r)),r=$n();const s=Ade.SmartIndenter.getIndentation(t,a,i);return d("getIndentationAtPosition: computeIndentation  : "+($n()-r)),s},getFormattingEditsForRange:function(t,n,r,i){const a=o.getCurrentSourceFile(t);return Ade.formatSelection(n,r,a,Ade.getFormatContext(t7(i),e))},getFormattingEditsForDocument:function(t,n){return Ade.formatDocument(o.getCurrentSourceFile(t),Ade.getFormatContext(t7(n),e))},getFormattingEditsAfterKeystroke:function(t,n,r,i){const a=o.getCurrentSourceFile(t),s=Ade.getFormatContext(t7(i),e);if(!bQ(a,n))switch(r){case"{":return Ade.formatOnOpeningCurly(n,a,s);case"}":return Ade.formatOnClosingCurly(n,a,s);case";":return Ade.formatOnSemicolon(n,a,s);case"\n":return Ade.formatOnEnter(n,a,s)}return[]},getDocCommentTemplateAtPosition:function(t,n,r,i){const a=i?Ade.getFormatContext(i,e).options:void 0;return Wle.getDocCommentTemplateAtPosition($Z(e,a),o.getCurrentSourceFile(t),n,r)},isValidBraceCompletionAtPosition:function(e,t,n){if(60===n)return!1;const r=o.getCurrentSourceFile(e);if(_Q(r,t))return!1;if(uQ(r,t))return 123===n;if(pQ(r,t))return!1;switch(n){case 39:case 34:case 96:return!bQ(r,t)}return!0},getJsxClosingTagAtPosition:function(e,t){const n=o.getCurrentSourceFile(e),r=aQ(t,n);if(!r)return;const i=32===r.kind&&ME(r.parent)?r.parent.parent:BD(r)&&jE(r.parent)?r.parent:void 0;if(i&&E(i))return{newText:`</${i.openingElement.tagName.getText(n)}>`};const a=32===r.kind&&zE(r.parent)?r.parent.parent:BD(r)&&JE(r.parent)?r.parent:void 0;return a&&P(a)?{newText:"</>"}:void 0},getLinkedEditingRangeAtPosition:function(e,t){const n=o.getCurrentSourceFile(e),r=aQ(t,n);if(!r||307===r.parent.kind)return;const i="[a-zA-Z0-9:\\-\\._$]*";if(JE(r.parent.parent)){const e=r.parent.parent.openingFragment,o=r.parent.parent.closingFragment;if(kd(e)||kd(o))return;const a=e.getStart(n)+1,s=o.getStart(n)+2;if(t!==a&&t!==s)return;return{ranges:[{start:a,length:0},{start:s,length:0}],wordPattern:i}}{const e=gc(r.parent,e=>!(!ME(e)&&!BE(e)));if(!e)return;fn.assert(ME(e)||BE(e),"tag should be opening or closing element");const o=e.parent.openingElement,a=e.parent.closingElement,s=o.tagName.getStart(n),c=o.tagName.end,l=a.tagName.getStart(n),_=a.tagName.end;if(s===o.getStart(n)||l===a.getStart(n)||c===o.getEnd()||_===a.getEnd())return;if(!(s<=t&&t<=c||l<=t&&t<=_))return;if(o.tagName.getText(n)!==a.tagName.getText(n))return;return{ranges:[{start:s,length:c-s},{start:l,length:_-l}],wordPattern:i}}},getSpanOfEnclosingComment:function(e,t,n){const r=o.getCurrentSourceFile(e),i=Ade.getRangeOfEnclosingComment(r,t);return!i||n&&3!==i.kind?void 0:JQ(i)},getCodeFixesAtPosition:function(t,n,r,i,o,s=FG){y();const c=h(t),_=Qs(n,r),u=Ade.getFormatContext(o,e);return j(ee(i,yt,kt),t=>(l.throwIfCancellationRequested(),U7.getFixes({errorCode:t,sourceFile:c,span:_,program:a,host:e,cancellationToken:l,formatContext:u,preferences:s})))},getCombinedCodeFix:function(t,n,r,i=FG){y(),fn.assert("file"===t.type);const o=h(t.fileName),s=Ade.getFormatContext(r,e);return U7.getAllFixes({fixId:n,sourceFile:o,program:a,host:e,cancellationToken:l,formatContext:s,preferences:i})},applyCodeActionCommand:function(e,t){const n="string"==typeof e?t:e;return et(n)?Promise.all(n.map(e=>w(e))):w(n)},organizeImports:function(t,n,r=FG){var i;y(),fn.assert("file"===t.type);const o=h(t.fileName);if(kd(o))return u;const s=Ade.getFormatContext(n,e),c=null!=(i=t.mode)?i:t.skipDestructiveCodeActions?"SortAndCombine":"All";return h_e.organizeImports(o,s,e,a,r,c)},getEditsForFileRename:function(t,n,r,i=FG){return t1(v(),t,n,e,Ade.getFormatContext(r,e),i,g)},getEmitOutput:function(t,n,r){y();const i=h(t),o=e.getCustomTransformers&&e.getCustomTransformers();return ZU(a,i,!!n,l,o,r)},getNonBoundSourceFile:function(e){return o.getCurrentSourceFile(e)},getProgram:v,getCurrentProgram:()=>a,getAutoImportProvider:function(){var t;return null==(t=e.getPackageJsonAutoImportProvider)?void 0:t.call(e)},updateIsDefinitionOfReferencedSymbols:function(t,n){const r=a.getTypeChecker(),i=function(){for(const i of t)for(const t of i.references){if(n.has(t)){const e=o(t);return fn.assertIsDefined(e),r.getSymbolAtLocation(e)}const i=DZ(t,g,Ke(e,e.fileExists));if(i&&n.has(i)){const e=o(i);if(e)return r.getSymbolAtLocation(e)}}}();if(!i)return!1;for(const a of t)for(const t of a.references){const r=o(t);if(fn.assertIsDefined(r),n.has(t)||Mce.isDeclarationOfSymbol(r,i)){n.add(t),t.isDefinition=!0;const r=DZ(t,g,Ke(e,e.fileExists));r&&n.add(r)}else t.isDefinition=!1}return!0;function o(e){const t=a.getSourceFile(e.fileName);if(!t)return;const n=YX(t,e.textSpan.start);return Mce.Core.getAdjustedNode(n,{use:Mce.FindReferencesUse.References})}},getApplicableRefactors:function(e,t,n=FG,r,i,o){y();const a=h(e);return m6.getApplicableRefactors(I(a,t,n,FG,r,i),o)},getEditsForRefactor:function(e,t,n,r,i,o=FG,a){y();const s=h(e);return m6.getEditsForRefactor(I(s,n,o,t),r,i,a)},getMoveToRefactoringFileSuggestions:function(t,n,r=FG){y();const i=h(t),o=fn.checkDefined(a.getSourceFiles()),s=iT(t),c=p3(I(i,n,r,FG)),l=f3(null==c?void 0:c.all),_=z(o,e=>{const t=iT(e.fileName);return(null==a?void 0:a.isSourceFileFromExternalLibrary(i))||i===h(e.fileName)||".ts"===s&&".d.ts"===t||".d.ts"===s&&Zt(Oo(e.fileName),"lib.")&&".d.ts"===t||s!==t&&(!(".tsx"===s&&".ts"===t||".jsx"===s&&".js"===t)||l)?void 0:e.fileName});return{newFileName:d3(i,a,e,c),files:_}},toLineColumnOffset:function(e,t){return 0===t?{line:0,character:0}:g.toLineColumnOffset(e,t)},getSourceMapper:()=>g,clearSourceMapperCache:()=>g.clearCache(),prepareCallHierarchy:function(e,t){y();const n=S7.resolveCallHierarchyDeclaration(a,YX(h(e),t));return n&&n0(n,e=>S7.createCallHierarchyItem(a,e))},provideCallHierarchyIncomingCalls:function(e,t){y();const n=h(e),r=r0(S7.resolveCallHierarchyDeclaration(a,0===t?n:YX(n,t)));return r?S7.getIncomingCalls(a,r,l):[]},provideCallHierarchyOutgoingCalls:function(e,t){y();const n=h(e),r=r0(S7.resolveCallHierarchyDeclaration(a,0===t?n:YX(n,t)));return r?S7.getOutgoingCalls(a,r):[]},toggleLineComment:N,toggleMultilineComment:F,commentSelection:function(e,t){const n=o.getCurrentSourceFile(e),{firstLine:r,lastLine:i}=D(n,t);return r===i&&t.pos!==t.end?F(e,t,!0):N(e,t,!0)},uncommentSelection:function(e,t){const n=o.getCurrentSourceFile(e),r=[],{pos:i}=t;let{end:a}=t;i===a&&(a+=mQ(n,i)?2:1);for(let o=i;o<=a;o++){const t=bQ(n,o);if(t){switch(t.kind){case 2:r.push(...N(e,{end:t.end,pos:t.pos+1},!1));break;case 3:r.push(...F(e,{end:t.end,pos:t.pos+1},!1))}o=t.end+1}}return r},provideInlayHints:function(t,n,r=FG){y();const i=h(t);return Jle.provideInlayHints(function(t,n,r){return{file:t,program:v(),host:e,span:n,preferences:r,cancellationToken:l}}(i,n,r))},getSupportedCodeFixes:o7,preparePasteEditsForFile:function(e,t){return y(),Afe.preparePasteEdits(h(e),t,a.getTypeChecker())},getPasteEdits:function(t,n){return y(),Ofe.pasteEditsProvider(h(t.targetFile),t.pastedText,t.pasteLocations,t.copiedFrom?{file:h(t.copiedFrom.file),range:t.copiedFrom.range}:void 0,e,t.preferences,Ade.getFormatContext(n,e),l)},mapCode:function(t,n,r,i,a){return u_e.mapCode(o.getCurrentSourceFile(t),n,r,e,Ade.getFormatContext(i,e),a)}};switch(i){case 0:break;case 1:p7.forEach(e=>O[e]=()=>{throw new Error(`LanguageService Operation: ${e} not allowed in LanguageServiceMode.PartialSemantic`)});break;case 2:f7.forEach(e=>O[e]=()=>{throw new Error(`LanguageService Operation: ${e} not allowed in LanguageServiceMode.Syntactic`)});break;default:fn.assertNever(i)}return O}function g7(e){return e.nameTable||function(e){const t=e.nameTable=new Map;e.forEachChild(function e(n){if(tN(n)&&!gX(n)&&n.escapedText||Jh(n)&&function(e){return ph(e)||283===e.parent.kind||function(e){return e&&e.parent&&212===e.parent.kind&&e.parent.argumentExpression===e}(e)||mh(e)}(n)){const e=Hh(n);t.set(e,void 0===t.get(e)?n.pos:-1)}else if(nN(n)){const e=n.escapedText;t.set(e,void 0===t.get(e)?n.pos:-1)}if(KI(n,e),Iu(n))for(const t of n.jsDoc)KI(t,e)})}(e),e.nameTable}function h7(e){const t=function(e){switch(e.kind){case 11:case 15:case 9:if(167===e.parent.kind)return Ru(e.parent.parent)?e.parent.parent:void 0;case 80:return!Ru(e.parent)||210!==e.parent.parent.kind&&292!==e.parent.parent.kind||e.parent.name!==e?void 0:e.parent}}(e);return t&&(aF(t.parent)||UE(t.parent))?t:void 0}function y7(e,t,n,r){const i=ZQ(e.name);if(!i)return u;if(!n.isUnion()){const e=n.getProperty(i);return e?[e]:u}const o=aF(e.parent)||UE(e.parent)?F(n.types,n=>!t.isTypeInvalidDueToUnionDiscriminant(n,e.parent)):n.types,a=z(o,e=>e.getProperty(i));if(r&&(0===a.length||a.length===n.types.length)){const e=n.getProperty(i);if(e)return[e]}return o.length||a.length?ee(a,yt):z(n.types,e=>e.getProperty(i))}function v7(e){if(po)return zo(Io(Wo(po.getExecutingFilePath())),Is(e));throw new Error("getDefaultLibFilePath is only supported when consumed as a node module. ")}function b7(e,t,n){const r=[];n=s2(n,r);const i=et(e)?e:[e],o=Hq(void 0,void 0,_w,n,i,t,!0);return o.diagnostics=X(o.diagnostics,r),o}Wx({getNodeConstructor:()=>J8,getTokenConstructor:()=>U8,getIdentifierConstructor:()=>W8,getPrivateIdentifierConstructor:()=>$8,getSourceFileConstructor:()=>Y8,getSymbolConstructor:()=>V8,getTypeConstructor:()=>H8,getSignatureConstructor:()=>K8,getSourceMapSourceConstructor:()=>e7});var x7={};function k7(e,t){if(e.isDeclarationFile)return;let n=tQ(e,t);const r=e.getLineAndCharacterOfPosition(t).line;if(e.getLineAndCharacterOfPosition(n.getStart(e)).line>r){const t=aQ(n.pos,e);if(!t||e.getLineAndCharacterOfPosition(t.getEnd()).line!==r)return;n=t}if(!(33554432&n.flags))return l(n);function i(t,n){const r=xI(t)?S(t.modifiers,bN):void 0;return Qs(r?ns(e.text,r.end):t.getStart(e),(n||t).getEnd())}function o(t,n){return i(t,oQ(n,n.parent,e))}function a(t,n){return t&&r===e.getLineAndCharacterOfPosition(t.getStart(e)).line?l(t):l(n)}function s(t){return l(aQ(t.pos,e))}function c(t){return l(oQ(t,t.parent,e))}function l(t){if(t){const{parent:_}=t;switch(t.kind){case 243:return u(t.declarationList.declarations[0]);case 260:case 172:case 171:return u(t);case 169:return function e(t){if(D_(t.name))return g(t.name);if(function(e){return!!e.initializer||void 0!==e.dotDotDotToken||Av(e,3)}(t))return i(t);{const n=t.parent,r=n.parameters.indexOf(t);return fn.assert(-1!==r),0!==r?e(n.parameters[r-1]):l(n.body)}}(t);case 262:case 174:case 173:case 177:case 178:case 176:case 218:case 219:return function(e){if(e.body)return d(e)?i(e):l(e.body)}(t);case 241:if(Vf(t))return function(e){const t=e.statements.length?e.statements[0]:e.getLastToken();return d(e.parent)?a(e.parent,t):l(t)}(t);case 268:return p(t);case 299:return p(t.block);case 244:return i(t.expression);case 253:return i(t.getChildAt(0),t.expression);case 247:return o(t,t.expression);case 246:return l(t.statement);case 259:return i(t.getChildAt(0));case 245:return o(t,t.expression);case 256:return l(t.statement);case 252:case 251:return i(t.getChildAt(0),t.label);case 248:return(r=t).initializer?m(r):r.condition?i(r.condition):r.incrementor?i(r.incrementor):void 0;case 249:return o(t,t.expression);case 250:return m(t);case 255:return o(t,t.expression);case 296:case 297:return l(t.statements[0]);case 258:return p(t.tryBlock);case 257:case 277:return i(t,t.expression);case 271:return i(t,t.moduleReference);case 272:case 278:return i(t,t.moduleSpecifier);case 267:if(1!==HM(t))return;case 263:case 266:case 306:case 208:return i(t);case 254:return l(t.statement);case 170:return function(t,n,r){if(t){const i=t.indexOf(n);if(i>=0){let n=i,o=i+1;for(;n>0&&r(t[n-1]);)n--;for(;o<t.length&&r(t[o]);)o++;return Qs(ns(e.text,t[n].pos),t[o-1].end)}}return i(n)}(_.modifiers,t,bN);case 206:case 207:return g(t);case 264:case 265:return;case 27:case 1:return a(aQ(t.pos,e));case 28:return s(t);case 19:return function(t){switch(t.parent.kind){case 266:const n=t.parent;return a(aQ(t.pos,e,t.parent),n.members.length?n.members[0]:n.getLastToken(e));case 263:const r=t.parent;return a(aQ(t.pos,e,t.parent),r.members.length?r.members[0]:r.getLastToken(e));case 269:return a(t.parent.parent,t.parent.clauses[0])}return l(t.parent)}(t);case 20:return function(e){switch(e.parent.kind){case 268:if(1!==HM(e.parent.parent))return;case 266:case 263:return i(e);case 241:if(Vf(e.parent))return i(e);case 299:return l(xe(e.parent.statements));case 269:const t=xe(e.parent.clauses);return t?l(xe(t.statements)):void 0;case 206:const n=e.parent;return l(xe(n.elements)||n);default:if(AQ(e.parent)){const t=e.parent;return i(xe(t.properties)||t)}return l(e.parent)}}(t);case 24:return function(e){if(207===e.parent.kind){const t=e.parent;return i(xe(t.elements)||t)}if(AQ(e.parent)){const t=e.parent;return i(xe(t.elements)||t)}return l(e.parent)}(t);case 21:return 246===(n=t).parent.kind||213===n.parent.kind||214===n.parent.kind?s(n):217===n.parent.kind?c(n):l(n.parent);case 22:return function(e){switch(e.parent.kind){case 218:case 262:case 219:case 174:case 173:case 177:case 178:case 176:case 247:case 246:case 248:case 250:case 213:case 214:case 217:return s(e);default:return l(e.parent)}}(t);case 59:return function(e){return c_(e.parent)||303===e.parent.kind||169===e.parent.kind?s(e):l(e.parent)}(t);case 32:case 30:return function(e){return 216===e.parent.kind?c(e):l(e.parent)}(t);case 117:return function(e){return 246===e.parent.kind?o(e,e.parent.expression):l(e.parent)}(t);case 93:case 85:case 98:return c(t);case 165:return function(e){return 250===e.parent.kind?c(e):l(e.parent)}(t);default:if(AQ(t))return h(t);if((80===t.kind||230===t.kind||303===t.kind||304===t.kind)&&AQ(_))return i(t);if(226===t.kind){const{left:e,operatorToken:n}=t;if(AQ(e))return h(e);if(64===n.kind&&AQ(t.parent))return i(t);if(28===n.kind)return l(e)}if(Tm(t))switch(_.kind){case 246:return s(t);case 170:return l(t.parent);case 248:case 250:return i(t);case 226:if(28===t.parent.operatorToken.kind)return i(t);break;case 219:if(t.parent.body===t)return i(t)}switch(t.parent.kind){case 303:if(t.parent.name===t&&!AQ(t.parent.parent))return l(t.parent.initializer);break;case 216:if(t.parent.type===t)return c(t.parent.type);break;case 260:case 169:{const{initializer:e,type:n}=t.parent;if(e===t||n===t||ob(t.kind))return s(t);break}case 226:{const{left:e}=t.parent;if(AQ(e)&&t!==e)return s(t);break}default:if(c_(t.parent)&&t.parent.type===t)return s(t)}return l(t.parent)}}var n,r;function _(t){return oE(t.parent)&&t.parent.declarations[0]===t?i(aQ(t.pos,e,t.parent),t):i(t)}function u(t){if(249===t.parent.parent.kind)return l(t.parent.parent);const n=t.parent;return D_(t.name)?g(t.name):ju(t)&&t.initializer||Av(t,32)||250===n.parent.kind?_(t):oE(t.parent)&&t.parent.declarations[0]!==t?l(aQ(t.pos,e,t.parent)):void 0}function d(e){return Av(e,32)||263===e.parent.kind&&176!==e.kind}function p(t){switch(t.parent.kind){case 267:if(1!==HM(t.parent))return;case 247:case 245:case 249:return a(t.parent,t.statements[0]);case 248:case 250:return a(aQ(t.pos,e,t.parent),t.statements[0])}return l(t.statements[0])}function m(e){if(261!==e.initializer.kind)return l(e.initializer);{const t=e.initializer;if(t.declarations.length>0)return l(t.declarations[0])}}function g(e){const t=f(e.elements,e=>232!==e.kind?e:void 0);return t?l(t):208===e.parent.kind?i(e.parent):_(e.parent)}function h(e){fn.assert(207!==e.kind&&206!==e.kind);const t=f(209===e.kind?e.elements:e.properties,e=>232!==e.kind?e:void 0);return t?l(t):i(226===e.parent.kind?e.parent:e)}}}i(x7,{spanInSourceFileAtLocation:()=>k7});var S7={};function T7(e){return kN(e)||iE(e)}function C7(e){return(fF(e)||mF(e)||DF(e))&&T7(e.parent)&&e===e.parent.initializer&&tN(e.parent.name)&&(!!(2&uc(e.parent))||kN(e.parent))}function w7(e){return nP(e)||uE(e)||aE(e)||fF(e)||sE(e)||DF(e)||CN(e)||TN(e)||SN(e)||DN(e)||NN(e)}function D7(e){return nP(e)||uE(e)&&tN(e.name)||aE(e)||sE(e)||CN(e)||TN(e)||SN(e)||DN(e)||NN(e)||function(e){return(fF(e)||DF(e))&&Nc(e)}(e)||C7(e)}function N7(e){return nP(e)?e:Nc(e)?e.name:C7(e)?e.parent.name:fn.checkDefined(e.modifiers&&k(e.modifiers,F7))}function F7(e){return 90===e.kind}function E7(e,t){const n=N7(t);return n&&e.getSymbolAtLocation(n)}function P7(e,t){if(t.body)return t;if(wN(t))return cv(t.parent);if(aE(t)||TN(t)){const n=E7(e,t);return n&&n.valueDeclaration&&__(n.valueDeclaration)&&n.valueDeclaration.body?n.valueDeclaration:void 0}return t}function A7(e,t){const n=E7(e,t);let r;if(n&&n.declarations){const e=Z(n.declarations),t=A(n.declarations,e=>({file:e.getSourceFile().fileName,pos:e.pos}));e.sort((e,n)=>Nt(t[e].file,t[n].file)||t[e].pos-t[n].pos);const i=A(e,e=>n.declarations[e]);let o;for(const n of i)D7(n)&&(o&&o.parent===n.parent&&o.end===n.pos||(r=se(r,n)),o=n)}return r}function I7(e,t){var n,r,i;return CN(t)?t:__(t)?null!=(r=null!=(n=P7(e,t))?n:A7(e,t))?r:t:null!=(i=A7(e,t))?i:t}function O7(e,t){const n=e.getTypeChecker();let r=!1;for(;;){if(D7(t))return I7(n,t);if(w7(t)){const e=gc(t,D7);return e&&I7(n,e)}if(ph(t)){if(D7(t.parent))return I7(n,t.parent);if(w7(t.parent)){const e=gc(t.parent,D7);return e&&I7(n,e)}return T7(t.parent)&&t.parent.initializer&&C7(t.parent.initializer)?t.parent.initializer:void 0}if(wN(t))return D7(t.parent)?t.parent:void 0;if(126!==t.kind||!CN(t.parent)){if(iE(t)&&t.initializer&&C7(t.initializer))return t.initializer;if(!r){let e=n.getSymbolAtLocation(t);if(e&&(2097152&e.flags&&(e=n.getAliasedSymbol(e)),e.valueDeclaration)){r=!0,t=e.valueDeclaration;continue}}return}t=t.parent}}function L7(e,t){const n=t.getSourceFile(),r=function(e,t){if(nP(t))return{text:t.fileName,pos:0,end:0};if((aE(t)||sE(t))&&!Nc(t)){const e=t.modifiers&&k(t.modifiers,F7);if(e)return{text:"default",pos:e.getStart(),end:e.getEnd()}}if(CN(t)){const n=ns(t.getSourceFile().text,zb(t).pos),r=n+6,i=e.getTypeChecker(),o=i.getSymbolAtLocation(t.parent);return{text:(o?`${i.symbolToString(o,t.parent)} `:"")+"static {}",pos:n,end:r}}const n=C7(t)?t.parent.name:fn.checkDefined(Ec(t),"Expected call hierarchy item to have a name");let r=tN(n)?xc(n):Jh(n)?n.text:hN(n)&&Jh(n.expression)?n.expression.text:void 0;if(void 0===r){const i=e.getTypeChecker(),o=i.getSymbolAtLocation(n);o&&(r=i.symbolToString(o,t))}if(void 0===r){const e=TV();r=_d(n=>e.writeNode(4,t,t.getSourceFile(),n))}return{text:r,pos:n.getStart(),end:n.getEnd()}}(e,t),i=function(e){var t,n,r,i;if(C7(e))return kN(e.parent)&&g_(e.parent.parent)?DF(e.parent.parent)?null==(t=Pc(e.parent.parent))?void 0:t.getText():null==(n=e.parent.parent.name)?void 0:n.getText():dE(e.parent.parent.parent.parent)&&tN(e.parent.parent.parent.parent.parent.name)?e.parent.parent.parent.parent.parent.name.getText():void 0;switch(e.kind){case 177:case 178:case 174:return 210===e.parent.kind?null==(r=Pc(e.parent))?void 0:r.getText():null==(i=Ec(e.parent))?void 0:i.getText();case 262:case 263:case 267:if(dE(e.parent)&&tN(e.parent.parent.name))return e.parent.parent.name.getText()}}(t),o=CX(t),a=SQ(t),s=Qs(ns(n.text,t.getFullStart(),!1,!0),t.getEnd()),c=Qs(r.pos,r.end);return{file:n.fileName,kind:o,kindModifiers:a,name:r.text,containerName:i,span:s,selectionSpan:c}}function j7(e){return void 0!==e}function R7(e){if(e.kind===Mce.EntryKind.Node){const{node:t}=e;if(nX(t,!0,!0)||rX(t,!0,!0)||iX(t,!0,!0)||oX(t,!0,!0)||yX(t)||vX(t)){const e=t.getSourceFile();return{declaration:gc(t,D7)||e,range:BQ(t,e)}}}}function M7(e){return rJ(e.declaration)}function B7(e,t,n){if(nP(t)||uE(t)||CN(t))return[];const r=N7(t),i=F(Mce.findReferenceOrRenameEntries(e,n,e.getSourceFiles(),r,0,{use:Mce.FindReferencesUse.References},R7),j7);return i?Ve(i,M7,t=>function(e,t){return n=L7(e,t[0].declaration),r=A(t,e=>JQ(e.range)),{from:n,fromSpans:r};var n,r}(e,t)):[]}function J7(e,t){const n=[],r=function(e,t){function n(n){const r=uF(n)?n.tag:Cu(n)?n.tagName:Nx(n)||CN(n)?n:n.expression,i=O7(e,r);if(i){const e=BQ(r,n.getSourceFile());if(et(i))for(const n of i)t.push({declaration:n,range:e});else t.push({declaration:i,range:e})}}return function e(t){if(t&&!(33554432&t.flags))if(D7(t)){if(g_(t))for(const n of t.members)n.name&&hN(n.name)&&e(n.name.expression)}else{switch(t.kind){case 80:case 271:case 272:case 278:case 264:case 265:return;case 175:return void n(t);case 216:case 234:case 238:return void e(t.expression);case 260:case 169:return e(t.name),void e(t.initializer);case 213:case 214:return n(t),e(t.expression),void f(t.arguments,e);case 215:return n(t),e(t.tag),void e(t.template);case 286:case 285:return n(t),e(t.tagName),void e(t.attributes);case 170:return n(t),void e(t.expression);case 211:case 212:n(t),KI(t,e)}Ef(t)||KI(t,e)}}}(e,n);switch(t.kind){case 307:!function(e,t){f(e.statements,t)}(t,r);break;case 267:!function(e,t){!Av(e,128)&&e.body&&dE(e.body)&&f(e.body.statements,t)}(t,r);break;case 262:case 218:case 219:case 174:case 177:case 178:!function(e,t,n){const r=P7(e,t);r&&(f(r.parameters,n),n(r.body))}(e.getTypeChecker(),t,r);break;case 263:case 231:!function(e,t){f(e.modifiers,t);const n=Sh(e);n&&t(n.expression);for(const r of e.members)bI(r)&&f(r.modifiers,t),kN(r)?t(r.initializer):wN(r)&&r.body?(f(r.parameters,t),t(r.body)):CN(r)&&t(r)}(t,r);break;case 175:!function(e,t){t(e.body)}(t,r);break;default:fn.assertNever(t)}return n}function z7(e,t){return 33554432&t.flags||SN(t)?[]:Ve(J7(e,t),M7,t=>function(e,t){return n=L7(e,t[0].declaration),r=A(t,e=>JQ(e.range)),{to:n,fromSpans:r};var n,r}(e,t))}i(S7,{createCallHierarchyItem:()=>L7,getIncomingCalls:()=>B7,getOutgoingCalls:()=>z7,resolveCallHierarchyDeclaration:()=>O7});var q7={};i(q7,{v2020:()=>V7});var V7={};i(V7,{TokenEncodingConsts:()=>F8,TokenModifier:()=>P8,TokenType:()=>E8,getEncodedSemanticClassifications:()=>I8,getSemanticClassifications:()=>A8});var U7={};i(U7,{PreserveOptionalFlags:()=>eoe,addNewNodeForMemberSymbol:()=>toe,codeFixAll:()=>i5,createCodeFixAction:()=>G7,createCodeFixActionMaybeFixAll:()=>X7,createCodeFixActionWithoutFixAll:()=>K7,createCombinedCodeActions:()=>n5,createFileTextChanges:()=>r5,createImportAdder:()=>Fee,createImportSpecifierResolver:()=>Pee,createMissingMemberNodes:()=>Zie,createSignatureDeclarationFromCallExpression:()=>roe,createSignatureDeclarationFromSignature:()=>noe,createStubbedBody:()=>foe,eachDiagnostic:()=>o5,findAncestorMatchingSpan:()=>koe,generateAccessorFromProperty:()=>Soe,getAccessorConvertiblePropertyAtPosition:()=>Doe,getAllFixes:()=>t5,getAllSupers:()=>Eoe,getFixes:()=>e5,getImportCompletionAction:()=>Aee,getImportKind:()=>Kee,getJSDocTypedefNodes:()=>gee,getNoopSymbolTrackerWithResolver:()=>Yie,getPromoteTypeOnlyCompletionAction:()=>Iee,getSupportedErrorCodes:()=>Y7,importFixName:()=>wee,importSymbols:()=>xoe,parameterShouldGetTypeFromJSDoc:()=>G5,registerCodeFix:()=>Z7,setJsonCompilerOptionValue:()=>goe,setJsonCompilerOptionValues:()=>moe,tryGetAutoImportableReferenceFromTypeNode:()=>voe,typeNodeToAutoImportableTypeNode:()=>aoe,typePredicateToAutoImportableTypeNode:()=>coe,typeToAutoImportableTypeNode:()=>ooe,typeToMinimizedReferenceType:()=>soe});var W7,$7=Ge(),H7=new Map;function K7(e,t,n){return Q7(e,p0(n),t,void 0,void 0)}function G7(e,t,n,r,i,o){return Q7(e,p0(n),t,r,p0(i),o)}function X7(e,t,n,r,i,o){return Q7(e,p0(n),t,r,i&&p0(i),o)}function Q7(e,t,n,r,i,o){return{fixName:e,description:t,changes:n,fixId:r,fixAllDescription:i,commands:o?[o]:void 0}}function Z7(e){for(const t of e.errorCodes)W7=void 0,$7.add(String(t),e);if(e.fixIds)for(const t of e.fixIds)fn.assert(!H7.has(t)),H7.set(t,e)}function Y7(){return null!=W7?W7:W7=Re($7.keys())}function e5(e){const t=a5(e);return j($7.get(String(e.errorCode)),n=>A(n.getCodeActions(e),function(e,t){const{errorCodes:n}=e;let r=0;for(const o of t)if(w(n,o.code)&&r++,r>1)break;const i=r<2;return e=>{var t=e,{fixId:n,fixAllDescription:r}=t,o=__objRest(t,["fixId","fixAllDescription"]);return i?o:__spreadProps(__spreadValues({},o),{fixId:n,fixAllDescription:r})}}(n,t)))}function t5(e){return H7.get(ot(e.fixId,nt)).getAllCodeActions(e)}function n5(e,t){return{changes:e,commands:t}}function r5(e,t){return{fileName:e,textChanges:t}}function i5(e,t,n){const r=[];return n5(rde.ChangeTracker.with(e,i=>o5(e,t,e=>n(i,e,r))),0===r.length?void 0:r)}function o5(e,t,n){for(const r of a5(e))w(t,r.code)&&n(r)}function a5({program:e,sourceFile:t,cancellationToken:n}){const r=[...e.getSemanticDiagnostics(t,n),...e.getSyntacticDiagnostics(t,n),...z1(t,e,n)];return Ik(e.getCompilerOptions())&&r.push(...e.getDeclarationDiagnostics(t,n)),r}var s5="addConvertToUnknownForNonOverlappingTypes",c5=[ma.Conversion_of_type_0_to_type_1_may_be_a_mistake_because_neither_type_sufficiently_overlaps_with_the_other_If_this_was_intentional_convert_the_expression_to_unknown_first.code];function l5(e,t,n){const r=EF(n)?_w.createAsExpression(n.expression,_w.createKeywordTypeNode(159)):_w.createTypeAssertion(_w.createKeywordTypeNode(159),n.expression);e.replaceNode(t,n.expression,r)}function _5(e,t){if(!Om(e))return gc(tQ(e,t),e=>EF(e)||dF(e))}Z7({errorCodes:c5,getCodeActions:function(e){const t=_5(e.sourceFile,e.span.start);if(void 0===t)return;const n=rde.ChangeTracker.with(e,n=>l5(n,e.sourceFile,t));return[G7(s5,n,ma.Add_unknown_conversion_for_non_overlapping_types,s5,ma.Add_unknown_to_all_conversions_of_non_overlapping_types)]},fixIds:[s5],getAllCodeActions:e=>i5(e,c5,(e,t)=>{const n=_5(t.file,t.start);n&&l5(e,t.file,n)})}),Z7({errorCodes:[ma.await_expressions_are_only_allowed_at_the_top_level_of_a_file_when_that_file_is_a_module_but_this_file_has_no_imports_or_exports_Consider_adding_an_empty_export_to_make_this_file_a_module.code,ma.await_using_statements_are_only_allowed_at_the_top_level_of_a_file_when_that_file_is_a_module_but_this_file_has_no_imports_or_exports_Consider_adding_an_empty_export_to_make_this_file_a_module.code,ma.for_await_loops_are_only_allowed_at_the_top_level_of_a_file_when_that_file_is_a_module_but_this_file_has_no_imports_or_exports_Consider_adding_an_empty_export_to_make_this_file_a_module.code],getCodeActions:function(e){const{sourceFile:t}=e;return[K7("addEmptyExportDeclaration",rde.ChangeTracker.with(e,e=>{const n=_w.createExportDeclaration(void 0,!1,_w.createNamedExports([]),void 0);e.insertNodeAtEndOfScope(t,t,n)}),ma.Add_export_to_make_this_file_into_a_module)]}});var u5="addMissingAsync",d5=[ma.Argument_of_type_0_is_not_assignable_to_parameter_of_type_1.code,ma.Type_0_is_not_assignable_to_type_1.code,ma.Type_0_is_not_comparable_to_type_1.code];function p5(e,t,n,r){const i=n(n=>function(e,t,n,r){if(r&&r.has(rJ(n)))return;null==r||r.add(rJ(n));const i=_w.replaceModifiers(oY(n,!0),_w.createNodeArray(_w.createModifiersFromModifierFlags(1024|$v(n))));e.replaceNode(t,n,i)}(n,e.sourceFile,t,r));return G7(u5,i,ma.Add_async_modifier_to_containing_function,u5,ma.Add_all_missing_async_modifiers)}function f5(e,t){if(t)return gc(tQ(e,t.start),n=>n.getStart(e)<t.start||n.getEnd()>Os(t)?"quit":(mF(n)||TN(n)||fF(n)||aE(n))&&xZ(t,RQ(n,e)))}Z7({fixIds:[u5],errorCodes:d5,getCodeActions:function(e){const{sourceFile:t,errorCode:n,cancellationToken:r,program:i,span:o}=e,a=k(i.getTypeChecker().getDiagnostics(t,r),function(e,t){return({start:n,length:r,relatedInformation:i,code:o})=>rt(n)&&rt(r)&&xZ({start:n,length:r},e)&&o===t&&!!i&&K(i,e=>e.code===ma.Did_you_mean_to_mark_this_function_as_async.code)}(o,n)),s=f5(t,a&&a.relatedInformation&&k(a.relatedInformation,e=>e.code===ma.Did_you_mean_to_mark_this_function_as_async.code));if(s)return[p5(e,s,t=>rde.ChangeTracker.with(e,t))]},getAllCodeActions:e=>{const{sourceFile:t}=e,n=new Set;return i5(e,d5,(r,i)=>{const o=i.relatedInformation&&k(i.relatedInformation,e=>e.code===ma.Did_you_mean_to_mark_this_function_as_async.code),a=f5(t,o);if(a)return p5(e,a,e=>(e(r),[]),n)})}});var m5="addMissingAwait",g5=ma.Property_0_does_not_exist_on_type_1.code,h5=[ma.This_expression_is_not_callable.code,ma.This_expression_is_not_constructable.code],y5=[ma.An_arithmetic_operand_must_be_of_type_any_number_bigint_or_an_enum_type.code,ma.The_left_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_bigint_or_an_enum_type.code,ma.The_right_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_bigint_or_an_enum_type.code,ma.Operator_0_cannot_be_applied_to_type_1.code,ma.Operator_0_cannot_be_applied_to_types_1_and_2.code,ma.This_comparison_appears_to_be_unintentional_because_the_types_0_and_1_have_no_overlap.code,ma.This_condition_will_always_return_true_since_this_0_is_always_defined.code,ma.Type_0_is_not_an_array_type.code,ma.Type_0_is_not_an_array_type_or_a_string_type.code,ma.Type_0_can_only_be_iterated_through_when_using_the_downlevelIteration_flag_or_with_a_target_of_es2015_or_higher.code,ma.Type_0_is_not_an_array_type_or_a_string_type_or_does_not_have_a_Symbol_iterator_method_that_returns_an_iterator.code,ma.Type_0_is_not_an_array_type_or_does_not_have_a_Symbol_iterator_method_that_returns_an_iterator.code,ma.Type_0_must_have_a_Symbol_iterator_method_that_returns_an_iterator.code,ma.Type_0_must_have_a_Symbol_asyncIterator_method_that_returns_an_async_iterator.code,ma.Argument_of_type_0_is_not_assignable_to_parameter_of_type_1.code,g5,...h5];function v5(e,t,n,r,i){const o=t0(e,n);return o&&function(e,t,n,r,i){const o=i.getTypeChecker(),a=o.getDiagnostics(e,r);return K(a,({start:e,length:r,relatedInformation:i,code:o})=>rt(e)&&rt(r)&&xZ({start:e,length:r},n)&&o===t&&!!i&&K(i,e=>e.code===ma.Did_you_forget_to_use_await.code))}(e,t,n,r,i)&&S5(o)?o:void 0}function b5(e,t,n,r,i,o){const{sourceFile:a,program:s,cancellationToken:c}=e,l=function(e,t,n,r,i){const o=function(e,t){if(sF(e.parent)&&tN(e.parent.expression))return{identifiers:[e.parent.expression],isCompleteFix:!0};if(tN(e))return{identifiers:[e],isCompleteFix:!0};if(kF(e)){let n,r=!0;for(const i of[e.left,e.right]){const e=t.getTypeAtLocation(i);if(t.getPromisedTypeOfPromise(e)){if(!tN(i)){r=!1;continue}(n||(n=[])).push(i)}}return n&&{identifiers:n,isCompleteFix:r}}}(e,i);if(!o)return;let a,s=o.isCompleteFix;for(const c of o.identifiers){const e=i.getSymbolAtLocation(c);if(!e)continue;const o=it(e.valueDeclaration,iE),l=o&&it(o.name,tN),_=Nh(o,243);if(!o||!_||o.type||!o.initializer||_.getSourceFile()!==t||Av(_,32)||!l||!S5(o.initializer)){s=!1;continue}const u=r.getSemanticDiagnostics(t,n);Mce.Core.eachSymbolReferenceInFile(l,i,t,e=>c!==e&&!k5(e,u,t,i))?s=!1:(a||(a=[])).push({expression:o.initializer,declarationSymbol:e})}return a&&{initializers:a,needsSecondPassForFixAll:!s}}(t,a,c,s,r);if(l)return K7("addMissingAwaitToInitializer",i(e=>{f(l.initializers,({expression:t})=>T5(e,n,a,r,t,o)),o&&l.needsSecondPassForFixAll&&T5(e,n,a,r,t,o)}),1===l.initializers.length?[ma.Add_await_to_initializer_for_0,l.initializers[0].declarationSymbol.name]:ma.Add_await_to_initializers)}function x5(e,t,n,r,i,o){const a=i(i=>T5(i,n,e.sourceFile,r,t,o));return G7(m5,a,ma.Add_await,m5,ma.Fix_all_expressions_possibly_missing_await)}function k5(e,t,n,r){const i=sF(e.parent)?e.parent.name:kF(e.parent)?e.parent:e,o=k(t,e=>e.start===i.getStart(n)&&e.start+e.length===i.getEnd());return o&&w(y5,o.code)||1&r.getTypeAtLocation(i).flags}function S5(e){return 65536&e.flags||!!gc(e,e=>e.parent&&mF(e.parent)&&e.parent.body===e||BF(e)&&(262===e.parent.kind||218===e.parent.kind||219===e.parent.kind||174===e.parent.kind))}function T5(e,t,n,r,i,o){if(KF(i.parent)&&!i.parent.awaitModifier){const t=r.getTypeAtLocation(i),o=r.getAnyAsyncIterableType();if(o&&r.isTypeAssignableTo(t,o)){const t=i.parent;return void e.replaceNode(n,t,_w.updateForOfStatement(t,_w.createToken(135),t.initializer,t.expression,t.statement))}}if(kF(i))for(const a of[i.left,i.right]){if(o&&tN(a)){const e=r.getSymbolAtLocation(a);if(e&&o.has(iJ(e)))continue}const t=r.getTypeAtLocation(a),i=r.getPromisedTypeOfPromise(t)?_w.createAwaitExpression(a):a;e.replaceNode(n,a,i)}else if(t===g5&&sF(i.parent)){if(o&&tN(i.parent.expression)){const e=r.getSymbolAtLocation(i.parent.expression);if(e&&o.has(iJ(e)))return}e.replaceNode(n,i.parent.expression,_w.createParenthesizedExpression(_w.createAwaitExpression(i.parent.expression))),C5(e,i.parent.expression,n)}else if(w(h5,t)&&z_(i.parent)){if(o&&tN(i)){const e=r.getSymbolAtLocation(i);if(e&&o.has(iJ(e)))return}e.replaceNode(n,i,_w.createParenthesizedExpression(_w.createAwaitExpression(i))),C5(e,i,n)}else{if(o&&iE(i.parent)&&tN(i.parent.name)){const e=r.getSymbolAtLocation(i.parent.name);if(e&&!U(o,iJ(e)))return}e.replaceNode(n,i,_w.createAwaitExpression(i))}}function C5(e,t,n){const r=aQ(t.pos,n);r&&RY(r.end,r.parent,n)&&e.insertText(n,t.getStart(n),";")}Z7({fixIds:[m5],errorCodes:y5,getCodeActions:function(e){const{sourceFile:t,errorCode:n,span:r,cancellationToken:i,program:o}=e,a=v5(t,n,r,i,o);if(!a)return;const s=e.program.getTypeChecker(),c=t=>rde.ChangeTracker.with(e,t);return oe([b5(e,a,n,s,c),x5(e,a,n,s,c)])},getAllCodeActions:e=>{const{sourceFile:t,program:n,cancellationToken:r}=e,i=e.program.getTypeChecker(),o=new Set;return i5(e,y5,(a,s)=>{const c=v5(t,s.code,s,r,n);if(!c)return;const l=e=>(e(a),[]);return b5(e,c,s.code,i,l,o)||x5(e,c,s.code,i,l,o)})}});var w5="addMissingConst",D5=[ma.Cannot_find_name_0.code,ma.No_value_exists_in_scope_for_the_shorthand_property_0_Either_declare_one_or_provide_an_initializer.code];function N5(e,t,n,r,i){const o=tQ(t,n),a=gc(o,e=>nu(e.parent)?e.parent.initializer===e:!function(e){switch(e.kind){case 80:case 209:case 210:case 303:case 304:return!0;default:return!1}}(e)&&"quit");if(a)return F5(e,a,t,i);const s=o.parent;if(kF(s)&&64===s.operatorToken.kind&&qF(s.parent))return F5(e,o,t,i);if(oF(s)){const n=r.getTypeChecker();if(!x(s.elements,e=>function(e,t){const n=tN(e)?e:cb(e,!0)&&tN(e.left)?e.left:void 0;return!!n&&!t.getSymbolAtLocation(n)}(e,n)))return;return F5(e,s,t,i)}const c=gc(o,e=>!!qF(e.parent)||!function(e){switch(e.kind){case 80:case 226:case 28:return!0;default:return!1}}(e)&&"quit");if(c){if(!E5(c,r.getTypeChecker()))return;return F5(e,c,t,i)}}function F5(e,t,n,r){r&&!U(r,t)||e.insertModifierBefore(n,87,t)}function E5(e,t){return!!kF(e)&&(28===e.operatorToken.kind?x([e.left,e.right],e=>E5(e,t)):64===e.operatorToken.kind&&tN(e.left)&&!t.getSymbolAtLocation(e.left))}Z7({errorCodes:D5,getCodeActions:function(e){const t=rde.ChangeTracker.with(e,t=>N5(t,e.sourceFile,e.span.start,e.program));if(t.length>0)return[G7(w5,t,ma.Add_const_to_unresolved_variable,w5,ma.Add_const_to_all_unresolved_variables)]},fixIds:[w5],getAllCodeActions:e=>{const t=new Set;return i5(e,D5,(n,r)=>N5(n,r.file,r.start,e.program,t))}});var P5="addMissingDeclareProperty",A5=[ma.Property_0_will_overwrite_the_base_property_in_1_If_this_is_intentional_add_an_initializer_Otherwise_add_a_declare_modifier_or_remove_the_redundant_declaration.code];function I5(e,t,n,r){const i=tQ(t,n);if(!tN(i))return;const o=i.parent;172!==o.kind||r&&!U(r,o)||e.insertModifierBefore(t,138,o)}Z7({errorCodes:A5,getCodeActions:function(e){const t=rde.ChangeTracker.with(e,t=>I5(t,e.sourceFile,e.span.start));if(t.length>0)return[G7(P5,t,ma.Prefix_with_declare,P5,ma.Prefix_all_incorrect_property_declarations_with_declare)]},fixIds:[P5],getAllCodeActions:e=>{const t=new Set;return i5(e,A5,(e,n)=>I5(e,n.file,n.start,t))}});var O5="addMissingInvocationForDecorator",L5=[ma._0_accepts_too_few_arguments_to_be_used_as_a_decorator_here_Did_you_mean_to_call_it_first_and_write_0.code];function j5(e,t,n){const r=gc(tQ(t,n),bN);fn.assert(!!r,"Expected position to be owned by a decorator.");const i=_w.createCallExpression(r.expression,void 0,void 0);e.replaceNode(t,r.expression,i)}Z7({errorCodes:L5,getCodeActions:function(e){const t=rde.ChangeTracker.with(e,t=>j5(t,e.sourceFile,e.span.start));return[G7(O5,t,ma.Call_decorator_expression,O5,ma.Add_to_all_uncalled_decorators)]},fixIds:[O5],getAllCodeActions:e=>i5(e,L5,(e,t)=>j5(e,t.file,t.start))});var R5="addMissingResolutionModeImportAttribute",M5=[ma.Type_only_import_of_an_ECMAScript_module_from_a_CommonJS_module_must_have_a_resolution_mode_attribute.code,ma.Type_import_of_an_ECMAScript_module_from_a_CommonJS_module_must_have_a_resolution_mode_attribute.code];function B5(e,t,n,r,i,o){var a,s,c;const l=gc(tQ(t,n),rn(gE,YN));fn.assert(!!l,"Expected position to be owned by an ImportDeclaration or ImportType.");const _=0===lZ(t,o),u=kg(l),d=!u||(null==(a=JR(u.text,t.fileName,r.getCompilerOptions(),i,r.getModuleResolutionCache(),void 0,99).resolvedModule)?void 0:a.resolvedFileName)===(null==(c=null==(s=r.getResolvedModuleFromModuleSpecifier(u,t))?void 0:s.resolvedModule)?void 0:c.resolvedFileName),p=l.attributes?_w.updateImportAttributes(l.attributes,_w.createNodeArray([...l.attributes.elements,_w.createImportAttribute(_w.createStringLiteral("resolution-mode",_),_w.createStringLiteral(d?"import":"require",_))],l.attributes.elements.hasTrailingComma),l.attributes.multiLine):_w.createImportAttributes(_w.createNodeArray([_w.createImportAttribute(_w.createStringLiteral("resolution-mode",_),_w.createStringLiteral(d?"import":"require",_))]));272===l.kind?e.replaceNode(t,l,_w.updateImportDeclaration(l,l.modifiers,l.importClause,l.moduleSpecifier,p)):e.replaceNode(t,l,_w.updateImportTypeNode(l,l.argument,p,l.qualifier,l.typeArguments))}Z7({errorCodes:M5,getCodeActions:function(e){const t=rde.ChangeTracker.with(e,t=>B5(t,e.sourceFile,e.span.start,e.program,e.host,e.preferences));return[G7(R5,t,ma.Add_resolution_mode_import_attribute,R5,ma.Add_resolution_mode_import_attribute_to_all_type_only_imports_that_need_it)]},fixIds:[R5],getAllCodeActions:e=>i5(e,M5,(t,n)=>B5(t,n.file,n.start,e.program,e.host,e.preferences))});var J5="addNameToNamelessParameter",z5=[ma.Parameter_has_a_name_but_no_type_Did_you_mean_0_Colon_1.code];function q5(e,t,n){const r=tQ(t,n),i=r.parent;if(!vN(i))return fn.fail("Tried to add a parameter name to a non-parameter: "+fn.formatSyntaxKind(r.kind));const o=i.parent.parameters.indexOf(i);fn.assert(!i.type,"Tried to add a parameter name to a parameter that already had one."),fn.assert(o>-1,"Parameter not found in parent parameter list.");let a=i.name.getEnd(),s=_w.createTypeReferenceNode(i.name,void 0),c=V5(t,i);for(;c;)s=_w.createArrayTypeNode(s),a=c.getEnd(),c=V5(t,c);const l=_w.createParameterDeclaration(i.modifiers,i.dotDotDotToken,"arg"+o,i.questionToken,i.dotDotDotToken&&!MN(s)?_w.createArrayTypeNode(s):s,i.initializer);e.replaceRange(t,Rb(i.getStart(t),a),l)}function V5(e,t){const n=oQ(t.name,t.parent,e);if(n&&23===n.kind&&rF(n.parent)&&vN(n.parent.parent))return n.parent.parent}Z7({errorCodes:z5,getCodeActions:function(e){const t=rde.ChangeTracker.with(e,t=>q5(t,e.sourceFile,e.span.start));return[G7(J5,t,ma.Add_parameter_name,J5,ma.Add_names_to_all_parameters_without_names)]},fixIds:[J5],getAllCodeActions:e=>i5(e,z5,(e,t)=>q5(e,t.file,t.start))});var U5="addOptionalPropertyUndefined";function W5(e,t){var n;if(e){if(kF(e.parent)&&64===e.parent.operatorToken.kind)return{source:e.parent.right,target:e.parent.left};if(iE(e.parent)&&e.parent.initializer)return{source:e.parent.initializer,target:e.parent.name};if(lF(e.parent)){const n=t.getSymbolAtLocation(e.parent.expression);if(!(null==n?void 0:n.valueDeclaration)||!p_(n.valueDeclaration.kind))return;if(!G_(e))return;const r=e.parent.arguments.indexOf(e);if(-1===r)return;const i=n.valueDeclaration.parameters[r].name;if(tN(i))return{source:e,target:i}}else if(ZE(e.parent)&&tN(e.parent.name)||YE(e.parent)){const r=W5(e.parent.parent,t);if(!r)return;const i=t.getPropertyOfType(t.getTypeAtLocation(r.target),e.parent.name.text),o=null==(n=null==i?void 0:i.declarations)?void 0:n[0];if(!o)return;return{source:ZE(e.parent)?e.parent.initializer:e.parent.name,target:o}}}}Z7({errorCodes:[ma.Type_0_is_not_assignable_to_type_1_with_exactOptionalPropertyTypes_Colon_true_Consider_adding_undefined_to_the_type_of_the_target.code,ma.Type_0_is_not_assignable_to_type_1_with_exactOptionalPropertyTypes_Colon_true_Consider_adding_undefined_to_the_types_of_the_target_s_properties.code,ma.Argument_of_type_0_is_not_assignable_to_parameter_of_type_1_with_exactOptionalPropertyTypes_Colon_true_Consider_adding_undefined_to_the_types_of_the_target_s_properties.code],getCodeActions(e){const t=e.program.getTypeChecker(),n=function(e,t,n){var r,i;const o=W5(t0(e,t),n);if(!o)return u;const{source:a,target:s}=o,c=function(e,t,n){return sF(t)&&!!n.getExactOptionalProperties(n.getTypeAtLocation(t.expression)).length&&n.getTypeAtLocation(e)===n.getUndefinedType()}(a,s,n)?n.getTypeAtLocation(s.expression):n.getTypeAtLocation(s);return(null==(i=null==(r=c.symbol)?void 0:r.declarations)?void 0:i.some(e=>Sd(e).fileName.match(/\.d\.ts$/)))?u:n.getExactOptionalProperties(c)}(e.sourceFile,e.span,t);if(!n.length)return;const r=rde.ChangeTracker.with(e,e=>function(e,t){for(const n of t){const t=n.valueDeclaration;if(t&&(xN(t)||kN(t))&&t.type){const n=_w.createUnionTypeNode([...192===t.type.kind?t.type.types:[t.type],_w.createTypeReferenceNode("undefined")]);e.replaceNode(t.getSourceFile(),t.type,n)}}}(e,n));return[K7(U5,r,ma.Add_undefined_to_optional_property_type)]},fixIds:[U5]});var $5="annotateWithTypeFromJSDoc",H5=[ma.JSDoc_types_may_be_moved_to_TypeScript_types.code];function K5(e,t){const n=tQ(e,t);return it(vN(n.parent)?n.parent.parent:n.parent,G5)}function G5(e){return function(e){return __(e)||260===e.kind||171===e.kind||172===e.kind}(e)&&X5(e)}function X5(e){return __(e)?e.parameters.some(X5)||!e.type&&!!cl(e):!e.type&&!!sl(e)}function Q5(e,t,n){if(__(n)&&(cl(n)||n.parameters.some(e=>!!sl(e)))){if(!n.typeParameters){const r=xv(n);r.length&&e.insertTypeParameters(t,n,r)}const r=mF(n)&&!zX(n,21,t);r&&e.insertNodeBefore(t,ve(n.parameters),_w.createToken(21));for(const i of n.parameters)if(!i.type){const n=sl(i);n&&e.tryInsertTypeAnnotation(t,i,pJ(n,Z5,C_))}if(r&&e.insertNodeAfter(t,ke(n.parameters),_w.createToken(22)),!n.type){const r=cl(n);r&&e.tryInsertTypeAnnotation(t,n,pJ(r,Z5,C_))}}else{const r=fn.checkDefined(sl(n),"A JSDocType for this declaration should exist");fn.assert(!n.type,"The JSDocType decl should have a type"),e.tryInsertTypeAnnotation(t,n,pJ(r,Z5,C_))}}function Z5(e){switch(e.kind){case 312:case 313:return _w.createTypeReferenceNode("any",u);case 316:return function(e){return _w.createUnionTypeNode([pJ(e.type,Z5,C_),_w.createTypeReferenceNode("undefined",u)])}(e);case 315:return Z5(e.type);case 314:return function(e){return _w.createUnionTypeNode([pJ(e.type,Z5,C_),_w.createTypeReferenceNode("null",u)])}(e);case 318:return function(e){return _w.createArrayTypeNode(pJ(e.type,Z5,C_))}(e);case 317:return function(e){var t;return _w.createFunctionTypeNode(u,e.parameters.map(Y5),null!=(t=e.type)?t:_w.createKeywordTypeNode(133))}(e);case 183:return function(e){let t=e.typeName,n=e.typeArguments;if(tN(e.typeName)){if(Mm(e))return function(e){const t=_w.createParameterDeclaration(void 0,void 0,150===e.typeArguments[0].kind?"n":"s",void 0,_w.createTypeReferenceNode(150===e.typeArguments[0].kind?"number":"string",[]),void 0),n=_w.createTypeLiteralNode([_w.createIndexSignature(void 0,[t],e.typeArguments[1])]);return gw(n,1),n}(e);let r=e.typeName.text;switch(e.typeName.text){case"String":case"Boolean":case"Object":case"Number":r=r.toLowerCase();break;case"array":case"date":case"promise":r=r[0].toUpperCase()+r.slice(1)}t=_w.createIdentifier(r),n="Array"!==r&&"Promise"!==r||e.typeArguments?fJ(e.typeArguments,Z5,C_):_w.createNodeArray([_w.createTypeReferenceNode("any",u)])}return _w.createTypeReferenceNode(t,n)}(e);case 322:return function(e){const t=_w.createTypeLiteralNode(A(e.jsDocPropertyTags,e=>_w.createPropertySignature(void 0,tN(e.name)?e.name:e.name.right,QT(e)?_w.createToken(58):void 0,e.typeExpression&&pJ(e.typeExpression.type,Z5,C_)||_w.createKeywordTypeNode(133))));return gw(t,1),t}(e);default:const t=SJ(e,Z5,void 0);return gw(t,1),t}}function Y5(e){const t=e.parent.parameters.indexOf(e),n=318===e.type.kind&&t===e.parent.parameters.length-1,r=e.name||(n?"rest":"arg"+t),i=n?_w.createToken(26):e.dotDotDotToken;return _w.createParameterDeclaration(e.modifiers,i,r,e.questionToken,pJ(e.type,Z5,C_),e.initializer)}Z7({errorCodes:H5,getCodeActions(e){const t=K5(e.sourceFile,e.span.start);if(!t)return;const n=rde.ChangeTracker.with(e,n=>Q5(n,e.sourceFile,t));return[G7($5,n,ma.Annotate_with_type_from_JSDoc,$5,ma.Annotate_everything_with_types_from_JSDoc)]},fixIds:[$5],getAllCodeActions:e=>i5(e,H5,(e,t)=>{const n=K5(t.file,t.start);n&&Q5(e,t.file,n)})});var e9="convertFunctionToEs6Class",t9=[ma.This_constructor_function_may_be_converted_to_a_class_declaration.code];function n9(e,t,n,r,i,o){const a=r.getSymbolAtLocation(tQ(t,n));if(!(a&&a.valueDeclaration&&19&a.flags))return;const s=a.valueDeclaration;if(aE(s)||fF(s))e.replaceNode(t,s,function(e){const t=c(a);e.body&&t.unshift(_w.createConstructorDeclaration(void 0,e.parameters,e.body));const n=r9(e,95);return _w.createClassDeclaration(n,e.name,void 0,void 0,t)}(s));else if(iE(s)){const n=function(e){const t=e.initializer;if(!t||!fF(t)||!tN(e.name))return;const n=c(e.symbol);t.body&&n.unshift(_w.createConstructorDeclaration(void 0,t.parameters,t.body));const r=r9(e.parent.parent,95);return _w.createClassDeclaration(r,e.name,void 0,void 0,n)}(s);if(!n)return;const r=s.parent.parent;oE(s.parent)&&s.parent.declarations.length>1?(e.delete(t,s),e.insertNodeAfter(t,r,n)):e.replaceNode(t,r,n)}function c(n){const r=[];return n.exports&&n.exports.forEach(e=>{if("prototype"===e.name&&e.declarations){const t=e.declarations[0];1===e.declarations.length&&sF(t)&&kF(t.parent)&&64===t.parent.operatorToken.kind&&aF(t.parent.right)&&a(t.parent.right.symbol,void 0,r)}else a(e,[_w.createToken(126)],r)}),n.members&&n.members.forEach((i,o)=>{var s,c,l,_;if("constructor"===o&&i.valueDeclaration){const r=null==(_=null==(l=null==(c=null==(s=n.exports)?void 0:s.get("prototype"))?void 0:c.declarations)?void 0:l[0])?void 0:_.parent;return void(r&&kF(r)&&aF(r.right)&&K(r.right.properties,i9)||e.delete(t,i.valueDeclaration.parent))}a(i,void 0,r)}),r;function a(n,r,a){if(!(8192&n.flags||4096&n.flags))return;const s=n.valueDeclaration,c=s.parent,l=c.right;if(u=l,!(Nx(_=s)?sF(_)&&i9(_)||c_(u):x(_.properties,e=>!!(TN(e)||yl(e)||ZE(e)&&fF(e.initializer)&&e.name||i9(e)))))return;var _,u;if(K(a,e=>{const t=Ec(e);return!(!t||!tN(t)||xc(t)!==Sc(n))}))return;const d=c.parent&&244===c.parent.kind?c.parent:c;if(e.delete(t,d),l){if(Nx(s)&&(fF(l)||mF(l))){const e=lZ(t,i),n=function(e,t,n){if(sF(e))return e.name;const r=e.argumentExpression;return jD(r)?r:zu(r)?bs(r.text,Sk(t))?_w.createIdentifier(r.text):zD(r)?_w.createStringLiteral(r.text,0===n):r:void 0}(s,o,e);return void(n&&p(a,l,n))}if(!aF(l)){if(Im(t))return;if(!sF(s))return;const e=_w.createPropertyDeclaration(r,s.name,void 0,void 0,l);return yY(c.parent,e,t),void a.push(e)}f(l.properties,e=>{(TN(e)||yl(e))&&a.push(e),ZE(e)&&fF(e.initializer)&&p(a,e.initializer,e.name),i9(e)})}else a.push(_w.createPropertyDeclaration(r,n.name,void 0,void 0,void 0));function p(e,n,i){return fF(n)?function(e,n,i){const o=X(r,r9(n,134)),a=_w.createMethodDeclaration(o,void 0,i,void 0,void 0,n.parameters,void 0,n.body);return yY(c,a,t),void e.push(a)}(e,n,i):function(e,n,i){const o=n.body;let a;a=241===o.kind?o:_w.createBlock([_w.createReturnStatement(o)]);const s=X(r,r9(n,134)),l=_w.createMethodDeclaration(s,void 0,i,void 0,void 0,n.parameters,void 0,a);yY(c,l,t),e.push(l)}(e,n,i)}}}}function r9(e,t){return bI(e)?F(e.modifiers,e=>e.kind===t):void 0}function i9(e){return!!e.name&&!(!tN(e.name)||"constructor"!==e.name.text)}Z7({errorCodes:t9,getCodeActions(e){const t=rde.ChangeTracker.with(e,t=>n9(t,e.sourceFile,e.span.start,e.program.getTypeChecker(),e.preferences,e.program.getCompilerOptions()));return[G7(e9,t,ma.Convert_function_to_an_ES2015_class,e9,ma.Convert_all_constructor_functions_to_classes)]},fixIds:[e9],getAllCodeActions:e=>i5(e,t9,(t,n)=>n9(t,n.file,n.start,e.program.getTypeChecker(),e.preferences,e.program.getCompilerOptions()))});var o9="convertToAsyncFunction",a9=[ma.This_may_be_converted_to_an_async_function.code],s9=!0;function c9(e,t,n,r){const i=tQ(t,n);let o;if(o=tN(i)&&iE(i.parent)&&i.parent.initializer&&__(i.parent.initializer)?i.parent.initializer:it(Zf(tQ(t,n)),Q1),!o)return;const a=new Map,s=Om(o),c=function(e,t){if(!e.body)return new Set;const n=new Set;return KI(e.body,function e(r){l9(r,t,"then")?(n.add(rJ(r)),f(r.arguments,e)):l9(r,t,"catch")||l9(r,t,"finally")?(n.add(rJ(r)),KI(r,e)):d9(r,t)?n.add(rJ(r)):KI(r,e)}),n}(o,r),l=function(e,t,n){const r=new Map,i=Ge();return KI(e,function e(o){if(!tN(o))return void KI(o,e);const a=t.getSymbolAtLocation(o);if(a){const e=C9(t.getTypeAtLocation(o),t),s=iJ(a).toString();if(!e||vN(o.parent)||__(o.parent)||n.has(s)){if(o.parent&&(vN(o.parent)||iE(o.parent)||iF(o.parent))){const e=o.text,t=i.get(e);if(t&&t.some(e=>e!==a)){const t=p9(o,i);r.set(s,t.identifier),n.set(s,t),i.add(e,a)}else{const t=oY(o);n.set(s,F9(t)),i.add(e,a)}}}else{const t=he(e.parameters),r=(null==t?void 0:t.valueDeclaration)&&vN(t.valueDeclaration)&&it(t.valueDeclaration.name,tN)||_w.createUniqueName("result",16),o=p9(r,i);n.set(s,o),i.add(r.text,a)}}}),aY(e,!0,e=>{if(iF(e)&&tN(e.name)&&nF(e.parent)){const n=t.getSymbolAtLocation(e.name),i=n&&r.get(String(iJ(n)));if(i&&i.text!==(e.name||e.propertyName).getText())return _w.createBindingElement(e.dotDotDotToken,e.propertyName||e.name,i,e.initializer)}else if(tN(e)){const n=t.getSymbolAtLocation(e),i=n&&r.get(String(iJ(n)));if(i)return _w.createIdentifier(i.text)}})}(o,r,a);if(!U1(l,r))return;const _=l.body&&BF(l.body)?function(e,t){const n=[];return Af(e,e=>{W1(e,t)&&n.push(e)}),n}(l.body,r):u,d={checker:r,synthNamesMap:a,setOfExpressionsToReturn:c,isInJSFile:s};if(!_.length)return;const p=ns(t.text,zb(o).pos);e.insertModifierAt(t,p,134,{suffix:" "});for(const u of _)if(KI(u,function n(r){if(lF(r)){const n=g9(r,r,d,!1);if(f9())return!0;e.replaceNodeWithNodes(t,u,n)}else if(!c_(r)&&(KI(r,n),f9()))return!0}),f9())return}function l9(e,t,n){if(!lF(e))return!1;const r=dX(e,n)&&t.getTypeAtLocation(e);return!(!r||!t.getPromisedTypeOfPromise(r))}function _9(e,t){return!!(4&xx(e))&&e.target===t}function u9(e,t,n){if("finally"===e.expression.name.escapedText)return;const r=n.getTypeAtLocation(e.expression.expression);if(_9(r,n.getPromiseType())||_9(r,n.getPromiseLikeType())){if("then"!==e.expression.name.escapedText)return ge(e.typeArguments,0);if(t===ge(e.arguments,0))return ge(e.typeArguments,0);if(t===ge(e.arguments,1))return ge(e.typeArguments,1)}}function d9(e,t){return!!G_(e)&&!!t.getPromisedTypeOfPromise(t.getTypeAtLocation(e))}function p9(e,t){const n=(t.get(e.text)||u).length;return F9(0===n?e:_w.createIdentifier(e.text+"_"+n))}function f9(){return!s9}function m9(){return s9=!1,u}function g9(e,t,n,r,i){if(l9(t,n.checker,"then"))return function(e,t,n,r,i,o){if(!t||h9(r,t))return b9(e,n,r,i,o);if(n&&!h9(r,n))return m9();const a=D9(t,r),s=g9(e.expression.expression,e.expression.expression,r,!0,a);if(f9())return m9();const c=S9(t,i,o,a,e,r);return f9()?m9():X(s,c)}(t,ge(t.arguments,0),ge(t.arguments,1),n,r,i);if(l9(t,n.checker,"catch"))return b9(t,ge(t.arguments,0),n,r,i);if(l9(t,n.checker,"finally"))return function(e,t,n,r,i){if(!t||h9(n,t))return g9(e,e.expression.expression,n,r,i);const o=y9(e,n,i),a=g9(e,e.expression.expression,n,!0,o);if(f9())return m9();const s=S9(t,r,void 0,void 0,e,n);if(f9())return m9();const c=_w.createBlock(a),l=_w.createBlock(s),_=_w.createTryStatement(c,void 0,l);return v9(e,n,_,o,i)}(t,ge(t.arguments,0),n,r,i);if(sF(t))return g9(e,t.expression,n,r,i);const o=n.checker.getTypeAtLocation(t);return o&&n.checker.getPromisedTypeOfPromise(o)?(fn.assertNode(mc(t).parent,sF),function(e,t,n,r,i){if(L9(e,n)){let e=oY(t);return r&&(e=_w.createAwaitExpression(e)),[_w.createReturnStatement(e)]}return x9(i,_w.createAwaitExpression(t),void 0)}(e,t,n,r,i)):m9()}function h9({checker:e},t){if(106===t.kind)return!0;if(tN(t)&&!Xl(t)&&"undefined"===xc(t)){const n=e.getSymbolAtLocation(t);return!n||e.isUndefinedSymbol(n)}return!1}function y9(e,t,n){let r;return n&&!L9(e,t)&&(O9(n)?(r=n,t.synthNamesMap.forEach((e,r)=>{if(e.identifier.text===n.identifier.text){const e=(i=n,F9(_w.createUniqueName(i.identifier.text,16)));t.synthNamesMap.set(r,e)}var i})):r=F9(_w.createUniqueName("result",16),n.types),I9(r)),r}function v9(e,t,n,r,i){const o=[];let a;if(r&&!L9(e,t)){a=oY(I9(r));const e=r.types,n=t.checker.getUnionType(e,2),i=t.isInJSFile?void 0:t.checker.typeToTypeNode(n,void 0,void 0),s=[_w.createVariableDeclaration(a,void 0,i)],c=_w.createVariableStatement(void 0,_w.createVariableDeclarationList(s,1));o.push(c)}return o.push(n),i&&a&&1===i.kind&&o.push(_w.createVariableStatement(void 0,_w.createVariableDeclarationList([_w.createVariableDeclaration(oY(A9(i)),void 0,void 0,a)],2))),o}function b9(e,t,n,r,i){if(!t||h9(n,t))return g9(e,e.expression.expression,n,r,i);const o=D9(t,n),a=y9(e,n,i),s=g9(e,e.expression.expression,n,!0,a);if(f9())return m9();const c=S9(t,r,a,o,e,n);if(f9())return m9();const l=_w.createBlock(s),_=_w.createCatchClause(o&&oY(P9(o)),_w.createBlock(c));return v9(e,n,_w.createTryStatement(l,_,void 0),a,i)}function x9(e,t,n){return!e||N9(e)?[_w.createExpressionStatement(t)]:O9(e)&&e.hasBeenDeclared?[_w.createExpressionStatement(_w.createAssignment(oY(E9(e)),t))]:[_w.createVariableStatement(void 0,_w.createVariableDeclarationList([_w.createVariableDeclaration(oY(P9(e)),void 0,n,t)],2))]}function k9(e,t){if(t&&e){const n=_w.createUniqueName("result",16);return[...x9(F9(n),e,t),_w.createReturnStatement(n)]}return[_w.createReturnStatement(e)]}function S9(e,t,n,r,i,o){var a;switch(e.kind){case 106:break;case 211:case 80:if(!r)break;const s=_w.createCallExpression(oY(e),void 0,O9(r)?[E9(r)]:[]);if(L9(i,o))return k9(s,u9(i,e,o.checker));const c=o.checker.getTypeAtLocation(e),l=o.checker.getSignaturesOfType(c,0);if(!l.length)return m9();const _=l[0].getReturnType(),d=x9(n,_w.createAwaitExpression(s),u9(i,e,o.checker));return n&&n.types.push(o.checker.getAwaitedType(_)||_),d;case 218:case 219:{const r=e.body,s=null==(a=C9(o.checker.getTypeAtLocation(e),o.checker))?void 0:a.getReturnType();if(BF(r)){let a=[],c=!1;for(const l of r.statements)if(QF(l))if(c=!0,W1(l,o.checker))a=a.concat(w9(o,l,t,n));else{const t=s&&l.expression?T9(o.checker,s,l.expression):l.expression;a.push(...k9(t,u9(i,e,o.checker)))}else{if(t&&Af(l,ct))return m9();a.push(l)}return L9(i,o)?a.map(e=>oY(e)):function(e,t,n,r){const i=[];for(const o of e)if(QF(o)){if(o.expression){const e=d9(o.expression,n.checker)?_w.createAwaitExpression(o.expression):o.expression;void 0===t?i.push(_w.createExpressionStatement(e)):O9(t)&&t.hasBeenDeclared?i.push(_w.createExpressionStatement(_w.createAssignment(E9(t),e))):i.push(_w.createVariableStatement(void 0,_w.createVariableDeclarationList([_w.createVariableDeclaration(P9(t),void 0,void 0,e)],2)))}}else i.push(oY(o));return r||void 0===t||i.push(_w.createVariableStatement(void 0,_w.createVariableDeclarationList([_w.createVariableDeclaration(P9(t),void 0,void 0,_w.createIdentifier("undefined"))],2))),i}(a,n,o,c)}{const a=$1(r,o.checker)?w9(o,_w.createReturnStatement(r),t,n):u;if(a.length>0)return a;if(s){const t=T9(o.checker,s,r);if(L9(i,o))return k9(t,u9(i,e,o.checker));{const e=x9(n,t,void 0);return n&&n.types.push(o.checker.getAwaitedType(s)||s),e}}return m9()}}default:return m9()}return u}function T9(e,t,n){const r=oY(n);return e.getPromisedTypeOfPromise(t)?_w.createAwaitExpression(r):r}function C9(e,t){return xe(t.getSignaturesOfType(e,0))}function w9(e,t,n,r){let i=[];return KI(t,function t(o){if(lF(o)){const t=g9(o,o,e,n,r);if(i=i.concat(t),i.length>0)return}else c_(o)||KI(o,t)}),i}function D9(e,t){const n=[];let r;if(__(e)?e.parameters.length>0&&(r=function e(t){if(tN(t))return i(t);const n=j(t.elements,t=>NF(t)?[]:[e(t.name)]);return function(e,t=u,n=[]){return{kind:1,bindingPattern:e,elements:t,types:n}}(t,n)}(e.parameters[0].name)):tN(e)?r=i(e):sF(e)&&tN(e.name)&&(r=i(e.name)),r&&(!("identifier"in r)||"undefined"!==r.identifier.text))return r;function i(e){var r;const i=function(e){var n,r;return null!=(n=null==(r=it(e,uu))?void 0:r.symbol)?n:t.checker.getSymbolAtLocation(e)}((r=e).original?r.original:r);return i&&t.synthNamesMap.get(iJ(i).toString())||F9(e,n)}}function N9(e){return!e||(O9(e)?!e.identifier.text:x(e.elements,N9))}function F9(e,t=[]){return{kind:0,identifier:e,types:t,hasBeenDeclared:!1,hasBeenReferenced:!1}}function E9(e){return e.hasBeenReferenced=!0,e.identifier}function P9(e){return O9(e)?I9(e):A9(e)}function A9(e){for(const t of e.elements)P9(t);return e.bindingPattern}function I9(e){return e.hasBeenDeclared=!0,e.identifier}function O9(e){return 0===e.kind}function L9(e,t){return!!e.original&&t.setOfExpressionsToReturn.has(rJ(e.original))}function j9(e,t,n,r,i){var o;for(const a of e.imports){const s=null==(o=n.getResolvedModuleFromModuleSpecifier(a,e))?void 0:o.resolvedModule;if(!s||s.resolvedFileName!==t.fileName)continue;const c=Sg(a);switch(c.kind){case 271:r.replaceNode(e,c,oZ(c.name,void 0,a,i));break;case 213:Bm(c,!1)&&r.replaceNode(e,c,_w.createPropertyAccessExpression(oY(c),"default"))}}}function R9(e,t){e.forEachChild(function n(r){if(sF(r)&&nB(e,r.expression)&&tN(r.name)){const{parent:e}=r;t(r,kF(e)&&e.left===r&&64===e.operatorToken.kind)}r.forEachChild(n)})}function M9(e,t,n,r,i,o,a,s,c){switch(t.kind){case 243:return B9(e,t,r,n,i,o,c),!1;case 244:{const{expression:i}=t;switch(i.kind){case 213:return Bm(i,!0)&&r.replaceNode(e,t,oZ(void 0,void 0,i.arguments[0],c)),!1;case 226:{const{operatorToken:t}=i;return 64===t.kind&&function(e,t,n,r,i,o){const{left:a,right:s}=n;if(!sF(a))return!1;if(nB(e,a)){if(!nB(e,s)){const i=aF(s)?function(e,t){const n=J(e.properties,e=>{switch(e.kind){case 177:case 178:case 304:case 305:return;case 303:return tN(e.name)?function(e,t,n){const r=[_w.createToken(95)];switch(t.kind){case 218:{const{name:n}=t;if(n&&n.text!==e)return i()}case 219:return $9(e,r,t,n);case 231:return function(e,t,n,r){return _w.createClassDeclaration(X(t,cY(n.modifiers)),e,cY(n.typeParameters),cY(n.heritageClauses),q9(n.members,r))}(e,r,t,n);default:return i()}function i(){return G9(r,_w.createIdentifier(e),q9(t,n))}}(e.name.text,e.initializer,t):void 0;case 174:return tN(e.name)?$9(e.name.text,[_w.createToken(95)],e,t):void 0;default:fn.assertNever(e,`Convert to ES6 got invalid prop kind ${e.kind}`)}});return n&&[n,!1]}(s,o):Bm(s,!0)?function(e,t){const n=e.text,r=t.getSymbolAtLocation(e),i=r?r.exports:d;return i.has("export=")?[[z9(n)],!0]:i.has("default")?i.size>1?[[J9(n),z9(n)],!0]:[[z9(n)],!0]:[[J9(n)],!1]}(s.arguments[0],t):void 0;return i?(r.replaceNodeWithNodes(e,n.parent,i[0]),i[1]):(r.replaceRangeWithText(e,Rb(a.getStart(e),s.pos),"export default"),!0)}r.delete(e,n.parent)}else nB(e,a.expression)&&function(e,t,n,r){const{text:i}=t.left.name,o=r.get(i);if(void 0!==o){const r=[G9(void 0,o,t.right),X9([_w.createExportSpecifier(!1,o,i)])];n.replaceNodeWithNodes(e,t.parent,r)}else!function({left:e,right:t,parent:n},r,i){const o=e.name.text;if(!(fF(t)||mF(t)||DF(t))||t.name&&t.name.text!==o)i.replaceNodeRangeWithNodes(r,e.expression,zX(e,25,r),[_w.createToken(95),_w.createToken(87)],{joiner:" ",suffix:" "});else{i.replaceRange(r,{pos:e.getStart(r),end:t.getStart(r)},_w.createToken(95),{suffix:" "}),t.name||i.insertName(r,t,o);const a=zX(n,27,r);a&&i.delete(r,a)}}(t,e,n)}(e,n,r,i);return!1}(e,n,i,r,a,s)}}}default:return!1}}function B9(e,t,n,r,i,o,a){const{declarationList:s}=t;let c=!1;const l=A(s.declarations,t=>{const{name:n,initializer:l}=t;if(l){if(nB(e,l))return c=!0,Q9([]);if(Bm(l,!0))return c=!0,function(e,t,n,r,i,o){switch(e.kind){case 206:{const n=J(e.elements,e=>e.dotDotDotToken||e.initializer||e.propertyName&&!tN(e.propertyName)||!tN(e.name)?void 0:K9(e.propertyName&&e.propertyName.text,e.name.text));if(n)return Q9([oZ(void 0,n,t,o)])}case 207:{const n=V9(s0(t.text,i),r);return Q9([oZ(_w.createIdentifier(n),void 0,t,o),G9(void 0,oY(e),_w.createIdentifier(n))])}case 80:return function(e,t,n,r,i){const o=n.getSymbolAtLocation(e),a=new Map;let s,c=!1;for(const _ of r.original.get(e.text)){if(n.getSymbolAtLocation(_)!==o||_===e)continue;const{parent:t}=_;if(sF(t)){const{name:{text:e}}=t;if("default"===e){c=!0;const e=_.getText();(null!=s?s:s=new Map).set(t,_w.createIdentifier(e))}else{fn.assert(t.expression===_,"Didn't expect expression === use");let n=a.get(e);void 0===n&&(n=V9(e,r),a.set(e,n)),(null!=s?s:s=new Map).set(t,_w.createIdentifier(n))}}else c=!0}const l=0===a.size?void 0:Re(I(a.entries(),([e,t])=>_w.createImportSpecifier(!1,e===t?void 0:_w.createIdentifier(e),_w.createIdentifier(t))));return l||(c=!0),Q9([oZ(c?oY(e):void 0,l,t,i)],s)}(e,t,n,r,o);default:return fn.assertNever(e,`Convert to ES module got invalid name kind ${e.kind}`)}}(n,l.arguments[0],r,i,o,a);if(sF(l)&&Bm(l.expression,!0))return c=!0,function(e,t,n,r,i){switch(e.kind){case 206:case 207:{const o=V9(t,r);return Q9([H9(o,t,n,i),G9(void 0,e,_w.createIdentifier(o))])}case 80:return Q9([H9(e.text,t,n,i)]);default:return fn.assertNever(e,`Convert to ES module got invalid syntax form ${e.kind}`)}}(n,l.name.text,l.expression.arguments[0],i,a)}return Q9([_w.createVariableStatement(void 0,_w.createVariableDeclarationList([t],s.flags))])});if(c){let r;return n.replaceNodeWithNodes(e,t,j(l,e=>e.newImports)),f(l,e=>{e.useSitesToUnqualify&&ld(e.useSitesToUnqualify,null!=r?r:r=new Map)}),r}}function J9(e){return X9(void 0,e)}function z9(e){return X9([_w.createExportSpecifier(!1,void 0,"default")],e)}function q9(e,t){return t&&K(Re(t.keys()),t=>tx(e,t))?et(e)?lY(e,!0,n):aY(e,!0,n):e;function n(e){if(211===e.kind){const n=t.get(e);return t.delete(e),n}}}function V9(e,t){for(;t.original.has(e)||t.additional.has(e);)e=`_${e}`;return t.additional.add(e),e}function U9(e){const t=Ge();return W9(e,e=>t.add(e.text,e)),t}function W9(e,t){tN(e)&&function(e){const{parent:t}=e;switch(t.kind){case 211:return t.name!==e;case 208:case 276:return t.propertyName!==e;default:return!0}}(e)&&t(e),e.forEachChild(e=>W9(e,t))}function $9(e,t,n,r){return _w.createFunctionDeclaration(X(t,cY(n.modifiers)),oY(n.asteriskToken),e,cY(n.typeParameters),cY(n.parameters),oY(n.type),_w.converters.convertToFunctionBlock(q9(n.body,r)))}function H9(e,t,n,r){return"default"===t?oZ(_w.createIdentifier(e),void 0,n,r):oZ(void 0,[K9(t,e)],n,r)}function K9(e,t){return _w.createImportSpecifier(!1,void 0!==e&&e!==t?_w.createIdentifier(e):void 0,_w.createIdentifier(t))}function G9(e,t,n){return _w.createVariableStatement(e,_w.createVariableDeclarationList([_w.createVariableDeclaration(t,void 0,void 0,n)],2))}function X9(e,t){return _w.createExportDeclaration(void 0,!1,e&&_w.createNamedExports(e),void 0===t?void 0:_w.createStringLiteral(t))}function Q9(e,t){return{newImports:e,useSitesToUnqualify:t}}Z7({errorCodes:a9,getCodeActions(e){s9=!0;const t=rde.ChangeTracker.with(e,t=>c9(t,e.sourceFile,e.span.start,e.program.getTypeChecker()));return s9?[G7(o9,t,ma.Convert_to_async_function,o9,ma.Convert_all_to_async_functions)]:[]},fixIds:[o9],getAllCodeActions:e=>i5(e,a9,(t,n)=>c9(t,n.file,n.start,e.program.getTypeChecker()))}),Z7({errorCodes:[ma.File_is_a_CommonJS_module_it_may_be_converted_to_an_ES_module.code],getCodeActions(e){const{sourceFile:t,program:n,preferences:r}=e;return[K7("convertToEsModule",rde.ChangeTracker.with(e,e=>{const i=function(e,t,n,r,i){const o={original:U9(e),additional:new Set},a=function(e,t,n){const r=new Map;return R9(e,e=>{const{text:i}=e.name;r.has(i)||!Lh(e.name)&&!t.resolveName(i,e,111551,!0)||r.set(i,V9(`_${i}`,n))}),r}(e,t,o);!function(e,t,n){R9(e,(r,i)=>{if(i)return;const{text:o}=r.name;n.replaceNode(e,r,_w.createIdentifier(t.get(o)||o))})}(e,a,n);let s,c=!1;for(const l of F(e.statements,JF)){const a=B9(e,l,n,t,o,r,i);a&&ld(a,null!=s?s:s=new Map)}for(const l of F(e.statements,e=>!JF(e))){const _=M9(e,l,t,n,o,r,a,s,i);c=c||_}return null==s||s.forEach((t,r)=>{n.replaceNode(e,r,t)}),c}(t,n.getTypeChecker(),e,Sk(n.getCompilerOptions()),lZ(t,r));if(i)for(const o of n.getSourceFiles())j9(o,t,n,e,lZ(o,r))}),ma.Convert_to_ES_module)]}});var Z9="correctQualifiedNameToIndexedAccessType",Y9=[ma.Cannot_access_0_1_because_0_is_a_type_but_not_a_namespace_Did_you_mean_to_retrieve_the_type_of_the_property_1_in_0_with_0_1.code];function eee(e,t){const n=gc(tQ(e,t),gN);return fn.assert(!!n,"Expected position to be owned by a qualified name."),tN(n.left)?n:void 0}function tee(e,t,n){const r=n.right.text,i=_w.createIndexedAccessTypeNode(_w.createTypeReferenceNode(n.left,void 0),_w.createLiteralTypeNode(_w.createStringLiteral(r)));e.replaceNode(t,n,i)}Z7({errorCodes:Y9,getCodeActions(e){const t=eee(e.sourceFile,e.span.start);if(!t)return;const n=rde.ChangeTracker.with(e,n=>tee(n,e.sourceFile,t)),r=`${t.left.text}["${t.right.text}"]`;return[G7(Z9,n,[ma.Rewrite_as_the_indexed_access_type_0,r],Z9,ma.Rewrite_all_as_indexed_access_types)]},fixIds:[Z9],getAllCodeActions:e=>i5(e,Y9,(e,t)=>{const n=eee(t.file,t.start);n&&tee(e,t.file,n)})});var nee=[ma.Re_exporting_a_type_when_0_is_enabled_requires_using_export_type.code],ree="convertToTypeOnlyExport";function iee(e,t){return it(tQ(t,e.start).parent,EE)}function oee(e,t,n){if(!t)return;const r=t.parent,i=r.parent,o=function(e,t){const n=e.parent;if(1===n.elements.length)return n.elements;const r=YY(RQ(n),t.program.getSemanticDiagnostics(t.sourceFile,t.cancellationToken));return F(n.elements,t=>{var n;return t===e||(null==(n=ZY(t,r))?void 0:n.code)===nee[0]})}(t,n);if(o.length===r.elements.length)e.insertModifierBefore(n.sourceFile,156,r);else{const t=_w.updateExportDeclaration(i,i.modifiers,!1,_w.updateNamedExports(r,F(r.elements,e=>!w(o,e))),i.moduleSpecifier,void 0),a=_w.createExportDeclaration(void 0,!0,_w.createNamedExports(o),i.moduleSpecifier,void 0);e.replaceNode(n.sourceFile,i,t,{leadingTriviaOption:rde.LeadingTriviaOption.IncludeAll,trailingTriviaOption:rde.TrailingTriviaOption.Exclude}),e.insertNodeAfter(n.sourceFile,i,a)}}Z7({errorCodes:nee,getCodeActions:function(e){const t=rde.ChangeTracker.with(e,t=>oee(t,iee(e.span,e.sourceFile),e));if(t.length)return[G7(ree,t,ma.Convert_to_type_only_export,ree,ma.Convert_all_re_exported_types_to_type_only_exports)]},fixIds:[ree],getAllCodeActions:function(e){const t=new Set;return i5(e,nee,(n,r)=>{const i=iee(r,e.sourceFile);i&&Cx(t,rJ(i.parent.parent))&&oee(n,i,e)})}});var aee=[ma._0_is_a_type_and_must_be_imported_using_a_type_only_import_when_verbatimModuleSyntax_is_enabled.code,ma._0_resolves_to_a_type_only_declaration_and_must_be_imported_using_a_type_only_import_when_verbatimModuleSyntax_is_enabled.code],see="convertToTypeOnlyImport";function cee(e,t){const{parent:n}=tQ(e,t);return wE(n)||gE(n)&&n.importClause?n:void 0}function lee(e,t,n){if(e.parent.parent.name)return!1;const r=e.parent.elements.filter(e=>!e.isTypeOnly);if(1===r.length)return!0;const i=n.getTypeChecker();for(const o of r)if(Mce.Core.eachSymbolReferenceInFile(o.name,i,t,e=>{const t=i.getSymbolAtLocation(e);return!!t&&i.symbolIsValue(t)||!CT(e)}))return!1;return!0}function _ee(e,t,n){var r;if(wE(n))e.replaceNode(t,n,_w.updateImportSpecifier(n,!0,n.propertyName,n.name));else{const i=n.importClause;if(i.name&&i.namedBindings)e.replaceNodeWithNodes(t,n,[_w.createImportDeclaration(cY(n.modifiers,!0),_w.createImportClause(!0,oY(i.name,!0),void 0),oY(n.moduleSpecifier,!0),oY(n.attributes,!0)),_w.createImportDeclaration(cY(n.modifiers,!0),_w.createImportClause(!0,void 0,oY(i.namedBindings,!0)),oY(n.moduleSpecifier,!0),oY(n.attributes,!0))]);else{const o=275===(null==(r=i.namedBindings)?void 0:r.kind)?_w.updateNamedImports(i.namedBindings,O(i.namedBindings.elements,e=>_w.updateImportSpecifier(e,!1,e.propertyName,e.name))):i.namedBindings,a=_w.updateImportDeclaration(n,n.modifiers,_w.updateImportClause(i,!0,i.name,o),n.moduleSpecifier,n.attributes);e.replaceNode(t,n,a)}}}Z7({errorCodes:aee,getCodeActions:function(e){var t,n;const r=cee(e.sourceFile,e.span.start);if(r){const i=rde.ChangeTracker.with(e,t=>_ee(t,e.sourceFile,r)),o=276===r.kind&&gE(r.parent.parent.parent)&&lee(r,e.sourceFile,e.program)?rde.ChangeTracker.with(e,t=>_ee(t,e.sourceFile,r.parent.parent.parent)):void 0,a=G7(see,i,276===r.kind?[ma.Use_type_0,null!=(t=null==(n=r.propertyName)?void 0:n.text)?t:r.name.text]:ma.Use_import_type,see,ma.Fix_all_with_type_only_imports);return K(o)?[K7(see,o,ma.Use_import_type),a]:[a]}},fixIds:[see],getAllCodeActions:function(e){const t=new Set;return i5(e,aee,(n,r)=>{const i=cee(r.file,r.start);272!==(null==i?void 0:i.kind)||t.has(i)?276===(null==i?void 0:i.kind)&&gE(i.parent.parent.parent)&&!t.has(i.parent.parent.parent)&&lee(i,r.file,e.program)?(_ee(n,r.file,i.parent.parent.parent),t.add(i.parent.parent.parent)):276===(null==i?void 0:i.kind)&&_ee(n,r.file,i):(_ee(n,r.file,i),t.add(i))})}});var uee="convertTypedefToType",dee=[ma.JSDoc_typedef_may_be_converted_to_TypeScript_type.code];function pee(e,t,n,r,i=!1){if(!BP(t))return;const o=function(e){var t;const{typeExpression:n}=e;if(!n)return;const r=null==(t=e.name)?void 0:t.getText();return r?322===n.kind?function(e,t){const n=mee(t);if(K(n))return _w.createInterfaceDeclaration(void 0,e,void 0,void 0,n)}(r,n):309===n.kind?function(e,t){const n=oY(t.type);if(n)return _w.createTypeAliasDeclaration(void 0,_w.createIdentifier(e),void 0,n)}(r,n):void 0:void 0}(t);if(!o)return;const a=t.parent,{leftSibling:s,rightSibling:c}=function(e){const t=e.parent,n=t.getChildCount()-1,r=t.getChildren().findIndex(t=>t.getStart()===e.getStart()&&t.getEnd()===e.getEnd()),i=r>0?t.getChildAt(r-1):void 0,o=r<n?t.getChildAt(r+1):void 0;return{leftSibling:i,rightSibling:o}}(t);let l=a.getStart(),_="";!s&&a.comment&&(l=fee(a,a.getStart(),t.getStart()),_=`${r} */${r}`),s&&(i&&BP(s)?(l=t.getStart(),_=""):(l=fee(a,s.getStart(),t.getStart()),_=`${r} */${r}`));let u=a.getEnd(),d="";c&&(i&&BP(c)?(u=c.getStart(),d=`${r}${r}`):(u=c.getStart(),d=`${r}/**${r} * `)),e.replaceRange(n,{pos:l,end:u},o,{prefix:_,suffix:d})}function fee(e,t,n){const r=e.getText().substring(t-e.getStart(),n-e.getStart());for(let i=r.length;i>0;i--)if(!/[*/\s]/.test(r.substring(i-1,i)))return t+i;return n}function mee(e){const t=e.jsDocPropertyTags;if(K(t))return z(t,e=>{var t;const n=function(e){return 80===e.name.kind?e.name.text:e.name.right.text}(e),r=null==(t=e.typeExpression)?void 0:t.type,i=e.isBracketed;let o;if(r&&vP(r)){const e=mee(r);o=_w.createTypeLiteralNode(e)}else r&&(o=oY(r));if(o&&n){const e=i?_w.createToken(58):void 0;return _w.createPropertySignature(void 0,n,e,o)}})}function gee(e){return Iu(e)?j(e.jsDoc,e=>{var t;return null==(t=e.tags)?void 0:t.filter(e=>BP(e))}):[]}Z7({fixIds:[uee],errorCodes:dee,getCodeActions(e){const t=$Z(e.host,e.formatContext.options),n=tQ(e.sourceFile,e.span.start);if(!n)return;const r=rde.ChangeTracker.with(e,r=>pee(r,n,e.sourceFile,t));return r.length>0?[G7(uee,r,ma.Convert_typedef_to_TypeScript_type,uee,ma.Convert_all_typedef_to_TypeScript_types)]:void 0},getAllCodeActions:e=>i5(e,dee,(t,n)=>{const r=$Z(e.host,e.formatContext.options),i=tQ(n.file,n.start);i&&pee(t,i,n.file,r,!0)})});var hee="convertLiteralTypeToMappedType",yee=[ma._0_only_refers_to_a_type_but_is_being_used_as_a_value_here_Did_you_mean_to_use_1_in_0.code];function vee(e,t){const n=tQ(e,t);if(tN(n)){const t=ot(n.parent.parent,xN),r=n.getText(e);return{container:ot(t.parent,RN),typeNode:t.type,constraint:r,name:"K"===r?"P":"K"}}}function bee(e,t,{container:n,typeNode:r,constraint:i,name:o}){e.replaceNode(t,n,_w.createMappedTypeNode(void 0,_w.createTypeParameterDeclaration(void 0,o,_w.createTypeReferenceNode(i)),void 0,void 0,r,void 0))}Z7({errorCodes:yee,getCodeActions:function(e){const{sourceFile:t,span:n}=e,r=vee(t,n.start);if(!r)return;const{name:i,constraint:o}=r,a=rde.ChangeTracker.with(e,e=>bee(e,t,r));return[G7(hee,a,[ma.Convert_0_to_1_in_0,o,i],hee,ma.Convert_all_type_literals_to_mapped_type)]},fixIds:[hee],getAllCodeActions:e=>i5(e,yee,(e,t)=>{const n=vee(t.file,t.start);n&&bee(e,t.file,n)})});var xee=[ma.Class_0_incorrectly_implements_interface_1.code,ma.Class_0_incorrectly_implements_class_1_Did_you_mean_to_extend_1_and_inherit_its_members_as_a_subclass.code],kee="fixClassIncorrectlyImplementsInterface";function See(e,t){return fn.checkDefined(em(tQ(e,t)),"There should be a containing class")}function Tee(e){return!(e.valueDeclaration&&2&Uv(e.valueDeclaration))}function Cee(e,t,n,r,i,o){const a=e.program.getTypeChecker(),s=function(e,t){const n=kh(e);if(!n)return Yu();const r=t.getTypeAtLocation(n),i=t.getPropertiesOfType(r);return Yu(i.filter(Tee))}(r,a),c=a.getTypeAtLocation(t),l=a.getPropertiesOfType(c).filter(nn(Tee,e=>!s.has(e.escapedName))),_=a.getTypeAtLocation(r),u=k(r.members,e=>wN(e));_.getNumberIndexType()||p(c,1),_.getStringIndexType()||p(c,0);const d=Fee(n,e.program,o,e.host);function p(t,i){const o=a.getIndexInfoOfType(t,i);o&&f(n,r,a.indexInfoToIndexSignatureDeclaration(o,r,void 0,void 0,Yie(e)))}function f(e,t,n){u?i.insertNodeAfter(e,u,n):i.insertMemberAtStart(e,t,n)}Zie(r,l,n,e,o,d,e=>f(n,r,e)),d.writeFixes(i)}Z7({errorCodes:xee,getCodeActions(e){const{sourceFile:t,span:n}=e,r=See(t,n.start);return z(Th(r),n=>{const i=rde.ChangeTracker.with(e,i=>Cee(e,n,t,r,i,e.preferences));return 0===i.length?void 0:G7(kee,i,[ma.Implement_interface_0,n.getText(t)],kee,ma.Implement_all_unimplemented_interfaces)})},fixIds:[kee],getAllCodeActions(e){const t=new Set;return i5(e,xee,(n,r)=>{const i=See(r.file,r.start);if(Cx(t,rJ(i)))for(const t of Th(i))Cee(e,t,r.file,i,n,e.preferences)})}});var wee="import",Dee="fixMissingImport",Nee=[ma.Cannot_find_name_0.code,ma.Cannot_find_name_0_Did_you_mean_1.code,ma.Cannot_find_name_0_Did_you_mean_the_instance_member_this_0.code,ma.Cannot_find_name_0_Did_you_mean_the_static_member_1_0.code,ma.Cannot_find_namespace_0.code,ma._0_refers_to_a_UMD_global_but_the_current_file_is_a_module_Consider_adding_an_import_instead.code,ma._0_only_refers_to_a_type_but_is_being_used_as_a_value_here.code,ma.No_value_exists_in_scope_for_the_shorthand_property_0_Either_declare_one_or_provide_an_initializer.code,ma._0_cannot_be_used_as_a_value_because_it_was_imported_using_import_type.code,ma.Cannot_find_name_0_Do_you_need_to_install_type_definitions_for_jQuery_Try_npm_i_save_dev_types_Slashjquery.code,ma.Cannot_find_name_0_Do_you_need_to_change_your_target_library_Try_changing_the_lib_compiler_option_to_1_or_later.code,ma.Cannot_find_name_0_Do_you_need_to_change_your_target_library_Try_changing_the_lib_compiler_option_to_include_dom.code,ma.Cannot_find_name_0_Do_you_need_to_install_type_definitions_for_a_test_runner_Try_npm_i_save_dev_types_Slashjest_or_npm_i_save_dev_types_Slashmocha_and_then_add_jest_or_mocha_to_the_types_field_in_your_tsconfig.code,ma.Cannot_find_name_0_Did_you_mean_to_write_this_in_an_async_function.code,ma.Cannot_find_name_0_Do_you_need_to_install_type_definitions_for_jQuery_Try_npm_i_save_dev_types_Slashjquery_and_then_add_jquery_to_the_types_field_in_your_tsconfig.code,ma.Cannot_find_name_0_Do_you_need_to_install_type_definitions_for_a_test_runner_Try_npm_i_save_dev_types_Slashjest_or_npm_i_save_dev_types_Slashmocha.code,ma.Cannot_find_name_0_Do_you_need_to_install_type_definitions_for_node_Try_npm_i_save_dev_types_Slashnode.code,ma.Cannot_find_name_0_Do_you_need_to_install_type_definitions_for_node_Try_npm_i_save_dev_types_Slashnode_and_then_add_node_to_the_types_field_in_your_tsconfig.code,ma.Cannot_find_namespace_0_Did_you_mean_1.code,ma.Cannot_extend_an_interface_0_Did_you_mean_implements.code,ma.This_JSX_tag_requires_0_to_be_in_scope_but_it_could_not_be_found.code];function Fee(e,t,n,r,i){return Eee(e,t,!1,n,r,i)}function Eee(e,t,n,r,i,o){const a=t.getCompilerOptions(),s=[],c=[],l=new Map,_=new Set,u=new Set,d=new Map;return{addImportFromDiagnostic:function(e,t){const r=Vee(t,e.code,e.start,n);r&&r.length&&p(ve(r))},addImportFromExportedSymbol:function(n,s,c){var l,_,u;const d=fn.checkDefined(n.parent,"Expected exported symbol to have module symbol as parent"),f=i0(n,Sk(a)),m=t.getTypeChecker(),g=m.getMergedSymbol(_x(n,m)),h=jee(e,g,f,d,!1,t,i,r,o);if(!h)return void fn.assert(null==(_=r.autoImportFileExcludePatterns)?void 0:_.length);const y=zee(e,t);let v=Oee(e,h,t,void 0,!!s,y,i,r);if(v){const e=null!=(l=null==(u=it(null==c?void 0:c.name,tN))?void 0:u.text)?l:f;let t,r;c&&Ul(c)&&(3===v.kind||2===v.kind)&&1===v.addAsTypeOnly&&(t=2),n.name!==e&&(r=n.name),v=__spreadValues(__spreadValues(__spreadValues({},v),void 0===t?{}:{addAsTypeOnly:t}),void 0===r?{}:{propertyName:r}),p({fix:v,symbolName:null!=e?e:f})}},addImportForModuleSymbol:function(n,o,s){var c,l,_;const u=t.getTypeChecker(),d=u.getAliasedSymbol(n);fn.assert(1536&d.flags,"Expected symbol to be a module");const f=nZ(t,i),m=aB.getModuleSpecifiersWithCacheInfo(d,u,a,e,f,r,void 0,!0),g=zee(e,t);let h=Bee(o,0,void 0,n.flags,t.getTypeChecker(),a);h=1===h&&Ul(s)?2:1;const y=gE(s)?Ng(s)?1:2:wE(s)?0:hE(s)&&s.name?1:2,v=[{symbol:n,moduleSymbol:d,moduleFileName:null==(_=null==(l=null==(c=d.declarations)?void 0:c[0])?void 0:l.getSourceFile())?void 0:_.fileName,exportKind:4,targetFlags:n.flags,isFromPackageJson:!1}],b=Oee(e,v,t,void 0,!!o,g,i,r);let x;x=b&&2!==y?__spreadProps(__spreadValues({},b),{addAsTypeOnly:h,importKind:y}):{kind:3,moduleSpecifierKind:void 0!==b?b.moduleSpecifierKind:m.kind,moduleSpecifier:void 0!==b?b.moduleSpecifier:ve(m.moduleSpecifiers),importKind:y,addAsTypeOnly:h,useRequire:g},p({fix:x,symbolName:n.name})},writeFixes:function(t,n){var i,o;let p,f,m;p=void 0!==e.imports&&0===e.imports.length&&void 0!==n?n:lZ(e,r);for(const r of s)tte(t,e,r);for(const r of c)nte(t,e,r,p);if(_.size){fn.assert(Am(e),"Cannot remove imports from a future source file");const n=new Set(z([..._],e=>gc(e,gE))),r=new Set(z([..._],e=>gc(e,Jm))),a=[...n].filter(e=>{var t,n,r;return!l.has(e.importClause)&&(!(null==(t=e.importClause)?void 0:t.name)||_.has(e.importClause))&&(!it(null==(n=e.importClause)?void 0:n.namedBindings,SE)||_.has(e.importClause.namedBindings))&&(!it(null==(r=e.importClause)?void 0:r.namedBindings,CE)||x(e.importClause.namedBindings.elements,e=>_.has(e)))}),s=[...r].filter(e=>(206!==e.name.kind||!l.has(e.name))&&(206!==e.name.kind||x(e.name.elements,e=>_.has(e)))),c=[...n].filter(e=>{var t,n;return(null==(t=e.importClause)?void 0:t.namedBindings)&&-1===a.indexOf(e)&&!(null==(n=l.get(e.importClause))?void 0:n.namedImports)&&(274===e.importClause.namedBindings.kind||x(e.importClause.namedBindings.elements,e=>_.has(e)))});for(const i of[...a,...s])t.delete(e,i);for(const i of c)t.replaceNode(e,i.importClause,_w.updateImportClause(i.importClause,i.importClause.isTypeOnly,i.importClause.name,void 0));for(const u of _){const n=gc(u,gE);n&&-1===a.indexOf(n)&&-1===c.indexOf(n)?273===u.kind?t.delete(e,u.name):(fn.assert(276===u.kind,"NamespaceImport should have been handled earlier"),(null==(i=l.get(n.importClause))?void 0:i.namedImports)?(null!=f?f:f=new Set).add(u):t.delete(e,u)):208===u.kind?(null==(o=l.get(u.parent))?void 0:o.namedImports)?(null!=f?f:f=new Set).add(u):t.delete(e,u):271===u.kind&&t.delete(e,u)}}l.forEach(({importClauseOrBindingPattern:n,defaultImport:i,namedImports:o})=>{ete(t,e,n,i,Re(o.entries(),([e,{addAsTypeOnly:t,propertyName:n}])=>({addAsTypeOnly:t,propertyName:n,name:e})),f,r)}),d.forEach(({useRequire:e,defaultImport:t,namedImports:n,namespaceLikeImport:i},o)=>{const s=(e?ste:ate)(o.slice(2),p,t,n&&Re(n.entries(),([e,[t,n]])=>({addAsTypeOnly:t,propertyName:n,name:e})),i,a,r);m=ce(m,s)}),m=ce(m,function(){if(!u.size)return;const e=new Set(z([...u],e=>gc(e,gE))),t=new Set(z([...u],e=>gc(e,Um)));return[...z([...u],e=>271===e.kind?oY(e,!0):void 0),...[...e].map(e=>{var t;return u.has(e)?oY(e,!0):oY(_w.updateImportDeclaration(e,e.modifiers,e.importClause&&_w.updateImportClause(e.importClause,e.importClause.isTypeOnly,u.has(e.importClause)?e.importClause.name:void 0,u.has(e.importClause.namedBindings)?e.importClause.namedBindings:(null==(t=it(e.importClause.namedBindings,CE))?void 0:t.elements.some(e=>u.has(e)))?_w.updateNamedImports(e.importClause.namedBindings,e.importClause.namedBindings.elements.filter(e=>u.has(e))):void 0),e.moduleSpecifier,e.attributes),!0)}),...[...t].map(e=>u.has(e)?oY(e,!0):oY(_w.updateVariableStatement(e,e.modifiers,_w.updateVariableDeclarationList(e.declarationList,z(e.declarationList.declarations,e=>u.has(e)?e:_w.updateVariableDeclaration(e,206===e.name.kind?_w.updateObjectBindingPattern(e.name,e.name.elements.filter(e=>u.has(e))):e.name,e.exclamationToken,e.type,e.initializer)))),!0))]}()),m&&vZ(t,e,m,!0,r)},hasFixes:function(){return s.length>0||c.length>0||l.size>0||d.size>0||u.size>0||_.size>0},addImportForUnresolvedIdentifier:function(e,t,n){const r=function(e,t,n){const r=Gee(e,t,n),i=KY(e.sourceFile,e.preferences,e.host);return r&&Uee(r,e.sourceFile,e.program,i,e.host,e.preferences)}(e,t,n);r&&r.length&&p(ve(r))},addImportForNonExistentExport:function(n,o,s,c,l){const _=t.getSourceFile(o),u=zee(e,t);if(_&&_.symbol){const{fixes:a}=Mee([{exportKind:s,isFromPackageJson:!1,moduleFileName:o,moduleSymbol:_.symbol,targetFlags:c}],void 0,l,u,t,e,i,r);a.length&&p({fix:a[0],symbolName:n})}else{const _=b0(o,99,t,i);p({fix:{kind:3,moduleSpecifierKind:"relative",moduleSpecifier:aB.getLocalModuleSpecifierBetweenFileNames(e,o,a,nZ(t,i),r),importKind:Kee(_,s,t),addAsTypeOnly:Bee(l,0,void 0,c,t.getTypeChecker(),a),useRequire:u},symbolName:n})}},removeExistingImport:function(e){273===e.kind&&fn.assertIsDefined(e.name,"ImportClause should have a name if it's being removed"),_.add(e)},addVerbatimImport:function(e){u.add(e)}};function p(e){var t,n,r;const{fix:i,symbolName:o}=e;switch(i.kind){case 0:s.push(i);break;case 1:c.push(i);break;case 2:{const{importClauseOrBindingPattern:e,importKind:r,addAsTypeOnly:a,propertyName:s}=i;let c=l.get(e);if(c||l.set(e,c={importClauseOrBindingPattern:e,defaultImport:void 0,namedImports:new Map}),0===r){const e=null==(t=null==c?void 0:c.namedImports.get(o))?void 0:t.addAsTypeOnly;c.namedImports.set(o,{addAsTypeOnly:_(e,a),propertyName:s})}else fn.assert(void 0===c.defaultImport||c.defaultImport.name===o,"(Add to Existing) Default import should be missing or match symbolName"),c.defaultImport={name:o,addAsTypeOnly:_(null==(n=c.defaultImport)?void 0:n.addAsTypeOnly,a)};break}case 3:{const{moduleSpecifier:e,importKind:t,useRequire:n,addAsTypeOnly:s,propertyName:c}=i,l=function(e,t,n,r){const i=u(e,!0),o=u(e,!1),a=d.get(i),s=d.get(o),c={defaultImport:void 0,namedImports:void 0,namespaceLikeImport:void 0,useRequire:n};return 1===t&&2===r?a||(d.set(i,c),c):1===r&&(a||s)?a||s:s||(d.set(o,c),c)}(e,t,n,s);switch(fn.assert(l.useRequire===n,"(Add new) Tried to add an `import` and a `require` for the same module"),t){case 1:fn.assert(void 0===l.defaultImport||l.defaultImport.name===o,"(Add new) Default import should be missing or match symbolName"),l.defaultImport={name:o,addAsTypeOnly:_(null==(r=l.defaultImport)?void 0:r.addAsTypeOnly,s)};break;case 0:const e=(l.namedImports||(l.namedImports=new Map)).get(o);l.namedImports.set(o,[_(e,s),c]);break;case 3:if(a.verbatimModuleSyntax){const e=(l.namedImports||(l.namedImports=new Map)).get(o);l.namedImports.set(o,[_(e,s),c])}else fn.assert(void 0===l.namespaceLikeImport||l.namespaceLikeImport.name===o,"Namespacelike import shoudl be missing or match symbolName"),l.namespaceLikeImport={importKind:t,name:o,addAsTypeOnly:s};break;case 2:fn.assert(void 0===l.namespaceLikeImport||l.namespaceLikeImport.name===o,"Namespacelike import shoudl be missing or match symbolName"),l.namespaceLikeImport={importKind:t,name:o,addAsTypeOnly:s}}break}case 4:break;default:fn.assertNever(i,`fix wasn't never - got kind ${i.kind}`)}function _(e,t){return Math.max(null!=e?e:0,t)}function u(e,t){return`${t?1:0}|${e}`}}}function Pee(e,t,n,r){const i=KY(e,r,n),o=Jee(e,t);return{getModuleSpecifierForBestExportInfo:function(a,s,c,l){const{fixes:_,computedWithoutCacheCount:u}=Mee(a,s,c,!1,t,e,n,r,o,l),d=Wee(_,e,t,i,n,r);return d&&__spreadProps(__spreadValues({},d),{computedWithoutCacheCount:u})}}}function Aee(e,t,n,r,i,o,a,s,c,l,_,u){let d;n?(d=P0(r,a,s,_,u).get(r.path,n),fn.assertIsDefined(d,"Some exportInfo should match the specified exportMapKey")):(d=Co(Iy(t.name))?[Ree(e,i,t,s,a)]:jee(r,e,i,t,o,s,a,_,u),fn.assertIsDefined(d,"Some exportInfo should match the specified symbol / moduleSymbol"));const p=zee(r,s),f=CT(tQ(r,l)),m=fn.checkDefined(Oee(r,d,s,l,f,p,a,_));return{moduleSpecifier:m.moduleSpecifier,codeAction:Lee(Zee({host:a,formatContext:c,preferences:_},r,i,m,!1,s,_))}}function Iee(e,t,n,r,i,o){const a=n.getCompilerOptions(),s=Te(Qee(e,n.getTypeChecker(),t,a)),c=Xee(e,t,s,n),l=s!==t.text;return c&&Lee(Zee({host:r,formatContext:i,preferences:o},e,s,c,l,n,o))}function Oee(e,t,n,r,i,o,a,s){const c=KY(e,s,a);return Wee(Mee(t,r,i,o,n,e,a,s).fixes,e,n,c,a,s)}function Lee({description:e,changes:t,commands:n}){return{description:e,changes:t,commands:n}}function jee(e,t,n,r,i,o,a,s,c){const l=qee(o,a),_=s.autoImportFileExcludePatterns&&E0(a,s),u=o.getTypeChecker().getMergedSymbol(r),d=_&&u.declarations&&Qu(u,307),p=d&&_(d);return P0(e,a,o,s,c).search(e.path,i,e=>e===n,e=>{const n=l(e[0].isFromPackageJson);if(n.getMergedSymbol(_x(e[0].symbol,n))===t&&(p||e.some(e=>n.getMergedSymbol(e.moduleSymbol)===r||e.symbol.parent===r)))return e})}function Ree(e,t,n,r,i){var o,a;const s=l(r.getTypeChecker(),!1);if(s)return s;const c=null==(a=null==(o=i.getPackageJsonAutoImportProvider)?void 0:o.call(i))?void 0:a.getTypeChecker();return fn.checkDefined(c&&l(c,!0),"Could not find symbol in specified module for code actions");function l(r,i){const o=A0(n,r);if(o&&_x(o.symbol,r)===e)return{symbol:o.symbol,moduleSymbol:n,moduleFileName:void 0,exportKind:o.exportKind,targetFlags:_x(e,r).flags,isFromPackageJson:i};const a=r.tryGetMemberInModuleExportsAndProperties(t,n);return a&&_x(a,r)===e?{symbol:a,moduleSymbol:n,moduleFileName:void 0,exportKind:0,targetFlags:_x(e,r).flags,isFromPackageJson:i}:void 0}}function Mee(e,t,n,r,i,o,a,s,c=(Am(o)?Jee(o,i):void 0),l){const _=i.getTypeChecker(),d=c?j(e,c.getImportsForExportInfo):u,p=void 0!==t&&function(e,t){return g(e,({declaration:e,importKind:n})=>{var r;if(0!==n)return;const i=function(e){var t,n,r;switch(e.kind){case 260:return null==(t=it(e.name,tN))?void 0:t.text;case 271:return e.name.text;case 351:case 272:return null==(r=it(null==(n=e.importClause)?void 0:n.namedBindings,SE))?void 0:r.name.text;default:return fn.assertNever(e)}}(e),o=i&&(null==(r=kg(e))?void 0:r.text);return o?{kind:0,namespacePrefix:i,usagePosition:t,moduleSpecifierKind:void 0,moduleSpecifier:o}:void 0})}(d,t),f=function(e,t,n,r){let i;for(const a of e){const e=o(a);if(!e)continue;const t=Ul(e.importClauseOrBindingPattern);if(4!==e.addAsTypeOnly&&t||4===e.addAsTypeOnly&&!t)return e;null!=i||(i=e)}return i;function o({declaration:e,importKind:i,symbol:o,targetFlags:a}){if(3===i||2===i||271===e.kind)return;if(260===e.kind)return 0!==i&&1!==i||206!==e.name.kind?void 0:{kind:2,importClauseOrBindingPattern:e.name,importKind:i,moduleSpecifierKind:void 0,moduleSpecifier:e.initializer.arguments[0].text,addAsTypeOnly:4};const{importClause:s}=e;if(!s||!zu(e.moduleSpecifier))return;const{name:c,namedBindings:l}=s;if(s.isTypeOnly&&(0!==i||!l))return;const _=Bee(t,0,o,a,n,r);return 1===i&&(c||2===_&&l)||0===i&&274===(null==l?void 0:l.kind)?void 0:{kind:2,importClauseOrBindingPattern:s,importKind:i,moduleSpecifierKind:void 0,moduleSpecifier:e.moduleSpecifier.text,addAsTypeOnly:_}}}(d,n,_,i.getCompilerOptions());if(f)return{computedWithoutCacheCount:0,fixes:[...p?[p]:u,f]};const{fixes:m,computedWithoutCacheCount:h=0}=function(e,t,n,r,i,o,a,s,c,l){const _=g(t,e=>function({declaration:e,importKind:t,symbol:n,targetFlags:r},i,o,a,s){var c;const l=null==(c=kg(e))?void 0:c.text;if(l)return{kind:3,moduleSpecifierKind:void 0,moduleSpecifier:l,importKind:t,addAsTypeOnly:o?4:Bee(i,0,n,r,a,s),useRequire:o}}(e,o,a,n.getTypeChecker(),n.getCompilerOptions()));return _?{fixes:[_]}:function(e,t,n,r,i,o,a,s,c){const l=BS(t.fileName),_=e.getCompilerOptions(),u=nZ(e,a),d=qee(e,a),p=iZ(Ck(_)),f=c?e=>aB.tryGetModuleSpecifiersFromCache(e.moduleSymbol,t,u,s):(e,n)=>aB.getModuleSpecifiersWithCacheInfo(e.moduleSymbol,n,_,t,u,s,void 0,!0);let m=0;const g=j(o,(o,a)=>{var s;const c=d(o.isFromPackageJson),{computedWithoutCache:u,moduleSpecifiers:g,kind:h}=null!=(s=f(o,c))?s:{},y=!!(111551&o.targetFlags),v=Bee(r,0,o.symbol,o.targetFlags,c,_);return m+=u?1:0,z(g,r=>{if(p&&YR(r))return;if(!y&&l&&void 0!==n)return{kind:1,moduleSpecifierKind:h,moduleSpecifier:r,usagePosition:n,exportInfo:o,isReExport:a>0};const s=Kee(t,o.exportKind,e);let u;if(void 0!==n&&3===s&&0===o.exportKind){const e=c.resolveExternalModuleSymbol(o.moduleSymbol);let t;e!==o.moduleSymbol&&(t=O0(e,c,Sk(_),_t)),t||(t=a0(o.moduleSymbol,Sk(_),!1)),u={namespacePrefix:t,usagePosition:n}}return{kind:3,moduleSpecifierKind:h,moduleSpecifier:r,importKind:s,useRequire:i,addAsTypeOnly:v,exportInfo:o,isReExport:a>0,qualification:u}})});return{computedWithoutCacheCount:m,fixes:g}}(n,r,i,o,a,e,s,c,l)}(e,d,i,o,t,n,r,a,s,l);return{computedWithoutCacheCount:h,fixes:[...p?[p]:u,...m]}}function Bee(e,t,n,r,i,o){return e?!n||!o.verbatimModuleSyntax||111551&r&&!i.getTypeOnlyAliasDeclaration(n)?1:2:4}function Jee(e,t){const n=t.getTypeChecker();let r;for(const i of e.imports){const e=Sg(i);if(Jm(e.parent)){const t=n.resolveExternalModuleName(i);t&&(r||(r=Ge())).add(iJ(t),e.parent)}else if(272===e.kind||271===e.kind||351===e.kind){const t=n.getSymbolAtLocation(i);t&&(r||(r=Ge())).add(iJ(t),e)}}return{getImportsForExportInfo:({moduleSymbol:n,exportKind:i,targetFlags:o,symbol:a})=>{const s=null==r?void 0:r.get(iJ(n));if(!s)return u;if(Im(e)&&!(111551&o)&&!x(s,WP))return u;const c=Kee(e,i,t);return s.map(e=>({declaration:e,importKind:c,symbol:a,targetFlags:o}))}}}function zee(e,t){if(!BS(e.fileName))return!1;if(e.commonJsModuleIndicator&&!e.externalModuleIndicator)return!0;if(e.externalModuleIndicator&&!e.commonJsModuleIndicator)return!1;const n=t.getCompilerOptions();if(n.configFile)return Tk(n)<5;if(1===_te(e,t))return!0;if(99===_te(e,t))return!1;for(const r of t.getSourceFiles())if(r!==e&&Im(r)&&!t.isSourceFileFromExternalLibrary(r)){if(r.commonJsModuleIndicator&&!r.externalModuleIndicator)return!0;if(r.externalModuleIndicator&&!r.commonJsModuleIndicator)return!1}return!0}function qee(e,t){return gt(n=>n?t.getPackageJsonAutoImportProvider().getTypeChecker():e.getTypeChecker())}function Vee(e,t,n,r){const i=tQ(e.sourceFile,n);let o;if(t===ma._0_refers_to_a_UMD_global_but_the_current_file_is_a_module_Consider_adding_an_import_instead.code)o=function({sourceFile:e,program:t,host:n,preferences:r},i){const o=t.getTypeChecker(),a=function(e,t){const n=tN(e)?t.getSymbolAtLocation(e):void 0;if(kx(n))return n;const{parent:r}=e;if(Cu(r)&&r.tagName===e||zE(r)){const n=t.resolveName(t.getJsxNamespace(r),Cu(r)?e:r,111551,!1);if(kx(n))return n}}(i,o);if(!a)return;const s=o.getAliasedSymbol(a),c=a.name,l=[{symbol:a,moduleSymbol:s,moduleFileName:void 0,exportKind:3,targetFlags:s.flags,isFromPackageJson:!1}],_=zee(e,t);return Mee(l,void 0,!1,_,t,e,n,r).fixes.map(e=>{var t;return{fix:e,symbolName:c,errorIdentifierText:null==(t=it(i,tN))?void 0:t.text}})}(e,i);else{if(!tN(i))return;if(t===ma._0_cannot_be_used_as_a_value_because_it_was_imported_using_import_type.code){const t=Te(Qee(e.sourceFile,e.program.getTypeChecker(),i,e.program.getCompilerOptions())),n=Xee(e.sourceFile,i,t,e.program);return n&&[{fix:n,symbolName:t,errorIdentifierText:i.text}]}o=Gee(e,i,r)}const a=KY(e.sourceFile,e.preferences,e.host);return o&&Uee(o,e.sourceFile,e.program,a,e.host,e.preferences)}function Uee(e,t,n,r,i,o){const a=e=>Ko(e,i.getCurrentDirectory(),zy(i));return pe(e,(e,i)=>Rt(!!e.isJsxNamespaceFix,!!i.isJsxNamespaceFix)||kt(e.fix.kind,i.fix.kind)||$ee(e.fix,i.fix,t,n,o,r.allowsImportingSpecifier,a))}function Wee(e,t,n,r,i,o){if(K(e))return 0===e[0].kind||2===e[0].kind?e[0]:e.reduce((e,a)=>-1===$ee(a,e,t,n,o,r.allowsImportingSpecifier,e=>Ko(e,i.getCurrentDirectory(),zy(i)))?a:e)}function $ee(e,t,n,r,i,o,a){return 0!==e.kind&&0!==t.kind?Rt("node_modules"!==t.moduleSpecifierKind||o(t.moduleSpecifier),"node_modules"!==e.moduleSpecifierKind||o(e.moduleSpecifier))||function(e,t,n){return"non-relative"===n.importModuleSpecifierPreference||"project-relative"===n.importModuleSpecifierPreference?Rt("relative"===e.moduleSpecifierKind,"relative"===t.moduleSpecifierKind):0}(e,t,i)||function(e,t,n,r){return Zt(e,"node:")&&!Zt(t,"node:")?u0(n,r)?-1:1:Zt(t,"node:")&&!Zt(e,"node:")?u0(n,r)?1:-1:0}(e.moduleSpecifier,t.moduleSpecifier,n,r)||Rt(Hee(e,n.path,a),Hee(t,n.path,a))||$S(e.moduleSpecifier,t.moduleSpecifier):0}function Hee(e,t,n){var r;return!(!e.isReExport||!(null==(r=e.exportInfo)?void 0:r.moduleFileName)||"index"!==Oo(e.exportInfo.moduleFileName,[".js",".jsx",".d.ts",".ts",".tsx"],!0))&&Zt(t,n(Io(e.exportInfo.moduleFileName)))}function Kee(e,t,n,r){if(n.getCompilerOptions().verbatimModuleSyntax&&1===function(e,t){return Am(e)?t.getEmitModuleFormatOfFile(e):JU(e,t.getCompilerOptions())}(e,n))return 3;switch(t){case 0:return 0;case 1:return 1;case 2:return function(e,t,n){var r;const i=Fk(t),o=BS(e.fileName);if(!o&&Tk(t)>=5)return i?1:2;if(o)return e.externalModuleIndicator||n?i?1:2:3;for(const a of null!=(r=e.statements)?r:u)if(mE(a)&&!Pd(a.moduleReference))return 3;return i?1:3}(e,n.getCompilerOptions(),!!r);case 3:return function(e,t,n){if(Fk(t.getCompilerOptions()))return 1;const r=Tk(t.getCompilerOptions());switch(r){case 2:case 1:case 3:return BS(e.fileName)&&(e.externalModuleIndicator||n)?2:3;case 4:case 5:case 6:case 7:case 99:case 0:case 200:return 2;case 100:case 101:case 199:return 99===_te(e,t)?2:3;default:return fn.assertNever(r,`Unexpected moduleKind ${r}`)}}(e,n,!!r);case 4:return 2;default:return fn.assertNever(t)}}function Gee({sourceFile:e,program:t,cancellationToken:n,host:r,preferences:i},o,a){const s=t.getTypeChecker(),c=t.getCompilerOptions();return j(Qee(e,s,o,c),s=>{if("default"===s)return;const c=CT(o),l=zee(e,t),_=function(e,t,n,r,i,o,a,s,c){var l;const _=Ge(),u=KY(i,c,s),d=null==(l=s.getModuleSpecifierCache)?void 0:l.call(s),p=gt(e=>nZ(e?s.getPackageJsonAutoImportProvider():o,s));function f(e,t,n,r,o,a){const s=p(a);if(T0(o,i,t,e,c,u,s,d)){const i=o.getTypeChecker();_.add(nY(n,i).toString(),{symbol:n,moduleSymbol:e,moduleFileName:null==t?void 0:t.fileName,exportKind:r,targetFlags:_x(n,i).flags,isFromPackageJson:a})}}return w0(o,s,c,a,(i,o,a,s)=>{const c=a.getTypeChecker();r.throwIfCancellationRequested();const l=a.getCompilerOptions(),_=A0(i,c);_&&lte(c.getSymbolFlags(_.symbol),n)&&O0(_.symbol,c,Sk(l),(n,r)=>(t&&null!=r?r:n)===e)&&f(i,o,_.symbol,_.exportKind,a,s);const u=c.tryGetMemberInModuleExportsAndProperties(e,i);u&&lte(c.getSymbolFlags(u),n)&&f(i,o,u,0,a,s)}),_}(s,Sm(o),ZG(o),n,e,t,a,r,i);return Re(M(_.values(),n=>Mee(n,o.getStart(e),c,l,t,e,r,i).fixes),e=>({fix:e,symbolName:s,errorIdentifierText:o.text,isJsxNamespaceFix:s!==o.text}))})}function Xee(e,t,n,r){const i=r.getTypeChecker(),o=i.resolveName(n,t,111551,!0);if(!o)return;const a=i.getTypeOnlyAliasDeclaration(o);return a&&Sd(a)===e?{kind:4,typeOnlyAliasDeclaration:a}:void 0}function Qee(e,t,n,r){const i=n.parent;if((Cu(i)||BE(i))&&i.tagName===n&&m0(r.jsx)){const r=t.getJsxNamespace(e);if(function(e,t,n){if(Oy(t.text))return!0;const r=n.resolveName(e,t,111551,!0);return!r||K(r.declarations,$l)&&!(111551&r.flags)}(r,n,t))return Oy(n.text)||t.resolveName(n.text,n,111551,!1)?[r]:[n.text,r]}return[n.text]}function Zee(e,t,n,r,i,o,a){let s;const c=rde.ChangeTracker.with(e,e=>{s=function(e,t,n,r,i,o,a){const s=lZ(t,a);switch(r.kind){case 0:return tte(e,t,r),[ma.Change_0_to_1,n,`${r.namespacePrefix}.${n}`];case 1:return nte(e,t,r,s),[ma.Change_0_to_1,n,rte(r.moduleSpecifier,s)+n];case 2:{const{importClauseOrBindingPattern:o,importKind:s,addAsTypeOnly:c,moduleSpecifier:l}=r;ete(e,t,o,1===s?{name:n,addAsTypeOnly:c}:void 0,0===s?[{name:n,addAsTypeOnly:c}]:u,void 0,a);const _=Iy(l);return i?[ma.Import_0_from_1,n,_]:[ma.Update_import_from_0,_]}case 3:{const{importKind:c,moduleSpecifier:l,addAsTypeOnly:_,useRequire:u,qualification:d}=r;return vZ(e,t,(u?ste:ate)(l,s,1===c?{name:n,addAsTypeOnly:_}:void 0,0===c?[{name:n,addAsTypeOnly:_}]:void 0,2===c||3===c?{importKind:c,name:(null==d?void 0:d.namespacePrefix)||n,addAsTypeOnly:_}:void 0,o.getCompilerOptions(),a),!0,a),d&&tte(e,t,d),i?[ma.Import_0_from_1,n,l]:[ma.Add_import_from_0,l]}case 4:{const{typeOnlyAliasDeclaration:i}=r,s=function(e,t,n,r,i){var o;const a=n.getCompilerOptions(),s=a.verbatimModuleSyntax;switch(t.kind){case 276:if(t.isTypeOnly){if(t.parent.elements.length>1){const n=_w.updateImportSpecifier(t,!1,t.propertyName,t.name),{specifierComparer:o}=h_e.getNamedImportSpecifierComparerWithDetection(t.parent.parent.parent,i,r),a=h_e.getImportSpecifierInsertionIndex(t.parent.elements,n,o);if(a!==t.parent.elements.indexOf(t))return e.delete(r,t),e.insertImportSpecifierAtIndex(r,n,t.parent,a),t}return e.deleteRange(r,{pos:Wd(t.getFirstToken()),end:Wd(null!=(o=t.propertyName)?o:t.name)}),t}return fn.assert(t.parent.parent.isTypeOnly),c(t.parent.parent),t.parent.parent;case 273:return c(t),t;case 274:return c(t.parent),t.parent;case 271:return e.deleteRange(r,t.getChildAt(1)),t;default:fn.failBadSyntaxKind(t)}function c(o){var c;if(e.delete(r,bZ(o,r)),!a.allowImportingTsExtensions){const t=kg(o.parent),i=t&&(null==(c=n.getResolvedModuleFromModuleSpecifier(t,r))?void 0:c.resolvedModule);if(null==i?void 0:i.resolvedUsingTsExtension){const n=Zo(t.text,nV(t.text,a));e.replaceNode(r,t,_w.createStringLiteral(n))}}if(s){const n=it(o.namedBindings,CE);if(n&&n.elements.length>1){!1!==h_e.getNamedImportSpecifierComparerWithDetection(o.parent,i,r).isSorted&&276===t.kind&&0!==n.elements.indexOf(t)&&(e.delete(r,t),e.insertImportSpecifierAtIndex(r,t,n,0));for(const i of n.elements)i===t||i.isTypeOnly||e.insertModifierBefore(r,156,i)}}}}(e,i,o,t,a);return 276===s.kind?[ma.Remove_type_from_import_of_0_from_1,n,Yee(s.parent.parent)]:[ma.Remove_type_from_import_declaration_from_0,Yee(s)]}default:return fn.assertNever(r,`Unexpected fix kind ${r.kind}`)}}(e,t,n,r,i,o,a)});return G7(wee,c,s,Dee,ma.Add_all_missing_imports)}function Yee(e){var t,n;return 271===e.kind?(null==(n=it(null==(t=it(e.moduleReference,LE))?void 0:t.expression,zu))?void 0:n.text)||e.moduleReference.getText():ot(e.parent.moduleSpecifier,MD).text}function ete(e,t,n,r,i,o,a){var s;if(206===n.kind){if(o&&n.elements.some(e=>o.has(e)))return void e.replaceNode(t,n,_w.createObjectBindingPattern([...n.elements.filter(e=>!o.has(e)),...r?[_w.createBindingElement(void 0,"default",r.name)]:u,...i.map(e=>_w.createBindingElement(void 0,e.propertyName,e.name))]));r&&_(n,r.name,"default");for(const e of i)_(n,e.name,e.propertyName);return}const c=n.isTypeOnly&&K([r,...i],e=>4===(null==e?void 0:e.addAsTypeOnly)),l=n.namedBindings&&(null==(s=it(n.namedBindings,CE))?void 0:s.elements);if(r&&(fn.assert(!n.name,"Cannot add a default import to an import clause that already has one"),e.insertNodeAt(t,n.getStart(t),_w.createIdentifier(r.name),{suffix:", "})),i.length){const{specifierComparer:r,isSorted:s}=h_e.getNamedImportSpecifierComparerWithDetection(n.parent,a,t),_=pe(i.map(e=>_w.createImportSpecifier((!n.isTypeOnly||c)&&ote(e,a),void 0===e.propertyName?void 0:_w.createIdentifier(e.propertyName),_w.createIdentifier(e.name))),r);if(o)e.replaceNode(t,n.namedBindings,_w.updateNamedImports(n.namedBindings,pe([...l.filter(e=>!o.has(e)),..._],r)));else if((null==l?void 0:l.length)&&!1!==s){const i=c&&l?_w.updateNamedImports(n.namedBindings,O(l,e=>_w.updateImportSpecifier(e,!0,e.propertyName,e.name))).elements:l;for(const o of _){const a=h_e.getImportSpecifierInsertionIndex(i,o,r);e.insertImportSpecifierAtIndex(t,o,n.namedBindings,a)}}else if(null==l?void 0:l.length)for(const n of _)e.insertNodeInListAfter(t,ke(l),n,l);else if(_.length){const r=_w.createNamedImports(_);n.namedBindings?e.replaceNode(t,n.namedBindings,r):e.insertNodeAfter(t,fn.checkDefined(n.name,"Import clause must have either named imports or a default import"),r)}}if(c&&(e.delete(t,bZ(n,t)),l))for(const u of l)e.insertModifierBefore(t,156,u);function _(n,r,i){const o=_w.createBindingElement(void 0,i,r);n.elements.length?e.insertNodeInListAfter(t,ke(n.elements),o):e.replaceNode(t,n,_w.createObjectBindingPattern([o]))}}function tte(e,t,{namespacePrefix:n,usagePosition:r}){e.insertText(t,r,n+".")}function nte(e,t,{moduleSpecifier:n,usagePosition:r},i){e.insertText(t,r,rte(n,i))}function rte(e,t){const n=_Z(t);return`import(${n}${e}${n}).`}function ite({addAsTypeOnly:e}){return 2===e}function ote(e,t){return ite(e)||!!t.preferTypeOnlyAutoImports&&4!==e.addAsTypeOnly}function ate(e,t,n,r,i,o,a){const s=aZ(e,t);let c;if(void 0!==n||(null==r?void 0:r.length)){const i=(!n||ite(n))&&x(r,ite)||(o.verbatimModuleSyntax||a.preferTypeOnlyAutoImports)&&4!==(null==n?void 0:n.addAsTypeOnly)&&!K(r,e=>4===e.addAsTypeOnly);c=ce(c,oZ(n&&_w.createIdentifier(n.name),null==r?void 0:r.map(e=>_w.createImportSpecifier(!i&&ote(e,a),void 0===e.propertyName?void 0:_w.createIdentifier(e.propertyName),_w.createIdentifier(e.name))),e,t,i))}return i&&(c=ce(c,3===i.importKind?_w.createImportEqualsDeclaration(void 0,ote(i,a),_w.createIdentifier(i.name),_w.createExternalModuleReference(s)):_w.createImportDeclaration(void 0,_w.createImportClause(ote(i,a),void 0,_w.createNamespaceImport(_w.createIdentifier(i.name))),s,void 0))),fn.checkDefined(c)}function ste(e,t,n,r,i){const o=aZ(e,t);let a;if(n||(null==r?void 0:r.length)){const e=(null==r?void 0:r.map(({name:e,propertyName:t})=>_w.createBindingElement(void 0,t,e)))||[];n&&e.unshift(_w.createBindingElement(void 0,"default",n.name)),a=ce(a,cte(_w.createObjectBindingPattern(e),o))}return i&&(a=ce(a,cte(i.name,o))),fn.checkDefined(a)}function cte(e,t){return _w.createVariableStatement(void 0,_w.createVariableDeclarationList([_w.createVariableDeclaration("string"==typeof e?_w.createIdentifier(e):e,void 0,void 0,_w.createCallExpression(_w.createIdentifier("require"),void 0,[t]))],2))}function lte(e,t){return!(7!==t&&!(1&t?111551&e:2&t?788968&e:4&t&&1920&e))}function _te(e,t){return Am(e)?t.getImpliedNodeFormatForEmit(e):zU(e,t.getCompilerOptions())}Z7({errorCodes:Nee,getCodeActions(e){const{errorCode:t,preferences:n,sourceFile:r,span:i,program:o}=e,a=Vee(e,t,i.start,!0);if(a)return a.map(({fix:t,symbolName:i,errorIdentifierText:a})=>Zee(e,r,i,t,i!==a,o,n))},fixIds:[Dee],getAllCodeActions:e=>{const{sourceFile:t,program:n,preferences:r,host:i,cancellationToken:o}=e,a=Eee(t,n,!0,r,i,o);return o5(e,Nee,t=>a.addImportFromDiagnostic(t,e)),n5(rde.ChangeTracker.with(e,a.writeFixes))}});var ute="addMissingConstraint",dte=[ma.Type_0_is_not_comparable_to_type_1.code,ma.Type_0_is_not_assignable_to_type_1_Two_different_types_with_this_name_exist_but_they_are_unrelated.code,ma.Type_0_is_not_assignable_to_type_1_with_exactOptionalPropertyTypes_Colon_true_Consider_adding_undefined_to_the_types_of_the_target_s_properties.code,ma.Type_0_is_not_assignable_to_type_1.code,ma.Argument_of_type_0_is_not_assignable_to_parameter_of_type_1_with_exactOptionalPropertyTypes_Colon_true_Consider_adding_undefined_to_the_types_of_the_target_s_properties.code,ma.Property_0_is_incompatible_with_index_signature.code,ma.Property_0_in_type_1_is_not_assignable_to_type_2.code,ma.Type_0_does_not_satisfy_the_constraint_1.code];function pte(e,t,n){const r=k(e.getSemanticDiagnostics(t),e=>e.start===n.start&&e.length===n.length);if(void 0===r||void 0===r.relatedInformation)return;const i=k(r.relatedInformation,e=>e.code===ma.This_type_parameter_might_need_an_extends_0_constraint.code);if(void 0===i||void 0===i.file||void 0===i.start||void 0===i.length)return;let o=koe(i.file,Xs(i.start,i.length));if(void 0!==o&&(tN(o)&&yN(o.parent)&&(o=o.parent),yN(o))){if(QN(o.parent))return;const r=tQ(t,n.start),a=function(e,t){if(C_(t.parent))return e.getTypeArgumentConstraint(t.parent);const n=G_(t)?e.getContextualType(t):void 0;return n||e.getTypeAtLocation(t)}(e.getTypeChecker(),r)||function(e){const[,t]=uU(e,"\n",0).match(/`extends (.*)`/)||[];return t}(i.messageText);return{constraint:a,declaration:o,token:r}}}function fte(e,t,n,r,i,o){const{declaration:a,constraint:s}=o,c=t.getTypeChecker();if(nt(s))e.insertText(i,a.name.end,` extends ${s}`);else{const o=Sk(t.getCompilerOptions()),l=Yie({program:t,host:r}),_=Fee(i,t,n,r),u=ooe(c,_,s,void 0,o,void 0,void 0,l);u&&(e.replaceNode(i,a,_w.updateTypeParameterDeclaration(a,void 0,a.name,u,a.default)),_.writeFixes(e))}}Z7({errorCodes:dte,getCodeActions(e){const{sourceFile:t,span:n,program:r,preferences:i,host:o}=e,a=pte(r,t,n);if(void 0===a)return;const s=rde.ChangeTracker.with(e,e=>fte(e,r,i,o,t,a));return[G7(ute,s,ma.Add_extends_constraint,ute,ma.Add_extends_constraint_to_all_type_parameters)]},fixIds:[ute],getAllCodeActions:e=>{const{program:t,preferences:n,host:r}=e,i=new Set;return n5(rde.ChangeTracker.with(e,o=>{o5(e,dte,e=>{const a=pte(t,e.file,Xs(e.start,e.length));if(a&&Cx(i,rJ(a.declaration)))return fte(o,t,n,r,e.file,a)})}))}});var mte="fixOverrideModifier",gte="fixAddOverrideModifier",hte="fixRemoveOverrideModifier",yte=[ma.This_member_cannot_have_an_override_modifier_because_it_is_not_declared_in_the_base_class_0.code,ma.This_member_cannot_have_an_override_modifier_because_its_containing_class_0_does_not_extend_another_class.code,ma.This_member_must_have_an_override_modifier_because_it_overrides_an_abstract_method_that_is_declared_in_the_base_class_0.code,ma.This_member_must_have_an_override_modifier_because_it_overrides_a_member_in_the_base_class_0.code,ma.This_parameter_property_must_have_an_override_modifier_because_it_overrides_a_member_in_base_class_0.code,ma.This_member_must_have_a_JSDoc_comment_with_an_override_tag_because_it_overrides_a_member_in_the_base_class_0.code,ma.This_member_cannot_have_a_JSDoc_comment_with_an_override_tag_because_its_containing_class_0_does_not_extend_another_class.code,ma.This_parameter_property_must_have_a_JSDoc_comment_with_an_override_tag_because_it_overrides_a_member_in_the_base_class_0.code,ma.This_member_cannot_have_a_JSDoc_comment_with_an_override_tag_because_it_is_not_declared_in_the_base_class_0.code],vte={[ma.This_member_must_have_an_override_modifier_because_it_overrides_a_member_in_the_base_class_0.code]:{descriptions:ma.Add_override_modifier,fixId:gte,fixAllDescriptions:ma.Add_all_missing_override_modifiers},[ma.This_member_must_have_a_JSDoc_comment_with_an_override_tag_because_it_overrides_a_member_in_the_base_class_0.code]:{descriptions:ma.Add_override_modifier,fixId:gte,fixAllDescriptions:ma.Add_all_missing_override_modifiers},[ma.This_member_cannot_have_an_override_modifier_because_its_containing_class_0_does_not_extend_another_class.code]:{descriptions:ma.Remove_override_modifier,fixId:hte,fixAllDescriptions:ma.Remove_all_unnecessary_override_modifiers},[ma.This_member_cannot_have_a_JSDoc_comment_with_an_override_tag_because_its_containing_class_0_does_not_extend_another_class.code]:{descriptions:ma.Remove_override_modifier,fixId:hte,fixAllDescriptions:ma.Remove_override_modifier},[ma.This_parameter_property_must_have_an_override_modifier_because_it_overrides_a_member_in_base_class_0.code]:{descriptions:ma.Add_override_modifier,fixId:gte,fixAllDescriptions:ma.Add_all_missing_override_modifiers},[ma.This_parameter_property_must_have_a_JSDoc_comment_with_an_override_tag_because_it_overrides_a_member_in_the_base_class_0.code]:{descriptions:ma.Add_override_modifier,fixId:gte,fixAllDescriptions:ma.Add_all_missing_override_modifiers},[ma.This_member_must_have_an_override_modifier_because_it_overrides_an_abstract_method_that_is_declared_in_the_base_class_0.code]:{descriptions:ma.Add_override_modifier,fixId:gte,fixAllDescriptions:ma.Remove_all_unnecessary_override_modifiers},[ma.This_member_cannot_have_an_override_modifier_because_it_is_not_declared_in_the_base_class_0.code]:{descriptions:ma.Remove_override_modifier,fixId:hte,fixAllDescriptions:ma.Remove_all_unnecessary_override_modifiers},[ma.This_member_cannot_have_a_JSDoc_comment_with_an_override_tag_because_it_is_not_declared_in_the_base_class_0.code]:{descriptions:ma.Remove_override_modifier,fixId:hte,fixAllDescriptions:ma.Remove_all_unnecessary_override_modifiers}};function bte(e,t,n,r){switch(n){case ma.This_member_must_have_an_override_modifier_because_it_overrides_a_member_in_the_base_class_0.code:case ma.This_member_must_have_a_JSDoc_comment_with_an_override_tag_because_it_overrides_a_member_in_the_base_class_0.code:case ma.This_member_must_have_an_override_modifier_because_it_overrides_an_abstract_method_that_is_declared_in_the_base_class_0.code:case ma.This_parameter_property_must_have_an_override_modifier_because_it_overrides_a_member_in_base_class_0.code:case ma.This_parameter_property_must_have_a_JSDoc_comment_with_an_override_tag_because_it_overrides_a_member_in_the_base_class_0.code:return function(e,t,n){const r=kte(t,n);if(Im(t))return void e.addJSDocTags(t,r,[_w.createJSDocOverrideTag(_w.createIdentifier("override"))]);const i=r.modifiers||u,o=k(i,lN),a=k(i,_N),s=k(i,e=>EQ(e.kind)),c=S(i,bN),l=a?a.end:o?o.end:s?s.end:c?ns(t.text,c.end):r.getStart(t),_=s||o||a?{prefix:" "}:{suffix:" "};e.insertModifierAt(t,l,164,_)}(e,t.sourceFile,r);case ma.This_member_cannot_have_an_override_modifier_because_it_is_not_declared_in_the_base_class_0.code:case ma.This_member_cannot_have_a_JSDoc_comment_with_an_override_tag_because_it_is_not_declared_in_the_base_class_0.code:case ma.This_member_cannot_have_an_override_modifier_because_its_containing_class_0_does_not_extend_another_class.code:case ma.This_member_cannot_have_a_JSDoc_comment_with_an_override_tag_because_its_containing_class_0_does_not_extend_another_class.code:return function(e,t,n){const r=kte(t,n);if(Im(t))return void e.filterJSDocTags(t,r,on(FP));const i=k(r.modifiers,uN);fn.assertIsDefined(i),e.deleteModifier(t,i)}(e,t.sourceFile,r);default:fn.fail("Unexpected error code: "+n)}}function xte(e){switch(e.kind){case 176:case 172:case 174:case 177:case 178:return!0;case 169:return ic(e,e.parent);default:return!1}}function kte(e,t){const n=gc(tQ(e,t),e=>g_(e)?"quit":xte(e));return fn.assert(n&&xte(n)),n}Z7({errorCodes:yte,getCodeActions:function(e){const{errorCode:t,span:n}=e,r=vte[t];if(!r)return u;const{descriptions:i,fixId:o,fixAllDescriptions:a}=r,s=rde.ChangeTracker.with(e,r=>bte(r,e,t,n.start));return[X7(mte,s,i,o,a)]},fixIds:[mte,gte,hte],getAllCodeActions:e=>i5(e,yte,(t,n)=>{const{code:r,start:i}=n,o=vte[r];o&&o.fixId===e.fixId&&bte(t,e,r,i)})});var Ste="fixNoPropertyAccessFromIndexSignature",Tte=[ma.Property_0_comes_from_an_index_signature_so_it_must_be_accessed_with_0.code];function Cte(e,t,n,r){const i=lZ(t,r),o=_w.createStringLiteral(n.name.text,0===i);e.replaceNode(t,n,vl(n)?_w.createElementAccessChain(n.expression,n.questionDotToken,o):_w.createElementAccessExpression(n.expression,o))}function wte(e,t){return ot(tQ(e,t).parent,sF)}Z7({errorCodes:Tte,fixIds:[Ste],getCodeActions(e){const{sourceFile:t,span:n,preferences:r}=e,i=wte(t,n.start),o=rde.ChangeTracker.with(e,t=>Cte(t,e.sourceFile,i,r));return[G7(Ste,o,[ma.Use_element_access_for_0,i.name.text],Ste,ma.Use_element_access_for_all_undeclared_properties)]},getAllCodeActions:e=>i5(e,Tte,(t,n)=>Cte(t,n.file,wte(n.file,n.start),e.preferences))});var Dte="fixImplicitThis",Nte=[ma.this_implicitly_has_type_any_because_it_does_not_have_a_type_annotation.code];function Fte(e,t,n,r){const i=tQ(t,n);if(!wX(i))return;const o=im(i,!1,!1);if((aE(o)||fF(o))&&!nP(im(o,!1,!1))){const n=fn.checkDefined(zX(o,100,t)),{name:i}=o,a=fn.checkDefined(o.body);if(fF(o)){if(i&&Mce.Core.isSymbolReferencedInFile(i,r,t,a))return;return e.delete(t,n),i&&e.delete(t,i),e.insertText(t,a.pos," =>"),[ma.Convert_function_expression_0_to_arrow_function,i?i.text:EY]}return e.replaceNode(t,n,_w.createToken(87)),e.insertText(t,i.end," = "),e.insertText(t,a.pos," =>"),[ma.Convert_function_declaration_0_to_arrow_function,i.text]}}Z7({errorCodes:Nte,getCodeActions:function(e){const{sourceFile:t,program:n,span:r}=e;let i;const o=rde.ChangeTracker.with(e,e=>{i=Fte(e,t,r.start,n.getTypeChecker())});return i?[G7(Dte,o,i,Dte,ma.Fix_all_implicit_this_errors)]:u},fixIds:[Dte],getAllCodeActions:e=>i5(e,Nte,(t,n)=>{Fte(t,n.file,n.start,e.program.getTypeChecker())})});var Ete="fixImportNonExportedMember",Pte=[ma.Module_0_declares_1_locally_but_it_is_not_exported.code];function Ate(e,t,n){var r,i;const o=tQ(e,t);if(tN(o)){const t=gc(o,gE);if(void 0===t)return;const a=MD(t.moduleSpecifier)?t.moduleSpecifier:void 0;if(void 0===a)return;const s=null==(r=n.getResolvedModuleFromModuleSpecifier(a,e))?void 0:r.resolvedModule;if(void 0===s)return;const c=n.getSourceFile(s.resolvedFileName);if(void 0===c||g0(n,c))return;const l=null==(i=it(c.symbol.valueDeclaration,du))?void 0:i.locals;if(void 0===l)return;const _=l.get(o.escapedText);if(void 0===_)return;const u=function(e){if(void 0===e.valueDeclaration)return he(e.declarations);const t=e.valueDeclaration,n=iE(t)?it(t.parent.parent,JF):void 0;return n&&1===p(n.declarationList.declarations)?n:t}(_);if(void 0===u)return;return{exportName:{node:o,isTypeOnly:GT(u)},node:u,moduleSourceFile:c,moduleSpecifier:a.text}}}function Ite(e,t,n,r,i){p(r)&&(i?Lte(e,t,n,i,r):jte(e,t,n,r))}function Ote(e,t){return S(e.statements,e=>NE(e)&&(t&&e.isTypeOnly||!e.isTypeOnly))}function Lte(e,t,n,r,i){const o=r.exportClause&&FE(r.exportClause)?r.exportClause.elements:_w.createNodeArray([]),a=!(r.isTypeOnly||!Dk(t.getCompilerOptions())&&!k(o,e=>e.isTypeOnly));e.replaceNode(n,r,_w.updateExportDeclaration(r,r.modifiers,r.isTypeOnly,_w.createNamedExports(_w.createNodeArray([...o,...Rte(i,a)],o.hasTrailingComma)),r.moduleSpecifier,r.attributes))}function jte(e,t,n,r){e.insertNodeAtEndOfScope(n,n,_w.createExportDeclaration(void 0,!1,_w.createNamedExports(Rte(r,Dk(t.getCompilerOptions()))),void 0,void 0))}function Rte(e,t){return _w.createNodeArray(A(e,e=>_w.createExportSpecifier(t&&e.isTypeOnly,void 0,e.node)))}Z7({errorCodes:Pte,fixIds:[Ete],getCodeActions(e){const{sourceFile:t,span:n,program:r}=e,i=Ate(t,n.start,r);if(void 0===i)return;const o=rde.ChangeTracker.with(e,e=>function(e,t,{exportName:n,node:r,moduleSourceFile:i}){const o=Ote(i,n.isTypeOnly);o?Lte(e,t,i,o,[n]):XT(r)?e.insertExportModifier(i,r):jte(e,t,i,[n])}(e,r,i));return[G7(Ete,o,[ma.Export_0_from_module_1,i.exportName.node.text,i.moduleSpecifier],Ete,ma.Export_all_referenced_locals)]},getAllCodeActions(e){const{program:t}=e;return n5(rde.ChangeTracker.with(e,n=>{const r=new Map;o5(e,Pte,e=>{const i=Ate(e.file,e.start,t);if(void 0===i)return;const{exportName:o,node:a,moduleSourceFile:s}=i;if(void 0===Ote(s,o.isTypeOnly)&&XT(a))n.insertExportModifier(s,a);else{const e=r.get(s)||{typeOnlyExports:[],exports:[]};o.isTypeOnly?e.typeOnlyExports.push(o):e.exports.push(o),r.set(s,e)}}),r.forEach((e,r)=>{const i=Ote(r,!0);i&&i.isTypeOnly?(Ite(n,t,r,e.typeOnlyExports,i),Ite(n,t,r,e.exports,Ote(r,!1))):Ite(n,t,r,[...e.exports,...e.typeOnlyExports],i)})}))}});var Mte="fixIncorrectNamedTupleSyntax";Z7({errorCodes:[ma.A_labeled_tuple_element_is_declared_as_optional_with_a_question_mark_after_the_name_and_before_the_colon_rather_than_after_the_type.code,ma.A_labeled_tuple_element_is_declared_as_rest_with_a_before_the_name_rather_than_before_the_type.code],getCodeActions:function(e){const{sourceFile:t,span:n}=e,r=function(e,t){const n=tQ(e,t);return gc(n,e=>202===e.kind)}(t,n.start),i=rde.ChangeTracker.with(e,e=>function(e,t,n){if(!n)return;let r=n.type,i=!1,o=!1;for(;190===r.kind||191===r.kind||196===r.kind;)190===r.kind?i=!0:191===r.kind&&(o=!0),r=r.type;const a=_w.updateNamedTupleMember(n,n.dotDotDotToken||(o?_w.createToken(26):void 0),n.name,n.questionToken||(i?_w.createToken(58):void 0),r);a!==n&&e.replaceNode(t,n,a)}(e,t,r));return[G7(Mte,i,ma.Move_labeled_tuple_element_modifiers_to_labels,Mte,ma.Move_labeled_tuple_element_modifiers_to_labels)]},fixIds:[Mte]});var Bte="fixSpelling",Jte=[ma.Property_0_does_not_exist_on_type_1_Did_you_mean_2.code,ma.Property_0_may_not_exist_on_type_1_Did_you_mean_2.code,ma.Cannot_find_name_0_Did_you_mean_1.code,ma.Could_not_find_name_0_Did_you_mean_1.code,ma.Cannot_find_namespace_0_Did_you_mean_1.code,ma.Cannot_find_name_0_Did_you_mean_the_instance_member_this_0.code,ma.Cannot_find_name_0_Did_you_mean_the_static_member_1_0.code,ma._0_has_no_exported_member_named_1_Did_you_mean_2.code,ma.This_member_cannot_have_an_override_modifier_because_it_is_not_declared_in_the_base_class_0_Did_you_mean_1.code,ma.This_member_cannot_have_a_JSDoc_comment_with_an_override_tag_because_it_is_not_declared_in_the_base_class_0_Did_you_mean_1.code,ma.No_overload_matches_this_call.code,ma.Type_0_is_not_assignable_to_type_1.code];function zte(e,t,n,r){const i=tQ(e,t),o=i.parent;if((r===ma.No_overload_matches_this_call.code||r===ma.Type_0_is_not_assignable_to_type_1.code)&&!VE(o))return;const a=n.program.getTypeChecker();let s;if(sF(o)&&o.name===i){fn.assert(hl(i),"Expected an identifier for spelling (property access)");let e=a.getTypeAtLocation(o.expression);64&o.flags&&(e=a.getNonNullableType(e)),s=a.getSuggestedSymbolForNonexistentProperty(i,e)}else if(kF(o)&&103===o.operatorToken.kind&&o.left===i&&nN(i)){const e=a.getTypeAtLocation(o.right);s=a.getSuggestedSymbolForNonexistentProperty(i,e)}else if(gN(o)&&o.right===i){const e=a.getSymbolAtLocation(o.left);e&&1536&e.flags&&(s=a.getSuggestedSymbolForNonexistentModule(o.right,e))}else if(wE(o)&&o.name===i){fn.assertNode(i,tN,"Expected an identifier for spelling (import)");const t=function(e,t,n){var r;if(!t||!zu(t.moduleSpecifier))return;const i=null==(r=e.program.getResolvedModuleFromModuleSpecifier(t.moduleSpecifier,n))?void 0:r.resolvedModule;return i?e.program.getSourceFile(i.resolvedFileName):void 0}(n,gc(i,gE),e);t&&t.symbol&&(s=a.getSuggestedSymbolForNonexistentModule(i,t.symbol))}else if(VE(o)&&o.name===i){fn.assertNode(i,tN,"Expected an identifier for JSX attribute");const e=gc(i,Cu),t=a.getContextualTypeForArgumentAtIndex(e,0);s=a.getSuggestedSymbolForNonexistentJSXAttribute(i,t)}else if(Lv(o)&&m_(o)&&o.name===i){const e=gc(i,g_),t=e?kh(e):void 0,n=t?a.getTypeAtLocation(t):void 0;n&&(s=a.getSuggestedSymbolForNonexistentClassMember(ep(i),n))}else{const e=ZG(i),t=ep(i);fn.assert(void 0!==t,"name should be defined"),s=a.getSuggestedSymbolForNonexistentSymbol(i,t,function(e){let t=0;return 4&e&&(t|=1920),2&e&&(t|=788968),1&e&&(t|=111551),t}(e))}return void 0===s?void 0:{node:i,suggestedSymbol:s}}function qte(e,t,n,r,i){const o=Sc(r);if(!bs(o,i)&&sF(n.parent)){const i=r.valueDeclaration;i&&Nc(i)&&nN(i.name)?e.replaceNode(t,n,_w.createIdentifier(o)):e.replaceNode(t,n.parent,_w.createElementAccessExpression(n.parent.expression,_w.createStringLiteral(o)))}else e.replaceNode(t,n,_w.createIdentifier(o))}Z7({errorCodes:Jte,getCodeActions(e){const{sourceFile:t,errorCode:n}=e,r=zte(t,e.span.start,e,n);if(!r)return;const{node:i,suggestedSymbol:o}=r,a=Sk(e.host.getCompilationSettings());return[G7("spelling",rde.ChangeTracker.with(e,e=>qte(e,t,i,o,a)),[ma.Change_spelling_to_0,Sc(o)],Bte,ma.Fix_all_detected_spelling_errors)]},fixIds:[Bte],getAllCodeActions:e=>i5(e,Jte,(t,n)=>{const r=zte(n.file,n.start,e,n.code),i=Sk(e.host.getCompilationSettings());r&&qte(t,e.sourceFile,r.node,r.suggestedSymbol,i)})});var Vte="returnValueCorrect",Ute="fixAddReturnStatement",Wte="fixRemoveBracesFromArrowFunctionBody",$te="fixWrapTheBlockWithParen",Hte=[ma.A_function_whose_declared_type_is_neither_undefined_void_nor_any_must_return_a_value.code,ma.Type_0_is_not_assignable_to_type_1.code,ma.Argument_of_type_0_is_not_assignable_to_parameter_of_type_1.code];function Kte(e,t,n){const r=e.createSymbol(4,t.escapedText);r.links.type=e.getTypeAtLocation(n);const i=Yu([r]);return e.createAnonymousType(void 0,i,[],[],[])}function Gte(e,t,n,r){if(!t.body||!BF(t.body)||1!==p(t.body.statements))return;const i=ve(t.body.statements);if(qF(i)&&Xte(e,t,e.getTypeAtLocation(i.expression),n,r))return{declaration:t,kind:0,expression:i.expression,statement:i,commentSource:i.expression};if(eE(i)&&qF(i.statement)){const o=_w.createObjectLiteralExpression([_w.createPropertyAssignment(i.label,i.statement.expression)]);if(Xte(e,t,Kte(e,i.label,i.statement.expression),n,r))return mF(t)?{declaration:t,kind:1,expression:o,statement:i,commentSource:i.statement.expression}:{declaration:t,kind:0,expression:o,statement:i,commentSource:i.statement.expression}}else if(BF(i)&&1===p(i.statements)){const o=ve(i.statements);if(eE(o)&&qF(o.statement)){const a=_w.createObjectLiteralExpression([_w.createPropertyAssignment(o.label,o.statement.expression)]);if(Xte(e,t,Kte(e,o.label,o.statement.expression),n,r))return{declaration:t,kind:0,expression:a,statement:i,commentSource:o}}}}function Xte(e,t,n,r,i){if(i){const r=e.getSignatureFromDeclaration(t);if(r){Av(t,1024)&&(n=e.createPromiseType(n));const i=e.createSignature(t,r.typeParameters,r.thisParameter,r.parameters,n,void 0,r.minArgumentCount,r.flags);n=e.createAnonymousType(void 0,Yu(),[i],[],[])}else n=e.getAnyType()}return e.isTypeAssignableTo(n,r)}function Qte(e,t,n,r){const i=tQ(t,n);if(!i.parent)return;const o=gc(i.parent,__);switch(r){case ma.A_function_whose_declared_type_is_neither_undefined_void_nor_any_must_return_a_value.code:if(!(o&&o.body&&o.type&&tx(o.type,i)))return;return Gte(e,o,e.getTypeFromTypeNode(o.type),!1);case ma.Argument_of_type_0_is_not_assignable_to_parameter_of_type_1.code:if(!o||!lF(o.parent)||!o.body)return;const t=o.parent.arguments.indexOf(o);if(-1===t)return;const n=e.getContextualTypeForArgumentAtIndex(o.parent,t);if(!n)return;return Gte(e,o,n,!0);case ma.Type_0_is_not_assignable_to_type_1.code:if(!ph(i)||!jf(i.parent)&&!VE(i.parent))return;const r=function(e){switch(e.kind){case 260:case 169:case 208:case 172:case 303:return e.initializer;case 291:return e.initializer&&($E(e.initializer)?e.initializer.expression:void 0);case 304:case 171:case 306:case 348:case 341:return}}(i.parent);if(!r||!__(r)||!r.body)return;return Gte(e,r,e.getTypeAtLocation(i.parent),!0)}}function Zte(e,t,n,r){_Y(n);const i=MY(t);e.replaceNode(t,r,_w.createReturnStatement(n),{leadingTriviaOption:rde.LeadingTriviaOption.Exclude,trailingTriviaOption:rde.TrailingTriviaOption.Exclude,suffix:i?";":void 0})}function Yte(e,t,n,r,i,o){const a=SY(r)?_w.createParenthesizedExpression(r):r;_Y(i),pY(i,a),e.replaceNode(t,n.body,a)}function ene(e,t,n,r){e.replaceNode(t,n.body,_w.createParenthesizedExpression(r))}function tne(e,t,n){const r=rde.ChangeTracker.with(e,r=>Zte(r,e.sourceFile,t,n));return G7(Vte,r,ma.Add_a_return_statement,Ute,ma.Add_all_missing_return_statement)}function nne(e,t,n){const r=rde.ChangeTracker.with(e,r=>ene(r,e.sourceFile,t,n));return G7(Vte,r,ma.Wrap_the_following_body_with_parentheses_which_should_be_an_object_literal,$te,ma.Wrap_all_object_literal_with_parentheses)}Z7({errorCodes:Hte,fixIds:[Ute,Wte,$te],getCodeActions:function(e){const{program:t,sourceFile:n,span:{start:r},errorCode:i}=e,o=Qte(t.getTypeChecker(),n,r,i);if(o)return 0===o.kind?se([tne(e,o.expression,o.statement)],mF(o.declaration)?function(e,t,n,r){const i=rde.ChangeTracker.with(e,i=>Yte(i,e.sourceFile,t,n,r));return G7(Vte,i,ma.Remove_braces_from_arrow_function_body,Wte,ma.Remove_braces_from_all_arrow_function_bodies_with_relevant_issues)}(e,o.declaration,o.expression,o.commentSource):void 0):[nne(e,o.declaration,o.expression)]},getAllCodeActions:e=>i5(e,Hte,(t,n)=>{const r=Qte(e.program.getTypeChecker(),n.file,n.start,n.code);if(r)switch(e.fixId){case Ute:Zte(t,n.file,r.expression,r.statement);break;case Wte:if(!mF(r.declaration))return;Yte(t,n.file,r.declaration,r.expression,r.commentSource);break;case $te:if(!mF(r.declaration))return;ene(t,n.file,r.declaration,r.expression);break;default:fn.fail(JSON.stringify(e.fixId))}})});var rne="fixMissingMember",ine="fixMissingProperties",one="fixMissingAttributes",ane="fixMissingFunctionDeclaration",sne=[ma.Property_0_does_not_exist_on_type_1.code,ma.Property_0_does_not_exist_on_type_1_Did_you_mean_2.code,ma.Property_0_is_missing_in_type_1_but_required_in_type_2.code,ma.Type_0_is_missing_the_following_properties_from_type_1_Colon_2.code,ma.Type_0_is_missing_the_following_properties_from_type_1_Colon_2_and_3_more.code,ma.Argument_of_type_0_is_not_assignable_to_parameter_of_type_1.code,ma.Cannot_find_name_0.code,ma.Type_0_does_not_satisfy_the_expected_type_1.code];function cne(e,t,n,r,i){var o,a;const s=tQ(e,t),c=s.parent;if(n===ma.Argument_of_type_0_is_not_assignable_to_parameter_of_type_1.code){if(19!==s.kind||!aF(c)||!lF(c.parent))return;const e=T(c.parent.arguments,e=>e===c);if(e<0)return;const t=r.getResolvedSignature(c.parent);if(!(t&&t.declaration&&t.parameters[e]))return;const n=t.parameters[e].valueDeclaration;if(!(n&&vN(n)&&tN(n.name)))return;const i=Re(r.getUnmatchedProperties(r.getTypeAtLocation(c),r.getParameterType(t,e).getNonNullableType(),!1,!1));if(!p(i))return;return{kind:3,token:n.name,identifier:n.name.text,properties:i,parentDeclaration:c}}if(19===s.kind||PF(c)||QF(c)){const e=(PF(c)||QF(c))&&c.expression?c.expression:c;if(aF(e)){const t=PF(c)?r.getTypeFromTypeNode(c.type):r.getContextualType(e)||r.getTypeAtLocation(e),n=Re(r.getUnmatchedProperties(r.getTypeAtLocation(c),t.getNonNullableType(),!1,!1));if(!p(n))return;return{kind:3,token:c,identifier:void 0,properties:n,parentDeclaration:e,indentation:QF(e.parent)||CF(e.parent)?0:void 0}}}if(!hl(s))return;if(tN(s)&&Lu(c)&&c.initializer&&aF(c.initializer)){const e=null==(o=r.getContextualType(s)||r.getTypeAtLocation(s))?void 0:o.getNonNullableType(),t=Re(r.getUnmatchedProperties(r.getTypeAtLocation(c.initializer),e,!1,!1));if(!p(t))return;return{kind:3,token:s,identifier:s.text,properties:t,parentDeclaration:c.initializer}}if(tN(s)&&Cu(s.parent)){const e=function(e,t,n){const r=e.getContextualType(n.attributes);if(void 0===r)return u;const i=r.getProperties();if(!p(i))return u;const o=new Set;for(const a of n.attributes.properties)if(VE(a)&&o.add(aC(a.name)),WE(a)){const t=e.getTypeAtLocation(a.expression);for(const e of t.getProperties())o.add(e.escapedName)}return F(i,e=>bs(e.name,t,1)&&!(16777216&e.flags||48&cx(e)||o.has(e.escapedName)))}(r,Sk(i.getCompilerOptions()),s.parent);if(!p(e))return;return{kind:4,token:s,attributes:e,parentDeclaration:s.parent}}if(tN(s)){const t=null==(a=r.getContextualType(s))?void 0:a.getNonNullableType();if(t&&16&xx(t)){const n=he(r.getSignaturesOfType(t,0));if(void 0===n)return;return{kind:5,token:s,signature:n,sourceFile:e,parentDeclaration:xne(s)}}if(lF(c)&&c.expression===s)return{kind:2,token:s,call:c,sourceFile:e,modifierFlags:0,parentDeclaration:xne(s)}}if(!sF(c))return;const l=QQ(r.getTypeAtLocation(c.expression)),_=l.symbol;if(!_||!_.declarations)return;if(tN(s)&&lF(c.parent)){const t=k(_.declarations,uE),n=null==t?void 0:t.getSourceFile();if(t&&n&&!g0(i,n))return{kind:2,token:s,call:c.parent,sourceFile:n,modifierFlags:32,parentDeclaration:t};const r=k(_.declarations,nP);if(e.commonJsModuleIndicator)return;if(r&&!g0(i,r))return{kind:2,token:s,call:c.parent,sourceFile:r,modifierFlags:32,parentDeclaration:r}}const d=k(_.declarations,g_);if(!d&&nN(s))return;const f=d||k(_.declarations,e=>cE(e)||RN(e));if(f&&!g0(i,f.getSourceFile())){const e=!RN(f)&&(l.target||l)!==r.getDeclaredTypeOfSymbol(_);if(e&&(nN(s)||cE(f)))return;const t=f.getSourceFile(),n=RN(f)?0:(e?256:0)|(l0(s.text)?2:0),i=Im(t);return{kind:0,token:s,call:it(c.parent,lF),modifierFlags:n,parentDeclaration:f,declSourceFile:t,isJSFile:i}}const m=k(_.declarations,_E);return!m||1056&l.flags||nN(s)||g0(i,m.getSourceFile())?void 0:{kind:1,token:s,parentDeclaration:m}}function lne(e,t,n,r,i){const o=r.text;if(i){if(231===n.kind)return;const r=n.name.getText(),i=_ne(_w.createIdentifier(r),o);e.insertNodeAfter(t,n,i)}else if(nN(r)){const r=_w.createPropertyDeclaration(void 0,o,void 0,void 0,void 0),i=pne(n);i?e.insertNodeAfter(t,i,r):e.insertMemberAtStart(t,n,r)}else{const r=cv(n);if(!r)return;const i=_ne(_w.createThis(),o);e.insertNodeAtConstructorEnd(t,r,i)}}function _ne(e,t){return _w.createExpressionStatement(_w.createAssignment(_w.createPropertyAccessExpression(e,t),bne()))}function une(e,t,n){let r;if(226===n.parent.parent.kind){const i=n.parent.parent,o=n.parent===i.left?i.right:i.left,a=e.getWidenedType(e.getBaseTypeOfLiteralType(e.getTypeAtLocation(o)));r=e.typeToTypeNode(a,t,1,8)}else{const t=e.getContextualType(n.parent);r=t?e.typeToTypeNode(t,void 0,1,8):void 0}return r||_w.createKeywordTypeNode(133)}function dne(e,t,n,r,i,o){const a=o?_w.createNodeArray(_w.createModifiersFromModifierFlags(o)):void 0,s=g_(n)?_w.createPropertyDeclaration(a,r,void 0,i,void 0):_w.createPropertySignature(void 0,r,void 0,i),c=pne(n);c?e.insertNodeAfter(t,c,s):e.insertMemberAtStart(t,n,s)}function pne(e){let t;for(const n of e.members){if(!kN(n))break;t=n}return t}function fne(e,t,n,r,i,o,a){const s=Fee(a,e.program,e.preferences,e.host),c=roe(g_(o)?174:173,e,s,n,r,i,o),l=function(e,t){if(RN(e))return;const n=gc(t,e=>TN(e)||wN(e));return n&&n.parent===e?n:void 0}(o,n);l?t.insertNodeAfter(a,l,c):t.insertMemberAtStart(a,o,c),s.writeFixes(t)}function mne(e,t,{token:n,parentDeclaration:r}){const i=K(r.members,e=>{const n=t.getTypeAtLocation(e);return!!(n&&402653316&n.flags)}),o=r.getSourceFile(),a=_w.createEnumMember(n,i?_w.createStringLiteral(n.text):void 0),s=xe(r.members);s?e.insertNodeInListAfter(o,s,a,r.members):e.insertMemberAtStart(o,r,a)}function gne(e,t,n){const r=lZ(t.sourceFile,t.preferences),i=Fee(t.sourceFile,t.program,t.preferences,t.host),o=2===n.kind?roe(262,t,i,n.call,xc(n.token),n.modifierFlags,n.parentDeclaration):noe(262,t,r,n.signature,foe(ma.Function_not_implemented.message,r),n.token,void 0,void 0,void 0,i);void 0===o&&fn.fail("fixMissingFunctionDeclaration codefix got unexpected error."),QF(n.parentDeclaration)?e.insertNodeBefore(n.sourceFile,n.parentDeclaration,o,!0):e.insertNodeAtEndOfScope(n.sourceFile,n.parentDeclaration,o),i.writeFixes(e)}function hne(e,t,n){const r=Fee(t.sourceFile,t.program,t.preferences,t.host),i=lZ(t.sourceFile,t.preferences),o=t.program.getTypeChecker(),a=n.parentDeclaration.attributes,s=K(a.properties,WE),c=A(n.attributes,e=>{const a=vne(t,o,r,i,o.getTypeOfSymbol(e),n.parentDeclaration),s=_w.createIdentifier(e.name),c=_w.createJsxAttribute(s,_w.createJsxExpression(void 0,a));return IT(s,c),c}),l=_w.createJsxAttributes(s?[...c,...a.properties]:[...a.properties,...c]),_={prefix:a.pos===a.end?" ":void 0};e.replaceNode(t.sourceFile,a,l,_),r.writeFixes(e)}function yne(e,t,n){const r=Fee(t.sourceFile,t.program,t.preferences,t.host),i=lZ(t.sourceFile,t.preferences),o=Sk(t.program.getCompilerOptions()),a=t.program.getTypeChecker(),s=A(n.properties,e=>{const s=vne(t,a,r,i,a.getTypeOfSymbol(e),n.parentDeclaration);return _w.createPropertyAssignment(function(e,t,n,r){if(ed(e)){const t=r.symbolToNode(e,111551,void 0,void 0,1);if(t&&hN(t))return t}return $T(e.name,t,0===n,!1,!1)}(e,o,i,a),s)}),c={leadingTriviaOption:rde.LeadingTriviaOption.Exclude,trailingTriviaOption:rde.TrailingTriviaOption.Exclude,indentation:n.indentation};e.replaceNode(t.sourceFile,n.parentDeclaration,_w.createObjectLiteralExpression([...n.parentDeclaration.properties,...s],!0),c),r.writeFixes(e)}function vne(e,t,n,r,i,o){if(3&i.flags)return bne();if(134217732&i.flags)return _w.createStringLiteral("",0===r);if(8&i.flags)return _w.createNumericLiteral(0);if(64&i.flags)return _w.createBigIntLiteral("0n");if(16&i.flags)return _w.createFalse();if(1056&i.flags){const e=i.symbol.exports?ye(i.symbol.exports.values()):i.symbol,n=i.symbol.parent&&256&i.symbol.parent.flags?i.symbol.parent:i.symbol,r=t.symbolToExpression(n,111551,void 0,64);return void 0===e||void 0===r?_w.createNumericLiteral(0):_w.createPropertyAccessExpression(r,t.symbolToString(e))}if(256&i.flags)return _w.createNumericLiteral(i.value);if(2048&i.flags)return _w.createBigIntLiteral(i.value);if(128&i.flags)return _w.createStringLiteral(i.value,0===r);if(512&i.flags)return i===t.getFalseType()||i===t.getFalseType(!0)?_w.createFalse():_w.createTrue();if(65536&i.flags)return _w.createNull();if(1048576&i.flags){const a=g(i.types,i=>vne(e,t,n,r,i,o));return null!=a?a:bne()}if(t.isArrayLikeType(i))return _w.createArrayLiteralExpression();if(function(e){return 524288&e.flags&&(128&xx(e)||e.symbol&&it(Se(e.symbol.declarations),RN))}(i)){const a=A(t.getPropertiesOfType(i),i=>{const a=vne(e,t,n,r,t.getTypeOfSymbol(i),o);return _w.createPropertyAssignment(i.name,a)});return _w.createObjectLiteralExpression(a,!0)}if(16&xx(i)){if(void 0===k(i.symbol.declarations||u,rn(ON,SN,TN)))return bne();const a=t.getSignaturesOfType(i,0);if(void 0===a)return bne();const s=noe(218,e,r,a[0],foe(ma.Function_not_implemented.message,r),void 0,void 0,void 0,o,n);return null!=s?s:bne()}if(1&xx(i)){const e=bx(i.symbol);if(void 0===e||jv(e))return bne();const t=cv(e);return t&&p(t.parameters)?bne():_w.createNewExpression(_w.createIdentifier(i.symbol.name),void 0,void 0)}return bne()}function bne(){return _w.createIdentifier("undefined")}function xne(e){if(gc(e,$E)){const t=gc(e.parent,QF);if(t)return t}return Sd(e)}Z7({errorCodes:sne,getCodeActions(e){const t=e.program.getTypeChecker(),n=cne(e.sourceFile,e.span.start,e.errorCode,t,e.program);if(n){if(3===n.kind){const t=rde.ChangeTracker.with(e,t=>yne(t,e,n));return[G7(ine,t,ma.Add_missing_properties,ine,ma.Add_all_missing_properties)]}if(4===n.kind){const t=rde.ChangeTracker.with(e,t=>hne(t,e,n));return[G7(one,t,ma.Add_missing_attributes,one,ma.Add_all_missing_attributes)]}if(2===n.kind||5===n.kind){const t=rde.ChangeTracker.with(e,t=>gne(t,e,n));return[G7(ane,t,[ma.Add_missing_function_declaration_0,n.token.text],ane,ma.Add_all_missing_function_declarations)]}if(1===n.kind){const t=rde.ChangeTracker.with(e,t=>mne(t,e.program.getTypeChecker(),n));return[G7(rne,t,[ma.Add_missing_enum_member_0,n.token.text],rne,ma.Add_all_missing_members)]}return X(function(e,t){const{parentDeclaration:n,declSourceFile:r,modifierFlags:i,token:o,call:a}=t;if(void 0===a)return;const s=o.text,c=t=>rde.ChangeTracker.with(e,i=>fne(e,i,a,o,t,n,r)),l=[G7(rne,c(256&i),[256&i?ma.Declare_static_method_0:ma.Declare_method_0,s],rne,ma.Add_all_missing_members)];return 2&i&&l.unshift(K7(rne,c(2),[ma.Declare_private_method_0,s])),l}(e,n),function(e,t){return t.isJSFile?sn(function(e,{parentDeclaration:t,declSourceFile:n,modifierFlags:r,token:i}){if(cE(t)||RN(t))return;const o=rde.ChangeTracker.with(e,e=>lne(e,n,t,i,!!(256&r)));if(0===o.length)return;const a=256&r?ma.Initialize_static_property_0:nN(i)?ma.Declare_a_private_field_named_0:ma.Initialize_property_0_in_the_constructor;return G7(rne,o,[a,i.text],rne,ma.Add_all_missing_members)}(e,t)):function(e,{parentDeclaration:t,declSourceFile:n,modifierFlags:r,token:i}){const o=i.text,a=256&r,s=une(e.program.getTypeChecker(),t,i),c=r=>rde.ChangeTracker.with(e,e=>dne(e,n,t,o,s,r)),l=[G7(rne,c(256&r),[a?ma.Declare_static_property_0:ma.Declare_property_0,o],rne,ma.Add_all_missing_members)];return a||nN(i)||(2&r&&l.unshift(K7(rne,c(2),[ma.Declare_private_property_0,o])),l.push(function(e,t,n,r,i){const o=_w.createKeywordTypeNode(154),a=_w.createParameterDeclaration(void 0,void 0,"x",void 0,o,void 0),s=_w.createIndexSignature(void 0,[a],i),c=rde.ChangeTracker.with(e,e=>e.insertMemberAtStart(t,n,s));return K7(rne,c,[ma.Add_index_signature_for_property_0,r])}(e,n,t,i.text,s))),l}(e,t)}(e,n))}},fixIds:[rne,ane,ine,one],getAllCodeActions:e=>{const{program:t,fixId:n}=e,r=t.getTypeChecker(),i=new Set,o=new Map;return n5(rde.ChangeTracker.with(e,t=>{o5(e,sne,a=>{const s=cne(a.file,a.start,a.code,r,e.program);if(void 0===s)return;const c=rJ(s.parentDeclaration)+"#"+(3===s.kind?s.identifier||rJ(s.token):s.token.text);if(Cx(i,c))if(n!==ane||2!==s.kind&&5!==s.kind){if(n===ine&&3===s.kind)yne(t,e,s);else if(n===one&&4===s.kind)hne(t,e,s);else if(1===s.kind&&mne(t,r,s),0===s.kind){const{parentDeclaration:e,token:t}=s,n=V(o,e,()=>[]);n.some(e=>e.token.text===t.text)||n.push(s)}}else gne(t,e,s)}),o.forEach((n,i)=>{const a=RN(i)?void 0:Eoe(i,r);for(const s of n){if(null==a?void 0:a.some(e=>{const t=o.get(e);return!!t&&t.some(({token:e})=>e.text===s.token.text)}))continue;const{parentDeclaration:n,declSourceFile:i,modifierFlags:c,token:l,call:_,isJSFile:u}=s;if(_&&!nN(l))fne(e,t,_,l,256&c,n,i);else if(!u||cE(n)||RN(n)){const e=une(r,n,l);dne(t,i,n,l.text,e,256&c)}else lne(t,i,n,l,!!(256&c))}})}))}});var kne="addMissingNewOperator",Sne=[ma.Value_of_type_0_is_not_callable_Did_you_mean_to_include_new.code];function Tne(e,t,n){const r=ot(function(e,t){let n=tQ(e,t.start);const r=Os(t);for(;n.end<r;)n=n.parent;return n}(t,n),lF),i=_w.createNewExpression(r.expression,r.typeArguments,r.arguments);e.replaceNode(t,r,i)}Z7({errorCodes:Sne,getCodeActions(e){const{sourceFile:t,span:n}=e,r=rde.ChangeTracker.with(e,e=>Tne(e,t,n));return[G7(kne,r,ma.Add_missing_new_operator_to_call,kne,ma.Add_missing_new_operator_to_all_calls)]},fixIds:[kne],getAllCodeActions:e=>i5(e,Sne,(t,n)=>Tne(t,e.sourceFile,n))});var Cne="addMissingParam",wne="addOptionalParam",Dne=[ma.Expected_0_arguments_but_got_1.code];function Nne(e,t,n){const r=gc(tQ(e,n),lF);if(void 0===r||0===p(r.arguments))return;const i=t.getTypeChecker(),o=F(i.getTypeAtLocation(r.expression).symbol.declarations,Pne);if(void 0===o)return;const a=xe(o);if(void 0===a||void 0===a.body||g0(t,a.getSourceFile()))return;const s=function(e){const t=Ec(e);return t||(iE(e.parent)&&tN(e.parent.name)||kN(e.parent)||vN(e.parent)?e.parent.name:void 0)}(a);if(void 0===s)return;const c=[],l=[],_=p(a.parameters),u=p(r.arguments);if(_>u)return;const d=[a,...Ine(a,o)];for(let p=0,f=0,m=0;p<u;p++){const e=r.arguments[p],t=Nx(e)?Fx(e):e,n=i.getWidenedType(i.getBaseTypeOfLiteralType(i.getTypeAtLocation(e))),o=f<_?a.parameters[f]:void 0;if(o&&i.isTypeAssignableTo(n,i.getTypeAtLocation(o))){f++;continue}const s=t&&tN(t)?t.text:"p"+m++,u=Fne(i,n,a);se(c,{pos:p,declaration:Lne(s,u,void 0)}),jne(d,f)||se(l,{pos:p,declaration:Lne(s,u,_w.createToken(58))})}return{newParameters:c,newOptionalParameters:l,name:jp(s),declarations:d}}function Fne(e,t,n){var r;return null!=(r=e.typeToTypeNode(e.getWidenedType(t),n,1,8))?r:_w.createKeywordTypeNode(159)}function Ene(e,t,n,r,i,o){const a=Sk(t.getCompilerOptions());f(i,i=>{const s=Sd(i),c=Fee(s,t,n,r);p(i.parameters)?e.replaceNodeRangeWithNodes(s,ve(i.parameters),ke(i.parameters),Ane(c,a,i,o),{joiner:", ",indentation:0,leadingTriviaOption:rde.LeadingTriviaOption.IncludeAll,trailingTriviaOption:rde.TrailingTriviaOption.Include}):f(Ane(c,a,i,o),(t,n)=>{0===p(i.parameters)&&0===n?e.insertNodeAt(s,i.parameters.end,t):e.insertNodeAtEndOfList(s,i.parameters,t)}),c.writeFixes(e)})}function Pne(e){switch(e.kind){case 262:case 218:case 174:case 219:return!0;default:return!1}}function Ane(e,t,n,r){const i=A(n.parameters,e=>_w.createParameterDeclaration(e.modifiers,e.dotDotDotToken,e.name,e.questionToken,e.type,e.initializer));for(const{pos:o,declaration:a}of r){const n=o>0?i[o-1]:void 0;i.splice(o,0,_w.updateParameterDeclaration(a,a.modifiers,a.dotDotDotToken,a.name,n&&n.questionToken?_w.createToken(58):a.questionToken,Rne(e,a.type,t),a.initializer))}return i}function Ine(e,t){const n=[];for(const r of t)if(One(r)){if(p(r.parameters)===p(e.parameters)){n.push(r);continue}if(p(r.parameters)>p(e.parameters))return[]}return n}function One(e){return Pne(e)&&void 0===e.body}function Lne(e,t,n){return _w.createParameterDeclaration(void 0,void 0,e,n,t,void 0)}function jne(e,t){return p(e)&&K(e,e=>t<p(e.parameters)&&!!e.parameters[t]&&void 0===e.parameters[t].questionToken)}function Rne(e,t,n){const r=voe(t,n);return r?(xoe(e,r.symbols),r.typeNode):t}Z7({errorCodes:Dne,fixIds:[Cne,wne],getCodeActions(e){const t=Nne(e.sourceFile,e.program,e.span.start);if(void 0===t)return;const{name:n,declarations:r,newParameters:i,newOptionalParameters:o}=t,a=[];return p(i)&&se(a,G7(Cne,rde.ChangeTracker.with(e,t=>Ene(t,e.program,e.preferences,e.host,r,i)),[p(i)>1?ma.Add_missing_parameters_to_0:ma.Add_missing_parameter_to_0,n],Cne,ma.Add_all_missing_parameters)),p(o)&&se(a,G7(wne,rde.ChangeTracker.with(e,t=>Ene(t,e.program,e.preferences,e.host,r,o)),[p(o)>1?ma.Add_optional_parameters_to_0:ma.Add_optional_parameter_to_0,n],wne,ma.Add_all_optional_parameters)),a},getAllCodeActions:e=>i5(e,Dne,(t,n)=>{const r=Nne(e.sourceFile,e.program,n.start);if(r){const{declarations:n,newParameters:i,newOptionalParameters:o}=r;e.fixId===Cne&&Ene(t,e.program,e.preferences,e.host,n,i),e.fixId===wne&&Ene(t,e.program,e.preferences,e.host,n,o)}})});var Mne="installTypesPackage",Bne=ma.Cannot_find_module_0_or_its_corresponding_type_declarations.code,Jne=ma.This_JSX_tag_requires_the_module_path_0_to_exist_but_none_could_be_found_Make_sure_you_have_types_for_the_appropriate_package_installed.code,zne=[Bne,ma.Could_not_find_a_declaration_file_for_module_0_1_implicitly_has_an_any_type.code,Jne];function qne(e,t){return{type:"install package",file:e,packageName:t}}function Vne(e,t){const n=it(tQ(e,t),MD);if(!n)return;const r=n.text,{packageName:i}=vM(r);return Es(i)?void 0:i}function Une(e,t,n){var r;return n===Bne?AC.has(e)?"@types/node":void 0:(null==(r=t.isKnownTypesPackageName)?void 0:r.call(t,e))?OM(e):void 0}Z7({errorCodes:zne,getCodeActions:function(e){const{host:t,sourceFile:n,span:{start:r},errorCode:i}=e,o=i===Jne?Yk(e.program.getCompilerOptions(),n):Vne(n,r);if(void 0===o)return;const a=Une(o,t,i);return void 0===a?[]:[G7("fixCannotFindModule",[],[ma.Install_0,a],Mne,ma.Install_all_missing_types_packages,qne(n.fileName,a))]},fixIds:[Mne],getAllCodeActions:e=>i5(e,zne,(t,n,r)=>{const i=Vne(n.file,n.start);if(void 0!==i)switch(e.fixId){case Mne:{const t=Une(i,e.host,n.code);t&&r.push(qne(n.file.fileName,t));break}default:fn.fail(`Bad fixId: ${e.fixId}`)}})});var Wne=[ma.Non_abstract_class_0_does_not_implement_inherited_abstract_member_1_from_class_2.code,ma.Non_abstract_class_0_is_missing_implementations_for_the_following_members_of_1_Colon_2.code,ma.Non_abstract_class_0_is_missing_implementations_for_the_following_members_of_1_Colon_2_and_3_more.code,ma.Non_abstract_class_expression_does_not_implement_inherited_abstract_member_0_from_class_1.code,ma.Non_abstract_class_expression_is_missing_implementations_for_the_following_members_of_0_Colon_1.code,ma.Non_abstract_class_expression_is_missing_implementations_for_the_following_members_of_0_Colon_1_and_2_more.code],$ne="fixClassDoesntImplementInheritedAbstractMember";function Hne(e,t){return ot(tQ(e,t).parent,g_)}function Kne(e,t,n,r,i){const o=kh(e),a=n.program.getTypeChecker(),s=a.getTypeAtLocation(o),c=a.getPropertiesOfType(s).filter(Gne),l=Fee(t,n.program,i,n.host);Zie(e,c,t,n,i,l,n=>r.insertMemberAtStart(t,e,n)),l.writeFixes(r)}function Gne(e){const t=$v(ve(e.getDeclarations()));return!(2&t||!(64&t))}Z7({errorCodes:Wne,getCodeActions:function(e){const{sourceFile:t,span:n}=e,r=rde.ChangeTracker.with(e,r=>Kne(Hne(t,n.start),t,e,r,e.preferences));return 0===r.length?void 0:[G7($ne,r,ma.Implement_inherited_abstract_class,$ne,ma.Implement_all_inherited_abstract_classes)]},fixIds:[$ne],getAllCodeActions:function(e){const t=new Set;return i5(e,Wne,(n,r)=>{const i=Hne(r.file,r.start);Cx(t,rJ(i))&&Kne(i,e.sourceFile,e,n,e.preferences)})}});var Xne="classSuperMustPrecedeThisAccess",Qne=[ma.super_must_be_called_before_accessing_this_in_the_constructor_of_a_derived_class.code];function Zne(e,t,n,r){e.insertNodeAtConstructorStart(t,n,r),e.delete(t,r)}function Yne(e,t){const n=tQ(e,t);if(110!==n.kind)return;const r=Zf(n),i=ere(r.body);return i&&!i.expression.arguments.some(e=>sF(e)&&e.expression===n)?{constructor:r,superCall:i}:void 0}function ere(e){return qF(e)&&pf(e.expression)?e:c_(e)?void 0:KI(e,ere)}Z7({errorCodes:Qne,getCodeActions(e){const{sourceFile:t,span:n}=e,r=Yne(t,n.start);if(!r)return;const{constructor:i,superCall:o}=r,a=rde.ChangeTracker.with(e,e=>Zne(e,t,i,o));return[G7(Xne,a,ma.Make_super_call_the_first_statement_in_the_constructor,Xne,ma.Make_all_super_calls_the_first_statement_in_their_constructor)]},fixIds:[Xne],getAllCodeActions(e){const{sourceFile:t}=e,n=new Set;return i5(e,Qne,(e,r)=>{const i=Yne(r.file,r.start);if(!i)return;const{constructor:o,superCall:a}=i;Cx(n,rJ(o.parent))&&Zne(e,t,o,a)})}});var tre="constructorForDerivedNeedSuperCall",nre=[ma.Constructors_for_derived_classes_must_contain_a_super_call.code];function rre(e,t){const n=tQ(e,t);return fn.assert(wN(n.parent),"token should be at the constructor declaration"),n.parent}function ire(e,t,n){const r=_w.createExpressionStatement(_w.createCallExpression(_w.createSuper(),void 0,u));e.insertNodeAtConstructorStart(t,n,r)}Z7({errorCodes:nre,getCodeActions(e){const{sourceFile:t,span:n}=e,r=rre(t,n.start),i=rde.ChangeTracker.with(e,e=>ire(e,t,r));return[G7(tre,i,ma.Add_missing_super_call,tre,ma.Add_all_missing_super_calls)]},fixIds:[tre],getAllCodeActions:e=>i5(e,nre,(t,n)=>ire(t,e.sourceFile,rre(n.file,n.start)))});var ore="fixEnableJsxFlag",are=[ma.Cannot_use_JSX_unless_the_jsx_flag_is_provided.code];function sre(e,t){goe(e,t,"jsx",_w.createStringLiteral("react"))}Z7({errorCodes:are,getCodeActions:function(e){const{configFile:t}=e.program.getCompilerOptions();if(void 0===t)return;const n=rde.ChangeTracker.with(e,e=>sre(e,t));return[K7(ore,n,ma.Enable_the_jsx_flag_in_your_configuration_file)]},fixIds:[ore],getAllCodeActions:e=>i5(e,are,t=>{const{configFile:n}=e.program.getCompilerOptions();void 0!==n&&sre(t,n)})});var cre="fixNaNEquality",lre=[ma.This_condition_will_always_return_0.code];function _re(e,t,n){const r=k(e.getSemanticDiagnostics(t),e=>e.start===n.start&&e.length===n.length);if(void 0===r||void 0===r.relatedInformation)return;const i=k(r.relatedInformation,e=>e.code===ma.Did_you_mean_0.code);if(void 0===i||void 0===i.file||void 0===i.start||void 0===i.length)return;const o=koe(i.file,Xs(i.start,i.length));return void 0!==o&&G_(o)&&kF(o.parent)?{suggestion:dre(i.messageText),expression:o.parent,arg:o}:void 0}function ure(e,t,n,r){const i=_w.createCallExpression(_w.createPropertyAccessExpression(_w.createIdentifier("Number"),_w.createIdentifier("isNaN")),void 0,[n]),o=r.operatorToken.kind;e.replaceNode(t,r,38===o||36===o?_w.createPrefixUnaryExpression(54,i):i)}function dre(e){const[,t]=uU(e,"\n",0).match(/'(.*)'/)||[];return t}Z7({errorCodes:lre,getCodeActions(e){const{sourceFile:t,span:n,program:r}=e,i=_re(r,t,n);if(void 0===i)return;const{suggestion:o,expression:a,arg:s}=i,c=rde.ChangeTracker.with(e,e=>ure(e,t,s,a));return[G7(cre,c,[ma.Use_0,o],cre,ma.Use_Number_isNaN_in_all_conditions)]},fixIds:[cre],getAllCodeActions:e=>i5(e,lre,(t,n)=>{const r=_re(e.program,n.file,Xs(n.start,n.length));r&&ure(t,n.file,r.arg,r.expression)})}),Z7({errorCodes:[ma.Top_level_await_expressions_are_only_allowed_when_the_module_option_is_set_to_es2022_esnext_system_node16_node18_nodenext_or_preserve_and_the_target_option_is_set_to_es2017_or_higher.code,ma.Top_level_await_using_statements_are_only_allowed_when_the_module_option_is_set_to_es2022_esnext_system_node16_node18_nodenext_or_preserve_and_the_target_option_is_set_to_es2017_or_higher.code,ma.Top_level_for_await_loops_are_only_allowed_when_the_module_option_is_set_to_es2022_esnext_system_node16_node18_nodenext_or_preserve_and_the_target_option_is_set_to_es2017_or_higher.code],getCodeActions:function(e){const t=e.program.getCompilerOptions(),{configFile:n}=t;if(void 0===n)return;const r=[],i=Tk(t);if(i>=5&&i<99){const t=rde.ChangeTracker.with(e,e=>{goe(e,n,"module",_w.createStringLiteral("esnext"))});r.push(K7("fixModuleOption",t,[ma.Set_the_module_option_in_your_configuration_file_to_0,"esnext"]))}const o=Sk(t);if(o<4||o>99){const t=rde.ChangeTracker.with(e,e=>{if(!Gf(n))return;const t=[["target",_w.createStringLiteral("es2017")]];1===i&&t.push(["module",_w.createStringLiteral("commonjs")]),moe(e,n,t)});r.push(K7("fixTargetOption",t,[ma.Set_the_target_option_in_your_configuration_file_to_0,"es2017"]))}return r.length?r:void 0}});var pre="fixPropertyAssignment",fre=[ma.Did_you_mean_to_use_a_Colon_An_can_only_follow_a_property_name_when_the_containing_object_literal_is_part_of_a_destructuring_pattern.code];function mre(e,t,n){e.replaceNode(t,n,_w.createPropertyAssignment(n.name,n.objectAssignmentInitializer))}function gre(e,t){return ot(tQ(e,t).parent,YE)}Z7({errorCodes:fre,fixIds:[pre],getCodeActions(e){const{sourceFile:t,span:n}=e,r=gre(t,n.start),i=rde.ChangeTracker.with(e,t=>mre(t,e.sourceFile,r));return[G7(pre,i,[ma.Change_0_to_1,"=",":"],pre,[ma.Switch_each_misused_0_to_1,"=",":"])]},getAllCodeActions:e=>i5(e,fre,(e,t)=>mre(e,t.file,gre(t.file,t.start)))});var hre="extendsInterfaceBecomesImplements",yre=[ma.Cannot_extend_an_interface_0_Did_you_mean_implements.code];function vre(e,t){const n=em(tQ(e,t)).heritageClauses,r=n[0].getFirstToken();return 96===r.kind?{extendsToken:r,heritageClauses:n}:void 0}function bre(e,t,n,r){if(e.replaceNode(t,n,_w.createToken(119)),2===r.length&&96===r[0].token&&119===r[1].token){const n=r[1].getFirstToken(),i=n.getFullStart();e.replaceRange(t,{pos:i,end:i},_w.createToken(28));const o=t.text;let a=n.end;for(;a<o.length&&Ka(o.charCodeAt(a));)a++;e.deleteRange(t,{pos:n.getStart(),end:a})}}Z7({errorCodes:yre,getCodeActions(e){const{sourceFile:t}=e,n=vre(t,e.span.start);if(!n)return;const{extendsToken:r,heritageClauses:i}=n,o=rde.ChangeTracker.with(e,e=>bre(e,t,r,i));return[G7(hre,o,ma.Change_extends_to_implements,hre,ma.Change_all_extended_interfaces_to_implements)]},fixIds:[hre],getAllCodeActions:e=>i5(e,yre,(e,t)=>{const n=vre(t.file,t.start);n&&bre(e,t.file,n.extendsToken,n.heritageClauses)})});var xre="forgottenThisPropertyAccess",kre=ma.Cannot_find_name_0_Did_you_mean_the_static_member_1_0.code,Sre=[ma.Cannot_find_name_0_Did_you_mean_the_instance_member_this_0.code,ma.Private_identifiers_are_only_allowed_in_class_bodies_and_may_only_be_used_as_part_of_a_class_member_declaration_property_access_or_on_the_left_hand_side_of_an_in_expression.code,kre];function Tre(e,t,n){const r=tQ(e,t);if(tN(r)||nN(r))return{node:r,className:n===kre?em(r).name.text:void 0}}function Cre(e,t,{node:n,className:r}){_Y(n),e.replaceNode(t,n,_w.createPropertyAccessExpression(r?_w.createIdentifier(r):_w.createThis(),n))}Z7({errorCodes:Sre,getCodeActions(e){const{sourceFile:t}=e,n=Tre(t,e.span.start,e.errorCode);if(!n)return;const r=rde.ChangeTracker.with(e,e=>Cre(e,t,n));return[G7(xre,r,[ma.Add_0_to_unresolved_variable,n.className||"this"],xre,ma.Add_qualifier_to_all_unresolved_variables_matching_a_member_name)]},fixIds:[xre],getAllCodeActions:e=>i5(e,Sre,(t,n)=>{const r=Tre(n.file,n.start,n.code);r&&Cre(t,e.sourceFile,r)})});var wre="fixInvalidJsxCharacters_expression",Dre="fixInvalidJsxCharacters_htmlEntity",Nre=[ma.Unexpected_token_Did_you_mean_or_gt.code,ma.Unexpected_token_Did_you_mean_or_rbrace.code];Z7({errorCodes:Nre,fixIds:[wre,Dre],getCodeActions(e){const{sourceFile:t,preferences:n,span:r}=e,i=rde.ChangeTracker.with(e,e=>Ere(e,n,t,r.start,!1)),o=rde.ChangeTracker.with(e,e=>Ere(e,n,t,r.start,!0));return[G7(wre,i,ma.Wrap_invalid_character_in_an_expression_container,wre,ma.Wrap_all_invalid_characters_in_an_expression_container),G7(Dre,o,ma.Convert_invalid_character_to_its_html_entity_code,Dre,ma.Convert_all_invalid_characters_to_HTML_entity_code)]},getAllCodeActions:e=>i5(e,Nre,(t,n)=>Ere(t,e.preferences,n.file,n.start,e.fixId===Dre))});var Fre={">":"&gt;","}":"&rbrace;"};function Ere(e,t,n,r,i){const o=n.getText()[r];if(!function(e){return Pe(Fre,e)}(o))return;const a=i?Fre[o]:`{${CY(n,t,o)}}`;e.replaceRangeWithText(n,{pos:r,end:r+1},a)}var Pre="deleteUnmatchedParameter",Are="renameUnmatchedParameter",Ire=[ma.JSDoc_param_tag_has_name_0_but_there_is_no_parameter_with_that_name.code];function Ore(e,t){const n=tQ(e,t);if(n.parent&&OP(n.parent)&&tN(n.parent.name)){const e=n.parent,t=Kg(e),r=$g(e);if(t&&r)return{jsDocHost:t,signature:r,name:n.parent.name,jsDocParameterTag:e}}}Z7({fixIds:[Pre,Are],errorCodes:Ire,getCodeActions:function(e){const{sourceFile:t,span:n}=e,r=[],i=Ore(t,n.start);if(i)return se(r,function(e,{name:t,jsDocHost:n,jsDocParameterTag:r}){const i=rde.ChangeTracker.with(e,t=>t.filterJSDocTags(e.sourceFile,n,e=>e!==r));return G7(Pre,i,[ma.Delete_unused_param_tag_0,t.getText(e.sourceFile)],Pre,ma.Delete_all_unused_param_tags)}(e,i)),se(r,function(e,{name:t,jsDocHost:n,signature:r,jsDocParameterTag:i}){if(!p(r.parameters))return;const o=e.sourceFile,a=_l(r),s=new Set;for(const u of a)OP(u)&&tN(u.name)&&s.add(u.name.escapedText);const c=g(r.parameters,e=>tN(e.name)&&!s.has(e.name.escapedText)?e.name.getText(o):void 0);if(void 0===c)return;const l=_w.updateJSDocParameterTag(i,i.tagName,_w.createIdentifier(c),i.isBracketed,i.typeExpression,i.isNameFirst,i.comment),_=rde.ChangeTracker.with(e,e=>e.replaceJSDocComment(o,n,A(a,e=>e===i?l:e)));return K7(Are,_,[ma.Rename_param_tag_name_0_to_1,t.getText(o),c])}(e,i)),r},getAllCodeActions:function(e){const t=new Map;return n5(rde.ChangeTracker.with(e,n=>{o5(e,Ire,({file:e,start:n})=>{const r=Ore(e,n);r&&t.set(r.signature,se(t.get(r.signature),r.jsDocParameterTag))}),t.forEach((t,r)=>{if(e.fixId===Pre){const e=new Set(t);n.filterJSDocTags(r.getSourceFile(),r,t=>!e.has(t))}})}))}});var Lre="fixUnreferenceableDecoratorMetadata";Z7({errorCodes:[ma.A_type_referenced_in_a_decorated_signature_must_be_imported_with_import_type_or_a_namespace_import_when_isolatedModules_and_emitDecoratorMetadata_are_enabled.code],getCodeActions:e=>{const t=function(e,t,n){const r=it(tQ(e,n),tN);if(!r||183!==r.parent.kind)return;const i=t.getTypeChecker().getSymbolAtLocation(r);return k((null==i?void 0:i.declarations)||u,rn(hE,wE,mE))}(e.sourceFile,e.program,e.span.start);if(!t)return;const n=rde.ChangeTracker.with(e,n=>276===t.kind&&function(e,t,n,r){m6.doChangeNamedToNamespaceOrDefault(t,r,e,n.parent)}(n,e.sourceFile,t,e.program)),r=rde.ChangeTracker.with(e,n=>function(e,t,n,r){if(271===n.kind)return void e.insertModifierBefore(t,156,n.name);const i=273===n.kind?n:n.parent.parent;if(i.name&&i.namedBindings)return;const o=r.getTypeChecker();Fg(i,e=>{if(111551&_x(e.symbol,o).flags)return!0})||e.insertModifierBefore(t,156,i)}(n,e.sourceFile,t,e.program));let i;return n.length&&(i=se(i,K7(Lre,n,ma.Convert_named_imports_to_namespace_import))),r.length&&(i=se(i,K7(Lre,r,ma.Use_import_type))),i},fixIds:[Lre]});var jre="unusedIdentifier",Rre="unusedIdentifier_prefix",Mre="unusedIdentifier_delete",Bre="unusedIdentifier_deleteImports",Jre="unusedIdentifier_infer",zre=[ma._0_is_declared_but_its_value_is_never_read.code,ma._0_is_declared_but_never_used.code,ma.Property_0_is_declared_but_its_value_is_never_read.code,ma.All_imports_in_import_declaration_are_unused.code,ma.All_destructured_elements_are_unused.code,ma.All_variables_are_unused.code,ma.All_type_parameters_are_unused.code];function qre(e,t,n){e.replaceNode(t,n.parent,_w.createKeywordTypeNode(159))}function Vre(e,t){return G7(jre,e,t,Mre,ma.Delete_all_unused_declarations)}function Ure(e,t,n){e.delete(t,fn.checkDefined(ot(n.parent,wp).typeParameters,"The type parameter to delete should exist"))}function Wre(e){return 102===e.kind||80===e.kind&&(276===e.parent.kind||273===e.parent.kind)}function $re(e){return 102===e.kind?it(e.parent,gE):void 0}function Hre(e,t){return oE(t.parent)&&ve(t.parent.getChildren(e))===t}function Kre(e,t,n){e.delete(t,243===n.parent.kind?n.parent:n)}function Gre(e,t,n,r){t!==ma.Property_0_is_declared_but_its_value_is_never_read.code&&(140===r.kind&&(r=ot(r.parent,$N).typeParameter.name),tN(r)&&function(e){switch(e.parent.kind){case 169:case 168:return!0;case 260:switch(e.parent.parent.parent.kind){case 250:case 249:return!0}}return!1}(r)&&(e.replaceNode(n,r,_w.createIdentifier(`_${r.text}`)),vN(r.parent)&&Lc(r.parent).forEach(t=>{tN(t.name)&&e.replaceNode(n,t.name,_w.createIdentifier(`_${t.name.text}`))})))}function Xre(e,t,n,r,i,o,a,s){!function(e,t,n,r,i,o,a,s){const{parent:c}=e;if(vN(c))!function(e,t,n,r,i,o,a,s=!1){if(function(e,t,n,r,i,o,a){const{parent:s}=n;switch(s.kind){case 174:case 176:const c=s.parameters.indexOf(n),l=TN(s)?s.name:s,_=Mce.Core.getReferencedSymbolsForNode(s.pos,l,i,r,o);if(_)for(const e of _)for(const t of e.references)if(t.kind===Mce.EntryKind.Node){const e=pN(t.node)&&lF(t.node.parent)&&t.node.parent.arguments.length>c,r=sF(t.node.parent)&&pN(t.node.parent.expression)&&lF(t.node.parent.parent)&&t.node.parent.parent.arguments.length>c,i=(TN(t.node.parent)||SN(t.node.parent))&&t.node.parent!==n.parent&&t.node.parent.parameters.length>c;if(e||r||i)return!1}return!0;case 262:return!s.name||!function(e,t,n){return!!Mce.Core.eachSymbolReferenceInFile(n,e,t,e=>tN(e)&&lF(e.parent)&&e.parent.arguments.includes(e))}(e,t,s.name)||Zre(s,n,a);case 218:case 219:return Zre(s,n,a);case 178:return!1;case 177:return!0;default:return fn.failBadSyntaxKind(s)}}(r,t,n,i,o,a,s))if(n.modifiers&&n.modifiers.length>0&&(!tN(n.name)||Mce.Core.isSymbolReferencedInFile(n.name,r,t)))for(const c of n.modifiers)i_(c)&&e.deleteModifier(t,c);else!n.initializer&&Qre(n,r,i)&&e.delete(t,n)}(t,n,c,r,i,o,a,s);else if(!(s&&tN(e)&&Mce.Core.isSymbolReferencedInFile(e,r,n))){const r=hE(c)?e:hN(c)?c.parent:c;fn.assert(r!==n,"should not delete whole source file"),t.delete(n,r)}}(t,n,e,r,i,o,a,s),tN(t)&&Mce.Core.eachSymbolReferenceInFile(t,r,e,t=>{var r;sF(t.parent)&&t.parent.name===t&&(t=t.parent),!s&&(kF((r=t).parent)&&r.parent.left===r||(xF(r.parent)||bF(r.parent))&&r.parent.operand===r)&&qF(r.parent.parent)&&n.delete(e,t.parent.parent)})}function Qre(e,t,n){const r=e.parent.parameters.indexOf(e);return!Mce.Core.someSignatureUsage(e.parent,n,t,(e,t)=>!t||t.arguments.length>r)}function Zre(e,t,n){const r=e.parameters,i=r.indexOf(t);return fn.assert(-1!==i,"The parameter should already be in the list"),n?r.slice(i+1).every(e=>tN(e.name)&&!e.symbol.isReferenced):i===r.length-1}function Yre(e,t,n){const r=n.symbol.declarations;if(r)for(const i of r)e.delete(t,i)}Z7({errorCodes:zre,getCodeActions(e){const{errorCode:t,sourceFile:n,program:r,cancellationToken:i}=e,o=r.getTypeChecker(),a=r.getSourceFiles(),s=tQ(n,e.span.start);if(MP(s))return[Vre(rde.ChangeTracker.with(e,e=>e.delete(n,s)),ma.Remove_template_tag)];if(30===s.kind)return[Vre(rde.ChangeTracker.with(e,e=>Ure(e,n,s)),ma.Remove_type_parameters)];const c=$re(s);if(c){const t=rde.ChangeTracker.with(e,e=>e.delete(n,c));return[G7(jre,t,[ma.Remove_import_from_0,Sx(c)],Bre,ma.Delete_all_unused_imports)]}if(Wre(s)){const t=rde.ChangeTracker.with(e,e=>Xre(n,s,e,o,a,r,i,!1));if(t.length)return[G7(jre,t,[ma.Remove_unused_declaration_for_Colon_0,s.getText(n)],Bre,ma.Delete_all_unused_imports)]}if(nF(s.parent)||rF(s.parent)){if(vN(s.parent.parent)){const t=s.parent.elements,r=[t.length>1?ma.Remove_unused_declarations_for_Colon_0:ma.Remove_unused_declaration_for_Colon_0,A(t,e=>e.getText(n)).join(", ")];return[Vre(rde.ChangeTracker.with(e,e=>function(e,t,n){f(n.elements,n=>e.delete(t,n))}(e,n,s.parent)),r)]}return[Vre(rde.ChangeTracker.with(e,t=>function(e,t,n,{parent:r}){if(iE(r)&&r.initializer&&J_(r.initializer))if(oE(r.parent)&&p(r.parent.declarations)>1){const i=r.parent.parent,o=i.getStart(n),a=i.end;t.delete(n,r),t.insertNodeAt(n,a,r.initializer,{prefix:$Z(e.host,e.formatContext.options)+n.text.slice(iY(n.text,o-1),o),suffix:MY(n)?";":""})}else t.replaceNode(n,r.parent,r.initializer);else t.delete(n,r)}(e,t,n,s.parent)),ma.Remove_unused_destructuring_declaration)]}if(Hre(n,s))return[Vre(rde.ChangeTracker.with(e,e=>Kre(e,n,s.parent)),ma.Remove_variable_statement)];if(tN(s)&&aE(s.parent))return[Vre(rde.ChangeTracker.with(e,e=>Yre(e,n,s.parent)),[ma.Remove_unused_declaration_for_Colon_0,s.getText(n)])];const l=[];if(140===s.kind){const t=rde.ChangeTracker.with(e,e=>qre(e,n,s)),r=ot(s.parent,$N).typeParameter.name.text;l.push(G7(jre,t,[ma.Replace_infer_0_with_unknown,r],Jre,ma.Replace_all_unused_infer_with_unknown))}else{const t=rde.ChangeTracker.with(e,e=>Xre(n,s,e,o,a,r,i,!1));if(t.length){const e=hN(s.parent)?s.parent:s;l.push(Vre(t,[ma.Remove_unused_declaration_for_Colon_0,e.getText(n)]))}}const _=rde.ChangeTracker.with(e,e=>Gre(e,t,n,s));return _.length&&l.push(G7(jre,_,[ma.Prefix_0_with_an_underscore,s.getText(n)],Rre,ma.Prefix_all_unused_declarations_with_where_possible)),l},fixIds:[Rre,Mre,Bre,Jre],getAllCodeActions:e=>{const{sourceFile:t,program:n,cancellationToken:r}=e,i=n.getTypeChecker(),o=n.getSourceFiles();return i5(e,zre,(a,s)=>{const c=tQ(t,s.start);switch(e.fixId){case Rre:Gre(a,s.code,t,c);break;case Bre:{const e=$re(c);e?a.delete(t,e):Wre(c)&&Xre(t,c,a,i,o,n,r,!0);break}case Mre:if(140===c.kind||Wre(c))break;if(MP(c))a.delete(t,c);else if(30===c.kind)Ure(a,t,c);else if(nF(c.parent)){if(c.parent.parent.initializer)break;vN(c.parent.parent)&&!Qre(c.parent.parent,i,o)||a.delete(t,c.parent.parent)}else{if(rF(c.parent.parent)&&c.parent.parent.parent.initializer)break;Hre(t,c)?Kre(a,t,c.parent):tN(c)&&aE(c.parent)?Yre(a,t,c.parent):Xre(t,c,a,i,o,n,r,!0)}break;case Jre:140===c.kind&&qre(a,t,c);break;default:fn.fail(JSON.stringify(e.fixId))}})}});var eie="fixUnreachableCode",tie=[ma.Unreachable_code_detected.code];function nie(e,t,n,r,i){const o=tQ(t,n),a=gc(o,yu);if(a.getStart(t)!==o.getStart(t)){const e=JSON.stringify({statementKind:fn.formatSyntaxKind(a.kind),tokenKind:fn.formatSyntaxKind(o.kind),errorCode:i,start:n,length:r});fn.fail("Token and statement should start at the same point. "+e)}const s=(BF(a.parent)?a.parent:a).parent;if(!BF(a.parent)||a===ve(a.parent.statements))switch(s.kind){case 245:if(s.elseStatement){if(BF(a.parent))break;return void e.replaceNode(t,a,_w.createBlock(u))}case 247:case 248:return void e.delete(t,s)}if(BF(a.parent)){const i=n+r,o=fn.checkDefined(function(e,t){let n;for(const r of e){if(!t(r))break;n=r}return n}(_T(a.parent.statements,a),e=>e.pos<i),"Some statement should be last");e.deleteNodeRange(t,a,o)}else e.delete(t,a)}Z7({errorCodes:tie,getCodeActions(e){if(e.program.getSyntacticDiagnostics(e.sourceFile,e.cancellationToken).length)return;const t=rde.ChangeTracker.with(e,t=>nie(t,e.sourceFile,e.span.start,e.span.length,e.errorCode));return[G7(eie,t,ma.Remove_unreachable_code,eie,ma.Remove_all_unreachable_code)]},fixIds:[eie],getAllCodeActions:e=>i5(e,tie,(e,t)=>nie(e,t.file,t.start,t.length,t.code))});var rie="fixUnusedLabel",iie=[ma.Unused_label.code];function oie(e,t,n){const r=tQ(t,n),i=ot(r.parent,eE),o=r.getStart(t),a=i.statement.getStart(t),s=Qb(o,a,t)?a:ns(t.text,zX(i,59,t).end,!0);e.deleteRange(t,{pos:o,end:s})}Z7({errorCodes:iie,getCodeActions(e){const t=rde.ChangeTracker.with(e,t=>oie(t,e.sourceFile,e.span.start));return[G7(rie,t,ma.Remove_unused_label,rie,ma.Remove_all_unused_labels)]},fixIds:[rie],getAllCodeActions:e=>i5(e,iie,(e,t)=>oie(e,t.file,t.start))});var aie="fixJSDocTypes_plain",sie="fixJSDocTypes_nullable",cie=[ma.JSDoc_types_can_only_be_used_inside_documentation_comments.code,ma._0_at_the_end_of_a_type_is_not_valid_TypeScript_syntax_Did_you_mean_to_write_1.code,ma._0_at_the_start_of_a_type_is_not_valid_TypeScript_syntax_Did_you_mean_to_write_1.code];function lie(e,t,n,r,i){e.replaceNode(t,n,i.typeToTypeNode(r,n,void 0))}function _ie(e,t,n){const r=gc(tQ(e,t),uie),i=r&&r.type;return i&&{typeNode:i,type:die(n,i)}}function uie(e){switch(e.kind){case 234:case 179:case 180:case 262:case 177:case 181:case 200:case 174:case 173:case 169:case 172:case 171:case 178:case 265:case 216:case 260:return!0;default:return!1}}function die(e,t){if(dP(t)){const n=e.getTypeFromTypeNode(t.type);return n===e.getNeverType()||n===e.getVoidType()?n:e.getUnionType(se([n,e.getUndefinedType()],t.postfix?void 0:e.getNullType()))}return e.getTypeFromTypeNode(t)}Z7({errorCodes:cie,getCodeActions(e){const{sourceFile:t}=e,n=e.program.getTypeChecker(),r=_ie(t,e.span.start,n);if(!r)return;const{typeNode:i,type:o}=r,a=i.getText(t),s=[c(o,aie,ma.Change_all_jsdoc_style_types_to_TypeScript)];return 314===i.kind&&s.push(c(o,sie,ma.Change_all_jsdoc_style_types_to_TypeScript_and_add_undefined_to_nullable_types)),s;function c(r,o,s){return G7("jdocTypes",rde.ChangeTracker.with(e,e=>lie(e,t,i,r,n)),[ma.Change_0_to_1,a,n.typeToString(r)],o,s)}},fixIds:[aie,sie],getAllCodeActions(e){const{fixId:t,program:n,sourceFile:r}=e,i=n.getTypeChecker();return i5(e,cie,(e,n)=>{const o=_ie(n.file,n.start,i);if(!o)return;const{typeNode:a,type:s}=o,c=314===a.kind&&t===sie?i.getNullableType(s,32768):s;lie(e,r,a,c,i)})}});var pie="fixMissingCallParentheses",fie=[ma.This_condition_will_always_return_true_since_this_function_is_always_defined_Did_you_mean_to_call_it_instead.code];function mie(e,t,n){e.replaceNodeWithText(t,n,`${n.text}()`)}function gie(e,t){const n=tQ(e,t);if(sF(n.parent)){let e=n.parent;for(;sF(e.parent);)e=e.parent;return e.name}if(tN(n))return n}Z7({errorCodes:fie,fixIds:[pie],getCodeActions(e){const{sourceFile:t,span:n}=e,r=gie(t,n.start);if(!r)return;const i=rde.ChangeTracker.with(e,t=>mie(t,e.sourceFile,r));return[G7(pie,i,ma.Add_missing_call_parentheses,pie,ma.Add_all_missing_call_parentheses)]},getAllCodeActions:e=>i5(e,fie,(e,t)=>{const n=gie(t.file,t.start);n&&mie(e,t.file,n)})});var hie="fixMissingTypeAnnotationOnExports",yie="add-annotation",vie="add-type-assertion",bie=[ma.Function_must_have_an_explicit_return_type_annotation_with_isolatedDeclarations.code,ma.Method_must_have_an_explicit_return_type_annotation_with_isolatedDeclarations.code,ma.At_least_one_accessor_must_have_an_explicit_type_annotation_with_isolatedDeclarations.code,ma.Variable_must_have_an_explicit_type_annotation_with_isolatedDeclarations.code,ma.Parameter_must_have_an_explicit_type_annotation_with_isolatedDeclarations.code,ma.Property_must_have_an_explicit_type_annotation_with_isolatedDeclarations.code,ma.Expression_type_can_t_be_inferred_with_isolatedDeclarations.code,ma.Binding_elements_can_t_be_exported_directly_with_isolatedDeclarations.code,ma.Computed_property_names_on_class_or_object_literals_cannot_be_inferred_with_isolatedDeclarations.code,ma.Computed_properties_must_be_number_or_string_literals_variables_or_dotted_expressions_with_isolatedDeclarations.code,ma.Enum_member_initializers_must_be_computable_without_references_to_external_symbols_with_isolatedDeclarations.code,ma.Extends_clause_can_t_contain_an_expression_with_isolatedDeclarations.code,ma.Objects_that_contain_shorthand_properties_can_t_be_inferred_with_isolatedDeclarations.code,ma.Objects_that_contain_spread_assignments_can_t_be_inferred_with_isolatedDeclarations.code,ma.Arrays_with_spread_elements_can_t_inferred_with_isolatedDeclarations.code,ma.Default_exports_can_t_be_inferred_with_isolatedDeclarations.code,ma.Only_const_arrays_can_be_inferred_with_isolatedDeclarations.code,ma.Assigning_properties_to_functions_without_declaring_them_is_not_supported_with_isolatedDeclarations_Add_an_explicit_declaration_for_the_properties_assigned_to_this_function.code,ma.Declaration_emit_for_this_parameter_requires_implicitly_adding_undefined_to_its_type_This_is_not_supported_with_isolatedDeclarations.code,ma.Type_containing_private_name_0_can_t_be_used_with_isolatedDeclarations.code,ma.Add_satisfies_and_a_type_assertion_to_this_expression_satisfies_T_as_T_to_make_the_type_explicit.code],xie=new Set([177,174,172,262,218,219,260,169,277,263,206,207]),kie=531469;function Sie(e,t,n,r,i){const o=Tie(n,r,i);o.result&&o.textChanges.length&&t.push(G7(e,o.textChanges,o.result,hie,ma.Add_all_missing_type_annotations))}function Tie(e,t,n){const r={typeNode:void 0,mutatedTarget:!1},i=rde.ChangeTracker.fromContext(e),o=e.sourceFile,a=e.program,s=a.getTypeChecker(),c=Sk(a.getCompilerOptions()),l=Fee(e.sourceFile,e.program,e.preferences,e.host),_=new Set,u=new Set,d=CV({preserveSourceNewlines:!1}),p=n({addTypeAnnotation:function(t){e.cancellationToken.throwIfCancellationRequested();const n=tQ(o,t.start),r=g(n);if(r)return aE(r)?function(e){var t;if(null==u?void 0:u.has(e))return;null==u||u.add(e);const n=s.getTypeAtLocation(e),r=s.getPropertiesOfType(n);if(!e.name||0===r.length)return;const c=[];for(const i of r)bs(i.name,Sk(a.getCompilerOptions()))&&(i.valueDeclaration&&iE(i.valueDeclaration)||c.push(_w.createVariableStatement([_w.createModifier(95)],_w.createVariableDeclarationList([_w.createVariableDeclaration(i.name,void 0,w(s.getTypeOfSymbol(i),e),void 0)]))));if(0===c.length)return;const l=[];(null==(t=e.modifiers)?void 0:t.some(e=>95===e.kind))&&l.push(_w.createModifier(95)),l.push(_w.createModifier(138));const _=_w.createModuleDeclaration(l,e.name,_w.createModuleBlock(c),101441696);return i.insertNodeAfter(o,e,_),[ma.Annotate_types_of_properties_expando_function_in_a_namespace]}(r):h(r);const c=gc(n,e=>xie.has(e.kind)&&(!nF(e)&&!rF(e)||iE(e.parent)));return c?h(c):void 0},addInlineAssertion:function(t){e.cancellationToken.throwIfCancellationRequested();const n=tQ(o,t.start);if(g(n))return;const r=F(n,t);if(!r||ih(r)||ih(r.parent))return;const a=G_(r),c=YE(r);if(!c&&mu(r))return;if(gc(r,D_))return;if(gc(r,tP))return;if(a&&(gc(r,XE)||gc(r,C_)))return;if(wF(r))return;const l=gc(r,iE),_=l&&s.getTypeAtLocation(l);if(_&&8192&_.flags)return;if(!a&&!c)return;const{typeNode:u,mutatedTarget:d}=x(r,_);return u&&!d?(c?i.insertNodeAt(o,r.end,m(oY(r.name),u),{prefix:": "}):a?i.replaceNode(o,r,function(e,t){return f(e)&&(e=_w.createParenthesizedExpression(e)),_w.createAsExpression(_w.createSatisfiesExpression(e,oY(t)),t)}(oY(r),u)):fn.assertNever(r),[ma.Add_satisfies_and_an_inline_type_assertion_with_0,N(u)]):void 0},extractAsVariable:function(t){e.cancellationToken.throwIfCancellationRequested();const n=F(tQ(o,t.start),t);if(!n||ih(n)||ih(n.parent))return;if(!G_(n))return;if(oF(n))return i.replaceNode(o,n,m(n,_w.createTypeReferenceNode("const"))),[ma.Mark_array_literal_as_const];const r=gc(n,ZE);if(r){if(r===n.parent&&ub(n))return;const e=_w.createUniqueName(N3(n,o,s,o),16);let t=n,a=n;if(wF(t)&&(t=sh(t.parent),a=T(t.parent)?t=t.parent:m(t,_w.createTypeReferenceNode("const"))),ub(t))return;const c=_w.createVariableStatement(void 0,_w.createVariableDeclarationList([_w.createVariableDeclaration(e,void 0,void 0,a)],2)),l=gc(n,yu);return i.insertNodeBefore(o,l,c),i.replaceNode(o,t,_w.createAsExpression(_w.cloneNode(e),_w.createTypeQueryNode(_w.cloneNode(e)))),[ma.Extract_to_variable_and_replace_with_0_as_typeof_0,N(e)]}}});return l.writeFixes(i),{result:p,textChanges:i.getChanges()};function f(e){return!(ub(e)||lF(e)||aF(e)||oF(e))}function m(e,t){return f(e)&&(e=_w.createParenthesizedExpression(e)),_w.createAsExpression(e,t)}function g(e){const t=gc(e,e=>yu(e)?"quit":fC(e));if(t&&fC(t)){let e=t;if(kF(e)&&(e=e.left,!fC(e)))return;const n=s.getTypeAtLocation(e.expression);if(!n)return;if(K(s.getPropertiesOfType(n),e=>e.valueDeclaration===t||e.valueDeclaration===t.parent)){const e=n.symbol.valueDeclaration;if(e){if(VT(e)&&iE(e.parent))return e.parent;if(aE(e))return e}}}}function h(e){if(!(null==_?void 0:_.has(e)))switch(null==_||_.add(e),e.kind){case 169:case 172:case 260:return function(e){const{typeNode:t}=x(e);if(t)return e.type?i.replaceNode(Sd(e),e.type,t):i.tryInsertTypeAnnotation(Sd(e),e,t),[ma.Add_annotation_of_type_0,N(t)]}(e);case 219:case 218:case 262:case 174:case 177:return function(e,t){if(e.type)return;const{typeNode:n}=x(e);return n?(i.tryInsertTypeAnnotation(t,e,n),[ma.Add_return_type_0,N(n)]):void 0}(e,o);case 277:return function(e){if(e.isExportEquals)return;const{typeNode:t}=x(e.expression);if(!t)return;const n=_w.createUniqueName("_default");return i.replaceNodeWithNodes(o,e,[_w.createVariableStatement(void 0,_w.createVariableDeclarationList([_w.createVariableDeclaration(n,void 0,t,e.expression)],2)),_w.updateExportAssignment(e,null==e?void 0:e.modifiers,n)]),[ma.Extract_default_export_to_variable]}(e);case 263:return function(e){var t,n,r;const a=null==(n=e.heritageClauses)?void 0:n.find(e=>96===e.token),s=null==a?void 0:a.types[0];if(!s)return;const{typeNode:c}=x(s.expression);if(!c)return;const l=_w.createUniqueName(e.name?e.name.text+"Base":"Anonymous",16),_=_w.createVariableStatement(void 0,_w.createVariableDeclarationList([_w.createVariableDeclaration(l,void 0,c,s.expression)],2));i.insertNodeBefore(o,e,_);const u=gs(o.text,s.end),d=null!=(t=null==(r=null==u?void 0:u[u.length-1])?void 0:r.end)?t:s.end;return i.replaceRange(o,{pos:s.getFullStart(),end:d},l,{prefix:" "}),[ma.Extract_base_class_to_variable]}(e);case 206:case 207:return function(e){var t;const n=e.parent,r=e.parent.parent.parent;if(!n.initializer)return;let a;const s=[];if(tN(n.initializer))a={expression:{kind:3,identifier:n.initializer}};else{const e=_w.createUniqueName("dest",16);a={expression:{kind:3,identifier:e}},s.push(_w.createVariableStatement(void 0,_w.createVariableDeclarationList([_w.createVariableDeclaration(e,void 0,void 0,n.initializer)],2)))}const c=[];rF(e)?y(e,c,a):v(e,c,a);const l=new Map;for(const i of c){if(i.element.propertyName&&hN(i.element.propertyName)){const e=i.element.propertyName.expression,t=_w.getGeneratedNameForNode(e),n=_w.createVariableDeclaration(t,void 0,void 0,e),r=_w.createVariableDeclarationList([n],2),o=_w.createVariableStatement(void 0,r);s.push(o),l.set(e,t)}const e=i.element.name;if(rF(e))y(e,c,i);else if(nF(e))v(e,c,i);else{const{typeNode:n}=x(e);let o=b(i,l);if(i.element.initializer){const e=null==(t=i.element)?void 0:t.propertyName,n=_w.createUniqueName(e&&tN(e)?e.text:"temp",16);s.push(_w.createVariableStatement(void 0,_w.createVariableDeclarationList([_w.createVariableDeclaration(n,void 0,void 0,o)],2))),o=_w.createConditionalExpression(_w.createBinaryExpression(n,_w.createToken(37),_w.createIdentifier("undefined")),_w.createToken(58),i.element.initializer,_w.createToken(59),o)}const a=Av(r,32)?[_w.createToken(95)]:void 0;s.push(_w.createVariableStatement(a,_w.createVariableDeclarationList([_w.createVariableDeclaration(e,void 0,n,o)],2)))}}return r.declarationList.declarations.length>1&&s.push(_w.updateVariableStatement(r,r.modifiers,_w.updateVariableDeclarationList(r.declarationList,r.declarationList.declarations.filter(t=>t!==e.parent)))),i.replaceNodeWithNodes(o,r,s),[ma.Extract_binding_expressions_to_variable]}(e);default:throw new Error(`Cannot find a fix for the given node ${e.kind}`)}}function y(e,t,n){for(let r=0;r<e.elements.length;++r){const i=e.elements[r];NF(i)||t.push({element:i,parent:n,expression:{kind:2,arrayIndex:r}})}}function v(e,t,n){for(const r of e.elements){let e;if(r.propertyName){if(hN(r.propertyName)){t.push({element:r,parent:n,expression:{kind:1,computed:r.propertyName.expression}});continue}e=r.propertyName.text}else e=r.name.text;t.push({element:r,parent:n,expression:{kind:0,text:e}})}}function b(e,t){const n=[e];for(;e.parent;)e=e.parent,n.push(e);let r=n[n.length-1].expression.identifier;for(let i=n.length-2;i>=0;--i){const e=n[i].expression;0===e.kind?r=_w.createPropertyAccessChain(r,void 0,_w.createIdentifier(e.text)):1===e.kind?r=_w.createElementAccessExpression(r,t.get(e.computed)):2===e.kind&&(r=_w.createElementAccessExpression(r,e.arrayIndex))}return r}function x(e,n){var i,a;if(1===t)return C(e);let c;if(ih(e)){const t=s.getSignatureFromDeclaration(e);if(t){const n=s.getTypePredicateOfSignature(t);if(n)return n.type?{typeNode:D(n,null!=(i=gc(e,mu))?i:o,_(n.type)),mutatedTarget:!1}:r;c=s.getReturnTypeOfSignature(t)}}else c=s.getTypeAtLocation(e);if(!c)return r;if(2===t){n&&(c=n);const e=s.getWidenedLiteralType(c);if(s.isTypeAssignableTo(e,c))return r;c=e}const l=null!=(a=gc(e,mu))?a:o;return vN(e)&&s.requiresAddingImplicitUndefined(e,l)&&(c=s.getUnionType([s.getUndefinedType(),c],0)),{typeNode:w(c,l,_(c)),mutatedTarget:!1};function _(t){return(iE(e)||kN(e)&&Av(e,264))&&8192&t.flags?1048576:0}}function k(e){return _w.createTypeQueryNode(oY(e))}function S(e,t,n,a,s,c,l,_){const u=[],d=[];let p;const f=gc(e,yu);for(const r of a(e))s(r)?(g(),ub(r.expression)?(u.push(k(r.expression)),d.push(r)):m(r.expression)):(null!=p?p:p=[]).push(r);return 0===d.length?r:(g(),i.replaceNode(o,e,l(d)),{typeNode:_(u),mutatedTarget:!0});function m(e){const r=_w.createUniqueName(t+"_Part"+(d.length+1),16),a=n?_w.createAsExpression(e,_w.createTypeReferenceNode("const")):e,s=_w.createVariableStatement(void 0,_w.createVariableDeclarationList([_w.createVariableDeclaration(r,void 0,void 0,a)],2));i.insertNodeBefore(o,f,s),u.push(k(r)),d.push(c(r))}function g(){p&&(m(l(p)),p=void 0)}}function T(e){return X_(e)&&Dl(e.type)}function C(e){if(vN(e))return r;if(YE(e))return{typeNode:k(e.name),mutatedTarget:!1};if(ub(e))return{typeNode:k(e),mutatedTarget:!1};if(T(e))return C(e.expression);if(oF(e)){const t=gc(e,iE);return function(e,t="temp"){const n=!!gc(e,T);return n?S(e,t,n,e=>e.elements,wF,_w.createSpreadElement,e=>_w.createArrayLiteralExpression(e,!0),e=>_w.createTupleTypeNode(e.map(_w.createRestTypeNode))):r}(e,t&&tN(t.name)?t.name.text:void 0)}if(aF(e)){const t=gc(e,iE);return function(e,t="temp"){return S(e,t,!!gc(e,T),e=>e.properties,eP,_w.createSpreadAssignment,e=>_w.createObjectLiteralExpression(e,!0),_w.createIntersectionTypeNode)}(e,t&&tN(t.name)?t.name.text:void 0)}if(iE(e)&&e.initializer)return C(e.initializer);if(SF(e)){const{typeNode:t,mutatedTarget:n}=C(e.whenTrue);if(!t)return r;const{typeNode:i,mutatedTarget:o}=C(e.whenFalse);return i?{typeNode:_w.createUnionTypeNode([t,i]),mutatedTarget:n||o}:r}return r}function w(e,t,n=0){let r=!1;const i=soe(s,e,t,kie|n,1,{moduleResolverHost:a,trackSymbol:()=>!0,reportTruncationError(){r=!0}});if(!i)return;const o=aoe(i,l,c);return r?_w.createKeywordTypeNode(133):o}function D(e,t,n=0){let r=!1;const i=coe(s,l,e,t,c,kie|n,1,{moduleResolverHost:a,trackSymbol:()=>!0,reportTruncationError(){r=!0}});return r?_w.createKeywordTypeNode(133):i}function N(e){gw(e,1);const t=d.printNode(4,e,o);return t.length>Gu?t.substring(0,Gu-3)+"...":(gw(e,0),t)}function F(e,t){for(;e&&e.end<t.start+t.length;)e=e.parent;for(;e.parent.pos===e.pos&&e.parent.end===e.end;)e=e.parent;return tN(e)&&Lu(e.parent)&&e.parent.initializer?e.parent.initializer:e}}Z7({errorCodes:bie,fixIds:[hie],getCodeActions(e){const t=[];return Sie(yie,t,e,0,t=>t.addTypeAnnotation(e.span)),Sie(yie,t,e,1,t=>t.addTypeAnnotation(e.span)),Sie(yie,t,e,2,t=>t.addTypeAnnotation(e.span)),Sie(vie,t,e,0,t=>t.addInlineAssertion(e.span)),Sie(vie,t,e,1,t=>t.addInlineAssertion(e.span)),Sie(vie,t,e,2,t=>t.addInlineAssertion(e.span)),Sie("extract-expression",t,e,0,t=>t.extractAsVariable(e.span)),t},getAllCodeActions:e=>n5(Tie(e,0,t=>{o5(e,bie,e=>{t.addTypeAnnotation(e)})}).textChanges)});var Cie="fixAwaitInSyncFunction",wie=[ma.await_expressions_are_only_allowed_within_async_functions_and_at_the_top_levels_of_modules.code,ma.await_using_statements_are_only_allowed_within_async_functions_and_at_the_top_levels_of_modules.code,ma.for_await_loops_are_only_allowed_within_async_functions_and_at_the_top_levels_of_modules.code,ma.Cannot_find_name_0_Did_you_mean_to_write_this_in_an_async_function.code];function Die(e,t){const n=Zf(tQ(e,t));if(!n)return;let r;switch(n.kind){case 174:r=n.name;break;case 262:case 218:r=zX(n,100,e);break;case 219:r=zX(n,n.typeParameters?30:21,e)||ve(n.parameters);break;default:return}return r&&{insertBefore:r,returnType:(i=n,i.type?i.type:iE(i.parent)&&i.parent.type&&ON(i.parent.type)?i.parent.type.type:void 0)};var i}function Nie(e,t,{insertBefore:n,returnType:r}){if(r){const n=fm(r);n&&80===n.kind&&"Promise"===n.text||e.replaceNode(t,r,_w.createTypeReferenceNode("Promise",_w.createNodeArray([r])))}e.insertModifierBefore(t,134,n)}Z7({errorCodes:wie,getCodeActions(e){const{sourceFile:t,span:n}=e,r=Die(t,n.start);if(!r)return;const i=rde.ChangeTracker.with(e,e=>Nie(e,t,r));return[G7(Cie,i,ma.Add_async_modifier_to_containing_function,Cie,ma.Add_all_missing_async_modifiers)]},fixIds:[Cie],getAllCodeActions:function(e){const t=new Set;return i5(e,wie,(n,r)=>{const i=Die(r.file,r.start);i&&Cx(t,rJ(i.insertBefore))&&Nie(n,e.sourceFile,i)})}});var Fie=[ma._0_is_defined_as_an_accessor_in_class_1_but_is_overridden_here_in_2_as_an_instance_property.code,ma._0_is_defined_as_a_property_in_class_1_but_is_overridden_here_in_2_as_an_accessor.code],Eie="fixPropertyOverrideAccessor";function Pie(e,t,n,r,i){let o,a;if(r===ma._0_is_defined_as_an_accessor_in_class_1_but_is_overridden_here_in_2_as_an_instance_property.code)o=t,a=t+n;else if(r===ma._0_is_defined_as_a_property_in_class_1_but_is_overridden_here_in_2_as_an_accessor.code){const n=i.program.getTypeChecker(),r=tQ(e,t).parent;fn.assert(h_(r),"error span of fixPropertyOverrideAccessor should only be on an accessor");const s=r.parent;fn.assert(g_(s),"erroneous accessors should only be inside classes");const c=Se(Eoe(s,n));if(!c)return[];const l=bc(Jp(r.name)),_=n.getPropertyOfType(n.getTypeAtLocation(c),l);if(!_||!_.valueDeclaration)return[];o=_.valueDeclaration.pos,a=_.valueDeclaration.end,e=Sd(_.valueDeclaration)}else fn.fail("fixPropertyOverrideAccessor codefix got unexpected error code "+r);return Soe(e,i.program,o,a,i,ma.Generate_get_and_set_accessors.message)}Z7({errorCodes:Fie,getCodeActions(e){const t=Pie(e.sourceFile,e.span.start,e.span.length,e.errorCode,e);if(t)return[G7(Eie,t,ma.Generate_get_and_set_accessors,Eie,ma.Generate_get_and_set_accessors_for_all_overriding_properties)]},fixIds:[Eie],getAllCodeActions:e=>i5(e,Fie,(t,n)=>{const r=Pie(n.file,n.start,n.length,n.code,e);if(r)for(const i of r)t.pushRaw(e.sourceFile,i)})});var Aie="inferFromUsage",Iie=[ma.Variable_0_implicitly_has_type_1_in_some_locations_where_its_type_cannot_be_determined.code,ma.Variable_0_implicitly_has_an_1_type.code,ma.Parameter_0_implicitly_has_an_1_type.code,ma.Rest_parameter_0_implicitly_has_an_any_type.code,ma.Property_0_implicitly_has_type_any_because_its_get_accessor_lacks_a_return_type_annotation.code,ma._0_which_lacks_return_type_annotation_implicitly_has_an_1_return_type.code,ma.Property_0_implicitly_has_type_any_because_its_set_accessor_lacks_a_parameter_type_annotation.code,ma.Member_0_implicitly_has_an_1_type.code,ma.Variable_0_implicitly_has_type_1_in_some_locations_but_a_better_type_may_be_inferred_from_usage.code,ma.Variable_0_implicitly_has_an_1_type_but_a_better_type_may_be_inferred_from_usage.code,ma.Parameter_0_implicitly_has_an_1_type_but_a_better_type_may_be_inferred_from_usage.code,ma.Rest_parameter_0_implicitly_has_an_any_type_but_a_better_type_may_be_inferred_from_usage.code,ma.Property_0_implicitly_has_type_any_but_a_better_type_for_its_get_accessor_may_be_inferred_from_usage.code,ma._0_implicitly_has_an_1_return_type_but_a_better_type_may_be_inferred_from_usage.code,ma.Property_0_implicitly_has_type_any_but_a_better_type_for_its_set_accessor_may_be_inferred_from_usage.code,ma.Member_0_implicitly_has_an_1_type_but_a_better_type_may_be_inferred_from_usage.code,ma.this_implicitly_has_type_any_because_it_does_not_have_a_type_annotation.code];function Oie(e,t){switch(e){case ma.Parameter_0_implicitly_has_an_1_type.code:case ma.Parameter_0_implicitly_has_an_1_type_but_a_better_type_may_be_inferred_from_usage.code:return NN(Zf(t))?ma.Infer_type_of_0_from_usage:ma.Infer_parameter_types_from_usage;case ma.Rest_parameter_0_implicitly_has_an_any_type.code:case ma.Rest_parameter_0_implicitly_has_an_any_type_but_a_better_type_may_be_inferred_from_usage.code:return ma.Infer_parameter_types_from_usage;case ma.this_implicitly_has_type_any_because_it_does_not_have_a_type_annotation.code:return ma.Infer_this_type_of_0_from_usage;default:return ma.Infer_type_of_0_from_usage}}function Lie(e,t,n,r,i,o,a,s,c){if(!n_(n.kind)&&80!==n.kind&&26!==n.kind&&110!==n.kind)return;const{parent:l}=n,_=Fee(t,i,c,s);switch(r=function(e){switch(e){case ma.Variable_0_implicitly_has_type_1_in_some_locations_but_a_better_type_may_be_inferred_from_usage.code:return ma.Variable_0_implicitly_has_type_1_in_some_locations_where_its_type_cannot_be_determined.code;case ma.Variable_0_implicitly_has_an_1_type_but_a_better_type_may_be_inferred_from_usage.code:return ma.Variable_0_implicitly_has_an_1_type.code;case ma.Parameter_0_implicitly_has_an_1_type_but_a_better_type_may_be_inferred_from_usage.code:return ma.Parameter_0_implicitly_has_an_1_type.code;case ma.Rest_parameter_0_implicitly_has_an_any_type_but_a_better_type_may_be_inferred_from_usage.code:return ma.Rest_parameter_0_implicitly_has_an_any_type.code;case ma.Property_0_implicitly_has_type_any_but_a_better_type_for_its_get_accessor_may_be_inferred_from_usage.code:return ma.Property_0_implicitly_has_type_any_because_its_get_accessor_lacks_a_return_type_annotation.code;case ma._0_implicitly_has_an_1_return_type_but_a_better_type_may_be_inferred_from_usage.code:return ma._0_which_lacks_return_type_annotation_implicitly_has_an_1_return_type.code;case ma.Property_0_implicitly_has_type_any_but_a_better_type_for_its_set_accessor_may_be_inferred_from_usage.code:return ma.Property_0_implicitly_has_type_any_because_its_set_accessor_lacks_a_parameter_type_annotation.code;case ma.Member_0_implicitly_has_an_1_type_but_a_better_type_may_be_inferred_from_usage.code:return ma.Member_0_implicitly_has_an_1_type.code}return e}(r)){case ma.Member_0_implicitly_has_an_1_type.code:case ma.Variable_0_implicitly_has_type_1_in_some_locations_where_its_type_cannot_be_determined.code:if(iE(l)&&a(l)||kN(l)||xN(l))return jie(e,_,t,l,i,s,o),_.writeFixes(e),l;if(sF(l)){const n=PY(zie(l.name,i,o),l,i,s);if(n){const r=_w.createJSDocTypeTag(void 0,_w.createJSDocTypeExpression(n),void 0);e.addJSDocTags(t,ot(l.parent.parent,qF),[r])}return _.writeFixes(e),l}return;case ma.Variable_0_implicitly_has_an_1_type.code:{const t=i.getTypeChecker().getSymbolAtLocation(n);return t&&t.valueDeclaration&&iE(t.valueDeclaration)&&a(t.valueDeclaration)?(jie(e,_,Sd(t.valueDeclaration),t.valueDeclaration,i,s,o),_.writeFixes(e),t.valueDeclaration):void 0}}const u=Zf(n);if(void 0===u)return;let d;switch(r){case ma.Parameter_0_implicitly_has_an_1_type.code:if(NN(u)){Rie(e,_,t,u,i,s,o),d=u;break}case ma.Rest_parameter_0_implicitly_has_an_any_type.code:if(a(u)){const n=ot(l,vN);!function(e,t,n,r,i,o,a,s){if(!tN(r.name))return;const c=function(e,t,n,r){const i=qie(e,t,n,r);return i&&Vie(n,i,r).parameters(e)||e.parameters.map(e=>({declaration:e,type:tN(e.name)?zie(e.name,n,r):n.getTypeChecker().getAnyType()}))}(i,n,o,s);if(fn.assert(i.parameters.length===c.length,"Parameter count and inference count should match"),Om(i))Bie(e,n,c,o,a);else{const r=mF(i)&&!zX(i,21,n);r&&e.insertNodeBefore(n,ve(i.parameters),_w.createToken(21));for(const{declaration:i,type:s}of c)!i||i.type||i.initializer||Mie(e,t,n,i,s,o,a);r&&e.insertNodeAfter(n,ke(i.parameters),_w.createToken(22))}}(e,_,t,n,u,i,s,o),d=n}break;case ma.Property_0_implicitly_has_type_any_because_its_get_accessor_lacks_a_return_type_annotation.code:case ma._0_which_lacks_return_type_annotation_implicitly_has_an_1_return_type.code:DN(u)&&tN(u.name)&&(Mie(e,_,t,u,zie(u.name,i,o),i,s),d=u);break;case ma.Property_0_implicitly_has_type_any_because_its_set_accessor_lacks_a_parameter_type_annotation.code:NN(u)&&(Rie(e,_,t,u,i,s,o),d=u);break;case ma.this_implicitly_has_type_any_because_it_does_not_have_a_type_annotation.code:rde.isThisTypeAnnotatable(u)&&a(u)&&(function(e,t,n,r,i,o){const a=qie(n,t,r,o);if(!a||!a.length)return;const s=Vie(r,a,o).thisParameter(),c=PY(s,n,r,i);c&&(Om(n)?function(e,t,n,r){e.addJSDocTags(t,n,[_w.createJSDocThisTag(void 0,_w.createJSDocTypeExpression(r))])}(e,t,n,c):e.tryInsertThisTypeAnnotation(t,n,c))}(e,t,u,i,s,o),d=u);break;default:return fn.fail(String(r))}return _.writeFixes(e),d}function jie(e,t,n,r,i,o,a){tN(r.name)&&Mie(e,t,n,r,zie(r.name,i,a),i,o)}function Rie(e,t,n,r,i,o,a){const s=he(r.parameters);if(s&&tN(r.name)&&tN(s.name)){let c=zie(r.name,i,a);c===i.getTypeChecker().getAnyType()&&(c=zie(s.name,i,a)),Om(r)?Bie(e,n,[{declaration:s,type:c}],i,o):Mie(e,t,n,s,c,i,o)}}function Mie(e,t,n,r,i,o,a){const s=PY(i,r,o,a);if(s)if(Om(n)&&171!==r.kind){const t=iE(r)?it(r.parent.parent,JF):r;if(!t)return;const i=_w.createJSDocTypeExpression(s),o=DN(r)?_w.createJSDocReturnTag(void 0,i,void 0):_w.createJSDocTypeTag(void 0,i,void 0);e.addJSDocTags(n,t,[o])}else(function(e,t,n,r,i,o){const a=voe(e,o);return!(!a||!r.tryInsertTypeAnnotation(n,t,a.typeNode)||(f(a.symbols,e=>i.addImportFromExportedSymbol(e,!0)),0))})(s,r,n,e,t,Sk(o.getCompilerOptions()))||e.tryInsertTypeAnnotation(n,r,s)}function Bie(e,t,n,r,i){const o=n.length&&n[0].declaration.parent;if(!o)return;const a=z(n,e=>{const t=e.declaration;if(t.initializer||sl(t)||!tN(t.name))return;const n=e.type&&PY(e.type,t,r,i);return n?(gw(_w.cloneNode(t.name),7168),{name:_w.cloneNode(t.name),param:t,isOptional:!!e.isOptional,typeNode:n}):void 0});if(a.length)if(mF(o)||fF(o)){const n=mF(o)&&!zX(o,21,t);n&&e.insertNodeBefore(t,ve(o.parameters),_w.createToken(21)),f(a,({typeNode:n,param:r})=>{const i=_w.createJSDocTypeTag(void 0,_w.createJSDocTypeExpression(n)),o=_w.createJSDocComment(void 0,[i]);e.insertNodeAt(t,r.getStart(t),o,{suffix:" "})}),n&&e.insertNodeAfter(t,ke(o.parameters),_w.createToken(22))}else{const n=A(a,({name:e,typeNode:t,isOptional:n})=>_w.createJSDocParameterTag(void 0,e,!!n,_w.createJSDocTypeExpression(t),!1,void 0));e.addJSDocTags(t,o,n)}}function Jie(e,t,n){return z(Mce.getReferenceEntriesForNode(-1,e,t,t.getSourceFiles(),n),e=>e.kind!==Mce.EntryKind.Span?it(e.node,tN):void 0)}function zie(e,t,n){return Vie(t,Jie(e,t,n),n).single()}function qie(e,t,n,r){let i;switch(e.kind){case 176:i=zX(e,137,t);break;case 219:case 218:const n=e.parent;i=(iE(n)||kN(n))&&tN(n.name)?n.name:e.name;break;case 262:case 174:case 173:i=e.name}if(i)return Jie(i,n,r)}function Vie(e,t,n){const r=e.getTypeChecker(),i={string:()=>r.getStringType(),number:()=>r.getNumberType(),Array:e=>r.createArrayType(e),Promise:e=>r.createPromiseType(e)},o=[r.getStringType(),r.getNumberType(),r.createArrayType(r.getAnyType()),r.createPromiseType(r.getAnyType())];return{single:function(){return d(s(t))},parameters:function(i){if(0===t.length||!i.parameters)return;const o={isNumber:void 0,isString:void 0,isNumberOrString:void 0,candidateTypes:void 0,properties:void 0,calls:void 0,constructs:void 0,numberIndex:void 0,stringIndex:void 0,candidateThisTypes:void 0,inferredTypes:void 0};for(const e of t)n.throwIfCancellationRequested(),c(e,o);const a=[...o.constructs||[],...o.calls||[]];return i.parameters.map((t,o)=>{const c=[],l=Uu(t);let _=!1;for(const e of a)if(e.argumentTypes.length<=o)_=Om(i),c.push(r.getUndefinedType());else if(l)for(let t=o;t<e.argumentTypes.length;t++)c.push(r.getBaseTypeOfLiteralType(e.argumentTypes[t]));else c.push(r.getBaseTypeOfLiteralType(e.argumentTypes[o]));if(tN(t.name)){const i=s(Jie(t.name,e,n));c.push(...l?z(i,r.getElementTypeOfArrayType):i)}const u=d(c);return{type:l?r.createArrayType(u):u,isOptional:_&&!l,declaration:t}})},thisParameter:function(){const e={isNumber:void 0,isString:void 0,isNumberOrString:void 0,candidateTypes:void 0,properties:void 0,calls:void 0,constructs:void 0,numberIndex:void 0,stringIndex:void 0,candidateThisTypes:void 0,inferredTypes:void 0};for(const r of t)n.throwIfCancellationRequested(),c(r,e);return d(e.candidateThisTypes||u)}};function a(e){const t=new Map;for(const r of e)r.properties&&r.properties.forEach((e,n)=>{t.has(n)||t.set(n,[]),t.get(n).push(e)});const n=new Map;return t.forEach((e,t)=>{n.set(t,a(e))}),{isNumber:e.some(e=>e.isNumber),isString:e.some(e=>e.isString),isNumberOrString:e.some(e=>e.isNumberOrString),candidateTypes:j(e,e=>e.candidateTypes),properties:n,calls:j(e,e=>e.calls),constructs:j(e,e=>e.constructs),numberIndex:f(e,e=>e.numberIndex),stringIndex:f(e,e=>e.stringIndex),candidateThisTypes:j(e,e=>e.candidateThisTypes),inferredTypes:void 0}}function s(e){const t={isNumber:void 0,isString:void 0,isNumberOrString:void 0,candidateTypes:void 0,properties:void 0,calls:void 0,constructs:void 0,numberIndex:void 0,stringIndex:void 0,candidateThisTypes:void 0,inferredTypes:void 0};for(const r of e)n.throwIfCancellationRequested(),c(r,t);return m(t)}function c(e,t){for(;hb(e);)e=e.parent;switch(e.parent.kind){case 244:!function(e,t){v(t,lF(e)?r.getVoidType():r.getAnyType())}(e,t);break;case 225:t.isNumber=!0;break;case 224:!function(e,t){switch(e.operator){case 46:case 47:case 41:case 55:t.isNumber=!0;break;case 40:t.isNumberOrString=!0}}(e.parent,t);break;case 226:!function(e,t,n){switch(t.operatorToken.kind){case 43:case 42:case 44:case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 66:case 68:case 67:case 69:case 70:case 74:case 75:case 79:case 71:case 73:case 72:case 41:case 30:case 33:case 32:case 34:const i=r.getTypeAtLocation(t.left===e?t.right:t.left);1056&i.flags?v(n,i):n.isNumber=!0;break;case 65:case 40:const o=r.getTypeAtLocation(t.left===e?t.right:t.left);1056&o.flags?v(n,o):296&o.flags?n.isNumber=!0:402653316&o.flags?n.isString=!0:1&o.flags||(n.isNumberOrString=!0);break;case 64:case 35:case 37:case 38:case 36:case 77:case 78:case 76:v(n,r.getTypeAtLocation(t.left===e?t.right:t.left));break;case 103:e===t.left&&(n.isString=!0);break;case 57:case 61:e!==t.left||260!==e.parent.parent.kind&&!cb(e.parent.parent,!0)||v(n,r.getTypeAtLocation(t.right))}}(e,e.parent,t);break;case 296:case 297:!function(e,t){v(t,r.getTypeAtLocation(e.parent.parent.expression))}(e.parent,t);break;case 213:case 214:e.parent.expression===e?function(e,t){const n={argumentTypes:[],return_:{isNumber:void 0,isString:void 0,isNumberOrString:void 0,candidateTypes:void 0,properties:void 0,calls:void 0,constructs:void 0,numberIndex:void 0,stringIndex:void 0,candidateThisTypes:void 0,inferredTypes:void 0}};if(e.arguments)for(const i of e.arguments)n.argumentTypes.push(r.getTypeAtLocation(i));c(e,n.return_),213===e.kind?(t.calls||(t.calls=[])).push(n):(t.constructs||(t.constructs=[])).push(n)}(e.parent,t):l(e,t);break;case 211:!function(e,t){const n=vc(e.name.text);t.properties||(t.properties=new Map);const r=t.properties.get(n)||{isNumber:void 0,isString:void 0,isNumberOrString:void 0,candidateTypes:void 0,properties:void 0,calls:void 0,constructs:void 0,numberIndex:void 0,stringIndex:void 0,candidateThisTypes:void 0,inferredTypes:void 0};c(e,r),t.properties.set(n,r)}(e.parent,t);break;case 212:!function(e,t,n){if(t!==e.argumentExpression){const t=r.getTypeAtLocation(e.argumentExpression),i={isNumber:void 0,isString:void 0,isNumberOrString:void 0,candidateTypes:void 0,properties:void 0,calls:void 0,constructs:void 0,numberIndex:void 0,stringIndex:void 0,candidateThisTypes:void 0,inferredTypes:void 0};c(e,i),296&t.flags?n.numberIndex=i:n.stringIndex=i}else n.isNumberOrString=!0}(e.parent,e,t);break;case 303:case 304:!function(e,t){const n=iE(e.parent.parent)?e.parent.parent:e.parent;b(t,r.getTypeAtLocation(n))}(e.parent,t);break;case 172:!function(e,t){b(t,r.getTypeAtLocation(e.parent))}(e.parent,t);break;case 260:{const{name:n,initializer:i}=e.parent;if(e===n){i&&v(t,r.getTypeAtLocation(i));break}}default:return l(e,t)}}function l(e,t){Tm(e)&&v(t,r.getContextualType(e))}function _(e){return d(m(e))}function d(e){if(!e.length)return r.getAnyType();const t=r.getUnionType([r.getStringType(),r.getNumberType()]);let n=function(e,t){const n=[];for(const r of e)for(const{high:e,low:i}of t)e(r)&&(fn.assert(!i(r),"Priority can't have both low and high"),n.push(i));return e.filter(e=>n.every(t=>!t(e)))}(e,[{high:e=>e===r.getStringType()||e===r.getNumberType(),low:e=>e===t},{high:e=>!(16385&e.flags),low:e=>!!(16385&e.flags)},{high:e=>!(114689&e.flags||16&xx(e)),low:e=>!!(16&xx(e))}]);const i=n.filter(e=>16&xx(e));return i.length&&(n=n.filter(e=>!(16&xx(e))),n.push(function(e){if(1===e.length)return e[0];const t=[],n=[],i=[],o=[];let a=!1,s=!1;const c=Ge();for(const u of e){for(const t of r.getPropertiesOfType(u))c.add(t.escapedName,t.valueDeclaration?r.getTypeOfSymbolAtLocation(t,t.valueDeclaration):r.getAnyType());t.push(...r.getSignaturesOfType(u,0)),n.push(...r.getSignaturesOfType(u,1));const e=r.getIndexInfoOfType(u,0);e&&(i.push(e.type),a=a||e.isReadonly);const l=r.getIndexInfoOfType(u,1);l&&(o.push(l.type),s=s||l.isReadonly)}const l=H(c,(t,n)=>{const i=n.length<e.length?16777216:0,o=r.createSymbol(4|i,t);return o.links.type=r.getUnionType(n),[t,o]}),_=[];return i.length&&_.push(r.createIndexInfo(r.getStringType(),r.getUnionType(i),a)),o.length&&_.push(r.createIndexInfo(r.getNumberType(),r.getUnionType(o),s)),r.createAnonymousType(e[0].symbol,l,t,n,_)}(i))),r.getWidenedType(r.getUnionType(n.map(r.getBaseTypeOfLiteralType),2))}function m(e){var t,n,a;const s=[];e.isNumber&&s.push(r.getNumberType()),e.isString&&s.push(r.getStringType()),e.isNumberOrString&&s.push(r.getUnionType([r.getStringType(),r.getNumberType()])),e.numberIndex&&s.push(r.createArrayType(_(e.numberIndex))),((null==(t=e.properties)?void 0:t.size)||(null==(n=e.constructs)?void 0:n.length)||e.stringIndex)&&s.push(g(e));const c=(e.candidateTypes||[]).map(e=>r.getBaseTypeOfLiteralType(e)),l=(null==(a=e.calls)?void 0:a.length)?g(e):void 0;return l&&c?s.push(r.getUnionType([l,...c],2)):(l&&s.push(l),p(c)&&s.push(...c)),s.push(...function(e){if(!e.properties||!e.properties.size)return[];const t=o.filter(t=>function(e,t){return!!t.properties&&!sd(t.properties,(t,n)=>{const i=r.getTypeOfPropertyOfType(e,n);return!(i&&(t.calls?r.getSignaturesOfType(i,0).length&&r.isTypeAssignableTo(i,(o=t.calls,r.createAnonymousType(void 0,Yu(),[y(o)],u,u))):r.isTypeAssignableTo(i,_(t))));var o})}(t,e));return 0<t.length&&t.length<3?t.map(t=>function(e,t){if(!(4&xx(e)&&t.properties))return e;const n=e.target,o=Se(n.typeParameters);if(!o)return e;const a=[];return t.properties.forEach((e,t)=>{const i=r.getTypeOfPropertyOfType(n,t);fn.assert(!!i,"generic should have all the properties of its reference."),a.push(...h(i,_(e),o))}),i[e.symbol.escapedName](d(a))}(t,e)):[]}(e)),s}function g(e){const t=new Map;e.properties&&e.properties.forEach((e,n)=>{const i=r.createSymbol(4,n);i.links.type=_(e),t.set(n,i)});const n=e.calls?[y(e.calls)]:[],i=e.constructs?[y(e.constructs)]:[],o=e.stringIndex?[r.createIndexInfo(r.getStringType(),_(e.stringIndex),!1)]:[];return r.createAnonymousType(void 0,t,n,i,o)}function h(e,t,n){if(e===n)return[t];if(3145728&e.flags)return j(e.types,e=>h(e,t,n));if(4&xx(e)&&4&xx(t)){const i=r.getTypeArguments(e),o=r.getTypeArguments(t),a=[];if(i&&o)for(let e=0;e<i.length;e++)o[e]&&a.push(...h(i[e],o[e],n));return a}const i=r.getSignaturesOfType(e,0),o=r.getSignaturesOfType(t,0);return 1===i.length&&1===o.length?function(e,t,n){var i;const o=[];for(let c=0;c<e.parameters.length;c++){const a=e.parameters[c],s=t.parameters[c],l=e.declaration&&Uu(e.declaration.parameters[c]);if(!s)break;let _=a.valueDeclaration?r.getTypeOfSymbolAtLocation(a,a.valueDeclaration):r.getAnyType();const u=l&&r.getElementTypeOfArrayType(_);u&&(_=u);const d=(null==(i=it(s,ed))?void 0:i.links.type)||(s.valueDeclaration?r.getTypeOfSymbolAtLocation(s,s.valueDeclaration):r.getAnyType());o.push(...h(_,d,n))}const a=r.getReturnTypeOfSignature(e),s=r.getReturnTypeOfSignature(t);return o.push(...h(a,s,n)),o}(i[0],o[0],n):[]}function y(e){const t=[],n=Math.max(...e.map(e=>e.argumentTypes.length));for(let o=0;o<n;o++){const n=r.createSymbol(1,vc(`arg${o}`));n.links.type=d(e.map(e=>e.argumentTypes[o]||r.getUndefinedType())),e.some(e=>void 0===e.argumentTypes[o])&&(n.flags|=16777216),t.push(n)}const i=_(a(e.map(e=>e.return_)));return r.createSignature(void 0,void 0,void 0,t,i,void 0,n,0)}function v(e,t){!t||1&t.flags||131072&t.flags||(e.candidateTypes||(e.candidateTypes=[])).push(t)}function b(e,t){!t||1&t.flags||131072&t.flags||(e.candidateThisTypes||(e.candidateThisTypes=[])).push(t)}}Z7({errorCodes:Iie,getCodeActions(e){const{sourceFile:t,program:n,span:{start:r},errorCode:i,cancellationToken:o,host:a,preferences:s}=e,c=tQ(t,r);let l;const _=rde.ChangeTracker.with(e,e=>{l=Lie(e,t,c,i,n,o,ct,a,s)}),u=l&&Ec(l);return u&&0!==_.length?[G7(Aie,_,[Oie(i,c),ep(u)],Aie,ma.Infer_all_types_from_usage)]:void 0},fixIds:[Aie],getAllCodeActions(e){const{sourceFile:t,program:n,cancellationToken:r,host:i,preferences:o}=e,a=KQ();return i5(e,Iie,(e,s)=>{Lie(e,t,tQ(s.file,s.start),s.code,n,r,a,i,o)})}});var Uie="fixReturnTypeInAsyncFunction",Wie=[ma.The_return_type_of_an_async_function_or_method_must_be_the_global_Promise_T_type_Did_you_mean_to_write_Promise_0.code];function $ie(e,t,n){if(Om(e))return;const r=gc(tQ(e,n),__),i=null==r?void 0:r.type;if(!i)return;const o=t.getTypeFromTypeNode(i),a=t.getAwaitedType(o)||t.getVoidType(),s=t.typeToTypeNode(a,i,void 0);return s?{returnTypeNode:i,returnType:o,promisedTypeNode:s,promisedType:a}:void 0}function Hie(e,t,n,r){e.replaceNode(t,n,_w.createTypeReferenceNode("Promise",[r]))}Z7({errorCodes:Wie,fixIds:[Uie],getCodeActions:function(e){const{sourceFile:t,program:n,span:r}=e,i=n.getTypeChecker(),o=$ie(t,n.getTypeChecker(),r.start);if(!o)return;const{returnTypeNode:a,returnType:s,promisedTypeNode:c,promisedType:l}=o,_=rde.ChangeTracker.with(e,e=>Hie(e,t,a,c));return[G7(Uie,_,[ma.Replace_0_with_Promise_1,i.typeToString(s),i.typeToString(l)],Uie,ma.Fix_all_incorrect_return_type_of_an_async_functions)]},getAllCodeActions:e=>i5(e,Wie,(t,n)=>{const r=$ie(n.file,e.program.getTypeChecker(),n.start);r&&Hie(t,n.file,r.returnTypeNode,r.promisedTypeNode)})});var Kie="disableJsDiagnostics",Gie="disableJsDiagnostics",Xie=z(Object.keys(ma),e=>{const t=ma[e];return 1===t.category?t.code:void 0});function Qie(e,t,n,r){const{line:i}=$a(t,n);r&&!U(r,i)||e.insertCommentBeforeLine(t,i,n," @ts-ignore")}function Zie(e,t,n,r,i,o,a){const s=e.symbol.members;for(const c of t)s.has(c.escapedName)||toe(c,e,n,r,i,o,a,void 0)}function Yie(e){return{trackSymbol:()=>!1,moduleResolverHost:rZ(e.program,e.host)}}Z7({errorCodes:Xie,getCodeActions:function(e){const{sourceFile:t,program:n,span:r,host:i,formatContext:o}=e;if(!Om(t)||!sT(t,n.getCompilerOptions()))return;const a=t.checkJsDirective?"":$Z(i,o.options),s=[K7(Kie,[r5(t.fileName,[VQ(t.checkJsDirective?Qs(t.checkJsDirective.pos,t.checkJsDirective.end):Xs(0,0),`// @ts-nocheck${a}`)])],ma.Disable_checking_for_this_file)];return rde.isValidLocationToAddComment(t,r.start)&&s.unshift(G7(Kie,rde.ChangeTracker.with(e,e=>Qie(e,t,r.start)),ma.Ignore_this_error_message,Gie,ma.Add_ts_ignore_to_all_error_messages)),s},fixIds:[Gie],getAllCodeActions:e=>{const t=new Set;return i5(e,Xie,(e,n)=>{rde.isValidLocationToAddComment(n.file,n.start)&&Qie(e,n.file,n.start,t)})}});var eoe=(e=>(e[e.Method=1]="Method",e[e.Property=2]="Property",e[e.All=3]="All",e))(eoe||{});function toe(e,t,n,r,i,o,a,s,c=3,l=!1){var _;const d=e.getDeclarations(),f=he(d),m=r.program.getTypeChecker(),g=Sk(r.program.getCompilerOptions()),h=null!=(_=null==f?void 0:f.kind)?_:171,y=function(e,t){if(262144&cx(e)){const t=e.links.nameType;if(t&&dC(t))return _w.createIdentifier(bc(pC(t)))}return oY(Ec(t),!1)}(e,f),v=f?Uv(f):0;let b=256&v;b|=1&v?1:4&v?4:0,f&&y_(f)&&(b|=512);const x=function(){let e;return b&&(e=ce(e,_w.createModifiersFromModifierFlags(b))),r.program.getCompilerOptions().noImplicitOverride&&f&&jv(f)&&(e=se(e,_w.createToken(164))),e&&_w.createNodeArray(e)}(),k=m.getWidenedType(m.getTypeOfSymbolAtLocation(e,t)),S=!!(16777216&e.flags),T=!!(33554432&t.flags)||l,C=lZ(n,i),w=1|(0===C?268435456:0);switch(h){case 171:case 172:let n=m.typeToTypeNode(k,t,w,8,Yie(r));if(o){const e=voe(n,g);e&&(n=e.typeNode,xoe(o,e.symbols))}a(_w.createPropertyDeclaration(x,f?N(y):e.getName(),S&&2&c?_w.createToken(58):void 0,n,void 0));break;case 177:case 178:{fn.assertIsDefined(d);let e=m.typeToTypeNode(k,t,w,void 0,Yie(r));const n=hv(d,f),i=n.secondAccessor?[n.firstAccessor,n.secondAccessor]:[n.firstAccessor];if(o){const t=voe(e,g);t&&(e=t.typeNode,xoe(o,t.symbols))}for(const t of i)if(DN(t))a(_w.createGetAccessorDeclaration(x,N(y),u,E(e),F(s,C,T)));else{fn.assertNode(t,NN,"The counterpart to a getter should be a setter");const n=lv(t),r=n&&tN(n.name)?xc(n.name):void 0;a(_w.createSetAccessorDeclaration(x,N(y),doe(1,[r],[E(e)],1,!1),F(s,C,T)))}break}case 173:case 174:fn.assertIsDefined(d);const i=k.isUnion()?j(k.types,e=>e.getCallSignatures()):k.getCallSignatures();if(!K(i))break;if(1===d.length){fn.assert(1===i.length,"One declaration implies one signature");const e=i[0];D(C,e,x,N(y),F(s,C,T));break}for(const e of i)e.declaration&&33554432&e.declaration.flags||D(C,e,x,N(y));if(!T)if(d.length>i.length){const e=m.getSignatureFromDeclaration(d[d.length-1]);D(C,e,x,N(y),F(s,C))}else fn.assert(d.length===i.length,"Declarations and signatures should match count"),a(function(e,t,n,r,i,o,a,s,c){let l=r[0],_=r[0].minArgumentCount,u=!1;for(const p of r)_=Math.min(p.minArgumentCount,_),_J(p)&&(u=!0),p.parameters.length>=l.parameters.length&&(!_J(p)||_J(l))&&(l=p);const d=l.parameters.length-(_J(l)?1:0),f=l.parameters.map(e=>e.name),m=doe(d,f,void 0,_,!1);if(u){const e=_w.createParameterDeclaration(void 0,_w.createToken(26),f[d]||"rest",d>=_?_w.createToken(58):void 0,_w.createArrayTypeNode(_w.createKeywordTypeNode(159)),void 0);m.push(e)}return function(e,t,n,r,i,o,a,s){return _w.createMethodDeclaration(e,void 0,t,n?_w.createToken(58):void 0,r,i,o,s||poe(a))}(a,i,o,void 0,m,function(e,t,n,r){if(p(e)){const i=t.getUnionType(A(e,t.getReturnTypeOfSignature));return t.typeToTypeNode(i,r,1,8,Yie(n))}}(r,e,t,n),s,c)}(m,r,t,i,N(y),S&&!!(1&c),x,C,s))}function D(e,n,i,s,l){const _=noe(174,r,e,n,l,s,i,S&&!!(1&c),t,o);_&&a(_)}function N(e){return tN(e)&&"constructor"===e.escapedText?_w.createComputedPropertyName(_w.createStringLiteral(xc(e),0===C)):oY(e,!1)}function F(e,t,n){return n?void 0:oY(e,!1)||poe(t)}function E(e){return oY(e,!1)}}function noe(e,t,n,r,i,o,a,s,c,l){const _=t.program,u=_.getTypeChecker(),d=Sk(_.getCompilerOptions()),p=Om(c),f=524545|(0===n?268435456:0),m=u.signatureToSignatureDeclaration(r,e,c,f,8,Yie(t));if(!m)return;let g=p?void 0:m.typeParameters,h=m.parameters,y=p?void 0:oY(m.type);if(l){if(g){const e=O(g,e=>{let t=e.constraint,n=e.default;if(t){const e=voe(t,d);e&&(t=e.typeNode,xoe(l,e.symbols))}if(n){const e=voe(n,d);e&&(n=e.typeNode,xoe(l,e.symbols))}return _w.updateTypeParameterDeclaration(e,e.modifiers,e.name,t,n)});g!==e&&(g=vI(_w.createNodeArray(e,g.hasTrailingComma),g))}const e=O(h,e=>{let t=p?void 0:e.type;if(t){const e=voe(t,d);e&&(t=e.typeNode,xoe(l,e.symbols))}return _w.updateParameterDeclaration(e,e.modifiers,e.dotDotDotToken,e.name,p?void 0:e.questionToken,t,e.initializer)});if(h!==e&&(h=vI(_w.createNodeArray(e,h.hasTrailingComma),h)),y){const e=voe(y,d);e&&(y=e.typeNode,xoe(l,e.symbols))}}const v=s?_w.createToken(58):void 0,b=m.asteriskToken;return fF(m)?_w.updateFunctionExpression(m,a,m.asteriskToken,it(o,tN),g,h,y,null!=i?i:m.body):mF(m)?_w.updateArrowFunction(m,a,g,h,y,m.equalsGreaterThanToken,null!=i?i:m.body):TN(m)?_w.updateMethodDeclaration(m,a,b,null!=o?o:_w.createIdentifier(""),v,g,h,y,i):aE(m)?_w.updateFunctionDeclaration(m,a,m.asteriskToken,it(o,tN),g,h,y,null!=i?i:m.body):void 0}function roe(e,t,n,r,i,o,a){const s=lZ(t.sourceFile,t.preferences),c=Sk(t.program.getCompilerOptions()),l=Yie(t),_=t.program.getTypeChecker(),u=Om(a),{typeArguments:d,arguments:p,parent:f}=r,m=u?void 0:_.getContextualType(r),g=A(p,e=>tN(e)?e.text:sF(e)&&tN(e.name)?e.name.text:void 0),h=u?[]:A(p,e=>_.getTypeAtLocation(e)),{argumentTypeNodes:y,argumentTypeParameters:v}=function(e,t,n,r,i,o,a,s){const c=[],l=new Map;for(let _=0;_<n.length;_+=1){const u=n[_];if(u.isUnionOrIntersection()&&u.types.some(loe)){const e=ioe(_);c.push(_w.createTypeReferenceNode(e)),l.set(e,void 0);continue}const d=e.getBaseTypeOfLiteralType(u),p=ooe(e,t,d,r,i,o,a,s);if(!p)continue;c.push(p);const f=uoe(u),m=u.isTypeParameter()&&u.constraint&&!_oe(u.constraint)?ooe(e,t,u.constraint,r,i,o,a,s):void 0;f&&l.set(f,{argumentType:u,constraint:m})}return{argumentTypeNodes:c,argumentTypeParameters:Re(l.entries())}}(_,n,h,a,c,1,8,l),b=o?_w.createNodeArray(_w.createModifiersFromModifierFlags(o)):void 0,x=CF(f)?_w.createToken(42):void 0,k=u?void 0:function(e,t,n){const r=new Set(t.map(e=>e[0])),i=new Map(t);if(n){const i=n.filter(n=>!t.some(t=>{var r;return e.getTypeAtLocation(n)===(null==(r=t[1])?void 0:r.argumentType)})),o=r.size+i.length;for(let e=0;r.size<o;e+=1)r.add(ioe(e))}return Re(r.values(),e=>{var t;return _w.createTypeParameterDeclaration(void 0,e,null==(t=i.get(e))?void 0:t.constraint)})}(_,v,d),S=doe(p.length,g,y,void 0,u),T=u||void 0===m?void 0:_.typeToTypeNode(m,a,void 0,void 0,l);switch(e){case 174:return _w.createMethodDeclaration(b,x,i,void 0,k,S,T,poe(s));case 173:return _w.createMethodSignature(b,i,void 0,k,S,void 0===T?_w.createKeywordTypeNode(159):T);case 262:return fn.assert("string"==typeof i||tN(i),"Unexpected name"),_w.createFunctionDeclaration(b,x,i,k,S,T,foe(ma.Function_not_implemented.message,s));default:fn.fail("Unexpected kind")}}function ioe(e){return 84+e<=90?String.fromCharCode(84+e):`T${e}`}function ooe(e,t,n,r,i,o,a,s){const c=e.typeToTypeNode(n,r,o,a,s);if(c)return aoe(c,t,i)}function aoe(e,t,n){const r=voe(e,n);return r&&(xoe(t,r.symbols),e=r.typeNode),oY(e)}function soe(e,t,n,r,i,o){let a=e.typeToTypeNode(t,n,r,i,o);if(a){if(IN(a)){const n=t;if(n.typeArguments&&a.typeArguments){const t=function(e,t){fn.assert(t.typeArguments);const n=t.typeArguments,r=t.target;for(let i=0;i<n.length;i++){const t=n.slice(0,i);if(e.fillMissingTypeArguments(t,r.typeParameters,i,!1).every((e,t)=>e===n[t]))return i}return n.length}(e,n);if(t<a.typeArguments.length){const e=_w.createNodeArray(a.typeArguments.slice(0,t));a=_w.updateTypeReferenceNode(a,a.typeName,e)}}}return a}}function coe(e,t,n,r,i,o,a,s){let c=e.typePredicateToTypePredicateNode(n,r,o,a,s);if((null==c?void 0:c.type)&&YN(c.type)){const e=voe(c.type,i);e&&(xoe(t,e.symbols),c=_w.updateTypePredicateNode(c,c.assertsModifier,c.parameterName,e.typeNode))}return oY(c)}function loe(e){return e.isUnionOrIntersection()?e.types.some(loe):262144&e.flags}function _oe(e){return 524288&e.flags&&16===e.objectFlags}function uoe(e){var t;if(3145728&e.flags)for(const n of e.types){const e=uoe(n);if(e)return e}return 262144&e.flags?null==(t=e.getSymbol())?void 0:t.getName():void 0}function doe(e,t,n,r,i){const o=[],a=new Map;for(let s=0;s<e;s++){const e=(null==t?void 0:t[s])||`arg${s}`,c=a.get(e);a.set(e,(c||0)+1);const l=_w.createParameterDeclaration(void 0,void 0,e+(c||""),void 0!==r&&s>=r?_w.createToken(58):void 0,i?void 0:(null==n?void 0:n[s])||_w.createKeywordTypeNode(159),void 0);o.push(l)}return o}function poe(e){return foe(ma.Method_not_implemented.message,e)}function foe(e,t){return _w.createBlock([_w.createThrowStatement(_w.createNewExpression(_w.createIdentifier("Error"),void 0,[_w.createStringLiteral(e,0===t)]))],!0)}function moe(e,t,n){const r=Gf(t);if(!r)return;const i=yoe(r,"compilerOptions");if(void 0===i)return void e.insertNodeAtObjectStart(t,r,hoe("compilerOptions",_w.createObjectLiteralExpression(n.map(([e,t])=>hoe(e,t)),!0)));const o=i.initializer;if(aF(o))for(const[a,s]of n){const n=yoe(o,a);void 0===n?e.insertNodeAtObjectStart(t,o,hoe(a,s)):e.replaceNode(t,n.initializer,s)}}function goe(e,t,n,r){moe(e,t,[[n,r]])}function hoe(e,t){return _w.createPropertyAssignment(_w.createStringLiteral(e),t)}function yoe(e,t){return k(e.properties,e=>ZE(e)&&!!e.name&&MD(e.name)&&e.name.text===t)}function voe(e,t){let n;const r=pJ(e,function e(r){if(gf(r)&&r.qualifier){const i=db(r.qualifier);if(!i.symbol)return SJ(r,e,void 0);const o=i0(i.symbol,t),a=o!==i.text?boe(r.qualifier,_w.createIdentifier(o)):r.qualifier;n=se(n,i.symbol);const s=fJ(r.typeArguments,e,C_);return _w.createTypeReferenceNode(a,s)}return SJ(r,e,void 0)},C_);if(n&&r)return{typeNode:r,symbols:n}}function boe(e,t){return 80===e.kind?t:_w.createQualifiedName(boe(e.left,t),e.right)}function xoe(e,t){t.forEach(t=>e.addImportFromExportedSymbol(t,!0))}function koe(e,t){const n=Os(t);let r=tQ(e,t.start);for(;r.end<n;)r=r.parent;return r}function Soe(e,t,n,r,i,o){const a=Doe(e,t,n,r);if(!a||m6.isRefactorErrorInfo(a))return;const s=rde.ChangeTracker.fromContext(i),{isStatic:c,isReadonly:l,fieldName:_,accessorName:u,originalName:d,type:p,container:f,declaration:m}=a;let g,h;if(_Y(_),_Y(u),_Y(m),_Y(f),g_(f)){const t=Uv(m);if(Im(e)){const e=_w.createModifiersFromModifierFlags(t);g=e,h=e}else g=_w.createModifiersFromModifierFlags(function(e){return e&=-9,4&(e&=-3)||(e|=1),e}(t)),h=_w.createModifiersFromModifierFlags(function(e){return e&=-2,e&=-5,e|=2}(t));xI(m)&&(h=X(Ac(m),h))}!function(e,t,n,r,i,o){kN(n)?function(e,t,n,r,i,o){const a=_w.updatePropertyDeclaration(n,o,i,n.questionToken||n.exclamationToken,r,n.initializer);e.replaceNode(t,n,a)}(e,t,n,r,i,o):ZE(n)?function(e,t,n,r){let i=_w.updatePropertyAssignment(n,r,n.initializer);(i.modifiers||i.questionToken||i.exclamationToken)&&(i===n&&(i=_w.cloneNode(i)),i.modifiers=void 0,i.questionToken=void 0,i.exclamationToken=void 0),e.replacePropertyAssignment(t,n,i)}(e,t,n,i):e.replaceNode(t,n,_w.updateParameterDeclaration(n,o,n.dotDotDotToken,ot(i,tN),n.questionToken,n.type,n.initializer))}(s,e,m,p,_,h);const y=function(e,t,n,r,i,o){return _w.createGetAccessorDeclaration(r,t,[],n,_w.createBlock([_w.createReturnStatement(woe(e,i,o))],!0))}(_,u,p,g,c,f);if(_Y(y),Noe(s,e,y,m,f),l){const t=cv(f);t&&function(e,t,n,r,i){n.body&&n.body.forEachChild(function n(o){cF(o)&&110===o.expression.kind&&MD(o.argumentExpression)&&o.argumentExpression.text===i&&px(o)&&e.replaceNode(t,o.argumentExpression,_w.createStringLiteral(r)),sF(o)&&110===o.expression.kind&&o.name.text===i&&px(o)&&e.replaceNode(t,o.name,_w.createIdentifier(r)),c_(o)||g_(o)||o.forEachChild(n)})}(s,e,t,_.text,d)}else{const t=function(e,t,n,r,i,o){return _w.createSetAccessorDeclaration(r,t,[_w.createParameterDeclaration(void 0,void 0,_w.createIdentifier("value"),void 0,n)],_w.createBlock([_w.createExpressionStatement(_w.createAssignment(woe(e,i,o),_w.createIdentifier("value")))],!0))}(_,u,p,g,c,f);_Y(t),Noe(s,e,t,m,f)}return s.getChanges()}function Toe(e){return ic(e,e.parent)||kN(e)||ZE(e)}function Coe(e,t){return tN(t)?_w.createIdentifier(e):_w.createStringLiteral(e)}function woe(e,t,n){const r=t?n.name:_w.createThis();return tN(e)?_w.createPropertyAccessExpression(r,e):_w.createElementAccessExpression(r,_w.createStringLiteralFromNode(e))}function Doe(e,t,n,r,i=!0){const o=n===r&&i,a=gc(tQ(e,n).parent,Toe);if(!a||!OX(a.name,e,n,r)&&!o)return{error:Gx(ma.Could_not_find_property_for_which_to_generate_accessor)};if(!function(e){return tN(e)||MD(e)}(a.name))return{error:Gx(ma.Name_is_not_valid)};if(271!=(98303&Uv(a)|271))return{error:Gx(ma.Can_only_convert_property_with_modifier)};const s=a.name.text,c=l0(s),l=Coe(c?s:gY(`_${s}`,e),a.name),_=Coe(c?gY(s.substring(1),e):s,a.name);return{isStatic:Ov(a),isReadonly:Bv(a),type:Foe(a,t),container:169===a.kind?a.parent.parent:a.parent,originalName:a.name.text,declaration:a,fieldName:l,accessorName:_,renameAccessor:c}}function Noe(e,t,n,r,i){ic(r,r.parent)?e.insertMemberAtStart(t,i,n):ZE(r)?e.insertNodeAfterComma(t,r,n):e.insertNodeAfter(t,r,n)}function Foe(e,t){const n=vv(e);if(kN(e)&&n&&e.questionToken){const e=t.getTypeChecker(),r=e.getTypeFromTypeNode(n);if(!e.isTypeAssignableTo(e.getUndefinedType(),r)){const e=VN(n)?n.types:[n];return _w.createUnionTypeNode([...e,_w.createKeywordTypeNode(157)])}}return n}function Eoe(e,t){const n=[];for(;e;){const r=Sh(e),i=r&&t.getSymbolAtLocation(r.expression);if(!i)break;const o=2097152&i.flags?t.getAliasedSymbol(i):i,a=o.declarations&&k(o.declarations,g_);if(!a)break;n.push(a),e=a}return n}var Poe="invalidImportSyntax";function Aoe(e,t,n,r){const i=rde.ChangeTracker.with(e,e=>e.replaceNode(t,n,r));return K7(Poe,i,[ma.Replace_import_with_0,i[0].textChanges[0].newText])}function Ioe(e,t){const n=e.program.getTypeChecker().getTypeAtLocation(t);if(!(n.symbol&&ed(n.symbol)&&n.symbol.links.originatingImport))return[];const r=[],i=n.symbol.links.originatingImport;if(ff(i)||_e(r,function(e,t){const n=Sd(t),r=Dg(t),i=e.program.getCompilerOptions(),o=[];return o.push(Aoe(e,n,t,oZ(r.name,void 0,t.moduleSpecifier,lZ(n,e.preferences)))),1===Tk(i)&&o.push(Aoe(e,n,t,_w.createImportEqualsDeclaration(void 0,!1,r.name,_w.createExternalModuleReference(t.moduleSpecifier)))),o}(e,i)),G_(t)&&(!Nc(t.parent)||t.parent.name!==t)){const n=e.sourceFile,i=rde.ChangeTracker.with(e,e=>e.replaceNode(n,t,_w.createPropertyAccessExpression(t,"default"),{}));r.push(K7(Poe,i,ma.Use_synthetic_default_member))}return r}Z7({errorCodes:[ma.This_expression_is_not_callable.code,ma.This_expression_is_not_constructable.code],getCodeActions:function(e){const t=e.sourceFile,n=ma.This_expression_is_not_callable.code===e.errorCode?213:214,r=gc(tQ(t,e.span.start),e=>e.kind===n);if(!r)return[];const i=r.expression;return Ioe(e,i)}}),Z7({errorCodes:[ma.Argument_of_type_0_is_not_assignable_to_parameter_of_type_1.code,ma.Type_0_does_not_satisfy_the_constraint_1.code,ma.Type_0_is_not_assignable_to_type_1.code,ma.Type_0_is_not_assignable_to_type_1_Two_different_types_with_this_name_exist_but_they_are_unrelated.code,ma.Type_predicate_0_is_not_assignable_to_1.code,ma.Property_0_of_type_1_is_not_assignable_to_2_index_type_3.code,ma._0_index_type_1_is_not_assignable_to_2_index_type_3.code,ma.Property_0_in_type_1_is_not_assignable_to_the_same_property_in_base_type_2.code,ma.Property_0_in_type_1_is_not_assignable_to_type_2.code,ma.Property_0_of_JSX_spread_attribute_is_not_assignable_to_target_property.code,ma.The_this_context_of_type_0_is_not_assignable_to_method_s_this_of_type_1.code],getCodeActions:function(e){const t=gc(tQ(e.sourceFile,e.span.start),t=>t.getStart()===e.span.start&&t.getEnd()===e.span.start+e.span.length);return t?Ioe(e,t):[]}});var Ooe="strictClassInitialization",Loe="addMissingPropertyDefiniteAssignmentAssertions",joe="addMissingPropertyUndefinedType",Roe="addMissingPropertyInitializer",Moe=[ma.Property_0_has_no_initializer_and_is_not_definitely_assigned_in_the_constructor.code];function Boe(e,t){const n=tQ(e,t);if(tN(n)&&kN(n.parent)){const e=yv(n.parent);if(e)return{type:e,prop:n.parent,isJs:Om(n.parent)}}}function Joe(e,t,n){_Y(n);const r=_w.updatePropertyDeclaration(n,n.modifiers,n.name,_w.createToken(54),n.type,n.initializer);e.replaceNode(t,n,r)}function zoe(e,t,n){const r=_w.createKeywordTypeNode(157),i=VN(n.type)?n.type.types.concat(r):[n.type,r],o=_w.createUnionTypeNode(i);n.isJs?e.addJSDocTags(t,n.prop,[_w.createJSDocTypeTag(void 0,_w.createJSDocTypeExpression(o))]):e.replaceNode(t,n.type,o)}function qoe(e,t,n,r){_Y(n);const i=_w.updatePropertyDeclaration(n,n.modifiers,n.name,n.questionToken,n.type,r);e.replaceNode(t,n,i)}function Voe(e,t){return Uoe(e,e.getTypeFromTypeNode(t.type))}function Uoe(e,t){if(512&t.flags)return t===e.getFalseType()||t===e.getFalseType(!0)?_w.createFalse():_w.createTrue();if(t.isStringLiteral())return _w.createStringLiteral(t.value);if(t.isNumberLiteral())return _w.createNumericLiteral(t.value);if(2048&t.flags)return _w.createBigIntLiteral(t.value);if(t.isUnion())return g(t.types,t=>Uoe(e,t));if(t.isClass()){const e=bx(t.symbol);if(!e||Av(e,64))return;const n=cv(e);if(n&&n.parameters.length)return;return _w.createNewExpression(_w.createIdentifier(t.symbol.name),void 0,void 0)}return e.isArrayLikeType(t)?_w.createArrayLiteralExpression():void 0}Z7({errorCodes:Moe,getCodeActions:function(e){const t=Boe(e.sourceFile,e.span.start);if(!t)return;const n=[];return se(n,function(e,t){const n=rde.ChangeTracker.with(e,n=>zoe(n,e.sourceFile,t));return G7(Ooe,n,[ma.Add_undefined_type_to_property_0,t.prop.name.getText()],joe,ma.Add_undefined_type_to_all_uninitialized_properties)}(e,t)),se(n,function(e,t){if(t.isJs)return;const n=rde.ChangeTracker.with(e,n=>Joe(n,e.sourceFile,t.prop));return G7(Ooe,n,[ma.Add_definite_assignment_assertion_to_property_0,t.prop.getText()],Loe,ma.Add_definite_assignment_assertions_to_all_uninitialized_properties)}(e,t)),se(n,function(e,t){if(t.isJs)return;const n=e.program.getTypeChecker(),r=Voe(n,t.prop);if(!r)return;const i=rde.ChangeTracker.with(e,n=>qoe(n,e.sourceFile,t.prop,r));return G7(Ooe,i,[ma.Add_initializer_to_property_0,t.prop.name.getText()],Roe,ma.Add_initializers_to_all_uninitialized_properties)}(e,t)),n},fixIds:[Loe,joe,Roe],getAllCodeActions:e=>i5(e,Moe,(t,n)=>{const r=Boe(n.file,n.start);if(r)switch(e.fixId){case Loe:Joe(t,n.file,r.prop);break;case joe:zoe(t,n.file,r);break;case Roe:const i=Voe(e.program.getTypeChecker(),r.prop);if(!i)return;qoe(t,n.file,r.prop,i);break;default:fn.fail(JSON.stringify(e.fixId))}})});var Woe="requireInTs",$oe=[ma.require_call_may_be_converted_to_an_import.code];function Hoe(e,t,n){const{allowSyntheticDefaults:r,defaultImportName:i,namedImports:o,statement:a,moduleSpecifier:s}=n;e.replaceNode(t,a,i&&!r?_w.createImportEqualsDeclaration(void 0,!1,i,_w.createExternalModuleReference(s)):_w.createImportDeclaration(void 0,_w.createImportClause(!1,i,o),s,void 0))}function Koe(e,t,n,r){const{parent:i}=tQ(e,n);Bm(i,!0)||fn.failBadSyntaxKind(i);const o=ot(i.parent,iE),a=lZ(e,r),s=it(o.name,tN),c=nF(o.name)?function(e){const t=[];for(const n of e.elements){if(!tN(n.name)||n.initializer)return;t.push(_w.createImportSpecifier(!1,it(n.propertyName,tN),n.name))}if(t.length)return _w.createNamedImports(t)}(o.name):void 0;if(s||c){const e=ve(i.arguments);return{allowSyntheticDefaults:Fk(t.getCompilerOptions()),defaultImportName:s,namedImports:c,statement:ot(o.parent.parent,JF),moduleSpecifier:zD(e)?_w.createStringLiteral(e.text,0===a):e}}}Z7({errorCodes:$oe,getCodeActions(e){const t=Koe(e.sourceFile,e.program,e.span.start,e.preferences);if(!t)return;const n=rde.ChangeTracker.with(e,n=>Hoe(n,e.sourceFile,t));return[G7(Woe,n,ma.Convert_require_to_import,Woe,ma.Convert_all_require_to_import)]},fixIds:[Woe],getAllCodeActions:e=>i5(e,$oe,(t,n)=>{const r=Koe(n.file,e.program,n.start,e.preferences);r&&Hoe(t,e.sourceFile,r)})});var Goe="useDefaultImport",Xoe=[ma.Import_may_be_converted_to_a_default_import.code];function Qoe(e,t){const n=tQ(e,t);if(!tN(n))return;const{parent:r}=n;if(mE(r)&&LE(r.moduleReference))return{importNode:r,name:n,moduleSpecifier:r.moduleReference.expression};if(SE(r)&&gE(r.parent.parent)){const e=r.parent.parent;return{importNode:e,name:n,moduleSpecifier:e.moduleSpecifier}}}function Zoe(e,t,n,r){e.replaceNode(t,n.importNode,oZ(n.name,void 0,n.moduleSpecifier,lZ(t,r)))}Z7({errorCodes:Xoe,getCodeActions(e){const{sourceFile:t,span:{start:n}}=e,r=Qoe(t,n);if(!r)return;const i=rde.ChangeTracker.with(e,n=>Zoe(n,t,r,e.preferences));return[G7(Goe,i,ma.Convert_to_default_import,Goe,ma.Convert_all_to_default_imports)]},fixIds:[Goe],getAllCodeActions:e=>i5(e,Xoe,(t,n)=>{const r=Qoe(n.file,n.start);r&&Zoe(t,n.file,r,e.preferences)})});var Yoe="useBigintLiteral",eae=[ma.Numeric_literals_with_absolute_values_equal_to_2_53_or_greater_are_too_large_to_be_represented_accurately_as_integers.code];function tae(e,t,n){const r=it(tQ(t,n.start),jD);if(!r)return;const i=r.getText(t)+"n";e.replaceNode(t,r,_w.createBigIntLiteral(i))}Z7({errorCodes:eae,getCodeActions:function(e){const t=rde.ChangeTracker.with(e,t=>tae(t,e.sourceFile,e.span));if(t.length>0)return[G7(Yoe,t,ma.Convert_to_a_bigint_numeric_literal,Yoe,ma.Convert_all_to_bigint_numeric_literals)]},fixIds:[Yoe],getAllCodeActions:e=>i5(e,eae,(e,t)=>tae(e,t.file,t))});var nae="fixAddModuleReferTypeMissingTypeof",rae=[ma.Module_0_does_not_refer_to_a_type_but_is_used_as_a_type_here_Did_you_mean_typeof_import_0.code];function iae(e,t){const n=tQ(e,t);return fn.assert(102===n.kind,"This token should be an ImportKeyword"),fn.assert(205===n.parent.kind,"Token parent should be an ImportType"),n.parent}function oae(e,t,n){const r=_w.updateImportTypeNode(n,n.argument,n.attributes,n.qualifier,n.typeArguments,!0);e.replaceNode(t,n,r)}Z7({errorCodes:rae,getCodeActions:function(e){const{sourceFile:t,span:n}=e,r=iae(t,n.start),i=rde.ChangeTracker.with(e,e=>oae(e,t,r));return[G7(nae,i,ma.Add_missing_typeof,nae,ma.Add_missing_typeof)]},fixIds:[nae],getAllCodeActions:e=>i5(e,rae,(t,n)=>oae(t,e.sourceFile,iae(n.file,n.start)))});var aae="wrapJsxInFragment",sae=[ma.JSX_expressions_must_have_one_parent_element.code];function cae(e,t){let n=tQ(e,t).parent.parent;if((kF(n)||(n=n.parent,kF(n)))&&Pd(n.operatorToken))return n}function lae(e,t,n){const r=function(e){const t=[];let n=e;for(;;){if(kF(n)&&Pd(n.operatorToken)&&28===n.operatorToken.kind){if(t.push(n.left),ku(n.right))return t.push(n.right),t;if(kF(n.right)){n=n.right;continue}return}return}}(n);r&&e.replaceNode(t,n,_w.createJsxFragment(_w.createJsxOpeningFragment(),r,_w.createJsxJsxClosingFragment()))}Z7({errorCodes:sae,getCodeActions:function(e){const{sourceFile:t,span:n}=e,r=cae(t,n.start);if(!r)return;const i=rde.ChangeTracker.with(e,e=>lae(e,t,r));return[G7(aae,i,ma.Wrap_in_JSX_fragment,aae,ma.Wrap_all_unparented_JSX_in_JSX_fragment)]},fixIds:[aae],getAllCodeActions:e=>i5(e,sae,(t,n)=>{const r=cae(e.sourceFile,n.start);r&&lae(t,e.sourceFile,r)})});var _ae="wrapDecoratorInParentheses",uae=[ma.Expression_must_be_enclosed_in_parentheses_to_be_used_as_a_decorator.code];function dae(e,t,n){const r=gc(tQ(t,n),bN);fn.assert(!!r,"Expected position to be owned by a decorator.");const i=_w.createParenthesizedExpression(r.expression);e.replaceNode(t,r.expression,i)}Z7({errorCodes:uae,getCodeActions:function(e){const t=rde.ChangeTracker.with(e,t=>dae(t,e.sourceFile,e.span.start));return[G7(_ae,t,ma.Wrap_in_parentheses,_ae,ma.Wrap_all_invalid_decorator_expressions_in_parentheses)]},fixIds:[_ae],getAllCodeActions:e=>i5(e,uae,(e,t)=>dae(e,t.file,t.start))});var pae="fixConvertToMappedObjectType",fae=[ma.An_index_signature_parameter_type_cannot_be_a_literal_type_or_generic_type_Consider_using_a_mapped_object_type_instead.code];function mae(e,t){const n=it(tQ(e,t).parent.parent,PN);if(!n)return;const r=cE(n.parent)?n.parent:it(n.parent.parent,lE);return r?{indexSignature:n,container:r}:void 0}function gae(e,t,{indexSignature:n,container:r}){const i=(cE(r)?r.members:r.type.members).filter(e=>!PN(e)),o=ve(n.parameters),a=_w.createTypeParameterDeclaration(void 0,ot(o.name,tN),o.type),s=_w.createMappedTypeNode(Bv(n)?_w.createModifier(148):void 0,a,void 0,n.questionToken,n.type,void 0),c=_w.createIntersectionTypeNode([...Ch(r),s,...i.length?[_w.createTypeLiteralNode(i)]:u]);var l,_;e.replaceNode(t,r,(l=r,_=c,_w.createTypeAliasDeclaration(l.modifiers,l.name,l.typeParameters,_)))}Z7({errorCodes:fae,getCodeActions:function(e){const{sourceFile:t,span:n}=e,r=mae(t,n.start);if(!r)return;const i=rde.ChangeTracker.with(e,e=>gae(e,t,r)),o=xc(r.container.name);return[G7(pae,i,[ma.Convert_0_to_mapped_object_type,o],pae,[ma.Convert_0_to_mapped_object_type,o])]},fixIds:[pae],getAllCodeActions:e=>i5(e,fae,(e,t)=>{const n=mae(t.file,t.start);n&&gae(e,t.file,n)})});var hae="removeAccidentalCallParentheses";Z7({errorCodes:[ma.This_expression_is_not_callable_because_it_is_a_get_accessor_Did_you_mean_to_use_it_without.code],getCodeActions(e){const t=gc(tQ(e.sourceFile,e.span.start),lF);if(!t)return;const n=rde.ChangeTracker.with(e,n=>{n.deleteRange(e.sourceFile,{pos:t.expression.end,end:t.end})});return[K7(hae,n,ma.Remove_parentheses)]},fixIds:[hae]});var yae="removeUnnecessaryAwait",vae=[ma.await_has_no_effect_on_the_type_of_this_expression.code];function bae(e,t,n){const r=it(tQ(t,n.start),e=>135===e.kind),i=r&&it(r.parent,vF);if(!i)return;let o=i;if(pF(i.parent)&&tN(Ix(i.expression,!1))){const e=aQ(i.parent.pos,t);e&&105!==e.kind&&(o=i.parent)}e.replaceNode(t,o,i.expression)}Z7({errorCodes:vae,getCodeActions:function(e){const t=rde.ChangeTracker.with(e,t=>bae(t,e.sourceFile,e.span));if(t.length>0)return[G7(yae,t,ma.Remove_unnecessary_await,yae,ma.Remove_all_unnecessary_uses_of_await)]},fixIds:[yae],getAllCodeActions:e=>i5(e,vae,(e,t)=>bae(e,t.file,t))});var xae=[ma.A_type_only_import_can_specify_a_default_import_or_named_bindings_but_not_both.code],kae="splitTypeOnlyImport";function Sae(e,t){return gc(tQ(e,t.start),gE)}function Tae(e,t,n){if(!t)return;const r=fn.checkDefined(t.importClause);e.replaceNode(n.sourceFile,t,_w.updateImportDeclaration(t,t.modifiers,_w.updateImportClause(r,r.isTypeOnly,r.name,void 0),t.moduleSpecifier,t.attributes)),e.insertNodeAfter(n.sourceFile,t,_w.createImportDeclaration(void 0,_w.updateImportClause(r,r.isTypeOnly,void 0,r.namedBindings),t.moduleSpecifier,t.attributes))}Z7({errorCodes:xae,fixIds:[kae],getCodeActions:function(e){const t=rde.ChangeTracker.with(e,t=>Tae(t,Sae(e.sourceFile,e.span),e));if(t.length)return[G7(kae,t,ma.Split_into_two_separate_import_declarations,kae,ma.Split_all_invalid_type_only_imports)]},getAllCodeActions:e=>i5(e,xae,(t,n)=>{Tae(t,Sae(e.sourceFile,n),e)})});var Cae="fixConvertConstToLet",wae=[ma.Cannot_assign_to_0_because_it_is_a_constant.code];function Dae(e,t,n){var r;const i=n.getTypeChecker().getSymbolAtLocation(tQ(e,t));if(void 0===i)return;const o=it(null==(r=null==i?void 0:i.valueDeclaration)?void 0:r.parent,oE);if(void 0===o)return;const a=zX(o,87,e);return void 0!==a?{symbol:i,token:a}:void 0}function Nae(e,t,n){e.replaceNode(t,n,_w.createToken(121))}Z7({errorCodes:wae,getCodeActions:function(e){const{sourceFile:t,span:n,program:r}=e,i=Dae(t,n.start,r);if(void 0===i)return;const o=rde.ChangeTracker.with(e,e=>Nae(e,t,i.token));return[X7(Cae,o,ma.Convert_const_to_let,Cae,ma.Convert_all_const_to_let)]},getAllCodeActions:e=>{const{program:t}=e,n=new Set;return n5(rde.ChangeTracker.with(e,r=>{o5(e,wae,e=>{const i=Dae(e.file,e.start,t);if(i&&Cx(n,iJ(i.symbol)))return Nae(r,e.file,i.token)})}))},fixIds:[Cae]});var Fae="fixExpectedComma",Eae=[ma._0_expected.code];function Pae(e,t,n){const r=tQ(e,t);return 27===r.kind&&r.parent&&(aF(r.parent)||oF(r.parent))?{node:r}:void 0}function Aae(e,t,{node:n}){const r=_w.createToken(28);e.replaceNode(t,n,r)}Z7({errorCodes:Eae,getCodeActions(e){const{sourceFile:t}=e,n=Pae(t,e.span.start,e.errorCode);if(!n)return;const r=rde.ChangeTracker.with(e,e=>Aae(e,t,n));return[G7(Fae,r,[ma.Change_0_to_1,";",","],Fae,[ma.Change_0_to_1,";",","])]},fixIds:[Fae],getAllCodeActions:e=>i5(e,Eae,(t,n)=>{const r=Pae(n.file,n.start,n.code);r&&Aae(t,e.sourceFile,r)})});var Iae="addVoidToPromise",Oae=[ma.Expected_1_argument_but_got_0_new_Promise_needs_a_JSDoc_hint_to_produce_a_resolve_that_can_be_called_without_arguments.code,ma.Expected_0_arguments_but_got_1_Did_you_forget_to_include_void_in_your_type_argument_to_Promise.code];function Lae(e,t,n,r,i){const o=tQ(t,n.start);if(!tN(o)||!lF(o.parent)||o.parent.expression!==o||0!==o.parent.arguments.length)return;const a=r.getTypeChecker(),s=a.getSymbolAtLocation(o),c=null==s?void 0:s.valueDeclaration;if(!c||!vN(c)||!_F(c.parent.parent))return;if(null==i?void 0:i.has(c))return;null==i||i.add(c);const l=function(e){var t;if(!Om(e))return e.typeArguments;if(pF(e.parent)){const n=null==(t=al(e.parent))?void 0:t.typeExpression.type;if(n&&IN(n)&&tN(n.typeName)&&"Promise"===xc(n.typeName))return n.typeArguments}}(c.parent.parent);if(K(l)){const n=l[0],r=!VN(n)&&!HN(n)&&HN(_w.createUnionTypeNode([n,_w.createKeywordTypeNode(116)]).types[0]);r&&e.insertText(t,n.pos,"("),e.insertText(t,n.end,r?") | void":" | void")}else{const n=a.getResolvedSignature(o.parent),r=null==n?void 0:n.parameters[0],i=r&&a.getTypeOfSymbolAtLocation(r,c.parent.parent);Om(c)?(!i||3&i.flags)&&(e.insertText(t,c.parent.parent.end,")"),e.insertText(t,ns(t.text,c.parent.parent.pos),"/** @type {Promise<void>} */(")):(!i||2&i.flags)&&e.insertText(t,c.parent.parent.expression.end,"<void>")}}Z7({errorCodes:Oae,fixIds:[Iae],getCodeActions(e){const t=rde.ChangeTracker.with(e,t=>Lae(t,e.sourceFile,e.span,e.program));if(t.length>0)return[G7("addVoidToPromise",t,ma.Add_void_to_Promise_resolved_without_a_value,Iae,ma.Add_void_to_all_Promises_resolved_without_a_value)]},getAllCodeActions:e=>i5(e,Oae,(t,n)=>Lae(t,n.file,n,e.program,new Set))});var jae={};i(jae,{CompletionKind:()=>Ese,CompletionSource:()=>qae,SortText:()=>Bae,StringCompletions:()=>cce,SymbolOriginInfoKind:()=>Vae,createCompletionDetails:()=>Nse,createCompletionDetailsForSymbol:()=>Dse,getCompletionEntriesFromSymbols:()=>Sse,getCompletionEntryDetails:()=>Cse,getCompletionEntrySymbol:()=>Fse,getCompletionsAtPosition:()=>Zae,getDefaultCommitCharacters:()=>Qae,getPropertiesForObjectExpression:()=>Use,moduleSpecifierResolutionCacheAttemptLimit:()=>Mae,moduleSpecifierResolutionLimit:()=>Rae});var Rae=100,Mae=1e3,Bae={LocalDeclarationPriority:"10",LocationPriority:"11",OptionalMember:"12",MemberDeclaredBySpreadAssignment:"13",SuggestedClassMembers:"14",GlobalsOrKeywords:"15",AutoImportSuggestions:"16",ClassMemberSnippets:"17",JavascriptIdentifiers:"18",Deprecated:e=>"z"+e,ObjectLiteralProperty:(e,t)=>`${e}\0${t}\0`,SortBelow:e=>e+"1"},Jae=[".",",",";"],zae=[".",";"],qae=(e=>(e.ThisProperty="ThisProperty/",e.ClassMemberSnippet="ClassMemberSnippet/",e.TypeOnlyAlias="TypeOnlyAlias/",e.ObjectLiteralMethodSnippet="ObjectLiteralMethodSnippet/",e.SwitchCases="SwitchCases/",e.ObjectLiteralMemberWithComma="ObjectLiteralMemberWithComma/",e))(qae||{}),Vae=(e=>(e[e.ThisType=1]="ThisType",e[e.SymbolMember=2]="SymbolMember",e[e.Export=4]="Export",e[e.Promise=8]="Promise",e[e.Nullable=16]="Nullable",e[e.ResolvedExport=32]="ResolvedExport",e[e.TypeOnlyAlias=64]="TypeOnlyAlias",e[e.ObjectLiteralMethod=128]="ObjectLiteralMethod",e[e.Ignore=256]="Ignore",e[e.ComputedPropertyName=512]="ComputedPropertyName",e[e.SymbolMemberNoExport=2]="SymbolMemberNoExport",e[e.SymbolMemberExport=6]="SymbolMemberExport",e))(Vae||{});function Uae(e){return!!(e&&4&e.kind)}function Wae(e){return!(!e||32!==e.kind)}function $ae(e){return(Uae(e)||Wae(e))&&!!e.isFromPackageJson}function Hae(e){return!!(e&&64&e.kind)}function Kae(e){return!!(e&&128&e.kind)}function Gae(e){return!!(e&&512&e.kind)}function Xae(e,t,n,r,i,o,a,s,c){var l,_,u,d;const p=$n(),f=a||Ek(r.getCompilerOptions())||(null==(l=o.autoImportSpecifierExcludeRegexes)?void 0:l.length);let m=!1,g=0,h=0,y=0,v=0;const b=c({tryResolve:function(e,t){if(t){const t=n.getModuleSpecifierForBestExportInfo(e,i,s);return t&&g++,t||"failed"}const r=f||o.allowIncompleteCompletions&&h<Rae,a=!r&&o.allowIncompleteCompletions&&v<Mae,c=r||a?n.getModuleSpecifierForBestExportInfo(e,i,s,a):void 0;return(!r&&!a||a&&!c)&&(m=!0),h+=(null==c?void 0:c.computedWithoutCacheCount)||0,y+=e.length-((null==c?void 0:c.computedWithoutCacheCount)||0),a&&v++,c||(f?"failed":"skipped")},skippedAny:()=>m,resolvedAny:()=>h>0,resolvedBeyondLimit:()=>h>Rae}),x=v?` (${(y/v*100).toFixed(1)}% hit rate)`:"";return null==(_=t.log)||_.call(t,`${e}: resolved ${h} module specifiers, plus ${g} ambient and ${y} from cache${x}`),null==(u=t.log)||u.call(t,`${e}: response is ${m?"incomplete":"complete"}`),null==(d=t.log)||d.call(t,`${e}: ${$n()-p}`),b}function Qae(e){return e?[]:Jae}function Zae(e,t,n,r,i,o,a,s,c,l,_=!1){var u;const{previousToken:d}=Ise(i,r);if(a&&!_Q(r,i,d)&&!function(e,t,n,r){switch(t){case".":case"@":return!0;case'"':case"'":case"`":return!!n&&DY(n)&&r===n.getStart(e)+1;case"#":return!!n&&nN(n)&&!!em(n);case"<":return!!n&&30===n.kind&&(!kF(n.parent)||Gse(n.parent));case"/":return!!n&&(zu(n)?!!Tg(n):44===n.kind&&BE(n.parent));case" ":return!!n&&fN(n)&&307===n.parent.kind;default:return fn.assertNever(t)}}(r,a,d,i))return;if(" "===a)return o.includeCompletionsForImportStatements&&o.includeCompletionsWithInsertText?{isGlobalCompletion:!0,isMemberCompletion:!1,isNewIdentifierLocation:!0,isIncomplete:!0,entries:[],defaultCommitCharacters:Qae(!0)}:void 0;const p=t.getCompilerOptions(),f=t.getTypeChecker(),m=o.allowIncompleteCompletions?null==(u=e.getIncompleteCompletionsCache)?void 0:u.call(e):void 0;if(m&&3===s&&d&&tN(d)){const n=function(e,t,n,r,i,o,a,s){const c=e.get();if(!c)return;const l=YX(t,s),_=n.text.toLowerCase(),u=P0(t,i,r,o,a),d=Xae("continuePreviousIncompleteResponse",i,U7.createImportSpecifierResolver(t,r,i,o),r,n.getStart(),o,!1,CT(n),e=>{const n=z(c.entries,n=>{var o;if(!n.hasAction||!n.source||!n.data||ese(n.data))return n;if(!oce(n.name,_))return;const{origin:a}=fn.checkDefined(Ose(n.name,n.data,r,i)),s=u.get(t.path,n.data.exportMapKey),c=s&&e.tryResolve(s,!Es(Iy(a.moduleSymbol.name)));if("skipped"===c)return n;if(!c||"failed"===c)return void(null==(o=i.log)||o.call(i,`Unexpected failure resolving auto import for '${n.name}' from '${n.source}'`));const l=__spreadProps(__spreadValues({},a),{kind:32,moduleSpecifier:c.moduleSpecifier});return n.data=yse(l),n.source=kse(l),n.sourceDisplay=[BZ(l.moduleSpecifier)],n});return e.skippedAny()||(c.isIncomplete=void 0),n});return c.entries=d,c.flags=4|(c.flags||0),c.optionalReplacementSpan=ase(l),c}(m,r,d,t,e,o,c,i);if(n)return n}else null==m||m.clear();const g=cce.getStringLiteralCompletions(r,i,d,p,e,t,n,o,_);if(g)return g;if(d&&El(d.parent)&&(83===d.kind||88===d.kind||80===d.kind))return function(e){const t=function(e){const t=[],n=new Map;let r=e;for(;r&&!c_(r);){if(eE(r)){const e=r.label.text;n.has(e)||(n.set(e,!0),t.push({name:e,kindModifiers:"",kind:"label",sortText:Bae.LocationPriority}))}r=r.parent}return t}(e);if(t.length)return{isGlobalCompletion:!1,isMemberCompletion:!1,isNewIdentifierLocation:!1,entries:t,defaultCommitCharacters:Qae(!1)}}(d.parent);const h=Ase(t,n,r,p,i,o,void 0,e,l,c);var y,v;if(h)switch(h.kind){case 0:const a=function(e,t,n,r,i,o,a,s,c,l){const{symbols:_,contextToken:u,completionKind:d,isInSnippetScope:p,isNewIdentifierLocation:f,location:m,propertyAccessToConvert:g,keywordFilters:h,symbolToOriginInfoMap:y,recommendedCompletion:v,isJsxInitializer:b,isTypeOnlyLocation:x,isJsxIdentifierExpected:k,isRightOfOpenTag:S,isRightOfDotOrQuestionDot:T,importStatementCompletion:C,insideJsDocTagTypeExpression:w,symbolToSortTextMap:D,hasUnresolvedAutoImports:N,defaultCommitCharacters:F}=o;let E=o.literals;const P=n.getTypeChecker();if(1===fk(e.scriptKind)){const t=function(e,t){const n=gc(e,e=>{switch(e.kind){case 287:return!0;case 44:case 32:case 80:case 211:return!1;default:return"quit"}});if(n){const e=!!zX(n,32,t),r=n.parent.openingElement.tagName.getText(t)+(e?"":">");return{isGlobalCompletion:!1,isMemberCompletion:!0,isNewIdentifierLocation:!1,optionalReplacementSpan:RQ(n.tagName),entries:[{name:r,kind:"class",kindModifiers:void 0,sortText:Bae.LocationPriority}],defaultCommitCharacters:Qae(!1)}}}(m,e);if(t)return t}const A=gc(u,KE);if(A&&(mN(u)||dh(u,A.expression))){const e=h0(P,A.parent.clauses);E=E.filter(t=>!e.hasValue(t)),_.forEach((t,n)=>{if(t.valueDeclaration&&tP(t.valueDeclaration)){const r=P.getConstantValue(t.valueDeclaration);void 0!==r&&e.hasValue(r)&&(y[n]={kind:256})}})}const I=[],O=sse(e,r);if(O&&!f&&(!_||0===_.length)&&0===h)return;const L=Sse(_,I,void 0,u,m,c,e,t,n,Sk(r),i,d,a,r,s,x,g,k,b,C,v,y,D,k,S,l);if(0!==h)for(const R of Mse(h,!w&&Im(e)))(x&&WQ(La(R.name))||!x&&sce(R.name)||!L.has(R.name))&&(L.add(R.name),ne(I,R,Yae,void 0,!0));for(const R of function(e,t){const n=[];if(e){const r=e.getSourceFile(),i=e.parent,o=r.getLineAndCharacterOfPosition(e.end).line,a=r.getLineAndCharacterOfPosition(t).line;(gE(i)||NE(i)&&i.moduleSpecifier)&&e===i.moduleSpecifier&&o===a&&n.push({name:Oa(132),kind:"keyword",kindModifiers:"",sortText:Bae.GlobalsOrKeywords})}return n}(u,c))L.has(R.name)||(L.add(R.name),ne(I,R,Yae,void 0,!0));for(const R of E){const t=pse(e,a,R);L.add(t.name),ne(I,t,Yae,void 0,!0)}let j;if(O||function(e,t,n,r,i){g7(e).forEach((e,o)=>{if(e===t)return;const a=bc(o);!n.has(a)&&bs(a,r)&&(n.add(a),ne(i,{name:a,kind:"warning",kindModifiers:"",sortText:Bae.JavascriptIdentifiers,isFromUncheckedFile:!0,commitCharacters:[]},Yae))})}(e,m.pos,L,Sk(r),I),a.includeCompletionsWithInsertText&&u&&!S&&!T&&(j=gc(u,pE))){const i=cse(j,e,a,r,t,n,s);i&&I.push(i.entry)}return{flags:o.flags,isGlobalCompletion:p,isIncomplete:!(!a.allowIncompleteCompletions||!N)||void 0,isMemberCompletion:use(d),isNewIdentifierLocation:f,optionalReplacementSpan:ase(m),entries:I,defaultCommitCharacters:null!=F?F:Qae(f)}}(r,e,t,p,n,h,o,l,i,_);return(null==a?void 0:a.isIncomplete)&&(null==m||m.set(a)),a;case 1:return tse([...Wle.getJSDocTagNameCompletions(),...nse(r,i,f,p,o,!0)]);case 2:return tse([...Wle.getJSDocTagCompletions(),...nse(r,i,f,p,o,!1)]);case 3:return tse(Wle.getJSDocParameterNameCompletions(h.tag));case 4:return y=h.keywordCompletions,{isGlobalCompletion:!1,isMemberCompletion:!1,isNewIdentifierLocation:v=h.isNewIdentifierLocation,entries:y.slice(),defaultCommitCharacters:Qae(v)};default:return fn.assertNever(h)}}function Yae(e,t){var n,r;let i=Lt(e.sortText,t.sortText);return 0===i&&(i=Lt(e.name,t.name)),0===i&&(null==(n=e.data)?void 0:n.moduleSpecifier)&&(null==(r=t.data)?void 0:r.moduleSpecifier)&&(i=$S(e.data.moduleSpecifier,t.data.moduleSpecifier)),0===i?-1:i}function ese(e){return!!(null==e?void 0:e.moduleSpecifier)}function tse(e){return{isGlobalCompletion:!1,isMemberCompletion:!1,isNewIdentifierLocation:!1,entries:e,defaultCommitCharacters:Qae(!1)}}function nse(e,t,n,r,i,o){const a=tQ(e,t);if(!Eu(a)&&!yP(a))return[];const s=yP(a)?a:a.parent;if(!yP(s))return[];const c=s.parent;if(!c_(c))return[];const l=Im(e),_=i.includeCompletionsWithSnippetText||void 0,u=N(s.tags,e=>OP(e)&&e.getEnd()<=t);return z(c.parameters,e=>{if(!Lc(e).length){if(tN(e.name)){const t={tabstop:1},a=e.name.text;let s=ise(a,e.initializer,e.dotDotDotToken,l,!1,!1,n,r,i),c=_?ise(a,e.initializer,e.dotDotDotToken,l,!1,!0,n,r,i,t):void 0;return o&&(s=s.slice(1),c&&(c=c.slice(1))),{name:s,kind:"parameter",sortText:Bae.LocationPriority,insertText:_?c:void 0,isSnippet:_}}if(e.parent.parameters.indexOf(e)===u){const t=`param${u}`,a=rse(t,e.name,e.initializer,e.dotDotDotToken,l,!1,n,r,i),s=_?rse(t,e.name,e.initializer,e.dotDotDotToken,l,!0,n,r,i):void 0;let c=a.join(jb(r)+"* "),d=null==s?void 0:s.join(jb(r)+"* ");return o&&(c=c.slice(1),d&&(d=d.slice(1))),{name:c,kind:"parameter",sortText:Bae.LocationPriority,insertText:_?d:void 0,isSnippet:_}}}})}function rse(e,t,n,r,i,o,a,s,c){return i?l(e,t,n,r,{tabstop:1}):[ise(e,n,r,i,!1,o,a,s,c,{tabstop:1})];function l(e,t,n,r,l){if(nF(t)&&!r){const u={tabstop:l.tabstop},d=ise(e,n,r,i,!0,o,a,s,c,u);let p=[];for(const n of t.elements){const t=_(e,n,u);if(!t){p=void 0;break}p.push(...t)}if(p)return l.tabstop=u.tabstop,[d,...p]}return[ise(e,n,r,i,!1,o,a,s,c,l)]}function _(e,t,n){if(!t.propertyName&&tN(t.name)||tN(t.name)){const r=t.propertyName?Bp(t.propertyName):t.name.text;if(!r)return;return[ise(`${e}.${r}`,t.initializer,t.dotDotDotToken,i,!1,o,a,s,c,n)]}if(t.propertyName){const r=Bp(t.propertyName);return r&&l(`${e}.${r}`,t.name,t.initializer,t.dotDotDotToken,n)}}}function ise(e,t,n,r,i,o,a,s,c,l){if(o&&fn.assertIsDefined(l),t&&(e=function(e,t){const n=t.getText().trim();return n.includes("\n")||n.length>80?`[${e}]`:`[${e}=${n}]`}(e,t)),o&&(e=UT(e)),r){let r="*";if(i)fn.assert(!n,"Cannot annotate a rest parameter with type 'Object'."),r="Object";else{if(t){const e=a.getTypeAtLocation(t.parent);if(!(16385&e.flags)){const n=t.getSourceFile(),i=0===lZ(n,c)?268435456:0,l=a.typeToTypeNode(e,gc(t,c_),i);if(l){const e=o?hse({removeComments:!0,module:s.module,moduleResolution:s.moduleResolution,target:s.target}):CV({removeComments:!0,module:s.module,moduleResolution:s.moduleResolution,target:s.target});gw(l,1),r=e.printNode(4,l,n)}}}o&&"*"===r&&(r=`\${${l.tabstop++}:${r}}`)}return`@param {${!i&&n?"...":""}${r}} ${e} ${o?`\${${l.tabstop++}}`:""}`}return`@param ${e} ${o?`\${${l.tabstop++}}`:""}`}function ose(e,t,n){return{kind:4,keywordCompletions:Mse(e,t),isNewIdentifierLocation:n}}function ase(e){return 80===(null==e?void 0:e.kind)?RQ(e):void 0}function sse(e,t){return!Im(e)||!!sT(e,t)}function cse(e,t,n,r,i,o,a){const s=e.clauses,c=o.getTypeChecker(),l=c.getTypeAtLocation(e.parent.expression);if(l&&l.isUnion()&&x(l.types,e=>e.isLiteral())){const _=h0(c,s),u=Sk(r),d=lZ(t,n),p=U7.createImportAdder(t,o,n,i),f=[];for(const t of l.types)if(1024&t.flags){fn.assert(t.symbol,"An enum member type should have a symbol"),fn.assert(t.symbol.parent,"An enum member type should have a parent symbol (the enum symbol)");const n=t.symbol.valueDeclaration&&c.getConstantValue(t.symbol.valueDeclaration);if(void 0!==n){if(_.hasValue(n))continue;_.addValue(n)}const r=U7.typeToAutoImportableTypeNode(c,p,t,e,u);if(!r)return;const i=lse(r,u,d);if(!i)return;f.push(i)}else if(!_.hasValue(t.value))switch(typeof t.value){case"object":f.push(t.value.negative?_w.createPrefixUnaryExpression(41,_w.createBigIntLiteral({negative:!1,base10Value:t.value.base10Value})):_w.createBigIntLiteral(t.value));break;case"number":f.push(t.value<0?_w.createPrefixUnaryExpression(41,_w.createNumericLiteral(-t.value)):_w.createNumericLiteral(t.value));break;case"string":f.push(_w.createStringLiteral(t.value,0===d))}if(0===f.length)return;const m=A(f,e=>_w.createCaseClause(e,[])),g=$Z(i,null==a?void 0:a.options),h=hse({removeComments:!0,module:r.module,moduleResolution:r.moduleResolution,target:r.target,newLine:d0(g)}),y=a?e=>h.printAndFormatNode(4,e,t,a):e=>h.printNode(4,e,t),v=A(m,(e,t)=>n.includeCompletionsWithSnippetText?`${y(e)}$${t+1}`:`${y(e)}`).join(g);return{entry:{name:`${h.printNode(4,m[0],t)} ...`,kind:"",sortText:Bae.GlobalsOrKeywords,insertText:v,hasAction:p.hasFixes()||void 0,source:"SwitchCases/",isSnippet:!!n.includeCompletionsWithSnippetText||void 0},importAdder:p}}}function lse(e,t,n){switch(e.kind){case 183:return _se(e.typeName,t,n);case 199:const r=lse(e.objectType,t,n),i=lse(e.indexType,t,n);return r&&i&&_w.createElementAccessExpression(r,i);case 201:const o=e.literal;switch(o.kind){case 11:return _w.createStringLiteral(o.text,0===n);case 9:return _w.createNumericLiteral(o.text,o.numericLiteralFlags)}return;case 196:const a=lse(e.type,t,n);return a&&(tN(a)?a:_w.createParenthesizedExpression(a));case 186:return _se(e.exprName,t,n);case 205:fn.fail("We should not get an import type after calling 'codefix.typeToAutoImportableTypeNode'.")}}function _se(e,t,n){if(tN(e))return e;const r=bc(e.right.escapedText);return ZT(r,t)?_w.createPropertyAccessExpression(_se(e.left,t,n),r):_w.createElementAccessExpression(_se(e.left,t,n),_w.createStringLiteral(r,0===n))}function use(e){switch(e){case 0:case 3:case 2:return!0;default:return!1}}function dse(e,t,n){return"object"==typeof n?xT(n)+"n":nt(n)?CY(e,t,n):JSON.stringify(n)}function pse(e,t,n){return{name:dse(e,t,n),kind:"string",kindModifiers:"",sortText:Bae.LocationPriority,commitCharacters:[]}}function fse(e,t,n,r,i,o,a,s,c,l,_,u,d,p,f,m,g,h,y,v,b,S,T,C){var w,D;let N,F,E,P,A,I,O,L=jQ(n,o),j=kse(u);const R=c.getTypeChecker(),M=u&&function(e){return!!(16&e.kind)}(u),B=u&&function(e){return!!(2&e.kind)}(u)||_;if(u&&function(e){return!!(1&e.kind)}(u))N=_?`this${M?"?.":""}[${bse(a,y,l)}]`:`this${M?"?.":"."}${l}`;else if((B||M)&&p){N=B?_?`[${bse(a,y,l)}]`:`[${l}]`:l,(M||p.questionDotToken)&&(N=`?.${N}`);const e=zX(p,25,a)||zX(p,29,a);if(!e)return;const t=Zt(l,p.name.text)?p.name.end:e.end;L=Qs(e.getStart(a),t)}if(f&&(void 0===N&&(N=l),N=`{${N}}`,"boolean"!=typeof f&&(L=RQ(f,a))),u&&function(e){return!!(8&e.kind)}(u)&&p){void 0===N&&(N=l);const e=aQ(p.pos,a);let t="";e&&RY(e.end,e.parent,a)&&(t=";"),t+=`(await ${p.expression.getText()})`,N=_?`${t}${N}`:`${t}${M?"?.":"."}${N}`,L=Qs((it(p.parent,vF)?p.parent:p.expression).getStart(a),p.end)}if(Wae(u)&&(A=[BZ(u.moduleSpecifier)],m&&(({insertText:N,replacementSpan:L}=function(e,t,n,r,i,o,a){const s=t.replacementSpan,c=UT(CY(i,a,n.moduleSpecifier)),l=n.isDefaultExport?1:"export="===n.exportName?2:0,_=a.includeCompletionsWithSnippetText?"$1":"",u=U7.getImportKind(i,l,o,!0),d=t.couldBeTypeOnlyImportSpecifier,p=t.isTopLevelTypeOnly?` ${Oa(156)} `:" ",f=d?`${Oa(156)} `:"",m=r?";":"";switch(u){case 3:return{replacementSpan:s,insertText:`import${p}${UT(e)}${_} = require(${c})${m}`};case 1:return{replacementSpan:s,insertText:`import${p}${UT(e)}${_} from ${c}${m}`};case 2:return{replacementSpan:s,insertText:`import${p}* as ${UT(e)} from ${c}${m}`};case 0:return{replacementSpan:s,insertText:`import${p}{ ${f}${UT(e)}${_} } from ${c}${m}`}}}(l,m,u,g,a,c,y)),P=!!y.includeCompletionsWithSnippetText||void 0)),64===(null==u?void 0:u.kind)&&(I=!0),0===v&&r&&28!==(null==(w=aQ(r.pos,a,r))?void 0:w.kind)&&(TN(r.parent.parent)||DN(r.parent.parent)||NN(r.parent.parent)||eP(r.parent)||(null==(D=gc(r.parent,ZE))?void 0:D.getLastToken(a))===r||YE(r.parent)&&$a(a,r.getEnd()).line!==$a(a,o).line)&&(j="ObjectLiteralMemberWithComma/",I=!0),y.includeCompletionsWithClassMemberSnippets&&y.includeCompletionsWithInsertText&&3===v&&function(e,t,n){if(Om(t))return!1;const r=106500;return!!(e.flags&r)&&(g_(t)||t.parent&&t.parent.parent&&m_(t.parent)&&t===t.parent.name&&t.parent.getLastToken(n)===t.parent.name&&g_(t.parent.parent)||t.parent&&$P(t)&&g_(t.parent))}(e,i,a)){let t;const n=mse(s,c,h,y,l,e,i,o,r,b);if(!n)return;({insertText:N,filterText:F,isSnippet:P,importAdder:t}=n),((null==t?void 0:t.hasFixes())||n.eraseRange)&&(I=!0,j="ClassMemberSnippet/")}if(u&&Kae(u)&&(({insertText:N,isSnippet:P,labelDetails:O}=u),y.useLabelDetailsInCompletionEntries||(l+=O.detail,O=void 0),j="ObjectLiteralMethodSnippet/",t=Bae.SortBelow(t)),S&&!T&&y.includeCompletionsWithSnippetText&&y.jsxAttributeCompletionStyle&&"none"!==y.jsxAttributeCompletionStyle&&(!VE(i.parent)||!i.parent.initializer)){let t="braces"===y.jsxAttributeCompletionStyle;const n=R.getTypeOfSymbolAtLocation(e,i);"auto"!==y.jsxAttributeCompletionStyle||528&n.flags||1048576&n.flags&&k(n.types,e=>!!(528&e.flags))||(402653316&n.flags||1048576&n.flags&&x(n.types,e=>!!(402686084&e.flags||NQ(e)))?(N=`${UT(l)}=${CY(a,y,"$1")}`,P=!0):t=!0),t&&(N=`${UT(l)}={$1}`,P=!0)}if(void 0!==N&&!y.includeCompletionsWithInsertText)return;(Uae(u)||Wae(u))&&(E=yse(u),I=!m);const J=gc(i,Ex);if(J){const e=Sk(s.getCompilationSettings());if(bs(l,e)){if(275===J.kind){const e=La(l);e&&(135===e||Ih(e))&&(N=`${l} as ${l}_`)}}else N=bse(a,y,l),275===J.kind&&(GG.setText(a.text),GG.resetTokenState(o),130===GG.scan()&&80===GG.scan()||(N+=" as "+function(e,t){let n,r=!1,i="";for(let o=0;o<e.length;o+=void 0!==n&&n>=65536?2:1)n=e.codePointAt(o),void 0!==n&&(0===o?ys(n,t):vs(n,t))?(r&&(i+="_"),i+=String.fromCodePoint(n),r=!1):r=!0;return r&&(i+="_"),i||"_"}(l,e)))}const z=Kue.getSymbolKind(R,e,i),q="warning"===z||"string"===z?[]:void 0;return __spreadValues({name:l,kind:z,kindModifiers:Kue.getSymbolModifiers(R,e),sortText:t,source:j,hasAction:!!I||void 0,isRecommended:xse(e,d,R)||void 0,insertText:N,filterText:F,replacementSpan:L,sourceDisplay:A,labelDetails:O,isSnippet:P,isPackageJsonImport:$ae(u)||void 0,isImportStatementCompletion:!!m||void 0,data:E,commitCharacters:q},C?{symbol:e}:void 0)}function mse(e,t,n,r,i,o,a,s,c,l){const _=gc(a,g_);if(!_)return;let u,d=i;const p=i,f=t.getTypeChecker(),m=a.getSourceFile(),g=hse({removeComments:!0,module:n.module,moduleResolution:n.moduleResolution,target:n.target,omitTrailingSemicolon:!1,newLine:d0($Z(e,null==l?void 0:l.options))}),h=U7.createImportAdder(m,t,r,e);let y;if(r.includeCompletionsWithSnippetText){u=!0;const e=_w.createEmptyStatement();y=_w.createBlock([e],!0),Vw(e,{kind:0,order:0})}else y=_w.createBlock([],!0);let v=0;const{modifiers:b,range:x,decorators:k}=function(e,t,n){if(!e||$a(t,n).line>$a(t,e.getEnd()).line)return{modifiers:0};let r,i,o=0;const a={pos:n,end:n};if(kN(e.parent)&&(i=function(e){if(i_(e))return e.kind;if(tN(e)){const t=kc(e);if(t&&t_(t))return t}}(e))){e.parent.modifiers&&(o|=98303&Qv(e.parent.modifiers),r=e.parent.modifiers.filter(bN)||[],a.pos=Math.min(...e.parent.modifiers.map(e=>e.getStart(t))));const n=Zv(i);o&n||(o|=n,a.pos=Math.min(a.pos,e.getStart(t))),e.parent.name!==e&&(a.end=e.parent.name.getStart(t))}return{modifiers:o,decorators:r,range:a.pos<a.end?a:void 0}}(c,m,s),S=64&b&&64&_.modifierFlagsCache;let T=[];if(U7.addNewNodeForMemberSymbol(o,_,m,{program:t,host:e},r,h,e=>{let t=0;S&&(t|=64),m_(e)&&1===f.getMemberOverrideModifierStatus(_,e,o)&&(t|=16),T.length||(v=e.modifierFlagsCache|t),e=_w.replaceModifiers(e,v),T.push(e)},y,U7.PreserveOptionalFlags.Property,!!S),T.length){const e=8192&o.flags;let t=17|v;t|=e?1024:136;const n=b&t;if(b&~t)return;if(4&v&&1&n&&(v&=-5),0===n||1&n||(v&=-2),v|=n,T=T.map(e=>_w.replaceModifiers(e,v)),null==k?void 0:k.length){const e=T[T.length-1];xI(e)&&(T[T.length-1]=_w.replaceDecoratorsAndModifiers(e,k.concat(Ic(e)||[])))}const r=131073;d=l?g.printAndFormatSnippetList(r,_w.createNodeArray(T),m,l):g.printSnippetList(r,_w.createNodeArray(T),m)}return{insertText:d,filterText:p,isSnippet:u,importAdder:h,eraseRange:x}}function gse(e,t,n,r,i,o,a,s){const c=a.includeCompletionsWithSnippetText||void 0;let l=t;const _=n.getSourceFile(),u=function(e,t,n,r,i,o){const a=e.getDeclarations();if(!a||!a.length)return;const s=r.getTypeChecker(),c=a[0],l=oY(Ec(c),!1),_=s.getWidenedType(s.getTypeOfSymbolAtLocation(e,t)),u=lZ(n,o),d=33554432|(0===u?268435456:0);switch(c.kind){case 171:case 172:case 173:case 174:{let e=1048576&_.flags&&_.types.length<10?s.getUnionType(_.types,2):_;if(1048576&e.flags){const t=F(e.types,e=>s.getSignaturesOfType(e,0).length>0);if(1!==t.length)return;e=t[0]}if(1!==s.getSignaturesOfType(e,0).length)return;const n=s.typeToTypeNode(e,t,d,void 0,U7.getNoopSymbolTrackerWithResolver({program:r,host:i}));if(!n||!ON(n))return;let a;if(o.includeCompletionsWithSnippetText){const e=_w.createEmptyStatement();a=_w.createBlock([e],!0),Vw(e,{kind:0,order:0})}else a=_w.createBlock([],!0);const c=n.parameters.map(e=>_w.createParameterDeclaration(void 0,e.dotDotDotToken,e.name,void 0,void 0,e.initializer));return _w.createMethodDeclaration(void 0,void 0,l,void 0,void 0,c,void 0,a)}default:return}}(e,n,_,r,i,a);if(!u)return;const d=hse({removeComments:!0,module:o.module,moduleResolution:o.moduleResolution,target:o.target,omitTrailingSemicolon:!1,newLine:d0($Z(i,null==s?void 0:s.options))});l=s?d.printAndFormatSnippetList(80,_w.createNodeArray([u],!0),_,s):d.printSnippetList(80,_w.createNodeArray([u],!0),_);const p=CV({removeComments:!0,module:o.module,moduleResolution:o.moduleResolution,target:o.target,omitTrailingSemicolon:!0}),f=_w.createMethodSignature(void 0,"",u.questionToken,u.typeParameters,u.parameters,u.type);return{isSnippet:c,insertText:l,labelDetails:{detail:p.printNode(4,f,_)}}}function hse(e){let t;const n=rde.createWriter(jb(e)),r=CV(e,n),i=__spreadProps(__spreadValues({},n),{write:e=>o(e,()=>n.write(e)),nonEscapingWrite:n.write,writeLiteral:e=>o(e,()=>n.writeLiteral(e)),writeStringLiteral:e=>o(e,()=>n.writeStringLiteral(e)),writeSymbol:(e,t)=>o(e,()=>n.writeSymbol(e,t)),writeParameter:e=>o(e,()=>n.writeParameter(e)),writeComment:e=>o(e,()=>n.writeComment(e)),writeProperty:e=>o(e,()=>n.writeProperty(e))});return{printSnippetList:function(e,n,r){const i=a(e,n,r);return t?rde.applyChanges(i,t):i},printAndFormatSnippetList:function(e,n,r,i){const o={text:a(e,n,r),getLineAndCharacterOfPosition(e){return $a(this,e)}},s=f0(i,r),c=j(n,e=>{const t=rde.assignPositionsToNode(e);return Ade.formatNodeGivenIndentation(t,o,r.languageVariant,0,0,__spreadProps(__spreadValues({},i),{options:s}))}),l=t?pe(X(c,t),(e,t)=>St(e.span,t.span)):c;return rde.applyChanges(o.text,l)},printNode:function(e,n,r){const i=s(e,n,r);return t?rde.applyChanges(i,t):i},printAndFormatNode:function(e,n,r,i){const o={text:s(e,n,r),getLineAndCharacterOfPosition(e){return $a(this,e)}},a=f0(i,r),c=rde.assignPositionsToNode(n),l=Ade.formatNodeGivenIndentation(c,o,r.languageVariant,0,0,__spreadProps(__spreadValues({},i),{options:a})),_=t?pe(X(l,t),(e,t)=>St(e.span,t.span)):l;return rde.applyChanges(o.text,_)}};function o(e,r){const i=UT(e);if(i!==e){const e=n.getTextPos();r();const o=n.getTextPos();t=se(t||(t=[]),{newText:i,span:{start:e,length:o-e}})}else r()}function a(e,n,o){return t=void 0,i.clear(),r.writeList(e,n,o,i),i.getText()}function s(e,n,o){return t=void 0,i.clear(),r.writeNode(e,n,o,i),i.getText()}}function yse(e){const t=e.fileName?void 0:Iy(e.moduleSymbol.name),n=!!e.isFromPackageJson||void 0;return Wae(e)?{exportName:e.exportName,exportMapKey:e.exportMapKey,moduleSpecifier:e.moduleSpecifier,ambientModuleName:t,fileName:e.fileName,isPackageJsonImport:n}:{exportName:e.exportName,exportMapKey:e.exportMapKey,fileName:e.fileName,ambientModuleName:e.fileName?void 0:Iy(e.moduleSymbol.name),isPackageJsonImport:!!e.isFromPackageJson||void 0}}function vse(e,t,n){const r="default"===e.exportName,i=!!e.isPackageJsonImport;return ese(e)?{kind:32,exportName:e.exportName,exportMapKey:e.exportMapKey,moduleSpecifier:e.moduleSpecifier,symbolName:t,fileName:e.fileName,moduleSymbol:n,isDefaultExport:r,isFromPackageJson:i}:{kind:4,exportName:e.exportName,exportMapKey:e.exportMapKey,symbolName:t,fileName:e.fileName,moduleSymbol:n,isDefaultExport:r,isFromPackageJson:i}}function bse(e,t,n){return/^\d+$/.test(n)?n:CY(e,t,n)}function xse(e,t,n){return e===t||!!(1048576&e.flags)&&n.getExportSymbolOfSymbol(e)===t}function kse(e){return Uae(e)?Iy(e.moduleSymbol.name):Wae(e)?e.moduleSpecifier:1===(null==e?void 0:e.kind)?"ThisProperty/":64===(null==e?void 0:e.kind)?"TypeOnlyAlias/":void 0}function Sse(e,t,n,r,i,o,a,s,c,l,_,u,d,p,f,m,g,h,y,v,b,x,k,S,T,C=!1){var w;const D=$n(),N=function(e,t){if(!e)return;let n=gc(e,e=>Vf(e)||nce(e)||D_(e)?"quit":(vN(e)||yN(e))&&!PN(e.parent));return n||(n=gc(t,e=>Vf(e)||nce(e)||D_(e)?"quit":iE(e))),n}(r,i),F=MY(a),E=c.getTypeChecker(),P=new Map;for(let O=0;O<e.length;O++){const _=e[O],D=null==x?void 0:x[O],N=Lse(_,l,D,u,!!h);if(!N||P.get(N.name)&&(!D||!Kae(D))||1===u&&k&&!A(_,k))continue;if(!m&&Om(a)&&I(_))continue;const{name:L,needsConvertPropertyAccess:j}=N,R=null!=(w=null==k?void 0:k[iJ(_)])?w:Bae.LocationPriority,M=fse(_,ice(_,E)?Bae.Deprecated(R):R,n,r,i,o,a,s,c,L,j,D,b,g,y,v,F,p,d,u,f,S,T,C);if(!M)continue;const B=(!D||Hae(D))&&!(void 0===_.parent&&!K(_.declarations,e=>e.getSourceFile()===i.getSourceFile()));P.set(L,B),ne(t,M,Yae,void 0,!0)}return _("getCompletionsAtPosition: getCompletionEntriesFromSymbols: "+($n()-D)),{has:e=>P.has(e),add:e=>P.set(e,!0)};function A(e,t){var n,o;let s=e.flags;if(!nP(i)){if(DE(i.parent))return!0;if(it(N,iE)&&e.valueDeclaration===N)return!1;const c=null!=(n=e.valueDeclaration)?n:null==(o=e.declarations)?void 0:o[0];if(N&&c)if(vN(N)&&vN(c)){const e=N.parent.parameters;if(c.pos>=N.pos&&c.pos<e.end)return!1}else if(yN(N)&&yN(c)){if(N===c&&96===(null==r?void 0:r.kind))return!1;if(function(e){if(!e)return!1;let t=e,n=e.parent;for(;n;){if(yN(n))return n.default===t||64===t.kind;t=n,n=n.parent}return!1}(r)&&!$N(N.parent)){const e=N.parent.typeParameters;if(e&&c.pos>=N.pos&&c.pos<e.end)return!1}}const l=_x(e,E);if(a.externalModuleIndicator&&!p.allowUmdGlobalAccess&&t[iJ(e)]===Bae.GlobalsOrKeywords&&(t[iJ(l)]===Bae.AutoImportSuggestions||t[iJ(l)]===Bae.LocationPriority))return!1;if(s|=ux(l),YG(i))return!!(1920&s);if(m)return rce(e,E)}return!!(111551&s)}function I(e){var t;const n=ux(_x(e,E));return!(111551&n||Om(null==(t=e.declarations)?void 0:t[0])&&!(788968&n))}}function Tse(e,t,n,r,i,o,a){if("SwitchCases/"===i.source)return{type:"cases"};if(i.data){const t=Ose(i.name,i.data,e,o);if(t){const{contextToken:e,previousToken:i}=Ise(r,n);return{type:"symbol",symbol:t.symbol,location:YX(n,r),previousToken:i,contextToken:e,isJsxInitializer:!1,isTypeOnlyLocation:!1,origin:t.origin}}}const s=e.getCompilerOptions(),c=Ase(e,t,n,s,r,{includeCompletionsForModuleExports:!0,includeCompletionsWithInsertText:!0},i,o,void 0);if(!c)return{type:"none"};if(0!==c.kind)return{type:"request",request:c};const{symbols:l,literals:_,location:u,completionKind:d,symbolToOriginInfoMap:p,contextToken:f,previousToken:m,isJsxInitializer:h,isTypeOnlyLocation:y}=c,v=k(_,e=>dse(n,a,e)===i.name);return void 0!==v?{type:"literal",literal:v}:g(l,(e,t)=>{const n=p[t],r=Lse(e,Sk(s),n,d,c.isJsxIdentifierExpected);return r&&r.name===i.name&&("ClassMemberSnippet/"===i.source&&106500&e.flags||"ObjectLiteralMethodSnippet/"===i.source&&8196&e.flags||kse(n)===i.source||"ObjectLiteralMemberWithComma/"===i.source)?{type:"symbol",symbol:e,location:u,origin:n,contextToken:f,previousToken:m,isJsxInitializer:h,isTypeOnlyLocation:y}:void 0})||{type:"none"}}function Cse(e,t,n,r,i,o,a,s,c){const l=e.getTypeChecker(),_=e.getCompilerOptions(),{name:u,source:d,data:p}=i,{previousToken:f,contextToken:m}=Ise(r,n);if(_Q(n,r,f))return cce.getStringLiteralCompletionDetails(u,n,r,f,e,o,c,s);const g=Tse(e,t,n,r,i,o,s);switch(g.type){case"request":{const{request:e}=g;switch(e.kind){case 1:return Wle.getJSDocTagNameCompletionDetails(u);case 2:return Wle.getJSDocTagCompletionDetails(u);case 3:return Wle.getJSDocParameterNameCompletionDetails(u);case 4:return K(e.keywordCompletions,e=>e.name===u)?wse(u,"keyword",5):void 0;default:return fn.assertNever(e)}}case"symbol":{const{symbol:t,location:i,contextToken:f,origin:m,previousToken:h}=g,{codeActions:y,sourceDisplay:v}=function(e,t,n,r,i,o,a,s,c,l,_,u,d,p,f,m){if((null==p?void 0:p.moduleSpecifier)&&_&&Xse(n||_,c).replacementSpan)return{codeActions:void 0,sourceDisplay:[BZ(p.moduleSpecifier)]};if("ClassMemberSnippet/"===f){const{importAdder:r,eraseRange:_}=mse(a,o,s,d,e,i,t,l,n,u);if((null==r?void 0:r.hasFixes())||_)return{sourceDisplay:void 0,codeActions:[{changes:rde.ChangeTracker.with({host:a,formatContext:u,preferences:d},e=>{r&&r.writeFixes(e),_&&e.deleteRange(c,_)}),description:(null==r?void 0:r.hasFixes())?p0([ma.Includes_imports_of_types_referenced_by_0,e]):p0([ma.Update_modifiers_of_0,e])}]}}if(Hae(r)){const e=U7.getPromoteTypeOnlyCompletionAction(c,r.declaration.name,o,a,u,d);return fn.assertIsDefined(e,"Expected to have a code action for promoting type-only alias"),{codeActions:[e],sourceDisplay:void 0}}if("ObjectLiteralMemberWithComma/"===f&&n){const t=rde.ChangeTracker.with({host:a,formatContext:u,preferences:d},e=>e.insertText(c,n.end,","));if(t)return{sourceDisplay:void 0,codeActions:[{changes:t,description:p0([ma.Add_missing_comma_for_object_member_completion_0,e])}]}}if(!r||!Uae(r)&&!Wae(r))return{codeActions:void 0,sourceDisplay:void 0};const g=r.isFromPackageJson?a.getPackageJsonAutoImportProvider().getTypeChecker():o.getTypeChecker(),{moduleSymbol:h}=r,y=g.getMergedSymbol(_x(i.exportSymbol||i,g)),v=30===(null==n?void 0:n.kind)&&Cu(n.parent),{moduleSpecifier:b,codeAction:x}=U7.getImportCompletionAction(y,h,null==p?void 0:p.exportMapKey,c,e,v,a,o,u,_&&tN(_)?_.getStart(c):l,d,m);return fn.assert(!(null==p?void 0:p.moduleSpecifier)||b===p.moduleSpecifier),{sourceDisplay:[BZ(b)],codeActions:[x]}}(u,i,f,m,t,e,o,_,n,r,h,a,s,p,d,c);return Dse(t,Gae(m)?m.symbolName:t.name,l,n,i,c,y,v)}case"literal":{const{literal:e}=g;return wse(dse(n,s,e),"string","string"==typeof e?8:7)}case"cases":{const t=cse(m.parent,n,s,e.getCompilerOptions(),o,e,void 0);if(null==t?void 0:t.importAdder.hasFixes()){const{entry:e,importAdder:n}=t,r=rde.ChangeTracker.with({host:o,formatContext:a,preferences:s},n.writeFixes);return{name:e.name,kind:"",kindModifiers:"",displayParts:[],sourceDisplay:void 0,codeActions:[{changes:r,description:p0([ma.Includes_imports_of_types_referenced_by_0,u])}]}}return{name:u,kind:"",kindModifiers:"",displayParts:[],sourceDisplay:void 0}}case"none":return Rse().some(e=>e.name===u)?wse(u,"keyword",5):void 0;default:fn.assertNever(g)}}function wse(e,t,n){return Nse(e,"",t,[PZ(e,n)])}function Dse(e,t,n,r,i,o,a,s){const{displayParts:c,documentation:l,symbolKind:_,tags:u}=n.runWithCancellationToken(o,t=>Kue.getSymbolDisplayPartsDocumentationAndSymbolKind(t,e,r,i,i,7));return Nse(t,Kue.getSymbolModifiers(n,e),_,c,l,u,a,s)}function Nse(e,t,n,r,i,o,a,s){return{name:e,kindModifiers:t,kind:n,displayParts:r,documentation:i,tags:o,codeActions:a,source:s,sourceDisplay:s}}function Fse(e,t,n,r,i,o,a){const s=Tse(e,t,n,r,i,o,a);return"symbol"===s.type?s.symbol:void 0}var Ese=(e=>(e[e.ObjectPropertyDeclaration=0]="ObjectPropertyDeclaration",e[e.Global=1]="Global",e[e.PropertyAccess=2]="PropertyAccess",e[e.MemberLike=3]="MemberLike",e[e.String=4]="String",e[e.None=5]="None",e))(Ese||{});function Pse(e,t,n){const r=n.getAccessibleSymbolChain(e,t,-1,!1);return r?ve(r):e.parent&&(function(e){var t;return!!(null==(t=e.declarations)?void 0:t.some(e=>307===e.kind))}(e.parent)?e:Pse(e.parent,t,n))}function Ase(e,t,n,r,i,o,a,s,c,l){const _=e.getTypeChecker(),u=sse(n,r);let d=$n(),p=tQ(n,i);t("getCompletionData: Get current token: "+($n()-d)),d=$n();const m=bQ(n,i,p);t("getCompletionData: Is inside comment: "+($n()-d));let h=!1,y=!1,v=!1;if(m){if(xQ(n,i)){if(64===n.text.charCodeAt(i-1))return{kind:1};{const e=NX(i,n);if(!/[^*|\s(/)]/.test(n.text.substring(e,i)))return{kind:2}}}const e=function(e,t){return gc(e,e=>!(!Eu(e)||!EX(e,t))||!!yP(e)&&"quit")}(p,i);if(e){if(e.tagName.pos<=i&&i<=e.tagName.end)return{kind:1};if(WP(e))y=!0;else{const t=function(e){if(function(e){switch(e.kind){case 341:case 348:case 342:case 344:case 346:case 349:case 350:return!0;case 345:return!!e.constraint;default:return!1}}(e)){const t=MP(e)?e.constraint:e.typeExpression;return t&&309===t.kind?t:void 0}if(xP(e)||qP(e))return e.class}(e);if(t&&(p=tQ(n,i),p&&(ph(p)||348===p.parent.kind&&p.parent.name===p)||(h=he(t))),!h&&OP(e)&&(Pd(e.name)||e.name.pos<=i&&i<=e.name.end))return{kind:3,tag:e}}}if(!h&&!y)return void t("Returning an empty list because completion was inside a regular comment or plain text part of a JsDoc comment.")}d=$n();const b=!h&&!y&&Im(n),x=Ise(i,n),S=x.previousToken;let T=x.contextToken;t("getCompletionData: Get previous token: "+($n()-d));let C,w,D,N=p,E=!1,P=!1,A=!1,I=!1,O=!1,L=!1,R=YX(n,i),M=0,B=!1,J=0;if(T){const e=Xse(T,n);if(e.keywordCompletion){if(e.isKeywordOnlyCompletion)return{kind:4,keywordCompletions:[(q=e.keywordCompletion,{name:Oa(q),kind:"keyword",kindModifiers:"",sortText:Bae.GlobalsOrKeywords})],isNewIdentifierLocation:e.isNewIdentifierLocation};M=function(e){if(156===e)return 8;fn.fail("Unknown mapping from SyntaxKind to KeywordCompletionFilters")}(e.keywordCompletion)}if(e.replacementSpan&&o.includeCompletionsForImportStatements&&o.includeCompletionsWithInsertText&&(J|=2,w=e,B=e.isNewIdentifierLocation),!e.replacementSpan&&function(e){const r=$n(),o=function(e){return(JD(e)||Kl(e))&&(PX(e,i)||i===e.end&&(!!e.isUnterminated||JD(e)))}(e)||function(e){const t=e.parent,r=t.kind;switch(e.kind){case 28:return 260===r||261===(o=e).parent.kind&&!hQ(o,n,_)||243===r||266===r||pe(r)||264===r||207===r||265===r||g_(t)&&!!t.typeParameters&&t.typeParameters.end>=e.pos;case 25:case 23:return 207===r;case 59:return 208===r;case 21:return 299===r||pe(r);case 19:return 266===r;case 30:return 263===r||231===r||264===r||265===r||p_(r);case 126:return 172===r&&!g_(t.parent);case 26:return 169===r||!!t.parent&&207===t.parent.kind;case 125:case 123:case 124:return 169===r&&!wN(t.parent);case 130:return 276===r||281===r||274===r;case 139:case 153:return!Kse(e);case 80:if((276===r||281===r)&&e===t.name&&"type"===e.text)return!1;if(gc(e.parent,iE)&&function(e,t){return n.getLineEndOfPosition(e.getEnd())<t}(e,i))return!1;break;case 86:case 94:case 120:case 100:case 115:case 102:case 121:case 87:case 140:return!0;case 156:return 276!==r;case 42:return c_(e.parent)&&!TN(e.parent)}var o;if(zse(Vse(e))&&Kse(e))return!1;if(ue(e)&&(!tN(e)||n_(Vse(e))||he(e)))return!1;switch(Vse(e)){case 128:case 86:case 87:case 138:case 94:case 100:case 120:case 121:case 123:case 124:case 125:case 126:case 115:return!0;case 134:return kN(e.parent)}const a=gc(e.parent,g_);if(a&&e===S&&de(e,i))return!1;const s=Nh(e.parent,172);if(s&&e!==S&&g_(S.parent.parent)&&i<=S.end){if(de(e,S.end))return!1;if(64!==e.kind&&(mz(s)||Ou(s)))return!0}return ph(e)&&!YE(e.parent)&&!VE(e.parent)&&!((g_(e.parent)||cE(e.parent)||yN(e.parent))&&(e!==S||i>S.end))}(e)||function(e){if(9===e.kind){const t=e.getFullText();return"."===t.charAt(t.length-1)}return!1}(e)||function(e){if(12===e.kind)return!0;if(32===e.kind&&e.parent){if(R===e.parent&&(286===R.kind||285===R.kind))return!1;if(286===e.parent.kind)return 286!==R.parent.kind;if(287===e.parent.kind||285===e.parent.kind)return!!e.parent.parent&&284===e.parent.parent.kind}return!1}(e)||RD(e);return t("getCompletionsAtPosition: isCompletionListBlocker: "+($n()-r)),o}(T))return t("Returning an empty list because completion was requested in an invalid position."),M?ose(M,b,_e().isNewIdentifierLocation):void 0;let r=T.parent;if(25===T.kind||29===T.kind)switch(E=25===T.kind,P=29===T.kind,r.kind){case 211:if(C=r,N=C.expression,Pd(Px(C))||(lF(N)||c_(N))&&N.end===T.pos&&N.getChildCount(n)&&22!==ke(N.getChildren(n)).kind)return;break;case 166:N=r.left;break;case 267:N=r.name;break;case 205:N=r;break;case 236:N=r.getFirstToken(n),fn.assert(102===N.kind||105===N.kind);break;default:return}else if(!w){if(r&&211===r.kind&&(T=r,r=r.parent),p.parent===R)switch(p.kind){case 32:284!==p.parent.kind&&286!==p.parent.kind||(R=p);break;case 44:285===p.parent.kind&&(R=p)}switch(r.kind){case 287:44===T.kind&&(I=!0,R=T);break;case 226:if(!Gse(r))break;case 285:case 284:case 286:L=!0,30===T.kind&&(A=!0,R=T);break;case 294:case 293:(20===S.kind||80===S.kind&&291===S.parent.kind)&&(L=!0);break;case 291:if(r.initializer===S&&S.end<i){L=!0;break}switch(S.kind){case 64:O=!0;break;case 80:L=!0,r!==S.parent&&!r.initializer&&zX(r,64,n)&&(O=S)}}}}var q;const V=$n();let U,W=5,$=!1,H=[];const G=[],Q=[],Z=new Set,Y=h||y||!!w&&$l(R.parent)||!((ee=T)&&(114===ee.kind&&(186===ee.parent.kind||hF(ee.parent))||131===ee.kind&&182===ee.parent.kind))&&(hQ(T,n,_)||Ef(R)||function(e){if(e){const t=e.parent.kind;switch(e.kind){case 59:return 172===t||171===t||169===t||260===t||p_(t);case 64:return 265===t||168===t;case 130:return 234===t;case 30:return 183===t||216===t;case 96:return 168===t;case 152:return 238===t}}return!1}(T));var ee;const te=gt(t=>nZ(t?s.getPackageJsonAutoImportProvider():e,s));if(E||P)!function(){W=2;const e=gf(N),t=e&&!N.isTypeOf||Ef(N.parent)||hQ(T,n,_),r=YG(N);if(o_(N)||e||sF(N)){const n=uE(N.parent);n&&(B=!0,D=[]);let i=_.getSymbolAtLocation(N);if(i&&(i=_x(i,_),1920&i.flags)){const a=_.getExportsOfModule(i);fn.assertEachIsDefined(a,"getExportsOfModule() should all be defined");const s=t=>_.isValidPropertyAccess(e?N:N.parent,t.name),c=e=>rce(e,_),l=n?e=>{var t;return!!(1920&e.flags)&&!(null==(t=e.declarations)?void 0:t.every(e=>e.parent===N.parent))}:r?e=>c(e)||s(e):t||h?c:s;for(const e of a)l(e)&&H.push(e);if(!t&&!h&&i.declarations&&i.declarations.some(e=>307!==e.kind&&267!==e.kind&&266!==e.kind)){let e=_.getTypeOfSymbolAtLocation(i,N).getNonOptionalType(),t=!1;if(e.isNullableType()){const n=E&&!P&&!1!==o.includeAutomaticOptionalChainCompletions;(n||P)&&(e=e.getNonNullableType(),n&&(t=!0))}oe(e,!!(65536&N.flags),t)}return}}if(!t||fv(N)){_.tryGetThisTypeAt(N,!1);let e=_.getTypeAtLocation(N).getNonOptionalType();if(t)oe(e.getNonNullableType(),!1,!1);else{let t=!1;if(e.isNullableType()){const n=E&&!P&&!1!==o.includeAutomaticOptionalChainCompletions;(n||P)&&(e=e.getNonNullableType(),n&&(t=!0))}oe(e,!!(65536&N.flags),t)}}}();else if(A)H=_.getJsxIntrinsicTagNamesAt(R),fn.assertEachIsDefined(H,"getJsxIntrinsicTagNames() should all be defined"),ce(),W=1,M=0;else if(I){const e=T.parent.parent.openingElement.tagName,t=_.getSymbolAtLocation(e);t&&(H=[t]),W=1,M=0}else if(!ce())return M?ose(M,b,B):void 0;t("getCompletionData: Semantic work: "+($n()-V));const ne=S&&function(e,t,n,r){const{parent:i}=e;switch(e.kind){case 80:return TY(e,r);case 64:switch(i.kind){case 260:return r.getContextualType(i.initializer);case 226:return r.getTypeAtLocation(i.left);case 291:return r.getContextualTypeForJsxAttribute(i);default:return}case 105:return r.getContextualType(i);case 84:const o=it(i,KE);return o?FY(o,r):void 0;case 19:return!$E(i)||jE(i.parent)||JE(i.parent)?void 0:r.getContextualTypeForJsxAttribute(i.parent);default:const a=uue.getArgumentInfoForCompletions(e,t,n,r);return a?r.getContextualTypeForArgumentAtIndex(a.invocation,a.argumentIndex):wY(e.kind)&&kF(i)&&wY(i.operatorToken.kind)?r.getTypeAtLocation(i.left):r.getContextualType(e,4)||r.getContextualType(e)}}(S,i,n,_),re=it(S,zu)||L?[]:z(ne&&(ne.isUnion()?ne.types:[ne]),e=>!e.isLiteral()||1024&e.flags?void 0:e.value),ie=S&&ne&&function(e,t,n){return g(t&&(t.isUnion()?t.types:[t]),t=>{const r=t&&t.symbol;return r&&424&r.flags&&!vx(r)?Pse(r,e,n):void 0})}(S,ne,_);return{kind:0,symbols:H,completionKind:W,isInSnippetScope:v,propertyAccessToConvert:C,isNewIdentifierLocation:B,location:R,keywordFilters:M,literals:re,symbolToOriginInfoMap:G,recommendedCompletion:ie,previousToken:S,contextToken:T,isJsxInitializer:O,insideJsDocTagTypeExpression:h,symbolToSortTextMap:Q,isTypeOnlyLocation:Y,isJsxIdentifierExpected:L,isRightOfOpenTag:A,isRightOfDotOrQuestionDot:E||P,importStatementCompletion:w,hasUnresolvedAutoImports:$,flags:J,defaultCommitCharacters:D};function oe(e,t,n){e.getStringIndexType()&&(B=!0,D=[]),P&&K(e.getCallSignatures())&&(B=!0,null!=D||(D=Jae));const r=205===N.kind?N:N.parent;if(u)for(const i of e.getApparentProperties())_.isValidPropertyAccessForCompletions(r,e,i)&&ae(i,!1,n);else H.push(...F($se(e,_),t=>_.isValidPropertyAccessForCompletions(r,e,t)));if(t&&o.includeCompletionsWithInsertText){const t=_.getPromisedTypeOfPromise(e);if(t)for(const e of t.getApparentProperties())_.isValidPropertyAccessForCompletions(r,t,e)&&ae(e,!0,n)}}function ae(t,r,a){var c;const l=g(t.declarations,e=>it(Ec(e),hN));if(l){const r=se(l.expression),a=r&&_.getSymbolAtLocation(r),f=a&&Pse(a,T,_),m=f&&iJ(f);if(m&&Cx(Z,m)){const t=H.length;H.push(f);const r=f.parent;if(r&&td(r)&&_.tryGetMemberInModuleExportsAndProperties(f.name,r)===f){const a=Es(Iy(r.name))?null==(c=Td(r))?void 0:c.fileName:void 0,{moduleSpecifier:l}=(U||(U=U7.createImportSpecifierResolver(n,e,s,o))).getModuleSpecifierForBestExportInfo([{exportKind:0,moduleFileName:a,isFromPackageJson:!1,moduleSymbol:r,symbol:f,targetFlags:_x(f,_).flags}],i,CT(R))||{};if(l){const e={kind:p(6),moduleSymbol:r,isDefaultExport:!1,symbolName:f.name,exportName:f.name,fileName:a,moduleSpecifier:l};G[t]=e}}else G[t]={kind:p(2)}}else if(o.includeCompletionsWithInsertText){if(m&&Z.has(m))return;d(t),u(t),H.push(t)}}else d(t),u(t),H.push(t);function u(e){(function(e){return!!(e.valueDeclaration&&256&Uv(e.valueDeclaration)&&g_(e.valueDeclaration.parent))})(e)&&(Q[iJ(e)]=Bae.LocalDeclarationPriority)}function d(e){o.includeCompletionsWithInsertText&&(r&&Cx(Z,iJ(e))?G[H.length]={kind:p(8)}:a&&(G[H.length]={kind:16}))}function p(e){return a?16|e:e}}function se(e){return tN(e)?e:sF(e)?se(e.expression):void 0}function ce(){const t=function(){const e=function(e){if(!e)return;const t=e.parent;switch(e.kind){case 19:if(RN(t))return t;break;case 27:case 28:case 80:if(171===t.kind&&RN(t.parent))return t.parent}}(T);if(!e)return 0;const t=(UN(e.parent)?e.parent:void 0)||e,n=Hse(t,_);if(!n)return 0;const r=_.getTypeFromTypeNode(t),i=$se(n,_),o=$se(r,_),a=new Set;return o.forEach(e=>a.add(e.escapedName)),H=X(H,F(i,e=>!a.has(e.escapedName))),W=0,B=!0,1}()||function(){if(26===(null==T?void 0:T.kind))return 0;const t=H.length,a=function(e,t,n){var r;if(e){const{parent:i}=e;switch(e.kind){case 19:case 28:if(aF(i)||nF(i))return i;break;case 42:return TN(i)?it(i.parent,aF):void 0;case 134:return it(i.parent,aF);case 80:if("async"===e.text&&YE(e.parent))return e.parent.parent;{if(aF(e.parent.parent)&&(eP(e.parent)||YE(e.parent)&&$a(n,e.getEnd()).line!==$a(n,t).line))return e.parent.parent;const r=gc(i,ZE);if((null==r?void 0:r.getLastToken(n))===e&&aF(r.parent))return r.parent}break;default:if((null==(r=i.parent)?void 0:r.parent)&&(TN(i.parent)||DN(i.parent)||NN(i.parent))&&aF(i.parent.parent))return i.parent.parent;if(eP(i)&&aF(i.parent))return i.parent;const o=gc(i,ZE);if(59!==e.kind&&(null==o?void 0:o.getLastToken(n))===e&&aF(o.parent))return o.parent}}}(T,i,n);if(!a)return 0;let l,u;if(W=0,210===a.kind){const e=function(e,t){const n=t.getContextualType(e);if(n)return n;const r=sh(e.parent);return kF(r)&&64===r.operatorToken.kind&&e===r.left?t.getTypeAtLocation(r):G_(r)?t.getContextualType(r):void 0}(a,_);if(void 0===e)return 67108864&a.flags?2:0;const t=_.getContextualType(a,4),n=(t||e).getStringIndexType(),r=(t||e).getNumberIndexType();if(B=!!n||!!r,l=Use(e,t,a,_),u=a.properties,0===l.length&&!r)return 0}else{fn.assert(206===a.kind),B=!1;const e=ny(a.parent);if(!jf(e))return fn.fail("Root declaration is not variable-like.");let t=Lu(e)||!!yv(e)||250===e.parent.parent.kind;if(t||169!==e.kind||(G_(e.parent)?t=!!_.getContextualType(e.parent):174!==e.parent.kind&&178!==e.parent.kind||(t=G_(e.parent.parent)&&!!_.getContextualType(e.parent.parent))),t){const e=_.getTypeAtLocation(a);if(!e)return 2;l=_.getPropertiesOfType(e).filter(t=>_.isPropertyAccessible(a,!1,!1,e,t)),u=a.elements}}if(l&&l.length>0){const n=function(e,t){if(0===t.length)return e;const n=new Set,r=new Set;for(const o of t){if(303!==o.kind&&304!==o.kind&&208!==o.kind&&174!==o.kind&&177!==o.kind&&178!==o.kind&&305!==o.kind)continue;if(he(o))continue;let e;if(eP(o))fe(o,n);else if(iF(o)&&o.propertyName)80===o.propertyName.kind&&(e=o.propertyName.escapedText);else{const t=Ec(o);e=t&&Wh(t)?Hh(t):void 0}void 0!==e&&r.add(e)}const i=e.filter(e=>!r.has(e.escapedName));return ge(n,i),i}(l,fn.checkDefined(u));H=X(H,n),me(),210===a.kind&&o.includeCompletionsWithObjectLiteralMethodSnippets&&o.includeCompletionsWithInsertText&&(function(e){var t;for(let n=e;n<H.length;n++){const e=H[n],i=iJ(e),o=null==G?void 0:G[n],a=Lse(e,Sk(r),o,0,!1);if(a){const e=null!=(t=Q[i])?t:Bae.LocationPriority,{name:n}=a;Q[i]=Bae.ObjectLiteralProperty(e,n)}}}(t),d=n,p=a,Om(R)||d.forEach(t=>{if(!(8196&t.flags))return;const n=Lse(t,Sk(r),void 0,0,!1);if(!n)return;const{name:i}=n,a=gse(t,i,p,e,s,r,o,c);if(!a)return;const l=__spreadValues({kind:128},a);J|=32,G[H.length]=l,H.push(t)}))}var d,p;return 1}()||(w?(B=!0,le(),1):0)||function(){if(!T)return 0;const e=19===T.kind||28===T.kind?it(T.parent,Ex):HQ(T)?it(T.parent.parent,Ex):void 0;if(!e)return 0;HQ(T)||(M=8);const{moduleSpecifier:t}=275===e.kind?e.parent.parent:e.parent;if(!t)return B=!0,275===e.kind?2:0;const n=_.getSymbolAtLocation(t);if(!n)return B=!0,2;W=3,B=!1;const r=_.getExportsAndPropertiesOfModule(n),i=new Set(e.elements.filter(e=>!he(e)).map(e=>Qd(e.propertyName||e.name))),o=r.filter(e=>"default"!==e.escapedName&&!i.has(e.escapedName));return H=X(H,o),o.length||(M=0),1}()||function(){if(void 0===T)return 0;const e=19===T.kind||28===T.kind?it(T.parent,xE):59===T.kind?it(T.parent.parent,xE):void 0;if(void 0===e)return 0;const t=new Set(e.elements.map(yC));return H=F(_.getTypeAtLocation(e).getApparentProperties(),e=>!t.has(e.escapedName)),1}()||function(){var e;const t=!T||19!==T.kind&&28!==T.kind?void 0:it(T.parent,FE);if(!t)return 0;const n=gc(t,rn(nP,uE));return W=5,B=!1,null==(e=n.locals)||e.forEach((e,t)=>{var r,i;H.push(e),(null==(i=null==(r=n.symbol)?void 0:r.exports)?void 0:i.has(t))&&(Q[iJ(e)]=Bae.OptionalMember)}),1}()||(function(e){if(e){const t=e.parent;switch(e.kind){case 21:case 28:return wN(e.parent)?e.parent:void 0;default:if(ue(e))return t.parent}}}(T)?(W=5,B=!0,M=4,1):0)||function(){const e=function(e,t,n,r){var i;switch(n.kind){case 352:return it(n.parent,wx);case 1:const t=it(xe(ot(n.parent,nP).statements),wx);if(t&&!zX(t,20,e))return t;break;case 81:if(it(n.parent,kN))return gc(n,g_);break;case 80:if(kc(n))return;if(kN(n.parent)&&n.parent.initializer===n)return;if(Kse(n))return gc(n,wx)}if(t){if(137===n.kind||tN(t)&&kN(t.parent)&&g_(n))return gc(t,g_);switch(t.kind){case 64:return;case 27:case 20:return Kse(n)&&n.parent.name===n?n.parent.parent:it(n,wx);case 19:case 28:return it(t.parent,wx);default:if(wx(n)){if($a(e,t.getEnd()).line!==$a(e,r).line)return n;const o=g_(t.parent.parent)?zse:Jse;return o(t.kind)||42===t.kind||tN(t)&&o(null!=(i=kc(t))?i:0)?t.parent.parent:void 0}return}}}(n,T,R,i);if(!e)return 0;if(W=3,B=!0,M=42===T.kind?0:g_(e)?2:3,!g_(e))return 1;const t=27===T.kind?T.parent.parent:T.parent;let r=m_(t)?Uv(t):0;if(80===T.kind&&!he(T))switch(T.getText()){case"private":r|=2;break;case"static":r|=256;break;case"override":r|=16}if(CN(t)&&(r|=256),!(2&r)){const t=j(g_(e)&&16&r?sn(kh(e)):Ch(e),t=>{const n=_.getTypeAtLocation(t);return 256&r?(null==n?void 0:n.symbol)&&_.getPropertiesOfType(_.getTypeOfSymbolAtLocation(n.symbol,e)):n&&_.getPropertiesOfType(n)});H=X(H,function(e,t,n){const r=new Set;for(const i of t){if(172!==i.kind&&174!==i.kind&&177!==i.kind&&178!==i.kind)continue;if(he(i))continue;if(Pv(i,2))continue;if(Iv(i)!==!!(256&n))continue;const e=Uh(i.name);e&&r.add(e)}return e.filter(e=>!(r.has(e.escapedName)||!e.declarations||2&lx(e)||e.valueDeclaration&&Yl(e.valueDeclaration)))}(t,e.members,r)),f(H,(e,t)=>{const n=null==e?void 0:e.valueDeclaration;if(n&&m_(n)&&n.name&&hN(n.name)){const n={kind:512,symbolName:_.symbolToString(e)};G[t]=n}})}return 1}()||function(){const e=function(e){if(e){const t=e.parent;switch(e.kind){case 32:case 31:case 44:case 80:case 211:case 292:case 291:case 293:if(t&&(285===t.kind||286===t.kind)){if(32===e.kind){const r=aQ(e.pos,n,void 0);if(!t.typeArguments||r&&44===r.kind)break}return t}if(291===t.kind)return t.parent.parent;break;case 11:if(t&&(291===t.kind||293===t.kind))return t.parent.parent;break;case 20:if(t&&294===t.kind&&t.parent&&291===t.parent.kind)return t.parent.parent.parent;if(t&&293===t.kind)return t.parent.parent}}}(T),t=e&&_.getContextualType(e.attributes);if(!t)return 0;const r=e&&_.getContextualType(e.attributes,4);return H=X(H,function(e,t){const n=new Set,r=new Set;for(const o of t)he(o)||(291===o.kind?n.add(aC(o.name)):WE(o)&&fe(o,r));const i=e.filter(e=>!n.has(e.escapedName));return ge(r,i),i}(Use(t,r,e.attributes,_),e.attributes.properties)),me(),W=3,B=!1,1}()||(function(){M=function(e){if(e){let t;const n=gc(e.parent,e=>g_(e)?"quit":!(!__(e)||t!==e.body)||(t=e,!1));return n&&n}}(T)?5:1,W=1,({isNewIdentifierLocation:B,defaultCommitCharacters:D}=_e()),S!==T&&fn.assert(!!S,"Expected 'contextToken' to be defined when different from 'previousToken'.");const e=S!==T?S.getStart():i,t=function(e,t,n){let r=e;for(;r&&!jX(r,t,n);)r=r.parent;return r}(T,e,n)||n;v=function(e){switch(e.kind){case 307:case 228:case 294:case 241:return!0;default:return yu(e)}}(t);const r=2887656|(Y?0:111551),a=S&&!CT(S);H=X(H,_.getSymbolsInScope(t,r)),fn.assertEachIsDefined(H,"getSymbolsInScope() should all be defined");for(let i=0;i<H.length;i++){const e=H[i];if(_.isArgumentsSymbol(e)||K(e.declarations,e=>e.getSourceFile()===n)||(Q[iJ(e)]=Bae.GlobalsOrKeywords),a&&!(111551&e.flags)){const t=e.declarations&&k(e.declarations,Ul);if(t){const e={kind:64,declaration:t};G[i]=e}}}if(o.includeCompletionsWithInsertText&&307!==t.kind){const e=_.tryGetThisTypeAt(t,!1,g_(t.parent)?t:void 0);if(e&&!function(e,t,n){const r=n.resolveName("self",void 0,111551,!1);if(r&&n.getTypeOfSymbolAtLocation(r,t)===e)return!0;const i=n.resolveName("global",void 0,111551,!1);if(i&&n.getTypeOfSymbolAtLocation(i,t)===e)return!0;const o=n.resolveName("globalThis",void 0,111551,!1);return!(!o||n.getTypeOfSymbolAtLocation(o,t)!==e)}(e,n,_))for(const t of $se(e,_))G[H.length]={kind:1},H.push(t),Q[iJ(t)]=Bae.SuggestedClassMembers}le(),Y&&(M=T&&X_(T.parent)?6:7)}(),1);return 1===t}function le(){var t,r;if(!function(){var t;return!!w||!!o.includeCompletionsForModuleExports&&(!(!n.externalModuleIndicator&&!n.commonJsModuleIndicator)||!!tZ(e.getCompilerOptions())||(null==(t=e.getSymlinkCache)?void 0:t.call(e).hasAnySymlinks())||!!e.getCompilerOptions().paths||YQ(e))}())return;if(fn.assert(!(null==a?void 0:a.data),"Should not run 'collectAutoImports' when faster path is available via `data`"),a&&!a.source)return;J|=1;const c=S===T&&w?"":S&&tN(S)?S.text.toLowerCase():"",_=null==(t=s.getModuleSpecifierCache)?void 0:t.call(s),u=P0(n,s,e,o,l),d=null==(r=s.getPackageJsonAutoImportProvider)?void 0:r.call(s),p=a?void 0:KY(n,o,s);function f(t){return T0(t.isFromPackageJson?d:e,n,it(t.moduleSymbol.valueDeclaration,nP),t.moduleSymbol,o,p,te(t.isFromPackageJson),_)}Xae("collectAutoImports",s,U||(U=U7.createImportSpecifierResolver(n,e,s,o)),e,i,o,!!w,CT(R),e=>{u.search(n.path,A,(e,t)=>{if(!bs(e,Sk(s.getCompilationSettings())))return!1;if(!a&&Oh(e))return!1;if(!(Y||w||111551&t))return!1;if(Y&&!(790504&t))return!1;const n=e.charCodeAt(0);return(!A||!(n<65||n>90))&&(!!a||oce(e,c))},(t,n,r,i)=>{if(a&&!K(t,e=>a.source===Iy(e.moduleSymbol.name)))return;if(!(t=F(t,f)).length)return;const o=e.tryResolve(t,r)||{};if("failed"===o)return;let s,c=t[0];"skipped"!==o&&({exportInfo:c=t[0],moduleSpecifier:s}=o);const l=1===c.exportKind;!function(e,t){const n=iJ(e);Q[n]!==Bae.GlobalsOrKeywords&&(G[H.length]=t,Q[n]=w?Bae.LocationPriority:Bae.AutoImportSuggestions,H.push(e))}(l&&Tb(fn.checkDefined(c.symbol))||fn.checkDefined(c.symbol),{kind:s?32:4,moduleSpecifier:s,symbolName:n,exportMapKey:i,exportName:2===c.exportKind?"export=":fn.checkDefined(c.symbol).name,fileName:c.moduleFileName,isDefaultExport:l,moduleSymbol:c.moduleSymbol,isFromPackageJson:c.isFromPackageJson})}),$=e.skippedAny(),J|=e.resolvedAny()?8:0,J|=e.resolvedBeyondLimit()?16:0})}function _e(){if(T){const e=T.parent.kind,t=Vse(T);switch(t){case 28:switch(e){case 213:case 214:{const e=T.parent.expression;return $a(n,e.end).line!==$a(n,i).line?{defaultCommitCharacters:zae,isNewIdentifierLocation:!0}:{defaultCommitCharacters:Jae,isNewIdentifierLocation:!0}}case 226:return{defaultCommitCharacters:zae,isNewIdentifierLocation:!0};case 176:case 184:case 210:return{defaultCommitCharacters:[],isNewIdentifierLocation:!0};case 209:return{defaultCommitCharacters:Jae,isNewIdentifierLocation:!0};default:return{defaultCommitCharacters:Jae,isNewIdentifierLocation:!1}}case 21:switch(e){case 213:case 214:{const e=T.parent.expression;return $a(n,e.end).line!==$a(n,i).line?{defaultCommitCharacters:zae,isNewIdentifierLocation:!0}:{defaultCommitCharacters:Jae,isNewIdentifierLocation:!0}}case 217:return{defaultCommitCharacters:zae,isNewIdentifierLocation:!0};case 176:case 196:return{defaultCommitCharacters:[],isNewIdentifierLocation:!0};default:return{defaultCommitCharacters:Jae,isNewIdentifierLocation:!1}}case 23:switch(e){case 209:case 181:case 189:case 167:return{defaultCommitCharacters:Jae,isNewIdentifierLocation:!0};default:return{defaultCommitCharacters:Jae,isNewIdentifierLocation:!1}}case 144:case 145:case 102:return{defaultCommitCharacters:[],isNewIdentifierLocation:!0};case 25:return 267===e?{defaultCommitCharacters:[],isNewIdentifierLocation:!0}:{defaultCommitCharacters:Jae,isNewIdentifierLocation:!1};case 19:switch(e){case 263:case 210:return{defaultCommitCharacters:[],isNewIdentifierLocation:!0};default:return{defaultCommitCharacters:Jae,isNewIdentifierLocation:!1}}case 64:switch(e){case 260:case 226:return{defaultCommitCharacters:Jae,isNewIdentifierLocation:!0};default:return{defaultCommitCharacters:Jae,isNewIdentifierLocation:!1}}case 16:return{defaultCommitCharacters:Jae,isNewIdentifierLocation:228===e};case 17:return{defaultCommitCharacters:Jae,isNewIdentifierLocation:239===e};case 134:return 174===e||304===e?{defaultCommitCharacters:[],isNewIdentifierLocation:!0}:{defaultCommitCharacters:Jae,isNewIdentifierLocation:!1};case 42:return 174===e?{defaultCommitCharacters:[],isNewIdentifierLocation:!0}:{defaultCommitCharacters:Jae,isNewIdentifierLocation:!1}}if(zse(t))return{defaultCommitCharacters:[],isNewIdentifierLocation:!0}}return{defaultCommitCharacters:Jae,isNewIdentifierLocation:!1}}function ue(e){return!!e.parent&&vN(e.parent)&&wN(e.parent.parent)&&(n_(e.kind)||ph(e))}function de(e,t){return 64!==e.kind&&(27===e.kind||!Qb(e.end,t,n))}function pe(e){return p_(e)&&176!==e}function fe(e,t){const n=e.expression,r=_.getSymbolAtLocation(n),i=r&&_.getTypeOfSymbolAtLocation(r,n),o=i&&i.properties;o&&o.forEach(e=>{t.add(e.name)})}function me(){H.forEach(e=>{var t;if(16777216&e.flags){const n=iJ(e);Q[n]=null!=(t=Q[n])?t:Bae.OptionalMember}})}function ge(e,t){if(0!==e.size)for(const n of t)e.has(n.name)&&(Q[iJ(n)]=Bae.MemberDeclaredBySpreadAssignment)}function he(e){return e.getStart(n)<=i&&i<=e.getEnd()}}function Ise(e,t){const n=aQ(e,t);return n&&e<=n.end&&(hl(n)||Fh(n.kind))?{contextToken:aQ(n.getFullStart(),t,void 0),previousToken:n}:{contextToken:n,previousToken:n}}function Ose(e,t,n,r){const i=t.isPackageJsonImport?r.getPackageJsonAutoImportProvider():n,o=i.getTypeChecker(),a=t.ambientModuleName?o.tryFindAmbientModule(t.ambientModuleName):t.fileName?o.getMergedSymbol(fn.checkDefined(i.getSourceFile(t.fileName)).symbol):void 0;if(!a)return;let s="export="===t.exportName?o.resolveExternalModuleSymbol(a):o.tryGetMemberInModuleExportsAndProperties(t.exportName,a);return s?(s="default"===t.exportName&&Tb(s)||s,{symbol:s,origin:vse(t,e,a)}):void 0}function Lse(e,t,n,r,i){if(function(e){return!!(e&&256&e.kind)}(n))return;const o=function(e){return Uae(e)||Wae(e)||Gae(e)}(n)?n.symbolName:e.name;if(void 0===o||1536&e.flags&&Wm(o.charCodeAt(0))||Gh(e))return;const a={name:o,needsConvertPropertyAccess:!1};if(bs(o,t,i?1:0)||e.valueDeclaration&&Yl(e.valueDeclaration))return a;if(2097152&e.flags)return{name:o,needsConvertPropertyAccess:!0};switch(r){case 3:return Gae(n)?{name:n.symbolName,needsConvertPropertyAccess:!1}:void 0;case 0:return{name:JSON.stringify(o),needsConvertPropertyAccess:!1};case 2:case 1:return 32===o.charCodeAt(0)?void 0:{name:o,needsConvertPropertyAccess:!0};case 5:case 4:return a;default:fn.assertNever(r)}}var jse=[],Rse=mt(()=>{const e=[];for(let t=83;t<=165;t++)e.push({name:Oa(t),kind:"keyword",kindModifiers:"",sortText:Bae.GlobalsOrKeywords});return e});function Mse(e,t){if(!t)return Bse(e);const n=e+8+1;return jse[n]||(jse[n]=Bse(e).filter(e=>!function(e){switch(e){case 128:case 133:case 163:case 136:case 138:case 94:case 162:case 119:case 140:case 120:case 142:case 143:case 144:case 145:case 146:case 150:case 151:case 164:case 123:case 124:case 125:case 148:case 154:case 155:case 156:case 158:case 159:return!0;default:return!1}}(La(e.name))))}function Bse(e){return jse[e]||(jse[e]=Rse().filter(t=>{const n=La(t.name);switch(e){case 0:return!1;case 1:return qse(n)||138===n||144===n||156===n||145===n||128===n||WQ(n)&&157!==n;case 5:return qse(n);case 2:return zse(n);case 3:return Jse(n);case 4:return n_(n);case 6:return WQ(n)||87===n;case 7:return WQ(n);case 8:return 156===n;default:return fn.assertNever(e)}}))}function Jse(e){return 148===e}function zse(e){switch(e){case 128:case 129:case 137:case 139:case 153:case 134:case 138:case 164:return!0;default:return r_(e)}}function qse(e){return 134===e||135===e||160===e||130===e||152===e||156===e||!Ah(e)&&!zse(e)}function Vse(e){var t;return tN(e)?null!=(t=kc(e))?t:0:e.kind}function Use(e,t,n,r){const i=t&&t!==e,o=r.getUnionType(F(1048576&e.flags?e.types:[e],e=>!r.getPromisedTypeOfPromise(e))),a=!i||3&t.flags?o:r.getUnionType([o,t]),s=function(e,t,n){return e.isUnion()?n.getAllPossiblePropertiesOfTypes(F(e.types,e=>!(402784252&e.flags||n.isArrayLikeType(e)||n.isTypeInvalidDueToUnionDiscriminant(e,t)||n.typeHasCallOrConstructSignatures(e)||e.isClass()&&Wse(e.getApparentProperties())))):e.getApparentProperties()}(a,n,r);return a.isClass()&&Wse(s)?[]:i?F(s,function(e){return!p(e.declarations)||K(e.declarations,e=>e.parent!==n)}):s}function Wse(e){return K(e,e=>!!(6&lx(e)))}function $se(e,t){return e.isUnion()?fn.checkEachDefined(t.getAllPossiblePropertiesOfTypes(e.types),"getAllPossiblePropertiesOfTypes() should all be defined"):fn.checkEachDefined(e.getApparentProperties(),"getApparentProperties() should all be defined")}function Hse(e,t){if(!e)return;if(C_(e)&&Mu(e.parent))return t.getTypeArgumentConstraint(e);const n=Hse(e.parent,t);if(n)switch(e.kind){case 171:return t.getTypeOfPropertyOfContextualType(n,e.symbol.escapedName);case 193:case 187:case 192:return n}}function Kse(e){return e.parent&&S_(e.parent)&&wx(e.parent.parent)}function Gse({left:e}){return Pd(e)}function Xse(e,t){var n,r,i;let o,a=!1;const s=function(){const n=e.parent;if(mE(n)){const r=n.getLastToken(t);return tN(e)&&r!==e?(o=161,void(a=!0)):(o=156===e.kind?void 0:156,tce(n.moduleReference)?n:void 0)}if(Yse(n,e)&&ece(n.parent))return n;if(!CE(n)&&!SE(n))return NE(n)&&42===e.kind||FE(n)&&20===e.kind?(a=!0,void(o=161)):fN(e)&&nP(n)?(o=156,e):fN(e)&&gE(n)?(o=156,tce(n.moduleSpecifier)?n:void 0):void 0;if(n.parent.isTypeOnly||19!==e.kind&&102!==e.kind&&28!==e.kind||(o=156),ece(n)){if(20!==e.kind&&80!==e.kind)return n.parent.parent;a=!0,o=161}}();return{isKeywordOnlyCompletion:a,keywordCompletion:o,isNewIdentifierLocation:!(!s&&156!==o),isTopLevelTypeOnly:!!(null==(r=null==(n=it(s,gE))?void 0:n.importClause)?void 0:r.isTypeOnly)||!!(null==(i=it(s,mE))?void 0:i.isTypeOnly),couldBeTypeOnlyImportSpecifier:!!s&&Yse(s,e),replacementSpan:Qse(s)}}function Qse(e){var t,n,r;if(!e)return;const i=null!=(t=gc(e,rn(gE,mE,WP)))?t:e,o=i.getSourceFile();if(Vb(i,o))return RQ(i,o);fn.assert(102!==i.kind&&276!==i.kind);const a=272===i.kind||351===i.kind?null!=(n=Zse(null==(r=i.importClause)?void 0:r.namedBindings))?n:i.moduleSpecifier:i.moduleReference,s={pos:i.getFirstToken().getStart(),end:a.pos};return Vb(s,o)?JQ(s):void 0}function Zse(e){var t;return k(null==(t=it(e,CE))?void 0:t.elements,t=>{var n;return!t.propertyName&&Oh(t.name.text)&&28!==(null==(n=aQ(t.name.pos,e.getSourceFile(),e))?void 0:n.kind)})}function Yse(e,t){return wE(e)&&(e.isTypeOnly||t===e.name&&HQ(t))}function ece(e){if(!tce(e.parent.parent.moduleSpecifier)||e.parent.name)return!1;if(CE(e)){const t=Zse(e);return(t?e.elements.indexOf(t):e.elements.length)<2}return!0}function tce(e){var t;return!!Pd(e)||!(null==(t=it(LE(e)?e.expression:e,zu))?void 0:t.text)}function nce(e){return e.parent&&mF(e.parent)&&(e.parent.body===e||39===e.kind)}function rce(e,t,n=new Set){return r(e)||r(_x(e.exportSymbol||e,t));function r(e){return!!(788968&e.flags)||t.isUnknownSymbol(e)||!!(1536&e.flags)&&Cx(n,e)&&t.getExportsOfModule(e).some(e=>rce(e,t,n))}}function ice(e,t){const n=_x(e,t).declarations;return!!p(n)&&x(n,_0)}function oce(e,t){if(0===t.length)return!0;let n,r=!1,i=0;const o=e.length;for(let a=0;a<o;a++){const o=e.charCodeAt(a),s=t.charCodeAt(i);if((o===s||o===ace(s))&&(r||(r=void 0===n||97<=n&&n<=122&&65<=o&&o<=90||95===n&&95!==o),r&&i++,i===t.length))return!0;n=o}return!1}function ace(e){return 97<=e&&e<=122?e-32:e}function sce(e){return"abstract"===e||"async"===e||"await"===e||"declare"===e||"module"===e||"namespace"===e||"type"===e||"satisfies"===e||"as"===e}var cce={};i(cce,{getStringLiteralCompletionDetails:()=>dce,getStringLiteralCompletions:()=>uce});var lce={directory:0,script:1,"external module name":2};function _ce(){const e=new Map;return{add:function(t){const n=e.get(t.name);(!n||lce[n.kind]<lce[t.kind])&&e.set(t.name,t)},has:e.has.bind(e),values:e.values.bind(e)}}function uce(e,t,n,r,i,o,a,s,c){if(IQ(e,t)){const n=function(e,t,n,r,i){const o=n.getCompilerOptions(),a=tQ(e,t),s=ms(e.text,a.pos),c=s&&k(s,e=>t>=e.pos&&t<=e.end);if(!c)return;const l=e.text.slice(c.pos,t),_=Lce.exec(l);if(!_)return;const[,u,d,p]=_,f=Io(e.path),m="path"===d?Cce(p,f,Sce(o,0,e),n,r,i,!0,e.path):"types"===d?Oce(n,r,i,f,Ece(p),Sce(o,1,e)):fn.fail();return xce(p,c.pos+u.length,Re(m.values()))}(e,t,o,i,nZ(o,i));return n&&pce(n)}if(_Q(e,t,n)){if(!n||!zu(n))return;return function(e,t,n,r,i,o,a,s,c,l){if(void 0===e)return;const _=MQ(t,c);switch(e.kind){case 0:return pce(e.paths);case 1:{const u=[];return Sse(e.symbols,u,t,t,n,c,n,r,i,99,o,4,s,a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,l),{isGlobalCompletion:!1,isMemberCompletion:!0,isNewIdentifierLocation:e.hasIndexSignature,optionalReplacementSpan:_,entries:u,defaultCommitCharacters:Qae(e.hasIndexSignature)}}case 2:{const n=15===t.kind?96:Zt(ep(t),"'")?39:34,r=e.types.map(e=>({name:Cy(e.value,n),kindModifiers:"",kind:"string",sortText:Bae.LocationPriority,replacementSpan:jQ(t,c),commitCharacters:[]}));return{isGlobalCompletion:!1,isMemberCompletion:!1,isNewIdentifierLocation:e.isNewIdentifier,optionalReplacementSpan:_,entries:r,defaultCommitCharacters:Qae(e.isNewIdentifier)}}default:return fn.assertNever(e)}}(mce(e,n,t,o,i,s),n,e,i,o,a,r,s,t,c)}}function dce(e,t,n,r,i,o,a,s){if(!r||!zu(r))return;const c=mce(t,r,n,i,o,s);return c&&function(e,t,n,r,i,o){switch(n.kind){case 0:{const t=k(n.paths,t=>t.name===e);return t&&Nse(e,fce(t.extension),t.kind,[BZ(e)])}case 1:{const a=k(n.symbols,t=>t.name===e);return a&&Dse(a,a.name,i,r,t,o)}case 2:return k(n.types,t=>t.value===e)?Nse(e,"","string",[BZ(e)]):void 0;default:return fn.assertNever(n)}}(e,r,c,t,i.getTypeChecker(),a)}function pce(e){const t=!0;return{isGlobalCompletion:!1,isMemberCompletion:!1,isNewIdentifierLocation:t,entries:e.map(({name:e,kind:t,span:n,extension:r})=>({name:e,kind:t,kindModifiers:fce(r),sortText:Bae.LocationPriority,replacementSpan:n})),defaultCommitCharacters:Qae(t)}}function fce(e){switch(e){case".d.ts":return".d.ts";case".js":return".js";case".json":return".json";case".jsx":return".jsx";case".ts":return".ts";case".tsx":return".tsx";case".d.mts":return".d.mts";case".mjs":return".mjs";case".mts":return".mts";case".d.cts":return".d.cts";case".cjs":return".cjs";case".cts":return".cts";case".tsbuildinfo":return fn.fail("Extension .tsbuildinfo is unsupported.");case void 0:return"";default:return fn.assertNever(e)}}function mce(e,t,n,r,i,o){const a=r.getTypeChecker(),s=gce(t.parent);switch(s.kind){case 201:{const c=gce(s.parent);return 205===c.kind?{kind:0,paths:kce(e,t,r,i,o)}:function e(t){switch(t.kind){case 233:case 183:{const e=gc(s,e=>e.parent===t);return e?{kind:2,types:yce(a.getTypeArgumentConstraint(e)),isNewIdentifier:!1}:void 0}case 199:const{indexType:i,objectType:o}=t;if(!EX(i,n))return;return hce(a.getTypeFromTypeNode(o));case 192:{const n=e(gce(t.parent));if(!n)return;const i=(r=s,z(t.types,e=>e!==r&&ZN(e)&&MD(e.literal)?e.literal.text:void 0));return 1===n.kind?{kind:1,symbols:n.symbols.filter(e=>!w(i,e.name)),hasIndexSignature:n.hasIndexSignature}:{kind:2,types:n.types.filter(e=>!w(i,e.value)),isNewIdentifier:!1}}default:return}var r}(c)}case 303:return aF(s.parent)&&s.name===t?function(e,t){const n=e.getContextualType(t);if(!n)return;const r=e.getContextualType(t,4);return{kind:1,symbols:Use(n,r,t,e),hasIndexSignature:NY(n)}}(a,s.parent):c()||c(0);case 212:{const{expression:e,argumentExpression:n}=s;return t===_h(n)?hce(a.getTypeAtLocation(e)):void 0}case 213:case 214:case 291:if(!function(e){return lF(e.parent)&&he(e.parent.arguments)===e&&tN(e.parent.expression)&&"require"===e.parent.expression.escapedText}(t)&&!ff(s)){const r=uue.getArgumentInfoForCompletions(291===s.kind?s.parent:t,n,e,a);return r&&function(e,t,n,r){let i=!1;const o=new Set,a=Cu(e)?fn.checkDefined(gc(t.parent,VE)):t,s=j(r.getCandidateSignaturesForStringLiteralCompletions(e,a),t=>{if(!_J(t)&&n.argumentCount>t.parameters.length)return;let s=t.getTypeParameterAtPosition(n.argumentIndex);if(Cu(e)){const e=r.getTypeOfPropertyOfType(s,sC(a.name));e&&(s=e)}return i=i||!!(4&s.flags),yce(s,o)});return p(s)?{kind:2,types:s,isNewIdentifier:i}:void 0}(r.invocation,t,r,a)||c(0)}case 272:case 278:case 283:case 351:return{kind:0,paths:kce(e,t,r,i,o)};case 296:const l=h0(a,s.parent.clauses),_=c();if(!_)return;return{kind:2,types:_.types.filter(e=>!l.hasValue(e.value)),isNewIdentifier:!1};case 276:case 281:const u=s;if(u.propertyName&&t!==u.propertyName)return;const d=u.parent,{moduleSpecifier:f}=275===d.kind?d.parent.parent:d.parent;if(!f)return;const m=a.getSymbolAtLocation(f);if(!m)return;const g=a.getExportsAndPropertiesOfModule(m),h=new Set(d.elements.map(e=>Qd(e.propertyName||e.name)));return{kind:1,symbols:g.filter(e=>"default"!==e.escapedName&&!h.has(e.escapedName)),hasIndexSignature:!1};default:return c()||c(0)}function c(e=4){const n=yce(TY(t,a,e));if(n.length)return{kind:2,types:n,isNewIdentifier:!1}}}function gce(e){switch(e.kind){case 196:return ah(e);case 217:return sh(e);default:return e}}function hce(e){return e&&{kind:1,symbols:F(e.getApparentProperties(),e=>!(e.valueDeclaration&&Yl(e.valueDeclaration))),hasIndexSignature:NY(e)}}function yce(e,t=new Set){return e?(e=QQ(e)).isUnion()?j(e.types,e=>yce(e,t)):!e.isStringLiteral()||1024&e.flags||!Cx(t,e.value)?u:[e]:u}function vce(e,t,n){return{name:e,kind:t,extension:n}}function bce(e){return vce(e,"directory",void 0)}function xce(e,t,n){const r=function(e,t){const n=Math.max(e.lastIndexOf(mo),e.lastIndexOf(go)),r=-1!==n?n+1:0,i=e.length-r;return 0===i||bs(e.substr(r,i),99)?void 0:Xs(t+r,i)}(e,t),i=0===e.length?void 0:Xs(t,e.length);return n.map(({name:e,kind:t,extension:n})=>e.includes(mo)||e.includes(go)?{name:e,kind:t,extension:n,span:i}:{name:e,kind:t,extension:n,span:r})}function kce(e,t,n,r,i){return xce(t.text,t.getStart(e)+1,function(e,t,n,r,i){const o=Bo(t.text),a=zu(t)?n.getModeForUsageLocation(e,t):void 0,s=e.path,c=Io(s),l=n.getCompilerOptions(),_=n.getTypeChecker(),d=nZ(n,r),p=Sce(l,1,e,_,i,a);return function(e){if(e&&e.length>=2&&46===e.charCodeAt(0)){const t=e.length>=3&&46===e.charCodeAt(1)?2:1,n=e.charCodeAt(t);return 47===n||92===n}return!1}(o)||!l.baseUrl&&!l.paths&&(xo(o)||bo(o))?function(e,t,n,r,i,o,a){const s=n.getCompilerOptions();return s.rootDirs?function(e,t,n,r,i,o,a,s){const c=i.getCompilerOptions(),l=c.project||o.getCurrentDirectory(),_=!(o.useCaseSensitiveFileNames&&o.useCaseSensitiveFileNames()),u=function(e,t,n,r){const i=g(e=e.map(e=>Xo(Wo(xo(e)?e:zo(t,e)))),e=>oa(e,n,t,r)?n.substr(e.length):void 0);return ee([...e.map(e=>zo(e,i)),n].map(e=>Go(e)),bt,Nt)}(e,l,n,_);return ee(j(u,e=>Re(Cce(t,e,r,i,o,a,!0,s).values())),(e,t)=>e.name===t.name&&e.kind===t.kind&&e.extension===t.extension)}(s.rootDirs,e,t,a,n,r,i,o):Re(Cce(e,t,a,n,r,i,!0,o).values())}(o,c,n,r,d,s,p):function(e,t,n,r,i,o,a){const s=r.getTypeChecker(),c=r.getCompilerOptions(),{baseUrl:l,paths:_}=c,d=_ce(),p=Ck(c);if(l){const t=Wo(zo(i.getCurrentDirectory(),l));Cce(e,t,a,r,i,o,!1,void 0,d)}if(_){const t=Zy(c,i);Dce(d,e,t,a,r,i,o,_)}const f=Ece(e);for(const u of function(e,t,n){const r=n.getAmbientModules().map(e=>Iy(e.name)).filter(t=>Zt(t,e)&&!t.includes("*"));if(void 0!==t){const e=Xo(t);return r.map(t=>Yt(t,e))}return r}(e,f,s))d.add(vce(u,"external module name",void 0));if(Oce(r,i,o,t,f,a,d),iZ(p)){let n=!1;if(void 0===f)for(const e of function(e,t){if(!e.readFile||!e.fileExists)return u;const n=[];for(const r of WY(t,e)){const t=Pb(r,e);for(const e of jce){const r=t[e];if(r)for(const e in r)Pe(r,e)&&!Zt(e,"@types/")&&n.push(e)}}return n}(i,t)){const t=vce(e,"external module name",void 0);d.has(t.name)||(n=!0,d.add(t))}if(!n){const n=Ek(c),s=Pk(c);let l=!1;const _=t=>{if(s&&!l){const n=zo(t,"package.json");(l=zY(i,n))&&m(Pb(n,i).imports,e,t,!1,!0)}};let u=t=>{const n=zo(t,"node_modules");qY(i,n)&&Cce(e,n,a,r,i,o,!1,void 0,d),_(t)};if(f&&n){const t=u;u=n=>{const r=Ro(e);r.shift();let o=r.shift();if(!o)return t(n);if(Zt(o,"@")){const e=r.shift();if(!e)return t(n);o=zo(o,e)}if(s&&Zt(o,"#"))return _(n);const a=zo(n,"node_modules",o),c=zo(a,"package.json");if(zY(i,c)){const t=Pb(c,i),n=r.join("/")+(r.length&&Fo(e)?"/":"");return void m(t.exports,n,a,!0,!1)}return t(n)}}NM(i,t,u)}}return Re(d.values());function m(e,t,s,l,_){if("object"!=typeof e||null===e)return;const u=Ie(e),p=bR(c,n);Nce(d,l,_,t,s,a,r,i,o,u,t=>{const n=Fce(e[t],p);if(void 0!==n)return sn(Jt(t,"/")&&Jt(n,"/")?n+"*":n)},kM)}}(o,c,a,n,r,d,p)}(e,t,n,r,i))}function Sce(e,t,n,r,i,o){return{extensionsToSearch:L(Tce(e,r)),referenceKind:t,importingSourceFile:n,endingPreference:null==i?void 0:i.importModuleSpecifierEnding,resolutionMode:o}}function Tce(e,t){const n=t?z(t.getAmbientModules(),e=>{const t=e.name.slice(1,-1);if(t.startsWith("*.")&&!t.includes("/"))return t.slice(1)}):[],r=[...RS(e),n];return iZ(Ck(e))?MS(e,r):r}function Cce(e,t,n,r,i,o,a,s,c=_ce()){var l;void 0===e&&(e=""),Fo(e=Bo(e))||(e=Io(e)),""===e&&(e="."+mo);const _=qo(t,e=Xo(e)),u=Fo(_)?_:Io(_);if(!a){const e=$Y(u,i);if(e){const t=Pb(e,i).typesVersions;if("object"==typeof t){const a=null==(l=dR(t))?void 0:l.paths;if(a){const t=Io(e);if(Dce(c,_.slice(Xo(t).length),t,n,r,i,o,a))return c}}}}const d=!(i.useCaseSensitiveFileNames&&i.useCaseSensitiveFileNames());if(!qY(i,u))return c;const p=JY(i,u,n.extensionsToSearch,void 0,["./*"]);if(p)for(let m of p){if(m=Wo(m),s&&0===ia(m,s,t,d))continue;const{name:e,extension:i}=wce(Oo(m),r,n,!1);c.add(vce(e,"script",i))}const f=BY(i,u);if(f)for(const m of f){const e=Oo(Wo(m));"@types"!==e&&c.add(bce(e))}return c}function wce(e,t,n,r){const i=aB.tryGetRealFileNameForNonJsDeclarationFileName(e);if(i)return{name:i,extension:aT(i)};if(0===n.referenceKind)return{name:e,extension:aT(e)};let o=aB.getModuleSpecifierPreferences({importModuleSpecifierEnding:n.endingPreference},t,t.getCompilerOptions(),n.importingSourceFile).getAllowedEndingsInPreferredOrder(n.resolutionMode);if(r&&(o=o.filter(e=>0!==e&&1!==e)),3===o[0]){if(No(e,LS))return{name:e,extension:aT(e)};const n=aB.tryGetJSExtensionForFile(e,t.getCompilerOptions());return n?{name:QS(e,n),extension:n}:{name:e,extension:aT(e)}}if(!r&&(0===o[0]||1===o[0])&&No(e,[".js",".jsx",".ts",".tsx",".d.ts"]))return{name:KS(e),extension:aT(e)};const a=aB.tryGetJSExtensionForFile(e,t.getCompilerOptions());return a?{name:QS(e,a),extension:a}:{name:e,extension:aT(e)}}function Dce(e,t,n,r,i,o,a,s){return Nce(e,!1,!1,t,n,r,i,o,a,Ie(s),e=>s[e],(e,t)=>{const n=ZS(e),r=ZS(t),i="object"==typeof n?n.prefix.length:e.length;return kt("object"==typeof r?r.prefix.length:t.length,i)})}function Nce(e,t,n,r,i,o,a,s,c,l,_,u){let d,p=[];for(const f of l){if("."===f)continue;const e=f.replace(/^\.\//,"")+((t||n)&&Jt(f,"/")?"*":""),l=_(f);if(l){const _=ZS(e);if(!_)continue;const f="object"==typeof _&&tn(_,r);f&&(void 0===d||-1===u(e,d))&&(d=e,p=p.filter(e=>!e.matchedPattern)),"string"!=typeof _&&void 0!==d&&1===u(e,d)||p.push({matchedPattern:f,results:Pce(e,l,r,i,o,t,n,a,s,c).map(({name:e,kind:t,extension:n})=>vce(e,t,n))})}}return p.forEach(t=>t.results.forEach(t=>e.add(t))),void 0!==d}function Fce(e,t){if("string"==typeof e)return e;if(e&&"object"==typeof e&&!et(e))for(const n in e)if("default"===n||t.includes(n)||CM(t,n))return Fce(e[n],t)}function Ece(e){return Rce(e)?Fo(e)?e:Io(e):void 0}function Pce(e,t,n,r,i,o,a,s,c,l){const _=ZS(e);if(!_)return u;if("string"==typeof _)return p(e,"script");const d=en(n,_.prefix);return void 0===d?Jt(e,"/*")?p(_.prefix,"directory"):j(t,e=>{var t;return null==(t=Ace("",r,e,i,o,a,s,c,l))?void 0:t.map(e=>{var t=e,{name:n}=t,r=__objRest(t,["name"]);return __spreadValues({name:_.prefix+n+_.suffix},r)})}):j(t,e=>Ace(d,r,e,i,o,a,s,c,l));function p(e,t){return Zt(e,n)?[{name:Go(e),kind:t,extension:void 0}]:u}}function Ace(e,t,n,r,i,o,a,s,c){if(!s.readDirectory)return;const l=ZS(n);if(void 0===l||nt(l))return;const _=qo(l.prefix),u=Fo(l.prefix)?_:Io(_),d=Fo(l.prefix)?"":Oo(_),p=Rce(e),f=p?Fo(e)?e:Io(e):void 0,m=()=>c.getCommonSourceDirectory(),h=!Jy(c),y=a.getCompilerOptions().outDir,v=a.getCompilerOptions().declarationDir,b=p?zo(u,d+f):u,x=Wo(zo(t,b)),k=o&&y&&Qy(x,h,y,m),S=o&&v&&Qy(x,h,v,m),T=Wo(l.suffix),C=T&&Gy("_"+T),w=T?Xy("_"+T):void 0,D=[C&&QS(T,C),...w?w.map(e=>QS(T,e)):[],T].filter(nt),N=T?D.map(e=>"**/*"+e):["./*"],F=(i||o)&&Jt(n,"/*");let E=P(x);return k&&(E=X(E,P(k))),S&&(E=X(E,P(S))),T||(E=X(E,A(x)),k&&(E=X(E,A(k))),S&&(E=X(E,A(S)))),E;function P(e){const t=p?e:Xo(e)+d;return z(JY(s,e,r.extensionsToSearch,void 0,N),e=>{const n=(i=e,o=t,g(D,e=>{const t=(n=Wo(i),a=e,Zt(n,r=o)&&Jt(n,a)?n.slice(r.length,n.length-a.length):void 0);var n,r,a;return void 0===t?void 0:Ice(t)}));var i,o;if(n){if(Rce(n))return bce(Ro(Ice(n))[1]);const{name:e,extension:t}=wce(n,a,r,F);return vce(e,"script",t)}})}function A(e){return z(BY(s,e),e=>"node_modules"===e?void 0:bce(e))}}function Ice(e){return e[0]===mo?e.slice(1):e}function Oce(e,t,n,r,i,o,a=_ce()){const s=e.getCompilerOptions(),c=new Map,l=VY(()=>pR(s,t))||u;for(const u of l)_(u);for(const u of WY(r,t))_(zo(Io(u),"node_modules/@types"));return a;function _(r){if(qY(t,r))for(const l of BY(t,r)){const _=RM(l);if(!s.types||w(s.types,_))if(void 0===i)c.has(_)||(a.add(vce(_,"external module name",void 0)),c.set(_,!0));else{const s=zo(r,l),c=iS(i,_,zy(t));void 0!==c&&Cce(c,s,o,e,t,n,!1,void 0,a)}}}}var Lce=/^(\/\/\/\s*<reference\s+(path|types)\s*=\s*(?:'|"))([^\x03"]*)$/,jce=["dependencies","devDependencies","peerDependencies","optionalDependencies"];function Rce(e){return e.includes(mo)}var Mce={};function Bce(e,t,n,r){const i=function(e,t,n){const r=new Map;for(const i of e)n&&n.throwIfCancellationRequested(),Uce(i,(e,n)=>{const i=t.getSymbolAtLocation(n);if(i){const t=iJ(i).toString();let n=r.get(t);n||r.set(t,n=[]),n.push(e)}});return r}(e,n,r);return(o,a,s)=>{const{directImports:c,indirectUsers:l}=function(e,t,n,{exportingModuleSymbol:r,exportKind:i},o,a){const s=KQ(),c=KQ(),l=[],_=!!r.globalExports,u=_?void 0:[];return p(r),{directImports:l,indirectUsers:d()};function d(){if(_)return e;if(r.declarations)for(const e of r.declarations)yp(e)&&t.has(e.getSourceFile().fileName)&&h(e);return u.map(Sd)}function p(e){const t=y(e);if(t)for(const n of t)if(s(n))switch(a&&a.throwIfCancellationRequested(),n.kind){case 213:if(ff(n)){f(n);break}if(!_){const e=n.parent;if(2===i&&260===e.kind){const{name:t}=e;if(80===t.kind){l.push(t);break}}}break;case 80:break;case 271:g(n,n.name,Av(n,32),!1);break;case 272:case 351:l.push(n);const e=n.importClause&&n.importClause.namedBindings;e&&274===e.kind?g(n,e.name,!1,!0):!_&&Ng(n)&&h(Kce(n));break;case 278:n.exportClause?280===n.exportClause.kind?h(Kce(n),!0):l.push(n):p(Hce(n,o));break;case 205:!_&&n.isTypeOf&&!n.qualifier&&m(n)&&h(n.getSourceFile(),!0),l.push(n);break;default:fn.failBadSyntaxKind(n,"Unexpected import kind.")}}function f(e){h(gc(e,Gce)||e.getSourceFile(),!!m(e,!0))}function m(e,t=!1){return gc(e,e=>t&&Gce(e)?"quit":bI(e)&&K(e.modifiers,rN))}function g(e,t,n,r){if(2===i)r||l.push(e);else if(!_){const r=Kce(e);fn.assert(307===r.kind||267===r.kind),n||function(e,t,n){const r=n.getSymbolAtLocation(t);return!!Vce(e,e=>{if(!NE(e))return;const{exportClause:t,moduleSpecifier:i}=e;return!i&&t&&FE(t)&&t.elements.some(e=>n.getExportSpecifierLocalTargetSymbol(e)===r)})}(r,t,o)?h(r,!0):h(r)}}function h(e,t=!1){if(fn.assert(!_),!c(e))return;if(u.push(e),!t)return;const n=o.getMergedSymbol(e.symbol);if(!n)return;fn.assert(!!(1536&n.flags));const r=y(n);if(r)for(const i of r)YN(i)||h(Kce(i),!0)}function y(e){return n.get(iJ(e).toString())}}(e,t,i,a,n,r);return __spreadValues({indirectUsers:l},function(e,t,n,r,i){const o=[],a=[];function s(e,t){o.push([e,t])}if(e)for(const d of e)c(d);return{importSearches:o,singleReferences:a};function c(e){if(271===e.kind)return void(Xce(e)&&l(e.name));if(80===e.kind)return void l(e);if(205===e.kind){if(e.qualifier){const n=db(e.qualifier);n.escapedText===Sc(t)&&a.push(n)}else 2===n&&a.push(e.argument.literal);return}if(11!==e.moduleSpecifier.kind)return;if(278===e.kind)return void(e.exportClause&&FE(e.exportClause)&&_(e.exportClause));const{name:o,namedBindings:c}=e.importClause||{name:void 0,namedBindings:void 0};if(c)switch(c.kind){case 274:l(c.name);break;case 275:0!==n&&1!==n||_(c);break;default:fn.assertNever(c)}!o||1!==n&&2!==n||i&&o.escapedText!==dZ(t)||s(o,r.getSymbolAtLocation(o))}function l(e){2!==n||i&&!u(e.escapedText)||s(e,r.getSymbolAtLocation(e))}function _(e){if(e)for(const n of e.elements){const{name:e,propertyName:o}=n;u(Qd(o||e))&&(o?(a.push(o),i&&Qd(e)!==t.escapedName||s(e,r.getSymbolAtLocation(e))):s(e,281===n.kind&&n.propertyName?r.getExportSpecifierLocalTargetSymbol(n):r.getSymbolAtLocation(e)))}}function u(e){return e===t.escapedName||0!==n&&"default"===e}}(c,o,a.exportKind,n,s))}}i(Mce,{Core:()=>ile,DefinitionKind:()=>Qce,EntryKind:()=>Zce,ExportKind:()=>Jce,FindReferencesUse:()=>ole,ImportExport:()=>zce,createImportTracker:()=>Bce,findModuleReferences:()=>qce,findReferenceOrRenameEntries:()=>lle,findReferencedSymbols:()=>ale,getContextNode:()=>nle,getExportInfo:()=>$ce,getImplementationsAtPosition:()=>sle,getImportOrExportSymbol:()=>Wce,getReferenceEntriesForNode:()=>_le,isContextWithStartAndEndNode:()=>ele,isDeclarationOfSymbol:()=>xle,isWriteAccessForReference:()=>ble,toContextSpan:()=>rle,toHighlightSpan:()=>hle,toReferenceEntry:()=>mle,toRenameLocation:()=>fle});var Jce=(e=>(e[e.Named=0]="Named",e[e.Default=1]="Default",e[e.ExportEquals=2]="ExportEquals",e))(Jce||{}),zce=(e=>(e[e.Import=0]="Import",e[e.Export=1]="Export",e))(zce||{});function qce(e,t,n){var r;const i=[],o=e.getTypeChecker();for(const a of t){const t=n.valueDeclaration;if(307===(null==t?void 0:t.kind)){for(const n of a.referencedFiles)e.getSourceFileFromReference(a,n)===t&&i.push({kind:"reference",referencingFile:a,ref:n});for(const n of a.typeReferenceDirectives){const o=null==(r=e.getResolvedTypeReferenceDirectiveFromTypeReferenceDirective(n,a))?void 0:r.resolvedTypeReferenceDirective;void 0!==o&&o.resolvedFileName===t.fileName&&i.push({kind:"reference",referencingFile:a,ref:n})}}Uce(a,(e,t)=>{o.getSymbolAtLocation(t)===n&&i.push(iy(e)?{kind:"implicit",literal:t,referencingFile:a}:{kind:"import",literal:t})})}return i}function Vce(e,t){return f(307===e.kind?e.statements:e.body.statements,e=>t(e)||Gce(e)&&f(e.body&&e.body.statements,t))}function Uce(e,t){if(e.externalModuleIndicator||void 0!==e.imports)for(const n of e.imports)t(Sg(n),n);else Vce(e,e=>{switch(e.kind){case 278:case 272:{const n=e;n.moduleSpecifier&&MD(n.moduleSpecifier)&&t(n,n.moduleSpecifier);break}case 271:{const n=e;Xce(n)&&t(n,n.moduleReference.expression);break}}})}function Wce(e,t,n,r){return r?i():i()||function(){if(!function(e){const{parent:t}=e;switch(t.kind){case 271:return t.name===e&&Xce(t);case 276:return!t.propertyName;case 273:case 274:return fn.assert(t.name===e),!0;case 208:return Om(e)&&zm(t.parent.parent);default:return!1}}(e))return;let r=n.getImmediateAliasedSymbol(t);if(!r)return;if(r=function(e,t){if(e.declarations)for(const n of e.declarations){if(EE(n)&&!n.propertyName&&!n.parent.parent.moduleSpecifier)return t.getExportSpecifierLocalTargetSymbol(n)||e;if(sF(n)&&ig(n.expression)&&!nN(n.name))return t.getSymbolAtLocation(n);if(YE(n)&&kF(n.parent.parent)&&2===og(n.parent.parent))return t.getExportSpecifierLocalTargetSymbol(n.name)}return e}(r,n),"export="===r.escapedName&&(r=function(e,t){var n,r;if(2097152&e.flags)return t.getImmediateAliasedSymbol(e);const i=fn.checkDefined(e.valueDeclaration);return DE(i)?null==(n=it(i.expression,uu))?void 0:n.symbol:kF(i)?null==(r=it(i.right,uu))?void 0:r.symbol:nP(i)?i.symbol:void 0}(r,n),void 0===r))return;const i=dZ(r);return void 0===i||"default"===i||i===t.escapedName?{kind:0,symbol:r}:void 0}();function i(){var i;const{parent:s}=e,c=s.parent;if(t.exportSymbol)return 211===s.kind?(null==(i=t.declarations)?void 0:i.some(e=>e===s))&&kF(c)?_(c,!1):void 0:o(t.exportSymbol,a(s));{const i=function(e,t){const n=iE(e)?e:iF(e)?sc(e):void 0;return n?e.name!==t||QE(n.parent)?void 0:JF(n.parent.parent)?n.parent.parent:void 0:e}(s,e);if(i&&Av(i,32)){if(mE(i)&&i.moduleReference===e){if(r)return;return{kind:0,symbol:n.getSymbolAtLocation(i.name)}}return o(t,a(i))}if(TE(s))return o(t,0);if(DE(s))return l(s);if(DE(c))return l(c);if(kF(s))return _(s,!0);if(kF(c))return _(c,!0);if(BP(s)||TP(s))return o(t,0)}function l(e){if(!e.symbol.parent)return;const n=e.isExportEquals?2:1;return{kind:1,symbol:t,exportInfo:{exportingModuleSymbol:e.symbol.parent,exportKind:n}}}function _(e,r){let i;switch(og(e)){case 1:i=0;break;case 2:i=2;break;default:return}const a=r?n.getSymbolAtLocation(Fx(ot(e.left,Nx))):t;return a&&o(a,i)}}function o(e,t){const r=$ce(e,t,n);return r&&{kind:1,symbol:e,exportInfo:r}}function a(e){return Av(e,2048)?1:0}}function $ce(e,t,n){const r=e.parent;if(!r)return;const i=n.getMergedSymbol(r);return td(i)?{exportingModuleSymbol:i,exportKind:t}:void 0}function Hce(e,t){return t.getMergedSymbol(Kce(e).symbol)}function Kce(e){if(213===e.kind||351===e.kind)return e.getSourceFile();const{parent:t}=e;return 307===t.kind?t:(fn.assert(268===t.kind),ot(t.parent,Gce))}function Gce(e){return 267===e.kind&&11===e.name.kind}function Xce(e){return 283===e.moduleReference.kind&&11===e.moduleReference.expression.kind}var Qce=(e=>(e[e.Symbol=0]="Symbol",e[e.Label=1]="Label",e[e.Keyword=2]="Keyword",e[e.This=3]="This",e[e.String=4]="String",e[e.TripleSlashReference=5]="TripleSlashReference",e))(Qce||{}),Zce=(e=>(e[e.Span=0]="Span",e[e.Node=1]="Node",e[e.StringLiteral=2]="StringLiteral",e[e.SearchedLocalFoundProperty=3]="SearchedLocalFoundProperty",e[e.SearchedPropertyFoundLocal=4]="SearchedPropertyFoundLocal",e))(Zce||{});function Yce(e,t=1){return{kind:t,node:e.name||e,context:tle(e)}}function ele(e){return e&&void 0===e.kind}function tle(e){if(mu(e))return nle(e);if(e.parent){if(!mu(e.parent)&&!DE(e.parent)){if(Om(e)){const t=kF(e.parent)?e.parent:Nx(e.parent)&&kF(e.parent.parent)&&e.parent.parent.left===e.parent?e.parent.parent:void 0;if(t&&0!==og(t))return nle(t)}if(ME(e.parent)||BE(e.parent))return e.parent.parent;if(RE(e.parent)||eE(e.parent)||El(e.parent))return e.parent;if(zu(e)){const t=Tg(e);if(t){const e=gc(t,e=>mu(e)||yu(e)||Eu(e));return mu(e)?nle(e):e}}const t=gc(e,hN);return t?nle(t.parent):void 0}return e.parent.name===e||wN(e.parent)||DE(e.parent)||(Vl(e.parent)||iF(e.parent))&&e.parent.propertyName===e||90===e.kind&&Av(e.parent,2080)?nle(e.parent):void 0}}function nle(e){if(e)switch(e.kind){case 260:return oE(e.parent)&&1===e.parent.declarations.length?JF(e.parent.parent)?e.parent.parent:nu(e.parent.parent)?nle(e.parent.parent):e.parent:e;case 208:return nle(e.parent.parent);case 276:return e.parent.parent.parent;case 281:case 274:return e.parent.parent;case 273:case 280:return e.parent;case 226:return qF(e.parent)?e.parent:e;case 250:case 249:return{start:e.initializer,end:e.expression};case 303:case 304:return AQ(e.parent)?nle(gc(e.parent,e=>kF(e)||nu(e))):e;case 255:return{start:k(e.getChildren(e.getSourceFile()),e=>109===e.kind),end:e.caseBlock};default:return e}}function rle(e,t,n){if(!n)return;const r=ele(n)?yle(n.start,t,n.end):yle(n,t);return r.start!==e.start||r.length!==e.length?{contextSpan:r}:void 0}var ile,ole=(e=>(e[e.Other=0]="Other",e[e.References=1]="References",e[e.Rename=2]="Rename",e))(ole||{});function ale(e,t,n,r,i){const o=YX(r,i),a={use:1},s=ile.getReferencedSymbolsForNode(i,o,e,n,t,a),c=e.getTypeChecker(),l=ile.getAdjustedNode(o,a),_=function(e){return 90===e.kind||!!fh(e)||mh(e)||137===e.kind&&wN(e.parent)}(l)?c.getSymbolAtLocation(l):void 0;return s&&s.length?z(s,({definition:e,references:n})=>e&&{definition:c.runWithCancellationToken(t,t=>function(e,t,n){const r=(()=>{switch(e.type){case 0:{const{symbol:r}=e,{displayParts:i,kind:o}=ple(r,t,n),a=i.map(e=>e.text).join(""),s=r.declarations&&he(r.declarations),c=s?Ec(s)||s:n;return __spreadProps(__spreadValues({},dle(c)),{name:a,kind:o,displayParts:i,context:nle(s)})}case 1:{const{node:t}=e;return __spreadProps(__spreadValues({},dle(t)),{name:t.text,kind:"label",displayParts:[PZ(t.text,17)]})}case 2:{const{node:t}=e,n=Oa(t.kind);return __spreadProps(__spreadValues({},dle(t)),{name:n,kind:"keyword",displayParts:[{text:n,kind:"keyword"}]})}case 3:{const{node:n}=e,r=t.getSymbolAtLocation(n),i=r&&Kue.getSymbolDisplayPartsDocumentationAndSymbolKind(t,r,n.getSourceFile(),TX(n),n).displayParts||[BZ("this")];return __spreadProps(__spreadValues({},dle(n)),{name:"this",kind:"var",displayParts:i})}case 4:{const{node:t}=e;return __spreadProps(__spreadValues({},dle(t)),{name:t.text,kind:"var",displayParts:[PZ(ep(t),8)]})}case 5:return{textSpan:JQ(e.reference),sourceFile:e.file,name:e.reference.fileName,kind:"string",displayParts:[PZ(`"${e.reference.fileName}"`,8)]};default:return fn.assertNever(e)}})(),{sourceFile:i,textSpan:o,name:a,kind:s,displayParts:c,context:l}=r;return __spreadValues({containerKind:"",containerName:"",fileName:i.fileName,kind:s,name:a,textSpan:o,displayParts:c},rle(o,i,l))}(e,t,o)),references:n.map(e=>function(e,t){const n=mle(e);return t?__spreadProps(__spreadValues({},n),{isDefinition:0!==e.kind&&xle(e.node,t)}):n}(e,_))}):void 0}function sle(e,t,n,r,i){const o=YX(r,i);let a;const s=cle(e,t,n,o,i);if(211===o.parent.kind||208===o.parent.kind||212===o.parent.kind||108===o.kind)a=s&&[...s];else if(s){const r=Ze(s),i=new Set;for(;!r.isEmpty();){const o=r.dequeue();if(!Cx(i,rJ(o.node)))continue;a=se(a,o);const s=cle(e,t,n,o.node,o.node.pos);s&&r.enqueue(...s)}}const c=e.getTypeChecker();return A(a,e=>function(e,t){const n=gle(e);if(0!==e.kind){const{node:r}=e;return __spreadValues(__spreadValues({},n),function(e,t){const n=t.getSymbolAtLocation(mu(e)&&e.name?e.name:e);return n?ple(n,t,e):210===e.kind?{kind:"interface",displayParts:[OZ(21),BZ("object literal"),OZ(22)]}:231===e.kind?{kind:"local class",displayParts:[OZ(21),BZ("anonymous local class"),OZ(22)]}:{kind:CX(e),displayParts:[]}}(r,t))}return __spreadProps(__spreadValues({},n),{kind:"",displayParts:[]})}(e,c))}function cle(e,t,n,r,i){if(307===r.kind)return;const o=e.getTypeChecker();if(304===r.parent.kind){const e=[];return ile.getReferenceEntriesForShorthandPropertyAssignment(r,o,t=>e.push(Yce(t))),e}if(108===r.kind||_m(r.parent)){const e=o.getSymbolAtLocation(r);return e.valueDeclaration&&[Yce(e.valueDeclaration)]}return _le(i,r,e,n,t,{implementations:!0,use:1})}function lle(e,t,n,r,i,o,a){return A(ule(ile.getReferencedSymbolsForNode(i,r,e,n,t,o)),t=>a(t,r,e.getTypeChecker()))}function _le(e,t,n,r,i,o={},a=new Set(r.map(e=>e.fileName))){return ule(ile.getReferencedSymbolsForNode(e,t,n,r,i,o,a))}function ule(e){return e&&j(e,e=>e.references)}function dle(e){const t=e.getSourceFile();return{sourceFile:t,textSpan:yle(hN(e)?e.expression:e,t)}}function ple(e,t,n){const r=ile.getIntersectingMeaningFromDeclarations(n,e),i=e.declarations&&he(e.declarations)||n,{displayParts:o,symbolKind:a}=Kue.getSymbolDisplayPartsDocumentationAndSymbolKind(t,e,i.getSourceFile(),i,i,r);return{displayParts:o,kind:a}}function fle(e,t,n,r,i){return __spreadValues(__spreadValues({},gle(e)),r&&function(e,t,n,r){if(0!==e.kind&&(tN(t)||zu(t))){const{node:r,kind:i}=e,o=r.parent,a=t.text,s=YE(o);if(s||fZ(o)&&o.name===r&&void 0===o.dotDotDotToken){const e={prefixText:a+": "},t={suffixText:": "+a};if(3===i)return e;if(4===i)return t;if(s){const n=o.parent;return aF(n)&&kF(n.parent)&&ig(n.parent.left)?e:t}return e}if(wE(o)&&!o.propertyName)return w((EE(t.parent)?n.getExportSpecifierLocalTargetSymbol(t.parent):n.getSymbolAtLocation(t)).declarations,o)?{prefixText:a+" as "}:FG;if(EE(o)&&!o.propertyName)return t===e.node||n.getSymbolAtLocation(t)===n.getSymbolAtLocation(e.node)?{prefixText:a+" as "}:{suffixText:" as "+a}}if(0!==e.kind&&jD(e.node)&&Nx(e.node.parent)){const e=_Z(r);return{prefixText:e,suffixText:e}}return FG}(e,t,n,i))}function mle(e){const t=gle(e);if(0===e.kind)return __spreadProps(__spreadValues({},t),{isWriteAccess:!1});const{kind:n,node:r}=e;return __spreadProps(__spreadValues({},t),{isWriteAccess:ble(r),isInString:2===n||void 0})}function gle(e){if(0===e.kind)return{textSpan:e.textSpan,fileName:e.fileName};{const t=e.node.getSourceFile(),n=yle(e.node,t);return __spreadValues({textSpan:n,fileName:t.fileName},rle(n,t,e.context))}}function hle(e){const t=gle(e);if(0===e.kind)return{fileName:t.fileName,span:{textSpan:t.textSpan,kind:"reference"}};const n=ble(e.node),r=__spreadValues({textSpan:t.textSpan,kind:n?"writtenReference":"reference",isInString:2===e.kind||void 0},t.contextSpan&&{contextSpan:t.contextSpan});return{fileName:t.fileName,span:r}}function yle(e,t,n){let r=e.getStart(t),i=(n||e).getEnd();return zu(e)&&i-r>2&&(fn.assert(void 0===n),r+=1,i-=1),269===(null==n?void 0:n.kind)&&(i=n.getFullStart()),Qs(r,i)}function vle(e){return 0===e.kind?e.textSpan:yle(e.node,e.node.getSourceFile())}function ble(e){const t=fh(e);return!!t&&function(e){if(33554432&e.flags)return!0;switch(e.kind){case 226:case 208:case 263:case 231:case 90:case 266:case 306:case 281:case 273:case 271:case 276:case 264:case 338:case 346:case 291:case 267:case 270:case 274:case 280:case 169:case 304:case 265:case 168:return!0;case 303:return!AQ(e.parent);case 262:case 218:case 176:case 174:case 177:case 178:return!!e.body;case 260:case 172:return!!e.initializer||QE(e.parent);case 173:case 171:case 348:case 341:return!1;default:return fn.failBadSyntaxKind(e)}}(t)||90===e.kind||px(e)}function xle(e,t){var n;if(!t)return!1;const r=fh(e)||(90===e.kind?e.parent:mh(e)||137===e.kind&&wN(e.parent)?e.parent.parent:void 0),i=r&&kF(r)?r.left:void 0;return!(!r||!(null==(n=t.declarations)?void 0:n.some(e=>e===r||e===i)))}(e=>{function t(e,t){return 1===t.use?e=QX(e):2===t.use&&(e=ZX(e)),e}function n(e,t,n){let r;const i=t.get(e.path)||u;for(const o of i)if(EU(o)){const e=n.getSourceFileByPath(o.file),t=AU(n,o);PU(t)&&(r=se(r,{kind:0,fileName:e.fileName,textSpan:JQ(t)}))}return r}function r(e,t,n){if(e.parent&&fE(e.parent)){const e=n.getAliasedSymbol(t),r=n.getMergedSymbol(e);if(e!==r)return r}}function i(e,t,n,r,i,a){const c=1536&e.flags&&e.declarations&&k(e.declarations,nP);if(!c)return;const _=e.exports.get("export="),u=s(t,e,!!_,n,a);if(!_||!a.has(c.fileName))return u;const d=t.getTypeChecker();return o(t,u,l(e=_x(_,d),void 0,n,a,d,r,i))}function o(e,...t){let n;for(const r of t)if(r&&r.length)if(n)for(const t of r){if(!t.definition||0!==t.definition.type){n.push(t);continue}const r=t.definition.symbol,i=T(n,e=>!!e.definition&&0===e.definition.type&&e.definition.symbol===r);if(-1===i){n.push(t);continue}const o=n[i];n[i]={definition:o.definition,references:o.references.concat(t.references).sort((t,n)=>{const r=a(e,t),i=a(e,n);if(r!==i)return kt(r,i);const o=vle(t),s=vle(n);return o.start!==s.start?kt(o.start,s.start):kt(o.length,s.length)})}}else n=r;return n}function a(e,t){const n=0===t.kind?e.getSourceFile(t.fileName):t.node.getSourceFile();return e.getSourceFiles().indexOf(n)}function s(e,t,n,r,i){fn.assert(!!t.valueDeclaration);const o=z(qce(e,r,t),e=>{if("import"===e.kind){const t=e.literal.parent;if(ZN(t)){const e=ot(t.parent,YN);if(n&&!e.qualifier)return}return Yce(e.literal)}return"implicit"===e.kind?Yce(e.literal.text!==Ku&&GI(e.referencingFile,e=>2&e.transformFlags?jE(e)||RE(e)||JE(e)?e:void 0:"skip")||e.referencingFile.statements[0]||e.referencingFile):{kind:0,fileName:e.referencingFile.fileName,textSpan:JQ(e.ref)}});if(t.declarations)for(const s of t.declarations)switch(s.kind){case 307:break;case 267:i.has(s.getSourceFile().fileName)&&o.push(Yce(s.name));break;default:fn.assert(!!(33554432&t.flags),"Expected a module symbol to be declared by a SourceFile or ModuleDeclaration.")}const a=t.exports.get("export=");if(null==a?void 0:a.declarations)for(const s of a.declarations){const e=s.getSourceFile();if(i.has(e.fileName)){const t=kF(s)&&sF(s.left)?s.left.expression:DE(s)?fn.checkDefined(zX(s,95,e)):Ec(s)||s;o.push(Yce(t))}}return o.length?[{definition:{type:0,symbol:t},references:o}]:u}function c(e){return 148===e.kind&&GN(e.parent)&&148===e.parent.operator}function l(e,t,n,r,i,o,a){const s=t&&function(e,t,n,r){const{parent:i}=t;return EE(i)&&r?R(t,e,i,n):g(e.declarations,r=>{if(!r.parent){if(33554432&e.flags)return;fn.fail(`Unexpected symbol at ${fn.formatSyntaxKind(t.kind)}: ${fn.formatSymbol(e)}`)}return RN(r.parent)&&VN(r.parent.parent)?n.getPropertyOfType(n.getTypeFromTypeNode(r.parent.parent),e.name):void 0})}(e,t,i,!Y(a))||e,c=t?X(t,s):7,l=[],u=new y(n,r,t?function(e){switch(e.kind){case 176:case 137:return 1;case 80:if(g_(e.parent))return fn.assert(e.parent.name===e),2;default:return 0}}(t):0,i,o,c,a,l),d=Y(a)&&s.declarations?k(s.declarations,EE):void 0;if(d)L(d.name,s,d,u.createSearch(t,e,void 0),u,!0,!0);else if(t&&90===t.kind&&"default"===s.escapedName&&s.parent)M(t,s,u),v(t,s,{exportingModuleSymbol:s.parent,exportKind:1},u);else{const e=u.createSearch(t,s,void 0,{allSearchSymbols:t?$(s,t,i,2===a.use,!!a.providePrefixAndSuffixTextForRename,!!a.implementations):[s]});_(s,u,e)}return l}function _(e,t,n){const r=function(e){const{declarations:t,flags:n,parent:r,valueDeclaration:i}=e;if(i&&(218===i.kind||231===i.kind))return i;if(!t)return;if(8196&n){const e=k(t,e=>Pv(e,2)||Yl(e));return e?Nh(e,263):void 0}if(t.some(fZ))return;const o=r&&!(262144&e.flags);if(o&&(!td(r)||r.globalExports))return;let a;for(const s of t){const e=TX(s);if(a&&a!==e)return;if(!e||307===e.kind&&!rf(e))return;if(a=e,fF(a)){let e;for(;e=qg(a);)a=e}}return o?a.getSourceFile():a}(e);if(r)A(r,r.getSourceFile(),n,t,!(nP(r)&&!w(t.sourceFiles,r)));else for(const i of t.sourceFiles)t.cancellationToken.throwIfCancellationRequested(),S(i,n,t)}let d;var m;function h(e){if(!(33555968&e.flags))return;const t=e.declarations&&k(e.declarations,e=>!nP(e)&&!uE(e));return t&&t.symbol}e.getReferencedSymbolsForNode=function(e,a,_,d,p,f={},m=new Set(d.map(e=>e.fileName))){var h,y;if(nP(a=t(a,f))){const t=kle.getReferenceAtPosition(a,e,_);if(!(null==t?void 0:t.file))return;const r=_.getTypeChecker().getMergedSymbol(t.file.symbol);if(r)return s(_,r,!1,d,m);const i=_.getFileIncludeReasons();if(!i)return;return[{definition:{type:5,reference:t.reference,file:a},references:n(t.file,i,_)||u}]}if(!f.implementations){const e=function(e,t,n){if(WQ(e.kind)){if(116===e.kind&&yF(e.parent))return;if(148===e.kind&&!c(e))return;return function(e,t,n,r){const i=j(e,e=>(n.throwIfCancellationRequested(),z(D(e,Oa(t),e),e=>{if(e.kind===t&&(!r||r(e)))return Yce(e)})));return i.length?[{definition:{type:2,node:i[0].node},references:i}]:void 0}(t,e.kind,n,148===e.kind?c:void 0)}if(mf(e.parent)&&e.parent.name===e)return function(e,t){const n=j(e,e=>(t.throwIfCancellationRequested(),z(D(e,"meta",e),e=>{const t=e.parent;if(mf(t))return Yce(t)})));return n.length?[{definition:{type:2,node:n[0].node},references:n}]:void 0}(t,n);if(lN(e)&&CN(e.parent))return[{definition:{type:2,node:e},references:[Yce(e)]}];if(pX(e)){const t=uX(e.parent,e.text);return t&&E(t.parent,t)}return fX(e)?E(e.parent,e):wX(e)?function(e,t,n){let r=im(e,!1,!1),i=256;switch(r.kind){case 174:case 173:if(Uf(r)){i&=$v(r),r=r.parent;break}case 172:case 171:case 176:case 177:case 178:i&=$v(r),r=r.parent;break;case 307:if(tO(r)||W(e))return;case 262:case 218:break;default:return}const o=j(307===r.kind?t:[r.getSourceFile()],e=>(n.throwIfCancellationRequested(),D(e,"this",nP(r)?e:r).filter(e=>{if(!wX(e))return!1;const t=im(e,!1,!1);if(!uu(t))return!1;switch(r.kind){case 218:case 262:return r.symbol===t.symbol;case 174:case 173:return Uf(r)&&r.symbol===t.symbol;case 231:case 263:case 210:return t.parent&&uu(t.parent)&&r.symbol===t.parent.symbol&&Iv(t)===!!i;case 307:return 307===t.kind&&!tO(t)&&!W(e)}}))).map(e=>Yce(e)),a=g(o,e=>vN(e.node.parent)?e.node:void 0);return[{definition:{type:3,node:a||e},references:o}]}(e,t,n):108===e.kind?function(e){let t=cm(e,!1);if(!t)return;let n=256;switch(t.kind){case 172:case 171:case 174:case 173:case 176:case 177:case 178:n&=$v(t),t=t.parent;break;default:return}const r=z(D(t.getSourceFile(),"super",t),e=>{if(108!==e.kind)return;const r=cm(e,!1);return r&&Iv(r)===!!n&&r.parent.symbol===t.symbol?Yce(e):void 0});return[{definition:{type:0,symbol:t.symbol},references:r}]}(e):void 0}(a,d,p);if(e)return e}const v=_.getTypeChecker(),b=v.getSymbolAtLocation(wN(a)&&a.parent.name||a);if(!b){if(!f.implementations&&zu(a)){if(pZ(a)){const e=_.getFileIncludeReasons(),t=null==(y=null==(h=_.getResolvedModuleFromModuleSpecifier(a))?void 0:h.resolvedModule)?void 0:y.resolvedFileName,r=t?_.getSourceFile(t):void 0;if(r)return[{definition:{type:4,node:a},references:n(r,e,_)||u}]}return function(e,t,n,r){const i=$X(e,n),o=j(t,t=>(r.throwIfCancellationRequested(),z(D(t,e.text),r=>{if(zu(r)&&r.text===e.text){if(!i)return zD(r)&&!Vb(r,t)?void 0:Yce(r,2);{const e=$X(r,n);if(i!==n.getStringType()&&(i===e||function(e,t){if(xN(e.parent))return t.getPropertyOfType(t.getTypeAtLocation(e.parent.parent),e.text)}(r,n)))return Yce(r,2)}}})));return[{definition:{type:4,node:e},references:o}]}(a,d,v,p)}return}if("export="===b.escapedName)return s(_,b.parent,!1,d,m);const x=i(b,_,d,p,f,m);if(x&&!(33554432&b.flags))return x;const k=r(a,b,v),S=k&&i(k,_,d,p,f,m);return o(_,x,l(b,a,d,m,v,p,f),S)},e.getAdjustedNode=t,e.getReferencesForFileName=function(e,t,r,i=new Set(r.map(e=>e.fileName))){var o,a;const c=null==(o=t.getSourceFile(e))?void 0:o.symbol;if(c)return(null==(a=s(t,c,!1,r,i)[0])?void 0:a.references)||u;const l=t.getFileIncludeReasons(),_=t.getSourceFile(e);return _&&l&&n(_,l,t)||u},(m=d||(d={}))[m.None=0]="None",m[m.Constructor=1]="Constructor",m[m.Class=2]="Class";class y{constructor(e,t,n,r,i,o,a,s){this.sourceFiles=e,this.sourceFilesSet=t,this.specialSearchKind=n,this.checker=r,this.cancellationToken=i,this.searchMeaning=o,this.options=a,this.result=s,this.inheritsFromCache=new Map,this.markSeenContainingTypeReference=KQ(),this.markSeenReExportRHS=KQ(),this.symbolIdToReferences=[],this.sourceFileToSeenSymbols=[]}includesSourceFile(e){return this.sourceFilesSet.has(e.fileName)}getImportSearches(e,t){return this.importTracker||(this.importTracker=Bce(this.sourceFiles,this.sourceFilesSet,this.checker,this.cancellationToken)),this.importTracker(e,t,2===this.options.use)}createSearch(e,t,n,r={}){const{text:i=Iy(Sc(Tb(t)||h(t)||t)),allSearchSymbols:o=[t]}=r,a=vc(i),s=this.options.implementations&&e?function(e,t,n){const r=yX(e)?e.parent:void 0,i=r&&n.getTypeAtLocation(r.expression),o=z(i&&(i.isUnionOrIntersection()?i.types:i.symbol===t.parent?void 0:[i]),e=>e.symbol&&96&e.symbol.flags?e.symbol:void 0);return 0===o.length?void 0:o}(e,t,this.checker):void 0;return{symbol:t,comingFrom:n,text:i,escapedText:a,parents:s,allSearchSymbols:o,includes:e=>w(o,e)}}referenceAdder(e){const t=iJ(e);let n=this.symbolIdToReferences[t];return n||(n=this.symbolIdToReferences[t]=[],this.result.push({definition:{type:0,symbol:e},references:n})),(e,t)=>n.push(Yce(e,t))}addStringOrCommentReference(e,t){this.result.push({definition:void 0,references:[{kind:0,fileName:e,textSpan:t}]})}markSearchedSymbols(e,t){const n=rJ(e),r=this.sourceFileToSeenSymbols[n]||(this.sourceFileToSeenSymbols[n]=new Set);let i=!1;for(const o of t)i=U(r,iJ(o))||i;return i}}function v(e,t,n,r){const{importSearches:i,singleReferences:o,indirectUsers:a}=r.getImportSearches(t,n);if(o.length){const e=r.referenceAdder(t);for(const t of o)b(t,r)&&e(t)}for(const[s,c]of i)P(s.getSourceFile(),r.createSearch(s,c,1),r);if(a.length){let i;switch(n.exportKind){case 0:i=r.createSearch(e,t,1);break;case 1:i=2===r.options.use?void 0:r.createSearch(e,t,1,{text:"default"})}if(i)for(const e of a)S(e,i,r)}}function b(e,t){return!(!I(e,t)||2===t.options.use&&(!tN(e)&&!Vl(e.parent)||Vl(e.parent)&&Zd(e)))}function x(e,t){if(e.declarations)for(const n of e.declarations){const r=n.getSourceFile();P(r,t.createSearch(n,e,0),t,t.includesSourceFile(r))}}function S(e,t,n){void 0!==g7(e).get(t.escapedText)&&P(e,t,n)}function C(e,t,n,r,i=n){const o=ic(e.parent,e.parent.parent)?ve(t.getSymbolsOfParameterPropertyDeclaration(e.parent,e.text)):t.getSymbolAtLocation(e);if(o)for(const a of D(n,o.name,i)){if(!tN(a)||a===e||a.escapedText!==e.escapedText)continue;const n=t.getSymbolAtLocation(a);if(n===o||t.getShorthandAssignmentValueSymbol(a.parent)===o||EE(a.parent)&&R(a,n,a.parent,t)===o){const e=r(a);if(e)return e}}}function D(e,t,n=e){return z(N(e,t,n),t=>{const n=YX(e,t);return n===e?void 0:n})}function N(e,t,n=e){const r=[];if(!t||!t.length)return r;const i=e.text,o=i.length,a=t.length;let s=i.indexOf(t,n.pos);for(;s>=0&&!(s>n.end);){const e=s+a;0!==s&&vs(i.charCodeAt(s-1),99)||e!==o&&vs(i.charCodeAt(e),99)||r.push(s),s=i.indexOf(t,s+a+1)}return r}function E(e,t){const n=e.getSourceFile(),r=t.text,i=z(D(n,r,e),e=>e===t||pX(e)&&uX(e,r)===t?Yce(e):void 0);return[{definition:{type:1,node:t},references:i}]}function P(e,t,n,r=!0){return n.cancellationToken.throwIfCancellationRequested(),A(e,e,t,n,r)}function A(e,t,n,r,i){if(r.markSearchedSymbols(t,n.allSearchSymbols))for(const o of N(t,n.text,e))O(t,o,n,r,i)}function I(e,t){return!!(ZG(e)&t.searchMeaning)}function O(e,t,n,r,i){const o=YX(e,t);if(!function(e,t){switch(e.kind){case 81:if(aP(e.parent))return!0;case 80:return e.text.length===t.length;case 15:case 11:{const n=e;return n.text.length===t.length&&(kX(n)||bX(e)||SX(e)||lF(e.parent)&&ag(e.parent)&&e.parent.arguments[1]===e||Vl(e.parent))}case 9:return kX(e)&&e.text.length===t.length;case 90:return 7===t.length;default:return!1}}(o,n.text))return void(!r.options.implementations&&(r.options.findInStrings&&_Q(e,t)||r.options.findInComments&&OQ(e,t))&&r.addStringOrCommentReference(e.fileName,Xs(t,n.text.length)));if(!I(o,r))return;let a=r.checker.getSymbolAtLocation(o);if(!a)return;const s=o.parent;if(wE(s)&&s.propertyName===o)return;if(EE(s))return fn.assert(80===o.kind||11===o.kind),void L(o,a,s,n,r,i);if(Al(s)&&s.isNameFirst&&s.typeExpression&&vP(s.typeExpression.type)&&s.typeExpression.type.jsDocPropertyTags&&p(s.typeExpression.type.jsDocPropertyTags))return void function(e,t,n,r){const i=r.referenceAdder(n.symbol);M(t,n.symbol,r),f(e,e=>{gN(e.name)&&i(e.name.left)})}(s.typeExpression.type.jsDocPropertyTags,o,n,r);const c=function(e,t,n,r){const{checker:i}=r;return H(t,n,i,!1,2!==r.options.use||!!r.options.providePrefixAndSuffixTextForRename,(n,r,i,o)=>(i&&G(t)!==G(i)&&(i=void 0),e.includes(i||r||n)?{symbol:!r||6&cx(n)?n:r,kind:o}:void 0),t=>!(e.parents&&!e.parents.some(e=>V(t.parent,e,r.inheritsFromCache,i))))}(n,a,o,r);if(c){switch(r.specialSearchKind){case 0:i&&M(o,c,r);break;case 1:!function(e,t,n,r){tX(e)&&M(e,n.symbol,r);const i=()=>r.referenceAdder(n.symbol);if(g_(e.parent))fn.assert(90===e.kind||e.parent.name===e),function(e,t,n){const r=B(e);if(r&&r.declarations)for(const i of r.declarations){const e=zX(i,137,t);fn.assert(176===i.kind&&!!e),n(e)}e.exports&&e.exports.forEach(e=>{const t=e.valueDeclaration;if(t&&174===t.kind){const e=t.body;e&&Z(e,110,e=>{tX(e)&&n(e)})}})}(n.symbol,t,i());else{const t=ab(_X(e).parent);t&&(function(e,t){const n=B(e.symbol);if(n&&n.declarations)for(const r of n.declarations){fn.assert(176===r.kind);const e=r.body;e&&Z(e,108,e=>{eX(e)&&t(e)})}}(t,i()),function(e,t){if(function(e){return!!B(e.symbol)}(e))return;const n=e.symbol,r=t.createSearch(void 0,n,void 0);_(n,t,r)}(t,r))}}(o,e,n,r);break;case 2:!function(e,t,n){M(e,t.symbol,n);const r=e.parent;if(2===n.options.use||!g_(r))return;fn.assert(r.name===e);const i=n.referenceAdder(t.symbol);for(const o of r.members)b_(o)&&Iv(o)&&o.body&&o.body.forEachChild(function e(t){110===t.kind?i(t):c_(t)||g_(t)||t.forEachChild(e)})}(o,n,r);break;default:fn.assertNever(r.specialSearchKind)}Om(o)&&iF(o.parent)&&zm(o.parent.parent.parent)&&(a=o.parent.symbol,!a)||function(e,t,n,r){const i=Wce(e,t,r.checker,1===n.comingFrom);if(!i)return;const{symbol:o}=i;0===i.kind?Y(r.options)||x(o,r):v(e,o,i.exportInfo,r)}(o,a,n,r)}else!function({flags:e,valueDeclaration:t},n,r){const i=r.checker.getShorthandAssignmentValueSymbol(t),o=t&&Ec(t);33554432&e||!o||!n.includes(i)||M(o,i,r)}(a,n,r)}function L(e,t,n,r,i,o,a){fn.assert(!a||!!i.options.providePrefixAndSuffixTextForRename,"If alwaysGetReferences is true, then prefix/suffix text must be enabled");const{parent:s,propertyName:c,name:l}=n,_=s.parent,u=R(e,t,n,i.checker);if(a||r.includes(u)){if(c?e===c?(_.moduleSpecifier||d(),o&&2!==i.options.use&&i.markSeenReExportRHS(l)&&M(l,fn.checkDefined(n.symbol),i)):i.markSeenReExportRHS(e)&&d():2===i.options.use&&Zd(l)||d(),!Y(i.options)||a){const t=Zd(e)||Zd(n.name)?1:0,r=fn.checkDefined(n.symbol),o=$ce(r,t,i.checker);o&&v(e,r,o,i)}if(1!==r.comingFrom&&_.moduleSpecifier&&!c&&!Y(i.options)){const e=i.checker.getExportSpecifierLocalTargetSymbol(n);e&&x(e,i)}}function d(){o&&M(e,u,i)}}function R(e,t,n,r){return function(e,t){const{parent:n,propertyName:r,name:i}=t;return fn.assert(r===e||i===e),r?r===e:!n.parent.moduleSpecifier}(e,n)&&r.getExportSpecifierLocalTargetSymbol(n)||t}function M(e,t,n){const{kind:r,symbol:i}="kind"in t?t:{kind:void 0,symbol:t};if(2===n.options.use&&90===e.kind)return;const o=n.referenceAdder(i);n.options.implementations?function(e,t,n){if(ph(e)&&(33554432&(r=e.parent).flags?!cE(r)&&!lE(r):jf(r)?Lu(r):__(r)?r.body:g_(r)||_u(r)))return void t(e);var r;if(80!==e.kind)return;304===e.parent.kind&&Q(e,n.checker,t);const i=J(e);if(i)return void t(i);const o=gc(e,e=>!gN(e.parent)&&!C_(e.parent)&&!k_(e.parent)),a=o.parent;if(Ou(a)&&a.type===o&&n.markSeenContainingTypeReference(a))if(Lu(a))s(a.initializer);else if(c_(a)&&a.body){const e=a.body;241===e.kind?Af(e,e=>{e.expression&&s(e.expression)}):s(e)}else(X_(a)||PF(a))&&s(a.expression);function s(e){q(e)&&t(e)}}(e,o,n):o(e,r)}function B(e){return e.members&&e.members.get("__constructor")}function J(e){return tN(e)||sF(e)?J(e.parent):FF(e)?it(e.parent.parent,rn(g_,cE)):void 0}function q(e){switch(e.kind){case 217:return q(e.expression);case 219:case 218:case 210:case 231:case 209:return!0;default:return!1}}function V(e,t,n,r){if(e===t)return!0;const i=iJ(e)+","+iJ(t),o=n.get(i);if(void 0!==o)return o;n.set(i,!1);const a=!!e.declarations&&e.declarations.some(e=>Ch(e).some(e=>{const i=r.getTypeAtLocation(e);return!!i&&!!i.symbol&&V(i.symbol,t,n,r)}));return n.set(i,a),a}function W(e){return 80===e.kind&&169===e.parent.kind&&e.parent.name===e}function $(e,t,n,r,i,o){const a=[];return H(e,t,n,r,!(r&&i),(t,n,r)=>{r&&G(e)!==G(r)&&(r=void 0),a.push(r||n||t)},()=>!o),a}function H(e,t,n,i,o,a,s){const c=h7(t);if(c){const e=n.getShorthandAssignmentValueSymbol(t.parent);if(e&&i)return a(e,void 0,void 0,3);const r=n.getContextualType(c.parent),o=r&&g(y7(c,n,r,!0),e=>d(e,4));if(o)return o;const s=function(e,t){return AQ(e.parent.parent)?t.getPropertySymbolOfDestructuringAssignment(e):void 0}(t,n),l=s&&a(s,void 0,void 0,4);if(l)return l;const _=e&&a(e,void 0,void 0,3);if(_)return _}const l=r(t,e,n);if(l){const e=a(l,void 0,void 0,1);if(e)return e}const _=d(e);if(_)return _;if(e.valueDeclaration&&ic(e.valueDeclaration,e.valueDeclaration.parent)){const t=n.getSymbolsOfParameterPropertyDeclaration(ot(e.valueDeclaration,vN),e.name);return fn.assert(2===t.length&&!!(1&t[0].flags)&&!!(4&t[1].flags)),d(1&e.flags?t[1]:t[0])}const u=Qu(e,281);if(!i||u&&!u.propertyName){const e=u&&n.getExportSpecifierLocalTargetSymbol(u);if(e){const t=a(e,void 0,void 0,1);if(t)return t}}if(!i){let r;return r=o?fZ(t.parent)?mZ(n,t.parent):void 0:p(e,n),r&&d(r,4)}if(fn.assert(i),o){const t=p(e,n);return t&&d(t,4)}function d(e,t){return g(n.getRootSymbols(e),r=>a(e,r,void 0,t)||(r.parent&&96&r.parent.flags&&s(r)?function(e,t,n,r){const i=new Set;return o(e);function o(e){if(96&e.flags&&Cx(i,e))return g(e.declarations,e=>g(Ch(e),e=>{const i=n.getTypeAtLocation(e),a=i&&i.symbol&&n.getPropertyOfType(i,t);return i&&a&&(g(n.getRootSymbols(a),r)||o(i.symbol))}))}}(r.parent,r.name,n,n=>a(e,r,n,t)):void 0))}function p(e,t){const n=Qu(e,208);if(n&&fZ(n))return mZ(t,n)}}function G(e){return!!e.valueDeclaration&&!!(256&Uv(e.valueDeclaration))}function X(e,t){let n=ZG(e);const{declarations:r}=t;if(r){let e;do{e=n;for(const e of r){const t=QG(e);t&n&&(n|=t)}}while(n!==e)}return n}function Q(e,t,n){const r=t.getSymbolAtLocation(e),i=t.getShorthandAssignmentValueSymbol(r.valueDeclaration);if(i)for(const o of i.getDeclarations())1&QG(o)&&n(o)}function Z(e,t,n){KI(e,e=>{e.kind===t&&n(e),Z(e,t,n)})}function Y(e){return 2===e.use&&e.providePrefixAndSuffixTextForRename}e.eachExportReference=function(e,t,n,r,i,o,a,s){const c=Bce(e,new Set(e.map(e=>e.fileName)),t,n),{importSearches:l,indirectUsers:_,singleReferences:u}=c(r,{exportKind:a?1:0,exportingModuleSymbol:i},!1);for(const[d]of l)s(d);for(const d of u)tN(d)&&YN(d.parent)&&s(d);for(const d of _)for(const e of D(d,a?"default":o)){const n=t.getSymbolAtLocation(e),i=K(null==n?void 0:n.declarations,e=>!!it(e,DE));!tN(e)||Vl(e.parent)||n!==r&&!i||s(e)}},e.isSymbolReferencedInFile=function(e,t,n,r=n){return C(e,t,n,()=>!0,r)||!1},e.eachSymbolReferenceInFile=C,e.getTopMostDeclarationNamesInFile=function(e,t){return F(D(t,e),e=>!!fh(e)).reduce((e,t)=>{const n=function(e){let t=0;for(;e;)e=TX(e),t++;return t}(t);return K(e.declarationNames)&&n!==e.depth?n<e.depth&&(e.declarationNames=[t],e.depth=n):(e.declarationNames.push(t),e.depth=n),e},{depth:1/0,declarationNames:[]}).declarationNames},e.someSignatureUsage=function(e,t,n,r){if(!e.name||!tN(e.name))return!1;const i=fn.checkDefined(n.getSymbolAtLocation(e.name));for(const o of t)for(const t of D(o,i.name)){if(!tN(t)||t===e.name||t.escapedText!==e.name.escapedText)continue;const o=_X(t),a=lF(o.parent)&&o.parent.expression===o?o.parent:void 0,s=n.getSymbolAtLocation(t);if(s&&n.getRootSymbols(s).some(e=>e===i)&&r(t,a))return!0}return!1},e.getIntersectingMeaningFromDeclarations=X,e.getReferenceEntriesForShorthandPropertyAssignment=Q})(ile||(ile={}));var kle={};function Sle(e,t,n,r,i){var o;const a=Cle(t,n,e),s=a&&[(c=a.reference.fileName,l=a.fileName,_=a.unverified,{fileName:l,textSpan:Qs(0,0),kind:"script",name:c,containerName:void 0,containerKind:void 0,unverified:_})]||u;var c,l,_;if(null==a?void 0:a.file)return s;const d=YX(t,n);if(d===t)return;const{parent:p}=d,m=e.getTypeChecker();if(164===d.kind||tN(d)&&FP(p)&&p.tagName===d){const e=function(e,t){const n=gc(t,m_);if(!n||!n.name)return;const r=gc(n,g_);if(!r)return;const i=kh(r);if(!i)return;const o=_h(i.expression),a=DF(o)?o.symbol:e.getSymbolAtLocation(o);if(!a)return;const s=bc(Jp(n.name)),c=Ov(n)?e.getPropertyOfType(e.getTypeOfSymbol(a),s):e.getPropertyOfType(e.getDeclaredTypeOfSymbol(a),s);return c?Ile(e,c,t):void 0}(m,d);if(void 0!==e||164!==d.kind)return e||u}if(pX(d)){const e=uX(d.parent,d.text);return e?[Lle(m,e,"label",d.text,void 0)]:void 0}switch(d.kind){case 90:if(!GE(d.parent))break;case 84:const e=gc(d.parent,YF);if(e)return[jle(e,t)]}let g;switch(d.kind){case 107:case 135:case 127:g=__;const e=gc(d,g);return e?[Mle(m,e)]:void 0}if(lN(d)&&CN(d.parent)){const e=d.parent.parent,{symbol:t,failedAliasResolution:n}=Ale(e,m,i),r=F(e.members,CN),o=t?m.symbolToString(t,e):"",a=d.getSourceFile();return A(r,e=>{let{pos:t}=zb(e);return t=ns(a.text,t),Lle(m,e,"constructor","static {}",o,!1,n,{start:t,length:6})})}let{symbol:h,failedAliasResolution:y}=Ale(d,m,i),v=d;if(r&&y){const e=f([d,...(null==h?void 0:h.declarations)||u],e=>gc(e,Np)),t=e&&kg(e);t&&(({symbol:h,failedAliasResolution:y}=Ale(t,m,i)),v=t)}if(!h&&pZ(v)){const n=null==(o=e.getResolvedModuleFromModuleSpecifier(v,t))?void 0:o.resolvedModule;if(n)return[{name:v.text,fileName:n.resolvedFileName,containerName:void 0,containerKind:void 0,kind:"script",textSpan:Xs(0,0),failedAliasResolution:y,isAmbient:lO(n.resolvedFileName),unverified:v!==d}]}if(i_(d)&&(m_(p)||Nc(p))&&(h=p.symbol),!h)return X(s,function(e,t){return z(t.getIndexInfosAtLocation(e),e=>e.declaration&&Mle(t,e.declaration))}(d,m));if(r&&x(h.declarations,e=>e.getSourceFile().fileName===t.fileName))return;const b=function(e,t){const n=function(e){const t=gc(e,e=>!yX(e)),n=null==t?void 0:t.parent;return n&&J_(n)&&mm(n)===t?n:void 0}(t),r=n&&e.getResolvedSignature(n);return it(r&&r.declaration,e=>c_(e)&&!ON(e))}(m,d);if(b&&(!Cu(d.parent)||!function(e){switch(e.kind){case 176:case 185:case 179:case 180:return!0;default:return!1}}(b))){const e=Mle(m,b,y);let t=e=>e!==b;if(m.getRootSymbols(h).some(e=>function(e,t){var n;return e===t.symbol||e===t.symbol.parent||cb(t.parent)||!J_(t.parent)&&e===(null==(n=it(t.parent,uu))?void 0:n.symbol)}(e,b))){if(!wN(b))return[e];t=e=>e!==b&&(sE(e)||DF(e))}const n=Ile(m,h,d,y,t)||u;return 108===d.kind?[e,...n]:[...n,e]}if(304===d.parent.kind){const e=m.getShorthandAssignmentValueSymbol(h.valueDeclaration);return X((null==e?void 0:e.declarations)?e.declarations.map(t=>Ole(t,m,e,d,!1,y)):u,Tle(m,d))}if(a_(d)&&iF(p)&&nF(p.parent)&&d===(p.propertyName||p.name)){const e=ZQ(d),t=m.getTypeAtLocation(p.parent);return void 0===e?u:j(t.isUnion()?t.types:[t],t=>{const n=t.getProperty(e);return n&&Ile(m,n,d)})}const k=Tle(m,d);return X(s,k.length?k:Ile(m,h,d,y))}function Tle(e,t){const n=h7(t);if(n){const r=n&&e.getContextualType(n.parent);if(r)return j(y7(n,e,r,!1),n=>Ile(e,n,t))}return u}function Cle(e,t,n){var r,i;const o=Ble(e.referencedFiles,t);if(o){const t=n.getSourceFileFromReference(e,o);return t&&{reference:o,fileName:t.fileName,file:t,unverified:!1}}const a=Ble(e.typeReferenceDirectives,t);if(a){const t=null==(r=n.getResolvedTypeReferenceDirectiveFromTypeReferenceDirective(a,e))?void 0:r.resolvedTypeReferenceDirective,i=t&&n.getSourceFile(t.resolvedFileName);return i&&{reference:a,fileName:i.fileName,file:i,unverified:!1}}const s=Ble(e.libReferenceDirectives,t);if(s){const e=n.getLibFileFromReference(s);return e&&{reference:s,fileName:e.fileName,file:e,unverified:!1}}if(e.imports.length||e.moduleAugmentations.length){const r=eQ(e,t);let o;if(pZ(r)&&Es(r.text)&&(o=n.getResolvedModuleFromModuleSpecifier(r,e))){const t=null==(i=o.resolvedModule)?void 0:i.resolvedFileName,a=t||qo(Io(e.fileName),r.text);return{file:n.getSourceFile(a),fileName:a,reference:{pos:r.getStart(),end:r.getEnd(),fileName:r.text},unverified:!t}}}}i(kle,{createDefinitionInfo:()=>Ole,getDefinitionAndBoundSpan:()=>Ple,getDefinitionAtPosition:()=>Sle,getReferenceAtPosition:()=>Cle,getTypeDefinitionAtPosition:()=>Fle});var wle=new Set(["Array","ArrayLike","ReadonlyArray","Promise","PromiseLike","Iterable","IterableIterator","AsyncIterable","Set","WeakSet","ReadonlySet","Map","WeakMap","ReadonlyMap","Partial","Required","Readonly","Pick","Omit"]);function Dle(e,t){if(!t.aliasSymbol)return!1;const n=t.aliasSymbol.name;if(!wle.has(n))return!1;const r=e.resolveName(n,void 0,788968,!1);return!!r&&r===t.aliasSymbol}function Nle(e,t,n,r){var i,o;if(4&xx(t)&&function(e,t){const n=t.symbol.name;if(!wle.has(n))return!1;const r=e.resolveName(n,void 0,788968,!1);return!!r&&r===t.target.symbol}(e,t))return Ele(e.getTypeArguments(t)[0],e,n,r);if(Dle(e,t)&&t.aliasTypeArguments)return Ele(t.aliasTypeArguments[0],e,n,r);if(32&xx(t)&&t.target&&Dle(e,t.target)){const a=null==(o=null==(i=t.aliasSymbol)?void 0:i.declarations)?void 0:o[0];if(a&&lE(a)&&IN(a.type)&&a.type.typeArguments)return Ele(e.getTypeAtLocation(a.type.typeArguments[0]),e,n,r)}return[]}function Fle(e,t,n){const r=YX(t,n);if(r===t)return;if(mf(r.parent)&&r.parent.name===r)return Ele(e.getTypeAtLocation(r.parent),e,r.parent,!1);let{symbol:i,failedAliasResolution:o}=Ale(r,e,!1);if(i_(r)&&(m_(r.parent)||Nc(r.parent))&&(i=r.parent.symbol,o=!1),!i)return;const a=e.getTypeOfSymbolAtLocation(i,r),s=function(e,t,n){if(t.symbol===e||e.valueDeclaration&&t.symbol&&iE(e.valueDeclaration)&&e.valueDeclaration.initializer===t.symbol.valueDeclaration){const e=t.getCallSignatures();if(1===e.length)return n.getReturnTypeOfSignature(ve(e))}}(i,a,e),c=s&&Ele(s,e,r,o),[l,_]=c&&0!==c.length?[s,c]:[a,Ele(a,e,r,o)];return _.length?[...Nle(e,l,r,o),..._]:!(111551&i.flags)&&788968&i.flags?Ile(e,_x(i,e),r,o):void 0}function Ele(e,t,n,r){return j(!e.isUnion()||32&e.flags?[e]:e.types,e=>e.symbol&&Ile(t,e.symbol,n,r))}function Ple(e,t,n){const r=Sle(e,t,n);if(!r||0===r.length)return;const i=Ble(t.referencedFiles,n)||Ble(t.typeReferenceDirectives,n)||Ble(t.libReferenceDirectives,n);if(i)return{definitions:r,textSpan:JQ(i)};const o=YX(t,n);return{definitions:r,textSpan:Xs(o.getStart(),o.getWidth())}}function Ale(e,t,n){const r=t.getSymbolAtLocation(e);let i=!1;if((null==r?void 0:r.declarations)&&2097152&r.flags&&!n&&function(e,t){return!!(80===e.kind||11===e.kind&&Vl(e.parent))&&(e.parent===t||274!==t.kind)}(e,r.declarations[0])){const e=t.getAliasedSymbol(r);if(e.declarations)return{symbol:e};i=!0}return{symbol:r,failedAliasResolution:i}}function Ile(e,t,n,r,i){const o=void 0!==i?F(t.declarations,i):t.declarations,a=!i&&(function(){if(32&t.flags&&!(19&t.flags)&&(tX(n)||137===n.kind)){const e=k(o,g_);return e&&c(e.members,!0)}}()||(nX(n)||xX(n)?c(o,!1):void 0));if(a)return a;const s=F(o,e=>!function(e){if(!Hm(e))return!1;const t=gc(e,e=>!!cb(e)||!Hm(e)&&"quit");return!!t&&5===og(t)}(e));return A(K(s)?s:o,i=>Ole(i,e,t,n,!1,r));function c(i,o){if(!i)return;const a=i.filter(o?wN:c_),s=a.filter(e=>!!e.body);return a.length?0!==s.length?s.map(r=>Ole(r,e,t,n)):[Ole(ke(a),e,t,n,!1,r)]:void 0}}function Ole(e,t,n,r,i,o){const a=t.symbolToString(n),s=Kue.getSymbolKind(t,n,r),c=n.parent?t.symbolToString(n.parent,r):"";return Lle(t,e,s,a,c,i,o)}function Lle(e,t,n,r,i,o,a,s){const c=t.getSourceFile();return s||(s=RQ(Ec(t)||t,c)),__spreadProps(__spreadValues({fileName:c.fileName,textSpan:s,kind:n,name:r,containerKind:void 0,containerName:i},Mce.toContextSpan(s,c,Mce.getContextNode(t))),{isLocal:!Rle(e,t),isAmbient:!!(33554432&t.flags),unverified:o,failedAliasResolution:a})}function jle(e,t){const n=Mce.getContextNode(e),r=RQ(ele(n)?n.start:n,t);return __spreadProps(__spreadValues({fileName:t.fileName,textSpan:r,kind:"keyword",name:"switch",containerKind:void 0,containerName:""},Mce.toContextSpan(r,t,n)),{isLocal:!0,isAmbient:!1,unverified:!1,failedAliasResolution:void 0})}function Rle(e,t){if(e.isDeclarationVisible(t))return!0;if(!t.parent)return!1;if(Lu(t.parent)&&t.parent.initializer===t)return Rle(e,t.parent);switch(t.kind){case 172:case 177:case 178:case 174:if(Pv(t,2))return!1;case 176:case 303:case 304:case 210:case 231:case 219:case 218:return Rle(e,t.parent);default:return!1}}function Mle(e,t,n){return Ole(t,e,t.symbol,t,!1,n)}function Ble(e,t){return k(e,e=>Rs(e,t))}var Jle={};i(Jle,{provideInlayHints:()=>Ule});var zle=e=>new RegExp(`^\\s?/\\*\\*?\\s?${e}\\s?\\*\\/\\s?$`);function qle(e){return"literals"===e.includeInlayParameterNameHints}function Vle(e){return!0===e.interactiveInlayHints}function Ule(e){const{file:t,program:n,span:r,cancellationToken:i,preferences:o}=e,a=t.text,s=n.getCompilerOptions(),c=lZ(t,o),l=n.getTypeChecker(),_=[];return function e(n){if(n&&0!==n.getFullWidth()){switch(n.kind){case 267:case 263:case 264:case 262:case 231:case 218:case 174:case 219:i.throwIfCancellationRequested()}if(Us(r,n.pos,n.getFullWidth())&&(!C_(n)||FF(n)))return o.includeInlayVariableTypeHints&&iE(n)||o.includeInlayPropertyDeclarationTypeHints&&kN(n)?f(n):o.includeInlayEnumMemberValueHints&&tP(n)?function(e){if(e.initializer)return;const t=l.getConstantValue(e);var n,r;void 0!==t&&(n=t.toString(),r=e.end,_.push({text:`= ${n}`,position:r,kind:"Enum",whitespaceBefore:!0}))}(n):function(e){return"literals"===e.includeInlayParameterNameHints||"all"===e.includeInlayParameterNameHints}(o)&&(lF(n)||_F(n))?function(e){const t=e.arguments;if(!t||!t.length)return;const n=l.getResolvedSignature(e);if(void 0===n)return;let r=0;for(const i of t){const e=_h(i);if(qle(o)&&!h(e)){r++;continue}let t=0;if(wF(e)){const n=l.getTypeAtLocation(e.expression);if(l.isTupleType(n)){const{elementFlags:e,fixedLength:r}=n.target;if(0===r)continue;const i=T(e,e=>!(1&e));(i<0?r:i)>0&&(t=i<0?r:i)}}const a=l.getParameterIdentifierInfoAtPosition(n,r);if(r+=t||1,a){const{parameter:t,parameterName:n,isRestParameter:r}=a;if(!o.includeInlayParameterNameHintsWhenArgumentMatchesName&&m(e,n)&&!r)continue;const s=bc(n);if(g(e,s))continue;u(s,t,i.getStart(),r)}}}(n):(o.includeInlayFunctionParameterTypeHints&&__(n)&&JT(n)&&function(e){const t=l.getSignatureFromDeclaration(e);if(!t)return;let n=0;for(const r of e.parameters)k(r)&&v(r,dv(r)?t.thisParameter:t.parameters[n]),dv(r)||n++}(n),o.includeInlayFunctionLikeReturnTypeHints&&function(e){return mF(e)||fF(e)||aE(e)||TN(e)||DN(e)}(n)&&function(e){if(mF(e)&&!zX(e,21,t))return;if(bv(e)||!e.body)return;const n=l.getSignatureFromDeclaration(e);if(!n)return;const r=l.getTypePredicateOfSignature(n);if(null==r?void 0:r.type){const n=function(e){if(!Vle(o))return function(e){const n=71286784,r=kV();return _d(i=>{const o=l.typePredicateToTypePredicateNode(e,void 0,n);fn.assertIsDefined(o,"should always get typePredicateNode"),r.writeNode(4,o,t,i)})}(e);const n=71286784,r=l.typePredicateToTypePredicateNode(e,void 0,n);return fn.assertIsDefined(r,"should always get typenode"),x(r)}(r);if(n)return void d(n,y(e))}const i=l.getReturnTypeOfSignature(n);if(p(i))return;const a=b(i);a&&d(a,y(e))}(n)),KI(n,e)}}(t),_;function u(e,t,n,r){let i,a=`${r?"...":""}${e}`;Vle(o)?(i=[S(a,t),{text:":"}],a=""):a+=":",_.push({text:a,position:n,kind:"Parameter",whitespaceAfter:!0,displayParts:i})}function d(e,t){_.push({text:"string"==typeof e?`: ${e}`:"",displayParts:"string"==typeof e?void 0:[{text:": "},...e],position:t,kind:"Type",whitespaceBefore:!0})}function p(e){return e.symbol&&1536&e.symbol.flags}function f(e){if(void 0===e.initializer&&(!kN(e)||1&l.getTypeAtLocation(e).flags)||D_(e.name)||iE(e)&&!k(e))return;if(yv(e))return;const t=l.getTypeAtLocation(e);if(p(t))return;const n=b(t);if(n){const t="string"==typeof n?n:n.map(e=>e.text).join("");if(!1===o.includeInlayVariableTypeHintsWhenTypeMatchesName&&vt(e.name.getText(),t))return;d(n,e.name.end)}}function m(e,t){return tN(e)?e.text===t:!!sF(e)&&e.name.text===t}function g(e,n){if(!bs(n,Sk(s),fk(t.scriptKind)))return!1;const r=ms(a,e.pos);if(!(null==r?void 0:r.length))return!1;const i=zle(n);return K(r,e=>i.test(a.substring(e.pos,e.end)))}function h(e){switch(e.kind){case 224:{const t=e.operand;return Ml(t)||tN(t)&&zT(t.escapedText)}case 112:case 97:case 106:case 15:case 228:return!0;case 80:{const t=e.escapedText;return function(e){return"undefined"===e}(t)||zT(t)}}return Ml(e)}function y(e){const n=zX(e,22,t);return n?n.end:e.parameters.end}function v(e,t){if(yv(e)||void 0===t)return;const n=function(e){const t=e.valueDeclaration;if(!t||!vN(t))return;const n=l.getTypeOfSymbolAtLocation(e,t);return p(n)?void 0:b(n)}(t);void 0!==n&&d(n,e.questionToken?e.questionToken.end:e.name.end)}function b(e){if(!Vle(o))return function(e){const n=kV();return _d(r=>{const i=l.typeToTypeNode(e,void 0,71286784);fn.assertIsDefined(i,"should always get typenode"),n.writeNode(4,i,t,r)})}(e);const n=l.typeToTypeNode(e,void 0,71286784);return fn.assertIsDefined(n,"should always get typeNode"),x(n)}function x(e){const t=[];return n(e),t;function n(e){var a,s;if(!e)return;const c=Oa(e.kind);if(c)t.push({text:c});else if(Ml(e))t.push({text:o(e)});else switch(e.kind){case 80:fn.assertNode(e,tN);const c=xc(e),l=e.symbol&&e.symbol.declarations&&e.symbol.declarations.length&&Ec(e.symbol.declarations[0]);l?t.push(S(c,l)):t.push({text:c});break;case 166:fn.assertNode(e,gN),n(e.left),t.push({text:"."}),n(e.right);break;case 182:fn.assertNode(e,AN),e.assertsModifier&&t.push({text:"asserts "}),n(e.parameterName),e.type&&(t.push({text:" is "}),n(e.type));break;case 183:fn.assertNode(e,IN),n(e.typeName),e.typeArguments&&(t.push({text:"<"}),i(e.typeArguments,", "),t.push({text:">"}));break;case 168:fn.assertNode(e,yN),e.modifiers&&i(e.modifiers," "),n(e.name),e.constraint&&(t.push({text:" extends "}),n(e.constraint)),e.default&&(t.push({text:" = "}),n(e.default));break;case 169:fn.assertNode(e,vN),e.modifiers&&i(e.modifiers," "),e.dotDotDotToken&&t.push({text:"..."}),n(e.name),e.questionToken&&t.push({text:"?"}),e.type&&(t.push({text:": "}),n(e.type));break;case 185:fn.assertNode(e,LN),t.push({text:"new "}),r(e),t.push({text:" => "}),n(e.type);break;case 186:fn.assertNode(e,jN),t.push({text:"typeof "}),n(e.exprName),e.typeArguments&&(t.push({text:"<"}),i(e.typeArguments,", "),t.push({text:">"}));break;case 187:fn.assertNode(e,RN),t.push({text:"{"}),e.members.length&&(t.push({text:" "}),i(e.members,"; "),t.push({text:" "})),t.push({text:"}"});break;case 188:fn.assertNode(e,MN),n(e.elementType),t.push({text:"[]"});break;case 189:fn.assertNode(e,BN),t.push({text:"["}),i(e.elements,", "),t.push({text:"]"});break;case 202:fn.assertNode(e,JN),e.dotDotDotToken&&t.push({text:"..."}),n(e.name),e.questionToken&&t.push({text:"?"}),t.push({text:": "}),n(e.type);break;case 190:fn.assertNode(e,zN),n(e.type),t.push({text:"?"});break;case 191:fn.assertNode(e,qN),t.push({text:"..."}),n(e.type);break;case 192:fn.assertNode(e,VN),i(e.types," | ");break;case 193:fn.assertNode(e,UN),i(e.types," & ");break;case 194:fn.assertNode(e,WN),n(e.checkType),t.push({text:" extends "}),n(e.extendsType),t.push({text:" ? "}),n(e.trueType),t.push({text:" : "}),n(e.falseType);break;case 195:fn.assertNode(e,$N),t.push({text:"infer "}),n(e.typeParameter);break;case 196:fn.assertNode(e,HN),t.push({text:"("}),n(e.type),t.push({text:")"});break;case 198:fn.assertNode(e,GN),t.push({text:`${Oa(e.operator)} `}),n(e.type);break;case 199:fn.assertNode(e,XN),n(e.objectType),t.push({text:"["}),n(e.indexType),t.push({text:"]"});break;case 200:fn.assertNode(e,QN),t.push({text:"{ "}),e.readonlyToken&&(40===e.readonlyToken.kind?t.push({text:"+"}):41===e.readonlyToken.kind&&t.push({text:"-"}),t.push({text:"readonly "})),t.push({text:"["}),n(e.typeParameter),e.nameType&&(t.push({text:" as "}),n(e.nameType)),t.push({text:"]"}),e.questionToken&&(40===e.questionToken.kind?t.push({text:"+"}):41===e.questionToken.kind&&t.push({text:"-"}),t.push({text:"?"})),t.push({text:": "}),e.type&&n(e.type),t.push({text:"; }"});break;case 201:fn.assertNode(e,ZN),n(e.literal);break;case 184:fn.assertNode(e,ON),r(e),t.push({text:" => "}),n(e.type);break;case 205:fn.assertNode(e,YN),e.isTypeOf&&t.push({text:"typeof "}),t.push({text:"import("}),n(e.argument),e.assertions&&(t.push({text:", { assert: "}),i(e.assertions.assertClause.elements,", "),t.push({text:" }"})),t.push({text:")"}),e.qualifier&&(t.push({text:"."}),n(e.qualifier)),e.typeArguments&&(t.push({text:"<"}),i(e.typeArguments,", "),t.push({text:">"}));break;case 171:fn.assertNode(e,xN),(null==(a=e.modifiers)?void 0:a.length)&&(i(e.modifiers," "),t.push({text:" "})),n(e.name),e.questionToken&&t.push({text:"?"}),e.type&&(t.push({text:": "}),n(e.type));break;case 181:fn.assertNode(e,PN),t.push({text:"["}),i(e.parameters,", "),t.push({text:"]"}),e.type&&(t.push({text:": "}),n(e.type));break;case 173:fn.assertNode(e,SN),(null==(s=e.modifiers)?void 0:s.length)&&(i(e.modifiers," "),t.push({text:" "})),n(e.name),e.questionToken&&t.push({text:"?"}),r(e),e.type&&(t.push({text:": "}),n(e.type));break;case 179:fn.assertNode(e,FN),r(e),e.type&&(t.push({text:": "}),n(e.type));break;case 207:fn.assertNode(e,rF),t.push({text:"["}),i(e.elements,", "),t.push({text:"]"});break;case 206:fn.assertNode(e,nF),t.push({text:"{"}),e.elements.length&&(t.push({text:" "}),i(e.elements,", "),t.push({text:" "})),t.push({text:"}"});break;case 208:fn.assertNode(e,iF),n(e.name);break;case 224:fn.assertNode(e,bF),t.push({text:Oa(e.operator)}),n(e.operand);break;case 203:fn.assertNode(e,tF),n(e.head),e.templateSpans.forEach(n);break;case 16:fn.assertNode(e,qD),t.push({text:o(e)});break;case 204:fn.assertNode(e,eF),n(e.type),n(e.literal);break;case 17:fn.assertNode(e,VD),t.push({text:o(e)});break;case 18:fn.assertNode(e,UD),t.push({text:o(e)});break;case 197:fn.assertNode(e,KN),t.push({text:"this"});break;default:fn.failBadSyntaxKind(e)}}function r(e){e.typeParameters&&(t.push({text:"<"}),i(e.typeParameters,", "),t.push({text:">"})),t.push({text:"("}),i(e.parameters,", "),t.push({text:")"})}function i(e,r){e.forEach((e,i)=>{i>0&&t.push({text:r}),n(e)})}function o(e){var t;switch(e.kind){case 11:return 0===c?`'${Cy(e.text,39)}'`:`"${Cy(e.text,34)}"`;case 16:case 17:case 18:{const n=null!=(t=e.rawText)?t:gy(Cy(e.text,96));switch(e.kind){case 16:return"`"+n+"${";case 17:return"}"+n+"${";case 18:return"}"+n+"`"}}}return e.text}}function k(e){if((ty(e)||iE(e)&&_f(e))&&e.initializer){const t=_h(e.initializer);return!(h(t)||_F(t)||aF(t)||X_(t))}return!0}function S(e,t){const n=t.getSourceFile();return{text:e,span:RQ(t,n),file:n.fileName}}}var Wle={};i(Wle,{getDocCommentTemplateAtPosition:()=>c_e,getJSDocParameterNameCompletionDetails:()=>s_e,getJSDocParameterNameCompletions:()=>a_e,getJSDocTagCompletionDetails:()=>o_e,getJSDocTagCompletions:()=>i_e,getJSDocTagNameCompletionDetails:()=>r_e,getJSDocTagNameCompletions:()=>n_e,getJsDocCommentsFromDeclarations:()=>Gle,getJsDocTagsFromDeclarations:()=>Qle});var $le,Hle,Kle=["abstract","access","alias","argument","async","augments","author","borrows","callback","class","classdesc","constant","constructor","constructs","copyright","default","deprecated","description","emits","enum","event","example","exports","extends","external","field","file","fileoverview","fires","function","generator","global","hideconstructor","host","ignore","implements","import","inheritdoc","inner","instance","interface","kind","lends","license","link","linkcode","linkplain","listens","member","memberof","method","mixes","module","name","namespace","overload","override","package","param","private","prop","property","protected","public","readonly","requires","returns","satisfies","see","since","static","summary","template","this","throws","todo","tutorial","type","typedef","var","variation","version","virtual","yields"];function Gle(e,t){const n=[];return TZ(e,e=>{for(const r of function(e){switch(e.kind){case 341:case 348:return[e];case 338:case 346:return[e,e.parent];case 323:if(EP(e.parent))return[e.parent.parent];default:return Jg(e)}}(e)){const i=yP(r)&&r.tags&&k(r.tags,e=>327===e.kind&&("inheritDoc"===e.tagName.escapedText||"inheritdoc"===e.tagName.escapedText));if(void 0===r.comment&&!i||yP(r)&&346!==e.kind&&338!==e.kind&&r.tags&&r.tags.some(e=>346===e.kind||338===e.kind)&&!r.tags.some(e=>341===e.kind||342===e.kind))continue;let o=r.comment?e_e(r.comment,t):[];i&&i.comment&&(o=o.concat(e_e(i.comment,t))),w(n,o,Xle)||n.push(o)}}),L(b(n,[HZ()]))}function Xle(e,t){return ie(e,t,(e,t)=>e.kind===t.kind&&e.text===t.text)}function Qle(e,t){const n=[];return TZ(e,e=>{const r=_l(e);if(!r.some(e=>346===e.kind||338===e.kind)||r.some(e=>341===e.kind||342===e.kind))for(const i of r)n.push({name:i.tagName.text,text:t_e(i,t)}),n.push(...Zle(Yle(i),t))}),n}function Zle(e,t){return j(e,e=>X([{name:e.tagName.text,text:t_e(e,t)}],Zle(Yle(e),t)))}function Yle(e){return Al(e)&&e.isNameFirst&&e.typeExpression&&vP(e.typeExpression.type)?e.typeExpression.type.jsDocPropertyTags:void 0}function e_e(e,t){return"string"==typeof e?[BZ(e)]:j(e,e=>321===e.kind?[BZ(e.text)]:UZ(e,t))}function t_e(e,t){const{comment:n,kind:r}=e,i=function(e){switch(e){case 341:return jZ;case 348:return RZ;case 345:return zZ;case 346:case 338:return JZ;default:return BZ}}(r);switch(r){case 349:const r=e.typeExpression;return r?o(r):void 0===n?void 0:e_e(n,t);case 329:case 328:return o(e.class);case 345:const a=e,s=[];if(a.constraint&&s.push(BZ(a.constraint.getText())),p(a.typeParameters)){p(s)&&s.push(AZ());const e=a.typeParameters[a.typeParameters.length-1];f(a.typeParameters,t=>{s.push(i(t.getText())),e!==t&&s.push(OZ(28),AZ())})}return n&&s.push(AZ(),...e_e(n,t)),s;case 344:case 350:return o(e.typeExpression);case 346:case 338:case 348:case 341:case 347:const{name:c}=e;return c?o(c):void 0===n?void 0:e_e(n,t);default:return void 0===n?void 0:e_e(n,t)}function o(e){return r=e.getText(),n?r.match(/^https?$/)?[BZ(r),...e_e(n,t)]:[i(r),AZ(),...e_e(n,t)]:[BZ(r)];var r}}function n_e(){return $le||($le=A(Kle,e=>({name:e,kind:"keyword",kindModifiers:"",sortText:jae.SortText.LocationPriority})))}var r_e=o_e;function i_e(){return Hle||(Hle=A(Kle,e=>({name:`@${e}`,kind:"keyword",kindModifiers:"",sortText:jae.SortText.LocationPriority})))}function o_e(e){return{name:e,kind:"",kindModifiers:"",displayParts:[BZ(e)],documentation:u,tags:void 0,codeActions:void 0}}function a_e(e){if(!tN(e.name))return u;const t=e.name.text,n=e.parent,r=n.parent;return c_(r)?z(r.parameters,r=>{if(!tN(r.name))return;const i=r.name.text;return n.tags.some(t=>t!==e&&OP(t)&&tN(t.name)&&t.name.escapedText===i)||void 0!==t&&!Zt(i,t)?void 0:{name:i,kind:"parameter",kindModifiers:"",sortText:jae.SortText.LocationPriority}}):[]}function s_e(e){return{name:e,kind:"parameter",kindModifiers:"",displayParts:[BZ(e)],documentation:u,tags:void 0,codeActions:void 0}}function c_e(e,t,n,r){const i=tQ(t,n),o=gc(i,yP);if(o&&(void 0!==o.comment||p(o.tags)))return;const a=i.getStart(t);if(!o&&a<n)return;const s=function(e,t){return ad(e,e=>l_e(e,t))}(i,r);if(!s)return;const{commentOwner:c,parameters:l,hasReturn:_}=s,u=xe(Iu(c)&&c.jsDoc?c.jsDoc:void 0);if(c.getStart(t)<n||u&&o&&u!==o)return;const d=function(e,t){const{text:n}=e,r=NX(t,e);let i=r;for(;i<=t&&Ka(n.charCodeAt(i));i++);return n.slice(r,i)}(t,n),f=BS(t.fileName),m=(l?function(e,t,n,r){return e.map(({name:e,dotDotDotToken:i},o)=>{const a=80===e.kind?e.text:"param"+o;return`${n} * @param ${t?i?"{...any} ":"{any} ":""}${a}${r}`}).join("")}(l||[],f,d,e):"")+(_?function(e,t){return`${e} * @returns${t}`}(d,e):""),g=p(_l(c))>0;if(m&&!g){const t="/**"+e+d+" * ";return{newText:t+e+m+d+" */"+(a===n?e+d:""),caretOffset:t.length}}return{newText:"/** */",caretOffset:3}}function l_e(e,t){switch(e.kind){case 262:case 218:case 174:case 176:case 173:case 219:const n=e;return{commentOwner:e,parameters:n.parameters,hasReturn:__e(n,t)};case 303:return l_e(e.initializer,t);case 263:case 264:case 266:case 306:case 265:return{commentOwner:e};case 171:{const n=e;return n.type&&ON(n.type)?{commentOwner:e,parameters:n.type.parameters,hasReturn:__e(n.type,t)}:{commentOwner:e}}case 243:{const n=e.declarationList.declarations,r=1===n.length&&n[0].initializer?function(e){for(;217===e.kind;)e=e.expression;switch(e.kind){case 218:case 219:return e;case 231:return k(e.members,wN)}}(n[0].initializer):void 0;return r?{commentOwner:e,parameters:r.parameters,hasReturn:__e(r,t)}:{commentOwner:e}}case 307:return"quit";case 267:return 267===e.parent.kind?void 0:{commentOwner:e};case 244:return l_e(e.expression,t);case 226:{const n=e;return 0===og(n)?"quit":c_(n.right)?{commentOwner:e,parameters:n.right.parameters,hasReturn:__e(n.right,t)}:{commentOwner:e}}case 172:const r=e.initializer;if(r&&(fF(r)||mF(r)))return{commentOwner:e,parameters:r.parameters,hasReturn:__e(r,t)}}}function __e(e,t){return!!(null==t?void 0:t.generateReturnInDocTemplate)&&(ON(e)||mF(e)&&G_(e.body)||__(e)&&e.body&&BF(e.body)&&!!Af(e.body,e=>e))}var u_e={};function d_e(e,t,n,r,i,o){return rde.ChangeTracker.with({host:r,formatContext:i,preferences:o},r=>{const i=t.map(t=>function(e,t){const n=[{parse:()=>ZI("__mapcode_content_nodes.ts",t,e.languageVersion,!0,e.scriptKind),body:e=>e.statements},{parse:()=>ZI("__mapcode_class_content_nodes.ts",`class __class {\n${t}\n}`,e.languageVersion,!0,e.scriptKind),body:e=>e.statements[0].members}],r=[];for(const{parse:o,body:a}of n){const e=o(),t=a(e);if(t.length&&0===e.parseDiagnostics.length)return t;t.length&&r.push({sourceFile:e,body:t})}r.sort((e,t)=>e.sourceFile.parseDiagnostics.length-t.sourceFile.parseDiagnostics.length);const{body:i}=r[0];return i}(e,t)),o=n&&L(n);for(const t of i)p_e(e,r,t,o)})}function p_e(e,t,n,r){m_(n[0])||k_(n[0])?function(e,t,n,r){let i;if(i=r&&r.length?f(r,t=>gc(tQ(e,t.start),rn(g_,cE))):k(e.statements,rn(g_,cE)),!i)return;const o=i.members.find(e=>n.some(t=>f_e(t,e)));if(o){const r=S(i.members,e=>n.some(t=>f_e(t,e)));return f(n,m_e),void t.replaceNodeRangeWithNodes(e,o,r,n)}f(n,m_e),t.insertNodesAfter(e,i.members[i.members.length-1],n)}(e,t,n,r):function(e,t,n,r){if(!(null==r?void 0:r.length))return void t.insertNodesAtEndOfFile(e,n,!1);for(const o of r){const r=gc(tQ(e,o.start),e=>rn(BF,nP)(e)&&K(e.statements,e=>n.some(t=>f_e(t,e))));if(r){const i=r.statements.find(e=>n.some(t=>f_e(t,e)));if(i){const o=S(r.statements,e=>n.some(t=>f_e(t,e)));return f(n,m_e),void t.replaceNodeRangeWithNodes(e,i,o,n)}}}let i=e.statements;for(const o of r){const t=gc(tQ(e,o.start),BF);if(t){i=t.statements;break}}f(n,m_e),t.insertNodesAfter(e,i[i.length-1],n)}(e,t,n,r)}function f_e(e,t){var n,r,i,o,a,s;return e.kind===t.kind&&(176===e.kind?e.kind===t.kind:Nc(e)&&Nc(t)?e.name.getText()===t.name.getText():VF(e)&&VF(t)||WF(e)&&WF(t)?e.expression.getText()===t.expression.getText():$F(e)&&$F(t)?(null==(n=e.initializer)?void 0:n.getText())===(null==(r=t.initializer)?void 0:r.getText())&&(null==(i=e.incrementor)?void 0:i.getText())===(null==(o=t.incrementor)?void 0:o.getText())&&(null==(a=e.condition)?void 0:a.getText())===(null==(s=t.condition)?void 0:s.getText()):nu(e)&&nu(t)?e.expression.getText()===t.expression.getText()&&e.initializer.getText()===t.initializer.getText():eE(e)&&eE(t)?e.label.getText()===t.label.getText():e.getText()===t.getText())}function m_e(e){g_e(e),e.parent=void 0}function g_e(e){e.pos=-1,e.end=-1,e.forEachChild(g_e)}i(u_e,{mapCode:()=>d_e});var h_e={};function y_e(e,t,n,r,i,o){var a,s;const c=rde.ChangeTracker.fromContext({host:n,formatContext:t,preferences:i}),l="SortAndCombine"===o||"All"===o,_=l,u="RemoveUnused"===o||"All"===o,d=e.statements.filter(gE),f=b_e(e,d),{comparersToTest:m,typeOrdersToTest:g}=v_e(i),h=m[0],y={moduleSpecifierComparer:"boolean"==typeof i.organizeImportsIgnoreCase?h:void 0,namedImportComparer:"boolean"==typeof i.organizeImportsIgnoreCase?h:void 0,typeOrder:i.organizeImportsTypeOrder};if("boolean"!=typeof i.organizeImportsIgnoreCase&&({comparer:y.moduleSpecifierComparer}=A_e(f,m)),!y.typeOrder||"boolean"!=typeof i.organizeImportsIgnoreCase){const e=I_e(d,m,g);if(e){const{namedImportComparer:t,typeOrder:n}=e;y.namedImportComparer=null!=(a=y.namedImportComparer)?a:t,y.typeOrder=null!=(s=y.typeOrder)?s:n}}f.forEach(e=>b(e,y)),"RemoveUnused"!==o&&function(e){const t=[],n=e.statements,r=p(n);let i=0,o=0;for(;i<r;)if(NE(n[i])){void 0===t[o]&&(t[o]=[]);const e=n[i];if(e.moduleSpecifier)t[o].push(e),i++;else{for(;i<r&&NE(n[i]);)t[o].push(n[i++]);o++}}else i++;return j(t,t=>b_e(e,t))}(e).forEach(e=>x(e,y.namedImportComparer));for(const p of e.statements.filter(dp))p.body&&(b_e(e,p.body.statements.filter(gE)).forEach(e=>b(e,y)),"RemoveUnused"!==o&&x(p.body.statements.filter(NE),y.namedImportComparer));return c.getChanges();function v(r,i){if(0===p(r))return;gw(r[0],1024);const o=_?Ve(r,e=>k_e(e.moduleSpecifier)):[r],a=j(l?pe(o,(e,t)=>{var n;return N_e(e[0].moduleSpecifier,t[0].moduleSpecifier,null!=(n=y.moduleSpecifierComparer)?n:h)}):o,e=>k_e(e[0].moduleSpecifier)||void 0===e[0].moduleSpecifier?i(e):e);if(0===a.length)c.deleteNodes(e,r,{leadingTriviaOption:rde.LeadingTriviaOption.Exclude,trailingTriviaOption:rde.TrailingTriviaOption.Include},!0);else{const i={leadingTriviaOption:rde.LeadingTriviaOption.Exclude,trailingTriviaOption:rde.TrailingTriviaOption.Include,suffix:$Z(n,t.options)};c.replaceNodeWithNodes(e,r[0],a,i);const o=c.nodeHasTrailingComment(e,r[0],i);c.deleteNodes(e,r.slice(1),{trailingTriviaOption:rde.TrailingTriviaOption.Include},o)}}function b(t,n){var i,o,a;const s=null!=(i=n.moduleSpecifierComparer)?i:h,c=null!=(o=n.namedImportComparer)?o:h,d=z_e({organizeImportsTypeOrder:null!=(a=n.typeOrder)?a:"last"},c);v(t,t=>(u&&(t=function(e,t,n){const r=n.getTypeChecker(),i=n.getCompilerOptions(),o=r.getJsxNamespace(t),a=r.getJsxFragmentFactory(t),s=!!(2&t.transformFlags),c=[];for(const _ of e){const{importClause:e,moduleSpecifier:n}=_;if(!e){c.push(_);continue}let{name:r,namedBindings:i}=e;if(r&&!l(r)&&(r=void 0),i)if(SE(i))l(i.name)||(i=void 0);else{const e=i.elements.filter(e=>l(e.name));e.length<i.elements.length&&(i=e.length?_w.updateNamedImports(i,e):void 0)}r||i?c.push(w_e(_,r,i)):E_e(t,n)&&(t.isDeclarationFile?c.push(_w.createImportDeclaration(_.modifiers,void 0,n,void 0)):c.push(_))}return c;function l(e){return s&&(e.text===o||a&&e.text===a)&&m0(i.jsx)||Mce.Core.isSymbolReferencedInFile(e,r,t)}}(t,e,r)),_&&(t=T_e(t,s,d,e)),l&&(t=pe(t,(e,t)=>W_e(e,t,s))),t))}function x(e,t){const n=z_e(i,t);v(e,e=>C_e(e,n))}}function v_e(e){return{comparersToTest:"boolean"==typeof e.organizeImportsIgnoreCase?[B_e(e,e.organizeImportsIgnoreCase)]:[B_e(e,!0),B_e(e,!1)],typeOrdersToTest:e.organizeImportsTypeOrder?[e.organizeImportsTypeOrder]:["last","inline","first"]}}function b_e(e,t){const n=xs(e.languageVersion,!1,e.languageVariant),r=[];let i=0;for(const o of t)r[i]&&x_e(e,o,n)&&i++,r[i]||(r[i]=[]),r[i].push(o);return r}function x_e(e,t,n){const r=t.getFullStart(),i=t.getStart();n.setText(e.text,r,i-r);let o=0;for(;n.getTokenStart()<i;)if(4===n.scan()&&(o++,o>=2))return!0;return!1}function k_e(e){return void 0!==e&&zu(e)?e.text:void 0}function S_e(e){let t;const n={defaultImports:[],namespaceImports:[],namedImports:[]},r={defaultImports:[],namespaceImports:[],namedImports:[]};for(const i of e){if(void 0===i.importClause){t=t||i;continue}const e=i.importClause.isTypeOnly?n:r,{name:o,namedBindings:a}=i.importClause;o&&e.defaultImports.push(i),a&&(SE(a)?e.namespaceImports.push(i):e.namedImports.push(i))}return{importWithoutClause:t,typeOnlyImports:n,regularImports:r}}function T_e(e,t,n,r){if(0===e.length)return e;const i=Ue(e,e=>{if(e.attributes){let t=e.attributes.token+" ";for(const n of pe(e.attributes.elements,(e,t)=>Nt(e.name.text,t.name.text)))t+=n.name.text+":",t+=zu(n.value)?`"${n.value.text}"`:n.value.getText()+" ";return t}return""}),o=[];for(const a in i){const e=i[a],{importWithoutClause:s,typeOnlyImports:c,regularImports:l}=S_e(e);s&&o.push(s);for(const i of[l,c]){const e=i===c,{defaultImports:a,namespaceImports:s,namedImports:l}=i;if(!e&&1===a.length&&1===s.length&&0===l.length){const e=a[0];o.push(w_e(e,e.importClause.name,s[0].importClause.namedBindings));continue}const _=pe(s,(e,n)=>t(e.importClause.namedBindings.name.text,n.importClause.namedBindings.name.text));for(const t of _)o.push(w_e(t,void 0,t.importClause.namedBindings));const d=he(a),p=he(l),f=null!=d?d:p;if(!f)continue;let m;const g=[];if(1===a.length)m=a[0].importClause.name;else for(const t of a)g.push(_w.createImportSpecifier(!1,_w.createIdentifier("default"),t.importClause.name));g.push(...P_e(l));const h=_w.createNodeArray(pe(g,n),null==p?void 0:p.importClause.namedBindings.elements.hasTrailingComma),y=0===h.length?m?void 0:_w.createNamedImports(u):p?_w.updateNamedImports(p.importClause.namedBindings,h):_w.createNamedImports(h);r&&y&&(null==p?void 0:p.importClause.namedBindings)&&!Vb(p.importClause.namedBindings,r)&&gw(y,2),e&&m&&y?(o.push(w_e(f,m,void 0)),o.push(w_e(null!=p?p:f,void 0,y))):o.push(w_e(f,m,y))}}return o}function C_e(e,t){if(0===e.length)return e;const{exportWithoutClause:n,namedExports:r,typeOnlyExports:i}=function(e){let t;const n=[],r=[];for(const i of e)void 0===i.exportClause?t=t||i:i.isTypeOnly?r.push(i):n.push(i);return{exportWithoutClause:t,namedExports:n,typeOnlyExports:r}}(e),o=[];n&&o.push(n);for(const a of[r,i]){if(0===a.length)continue;const e=[];e.push(...j(a,e=>e.exportClause&&FE(e.exportClause)?e.exportClause.elements:u));const n=pe(e,t),r=a[0];o.push(_w.updateExportDeclaration(r,r.modifiers,r.isTypeOnly,r.exportClause&&(FE(r.exportClause)?_w.updateNamedExports(r.exportClause,n):_w.updateNamespaceExport(r.exportClause,r.exportClause.name)),r.moduleSpecifier,r.attributes))}return o}function w_e(e,t,n){return _w.updateImportDeclaration(e,e.modifiers,_w.updateImportClause(e.importClause,e.importClause.isTypeOnly,t,n),e.moduleSpecifier,e.attributes)}function D_e(e,t,n,r){switch(null==r?void 0:r.organizeImportsTypeOrder){case"first":return Rt(t.isTypeOnly,e.isTypeOnly)||n(e.name.text,t.name.text);case"inline":return n(e.name.text,t.name.text);default:return Rt(e.isTypeOnly,t.isTypeOnly)||n(e.name.text,t.name.text)}}function N_e(e,t,n){const r=void 0===e?void 0:k_e(e),i=void 0===t?void 0:k_e(t);return Rt(void 0===r,void 0===i)||Rt(Es(r),Es(i))||n(r,i)}function F_e(e){var t;switch(e.kind){case 271:return null==(t=it(e.moduleReference,LE))?void 0:t.expression;case 272:return e.moduleSpecifier;case 243:return e.declarationList.declarations[0].initializer.arguments[0]}}function E_e(e,t){const n=MD(t)&&t.text;return nt(n)&&K(e.moduleAugmentations,e=>MD(e)&&e.text===n)}function P_e(e){return j(e,e=>A(function(e){var t;return(null==(t=e.importClause)?void 0:t.namedBindings)&&CE(e.importClause.namedBindings)?e.importClause.namedBindings.elements:void 0}(e),e=>e.name&&e.propertyName&&Qd(e.name)===Qd(e.propertyName)?_w.updateImportSpecifier(e,e.isTypeOnly,void 0,e.name):e))}function A_e(e,t){const n=[];return e.forEach(e=>{n.push(e.map(e=>k_e(F_e(e))||""))}),L_e(n,t)}function I_e(e,t,n){var r;let i=!1;const o=e.filter(e=>{var t,n;const r=null==(n=it(null==(t=e.importClause)?void 0:t.namedBindings,CE))?void 0:n.elements;return!!(null==r?void 0:r.length)&&(!i&&r.some(e=>e.isTypeOnly)&&r.some(e=>!e.isTypeOnly)&&(i=!0),!0)});if(0===o.length)return;const a=o.map(e=>{var t,n;return null==(n=it(null==(t=e.importClause)?void 0:t.namedBindings,CE))?void 0:n.elements}).filter(e=>void 0!==e);if(!i||0===n.length){const e=L_e(a.map(e=>e.map(e=>e.name.text)),t);return{namedImportComparer:e.comparer,typeOrder:1===n.length?n[0]:void 0,isSorted:e.isSorted}}const s={first:1/0,last:1/0,inline:1/0},c={first:t[0],last:t[0],inline:t[0]};for(const l of t){const e={first:0,last:0,inline:0};for(const t of a)for(const i of n)e[i]=(null!=(r=e[i])?r:0)+O_e(t,(e,t)=>D_e(e,t,l,{organizeImportsTypeOrder:i}));for(const t of n){const n=t;e[n]<s[n]&&(s[n]=e[n],c[n]=l)}}e:for(const l of n){const e=l;for(const t of n)if(s[t]<s[e])continue e;return{namedImportComparer:c[e],typeOrder:e,isSorted:0===s[e]}}return{namedImportComparer:c.last,typeOrder:"last",isSorted:0===s.last}}function O_e(e,t){let n=0;for(let r=0;r<e.length-1;r++)t(e[r],e[r+1])>0&&n++;return n}function L_e(e,t){let n,r=1/0;for(const i of t){let t=0;for(const n of e)n.length<=1||(t+=O_e(n,i));t<r&&(r=t,n=i)}return{comparer:null!=n?n:t[0],isSorted:0===r}}function j_e(e){var t;switch(e.kind){case 272:return e.importClause?e.importClause.isTypeOnly?1:274===(null==(t=e.importClause.namedBindings)?void 0:t.kind)?2:e.importClause.name?3:4:0;case 271:return 5;case 243:return 6}}function R_e(e){return e?Dt:Nt}function M_e(e,t){var n,r,i;const o=function(e){let t=e.organizeImportsLocale;"auto"===t&&(t=It()),void 0===t&&(t="en");const n=Intl.Collator.supportedLocalesOf(t),r=n.length?n[0]:"en";return r}(t),a=null!=(n=t.organizeImportsCaseFirst)&&n,s=null!=(r=t.organizeImportsNumericCollation)&&r,c=null==(i=t.organizeImportsAccentCollation)||i,l=e?c?"accent":"base":c?"variant":"case";return new Intl.Collator(o,{usage:"sort",caseFirst:a||"false",sensitivity:l,numeric:s}).compare}function B_e(e,t){var n;return"unicode"===(null!=(n=e.organizeImportsCollation)?n:"ordinal")?M_e(t,e):R_e(t)}function J_e(e,t){return A_e([e],v_e(t).comparersToTest)}function z_e(e,t){const n=null!=t?t:R_e(!!e.organizeImportsIgnoreCase);return(t,r)=>D_e(t,r,n,e)}function q_e(e,t,n){const{comparersToTest:r,typeOrdersToTest:i}=v_e(t),o=I_e([e],r,i);let a,s=z_e(t,r[0]);if("boolean"!=typeof t.organizeImportsIgnoreCase||!t.organizeImportsTypeOrder)if(o){const{namedImportComparer:e,typeOrder:t,isSorted:n}=o;a=n,s=z_e({organizeImportsTypeOrder:t},e)}else if(n){const e=I_e(n.statements.filter(gE),r,i);if(e){const{namedImportComparer:t,typeOrder:n,isSorted:r}=e;a=r,s=z_e({organizeImportsTypeOrder:n},t)}}return{specifierComparer:s,isSorted:a}}function V_e(e,t,n){const r=De(e,t,_t,(e,t)=>W_e(e,t,n));return r<0?~r:r}function U_e(e,t,n){const r=De(e,t,_t,n);return r<0?~r:r}function W_e(e,t,n){return N_e(F_e(e),F_e(t),n)||function(e,t){return kt(j_e(e),j_e(t))}(e,t)}function $_e(e,t,n,r){const i=R_e(t);return T_e(e,i,z_e({organizeImportsTypeOrder:null==r?void 0:r.organizeImportsTypeOrder},i),n)}function H_e(e,t,n){return C_e(e,(e,r)=>{var i;return D_e(e,r,R_e(t),{organizeImportsTypeOrder:null!=(i=null==n?void 0:n.organizeImportsTypeOrder)?i:"last"})})}function K_e(e,t,n){return N_e(e,t,R_e(!!n))}i(h_e,{compareImportsOrRequireStatements:()=>W_e,compareModuleSpecifiers:()=>K_e,getImportDeclarationInsertionIndex:()=>V_e,getImportSpecifierInsertionIndex:()=>U_e,getNamedImportSpecifierComparerWithDetection:()=>q_e,getOrganizeImportsStringComparerWithDetection:()=>J_e,organizeImports:()=>y_e,testCoalesceExports:()=>H_e,testCoalesceImports:()=>$_e});var G_e={};function X_e(e,t){const n=[];return function(e,t,n){let r=40,i=0;const o=[...e.statements,e.endOfFileToken],a=o.length;for(;i<a;){for(;i<a&&!Dp(o[i]);)s(o[i]),i++;if(i===a)break;const t=i;for(;i<a&&Dp(o[i]);)s(o[i]),i++;const r=i-1;r!==t&&n.push(tue(zX(o[t],102,e).getStart(e),o[r].getEnd(),"imports"))}function s(i){var o;if(0===r)return;t.throwIfCancellationRequested(),(mu(i)||JF(i)||QF(i)||z_(i)||1===i.kind)&&eue(i,e,t,n),c_(i)&&kF(i.parent)&&sF(i.parent.left)&&eue(i.parent.left,e,t,n),(BF(i)||dE(i))&&Y_e(i.statements.end,e,t,n),(g_(i)||cE(i))&&Y_e(i.members.end,e,t,n);const a=function(e,t){switch(e.kind){case 241:if(c_(e.parent))return function(e,t,n){const r=function(e,t,n){if(Xb(e.parameters,n)){const t=zX(e,21,n);if(t)return t}return zX(t,19,n)}(e,t,n),i=zX(t,20,n);return r&&i&&nue(r,i,e,n,219!==e.kind)}(e.parent,e,t);switch(e.parent.kind){case 246:case 249:case 250:case 248:case 245:case 247:case 254:case 299:return _(e.parent);case 258:const n=e.parent;if(n.tryBlock===e)return _(e.parent);if(n.finallyBlock===e){const e=zX(n,98,t);if(e)return _(e)}default:return rue(RQ(e,t),"code")}case 268:return _(e.parent);case 263:case 231:case 264:case 266:case 269:case 187:case 206:return _(e);case 189:return _(e,!1,!BN(e.parent),23);case 296:case 297:return u(e.statements);case 210:return l(e);case 209:return l(e,23);case 284:return o(e);case 288:return a(e);case 285:case 286:return s(e.attributes);case 228:case 15:return c(e);case 207:return _(e,!1,!iF(e.parent),23);case 219:return i(e);case 213:return r(e);case 217:return d(e);case 275:case 279:case 300:return n(e)}function n(e){if(!e.elements.length)return;const n=zX(e,19,t),r=zX(e,20,t);return n&&r&&!Qb(n.pos,r.pos,t)?nue(n,r,e,t,!1,!1):void 0}function r(e){if(!e.arguments.length)return;const n=zX(e,21,t),r=zX(e,22,t);return n&&r&&!Qb(n.pos,r.pos,t)?nue(n,r,e,t,!1,!0):void 0}function i(e){if(!(BF(e.body)||pF(e.body)||Qb(e.body.getFullStart(),e.body.getEnd(),t)))return rue(Qs(e.body.getFullStart(),e.body.getEnd()),"code",RQ(e))}function o(e){const n=Qs(e.openingElement.getStart(t),e.closingElement.getEnd()),r=e.openingElement.tagName.getText(t);return rue(n,"code",n,!1,"<"+r+">...</"+r+">")}function a(e){const n=Qs(e.openingFragment.getStart(t),e.closingFragment.getEnd());return rue(n,"code",n,!1,"<>...</>")}function s(e){if(0!==e.properties.length)return tue(e.getStart(t),e.getEnd(),"code")}function c(e){if(15!==e.kind||0!==e.text.length)return tue(e.getStart(t),e.getEnd(),"code")}function l(e,t=19){return _(e,!1,!oF(e.parent)&&!lF(e.parent),t)}function _(n,r=!1,i=!0,o=19,a=(19===o?20:24)){const s=zX(e,o,t),c=zX(e,a,t);return s&&c&&nue(s,c,n,t,r,i)}function u(e){return e.length?rue(JQ(e),"code"):void 0}function d(e){if(!Qb(e.getStart(),e.getEnd(),t))return rue(Qs(e.getStart(),e.getEnd()),"code",RQ(e))}}(i,e);a&&n.push(a),r--,lF(i)?(r++,s(i.expression),r--,i.arguments.forEach(s),null==(o=i.typeArguments)||o.forEach(s)):VF(i)&&i.elseStatement&&VF(i.elseStatement)?(s(i.expression),s(i.thenStatement),r++,s(i.elseStatement),r--):i.forEachChild(s),r++}}(e,t,n),function(e,t){const n=[],r=e.getLineStarts();for(const i of r){const r=e.getLineEndOfPosition(i),o=Z_e(e.text.substring(i,r));if(o&&!bQ(e,i))if(o.isStart){const t=Qs(e.text.indexOf("//",i),r);n.push(rue(t,"region",t,!1,o.name||"#region"))}else{const e=n.pop();e&&(e.textSpan.length=r-e.textSpan.start,e.hintSpan.length=r-e.textSpan.start,t.push(e))}}}(e,n),n.sort((e,t)=>e.textSpan.start-t.textSpan.start),n}i(G_e,{collectElements:()=>X_e});var Q_e=/^#(end)?region(.*)\r?$/;function Z_e(e){if(!Zt(e=e.trimStart(),"//"))return null;e=e.slice(2).trim();const t=Q_e.exec(e);return t?{isStart:!t[1],name:t[2].trim()}:void 0}function Y_e(e,t,n,r){const i=ms(t.text,e);if(!i)return;let o=-1,a=-1,s=0;const c=t.getFullText();for(const{kind:_,pos:u,end:d}of i)switch(n.throwIfCancellationRequested(),_){case 2:if(Z_e(c.slice(u,d))){l(),s=0;break}0===s&&(o=u),a=d,s++;break;case 3:l(),r.push(tue(u,d,"comment")),s=0;break;default:fn.assertNever(_)}function l(){s>1&&r.push(tue(o,a,"comment"))}l()}function eue(e,t,n,r){BD(e)||Y_e(e.pos,t,n,r)}function tue(e,t,n){return rue(Qs(e,t),n)}function nue(e,t,n,r,i=!1,o=!0){return rue(Qs(o?e.getFullStart():e.getStart(r),t.getEnd()),"code",RQ(n,r),i)}function rue(e,t,n=e,r=!1,i="..."){return{textSpan:e,kind:t,hintSpan:n,bannerText:i,autoCollapse:r}}var iue={};function oue(e,t,n,r){const i=ZX(YX(t,n));if(_ue(i)){const n=function(e,t,n,r,i){const o=t.getSymbolAtLocation(e);if(!o){if(zu(e)){const r=$X(e,t);if(r&&(128&r.flags||1048576&r.flags&&x(r.types,e=>!!(128&e.flags))))return sue(e.text,e.text,"string","",e,n)}else if(mX(e)){const t=ep(e);return sue(t,t,"label","",e,n)}return}const{declarations:a}=o;if(!a||0===a.length)return;if(a.some(e=>function(e,t){const n=t.getSourceFile();return e.isSourceFileDefaultLibrary(n)&&Do(n.fileName,".d.ts")}(r,e)))return cue(ma.You_cannot_rename_elements_that_are_defined_in_the_standard_TypeScript_library);if(tN(e)&&"default"===e.escapedText&&o.parent&&1536&o.parent.flags)return;if(zu(e)&&Tg(e))return i.allowRenameOfImportPath?function(e,t,n){if(!Es(e.text))return cue(ma.You_cannot_rename_a_module_via_a_global_import);const r=n.declarations&&k(n.declarations,nP);if(!r)return;const i=Jt(e.text,"/index")||Jt(e.text,"/index.js")?void 0:qt(KS(r.fileName),"/index"),o=void 0===i?r.fileName:i,a=void 0===i?"module":"directory",s=e.text.lastIndexOf("/")+1,c=Xs(e.getStart(t)+1+s,e.text.length-s);return{canRename:!0,fileToRename:o,kind:a,displayName:o,fullDisplayName:e.text,kindModifiers:"",triggerSpan:c}}(e,n,o):void 0;const s=function(e,t,n,r){if(!r.providePrefixAndSuffixTextForRename&&2097152&t.flags){const e=t.declarations&&k(t.declarations,e=>wE(e));e&&!e.propertyName&&(t=n.getAliasedSymbol(t))}const{declarations:i}=t;if(!i)return;const o=aue(e.path);if(void 0===o)return K(i,e=>XY(e.getSourceFile().path))?ma.You_cannot_rename_elements_that_are_defined_in_a_node_modules_folder:void 0;for(const a of i){const e=aue(a.getSourceFile().path);if(e){const t=Math.min(o.length,e.length);for(let n=0;n<=t;n++)if(0!==Nt(o[n],e[n]))return ma.You_cannot_rename_elements_that_are_defined_in_another_node_modules_folder}}}(n,o,t,i);if(s)return cue(s);const c=Kue.getSymbolKind(t,o,e),l=ZZ(e)||Jh(e)&&167===e.parent.kind?Iy($h(e)):void 0,_=l||t.symbolToString(o),u=l||t.getFullyQualifiedName(o);return sue(_,u,c,Kue.getSymbolModifiers(t,o),e,n)}(i,e.getTypeChecker(),t,e,r);if(n)return n}return cue(ma.You_cannot_rename_this_element)}function aue(e){const t=Ro(e),n=t.lastIndexOf("node_modules");if(-1!==n)return t.slice(0,n+2)}function sue(e,t,n,r,i,o){return{canRename:!0,fileToRename:void 0,kind:n,displayName:e,fullDisplayName:t,kindModifiers:r,triggerSpan:lue(i,o)}}function cue(e){return{canRename:!1,localizedErrorMessage:Gx(e)}}function lue(e,t){let n=e.getStart(t),r=e.getWidth(t);return zu(e)&&(n+=1,r-=2),Xs(n,r)}function _ue(e){switch(e.kind){case 80:case 81:case 11:case 15:case 110:return!0;case 9:return kX(e);default:return!1}}i(iue,{getRenameInfo:()=>oue,nodeIsEligibleForRename:()=>_ue});var uue={};function due(e,t,n,r,i){const o=e.getTypeChecker(),a=iQ(t,n);if(!a)return;const s=!!r&&"characterTyped"===r.kind;if(s&&(_Q(t,n,a)||bQ(t,n)))return;const c=!!r&&"invoked"===r.kind,l=function(e,t,n,r,i){for(let o=e;!nP(o)&&(i||!BF(o));o=o.parent){fn.assert(tx(o.parent,o),"Not a subspan",()=>`Child: ${fn.formatSyntaxKind(o.kind)}, parent: ${fn.formatSyntaxKind(o.parent.kind)}`);const e=hue(o,t,n,r);if(e)return e}}(a,n,t,o,c);if(!l)return;i.throwIfCancellationRequested();const _=function({invocation:e,argumentCount:t},n,r,i,o){switch(e.kind){case 0:{if(o&&!function(e,t,n){if(!z_(t))return!1;const r=t.getChildren(n);switch(e.kind){case 21:return w(r,e);case 28:{const t=qX(e);return!!t&&w(r,t)}case 30:return pue(e,n,t.expression);default:return!1}}(i,e.node,r))return;const a=[],s=n.getResolvedSignatureForSignatureHelp(e.node,a,t);return 0===a.length?void 0:{kind:0,candidates:a,resolvedSignature:s}}case 1:{const{called:a}=e;if(o&&!pue(i,r,tN(a)?a.parent:a))return;const s=yQ(a,t,n);if(0!==s.length)return{kind:0,candidates:s,resolvedSignature:ve(s)};const c=n.getSymbolAtLocation(a);return c&&{kind:1,symbol:c}}case 2:return{kind:0,candidates:[e.signature],resolvedSignature:e.signature};default:return fn.assertNever(e)}}(l,o,t,a,s);return i.throwIfCancellationRequested(),_?o.runWithCancellationToken(i,e=>0===_.kind?Eue(_.candidates,_.resolvedSignature,l,t,e):function(e,{argumentCount:t,argumentsSpan:n,invocation:r,argumentIndex:i},o,a){const s=a.getLocalTypeParametersOfClassOrInterfaceOrTypeAlias(e);if(!s)return;const c=[Pue(e,s,a,Nue(r),o)];return{items:c,applicableSpan:n,selectedItemIndex:0,argumentIndex:i,argumentCount:t}}(_.symbol,l,t,e)):Im(t)?function(e,t,n){if(2===e.invocation.kind)return;const r=Due(e.invocation),i=sF(r)?r.name.text:void 0,o=t.getTypeChecker();return void 0===i?void 0:g(t.getSourceFiles(),t=>g(t.getNamedDeclarations().get(i),r=>{const i=r.symbol&&o.getTypeOfSymbolAtLocation(r.symbol,r),a=i&&i.getCallSignatures();if(a&&a.length)return o.runWithCancellationToken(n,n=>Eue(a,a[0],e,t,n,!0))}))}(l,e,i):void 0}function pue(e,t,n){const r=e.getFullStart();let i=e.parent;for(;i;){const e=aQ(r,t,i,!0);if(e)return tx(n,e);i=i.parent}return fn.fail("Could not find preceding token")}function fue(e,t,n,r){const i=gue(e,t,n,r);return!i||i.isTypeParameterList||0!==i.invocation.kind?void 0:{invocation:i.invocation.node,argumentCount:i.argumentCount,argumentIndex:i.argumentIndex}}function mue(e,t,n,r){const i=function(e,t,n){if(30===e.kind||21===e.kind)return{list:wue(e.parent,e,t),argumentIndex:0};{const t=qX(e);return t&&{list:t,argumentIndex:kue(n,t,e)}}}(e,n,r);if(!i)return;const{list:o,argumentIndex:a}=i,s=function(e,t){return Sue(e,t,void 0)}(r,o),c=function(e,t){const n=e.getFullStart(),r=ns(t.text,e.getEnd(),!1);return Xs(n,r-n)}(o,n);return{list:o,argumentIndex:a,argumentCount:s,argumentsSpan:c}}function gue(e,t,n,r){const{parent:i}=e;if(z_(i)){const t=i,o=mue(e,0,n,r);if(!o)return;const{list:a,argumentIndex:s,argumentCount:c,argumentsSpan:l}=o;return{isTypeParameterList:!!i.typeArguments&&i.typeArguments.pos===a.pos,invocation:{kind:0,node:t},argumentsSpan:l,argumentIndex:s,argumentCount:c}}if(zD(e)&&uF(i))return FQ(e,t,n)?Tue(i,0,n):void 0;if(qD(e)&&215===i.parent.kind){const r=i,o=r.parent;return fn.assert(228===r.kind),Tue(o,FQ(e,t,n)?0:1,n)}if(RF(i)&&uF(i.parent.parent)){const r=i,o=i.parent.parent;if(UD(e)&&!FQ(e,t,n))return;const a=function(e,t,n,r){return fn.assert(n>=t.getStart(),"Assumed 'position' could not occur before node."),zl(t)?FQ(t,n,r)?0:e+2:e+1}(r.parent.templateSpans.indexOf(r),e,t,n);return Tue(o,a,n)}if(Cu(i)){const e=i.attributes.pos;return{isTypeParameterList:!1,invocation:{kind:0,node:i},argumentsSpan:Xs(e,ns(n.text,i.attributes.end,!1)-e),argumentIndex:0,argumentCount:1}}{const t=vQ(e,n);if(t){const{called:r,nTypeArguments:i}=t;return{isTypeParameterList:!0,invocation:{kind:1,called:r},argumentsSpan:Qs(r.getStart(n),e.end),argumentIndex:i,argumentCount:i+1}}return}}function hue(e,t,n,r){return function(e,t,n,r){const i=function(e){switch(e.kind){case 21:case 28:return e;default:return gc(e.parent,e=>!!vN(e)||!(iF(e)||nF(e)||rF(e))&&"quit")}}(e);if(void 0===i)return;const o=function(e,t,n,r){const{parent:i}=e;switch(i.kind){case 217:case 174:case 218:case 219:const n=mue(e,0,t,r);if(!n)return;const{argumentIndex:o,argumentCount:a,argumentsSpan:s}=n,c=TN(i)?r.getContextualTypeForObjectLiteralElement(i):r.getContextualType(i);return c&&{contextualType:c,argumentIndex:o,argumentCount:a,argumentsSpan:s};case 226:{const t=yue(i),n=r.getContextualType(t),o=21===e.kind?0:vue(i)-1,a=vue(t);return n&&{contextualType:n,argumentIndex:o,argumentCount:a,argumentsSpan:RQ(i)}}default:return}}(i,n,0,r);if(void 0===o)return;const{contextualType:a,argumentIndex:s,argumentCount:c,argumentsSpan:l}=o,_=a.getNonNullableType(),u=_.symbol;if(void 0===u)return;const d=xe(_.getCallSignatures());return void 0!==d?{isTypeParameterList:!1,invocation:{kind:2,signature:d,node:e,symbol:bue(u)},argumentsSpan:l,argumentIndex:s,argumentCount:c}:void 0}(e,0,n,r)||gue(e,t,n,r)}function yue(e){return kF(e.parent)?yue(e.parent):e}function vue(e){return kF(e.left)?vue(e.left)+1:2}function bue(e){return"__type"===e.name&&g(e.declarations,e=>{var t;return ON(e)?null==(t=it(e.parent,uu))?void 0:t.symbol:void 0})||e}function xue(e,t){const n=t.getTypeAtLocation(e.expression);if(t.isTupleType(n)){const{elementFlags:e,fixedLength:t}=n.target;if(0===t)return 0;const r=T(e,e=>!(1&e));return r<0?t:r}return 0}function kue(e,t,n){return Sue(e,t,n)}function Sue(e,t,n){const r=t.getChildren();let i=0,o=!1;for(const a of r){if(n&&a===n)return o||28!==a.kind||i++,i;wF(a)?(i+=xue(a,e),o=!0):28===a.kind?o?o=!1:i++:(i++,o=!0)}return n?i:r.length&&28===ke(r).kind?i+1:i}function Tue(e,t,n){const r=zD(e.template)?1:e.template.templateSpans.length+1;return 0!==t&&fn.assertLessThan(t,r),{isTypeParameterList:!1,invocation:{kind:0,node:e},argumentsSpan:Cue(e,n),argumentIndex:t,argumentCount:r}}function Cue(e,t){const n=e.template,r=n.getStart();let i=n.getEnd();return 228===n.kind&&0===ke(n.templateSpans).literal.getFullWidth()&&(i=ns(t.text,i,!1)),Xs(r,i-r)}function wue(e,t,n){const r=e.getChildren(n),i=r.indexOf(t);return fn.assert(i>=0&&r.length>i+1),r[i+1]}function Due(e){return 0===e.kind?mm(e.node):e.called}function Nue(e){return 0===e.kind?e.node:1===e.kind?e.called:e.node}i(uue,{getArgumentInfoForCompletions:()=>fue,getSignatureHelpItems:()=>due});var Fue=70246400;function Eue(e,t,{isTypeParameterList:n,argumentCount:r,argumentsSpan:i,invocation:o,argumentIndex:a},s,c,l){var _;const d=Nue(o),p=2===o.kind?o.symbol:c.getSymbolAtLocation(Due(o))||l&&(null==(_=t.declaration)?void 0:_.symbol),f=p?XZ(c,p,l?s:void 0,void 0):u,m=A(e,e=>function(e,t,n,r,i,o){const a=(n?Oue:Lue)(e,r,i,o);return A(a,({isVariadic:n,parameters:o,prefix:a,suffix:s})=>{const c=[...t,...a],l=[...s,...Iue(e,i,r)],_=e.getDocumentationComment(r),u=e.getJsDocTags();return{isVariadic:n,prefixDisplayParts:c,suffixDisplayParts:l,separatorDisplayParts:Aue,parameters:o,documentation:_,tags:u}})}(e,f,n,c,d,s));let g=0,h=0;for(let u=0;u<m.length;u++){const n=m[u];if(e[u]===t&&(g=h,n.length>1)){let e=0;for(const t of n){if(t.isVariadic||t.parameters.length>=r){g=h+e;break}e++}}h+=n.length}fn.assert(-1!==g);const y={items:R(m,_t),applicableSpan:i,selectedItemIndex:g,argumentIndex:a,argumentCount:r},v=y.items[g];if(v.isVariadic){const e=T(v.parameters,e=>!!e.isRest);-1<e&&e<v.parameters.length-1?y.argumentIndex=v.parameters.length:y.argumentIndex=Math.min(y.argumentIndex,v.parameters.length-1)}return y}function Pue(e,t,n,r,i){const o=XZ(n,e),a=kV(),s=t.map(e=>jue(e,n,r,i,a)),c=e.getDocumentationComment(n),l=e.getJsDocTags(n);return{isVariadic:!1,prefixDisplayParts:[...o,OZ(30)],suffixDisplayParts:[OZ(32)],separatorDisplayParts:Aue,parameters:s,documentation:c,tags:l}}var Aue=[OZ(28),AZ()];function Iue(e,t,n){return KZ(r=>{r.writePunctuation(":"),r.writeSpace(" ");const i=n.getTypePredicateOfSignature(e);i?n.writeTypePredicate(i,t,void 0,r):n.writeType(n.getReturnTypeOfSignature(e),t,void 0,r)})}function Oue(e,t,n,r){const i=(e.target||e).typeParameters,o=kV(),a=(i||u).map(e=>jue(e,t,n,r,o)),s=e.thisParameter?[t.symbolToParameterDeclaration(e.thisParameter,n,Fue)]:[];return t.getExpandedParameters(e).map(e=>{const i=_w.createNodeArray([...s,...A(e,e=>t.symbolToParameterDeclaration(e,n,Fue))]),c=KZ(e=>{o.writeList(2576,i,r,e)});return{isVariadic:!1,parameters:a,prefix:[OZ(30)],suffix:[OZ(32),...c]}})}function Lue(e,t,n,r){const i=kV(),o=KZ(o=>{if(e.typeParameters&&e.typeParameters.length){const a=_w.createNodeArray(e.typeParameters.map(e=>t.typeParameterToDeclaration(e,n,Fue)));i.writeList(53776,a,r,o)}}),a=t.getExpandedParameters(e),s=t.hasEffectiveRestParameter(e)?1===a.length?e=>!0:e=>{var t;return!!(e.length&&32768&(null==(t=it(e[e.length-1],ed))?void 0:t.links.checkFlags))}:e=>!1;return a.map(e=>({isVariadic:s(e),parameters:e.map(e=>function(e,t,n,r,i){const o=KZ(o=>{const a=t.symbolToParameterDeclaration(e,n,Fue);i.writeNode(4,a,r,o)}),a=t.isOptionalParameter(e.valueDeclaration),s=ed(e)&&!!(32768&e.links.checkFlags);return{name:e.name,documentation:e.getDocumentationComment(t),displayParts:o,isOptional:a,isRest:s}}(e,t,n,r,i)),prefix:[...o,OZ(21)],suffix:[OZ(22)]}))}function jue(e,t,n,r,i){const o=KZ(o=>{const a=t.typeParameterToDeclaration(e,n,Fue);i.writeNode(4,a,r,o)});return{name:e.symbol.name,documentation:e.symbol.getDocumentationComment(t),displayParts:o,isOptional:!1,isRest:!1}}var Rue={};function Mue(e,t){var n,r;let i={textSpan:Qs(t.getFullStart(),t.getEnd())},o=t;e:for(;;){const i=zue(o);if(!i.length)break;for(let c=0;c<i.length;c++){const l=i[c-1],_=i[c],u=i[c+1];if(Wd(_,t,!0)>e)break e;const d=Se(gs(t.text,_.end));if(d&&2===d.kind&&s(d.pos,d.end),Bue(t,e,_)){if(iu(_)&&__(o)&&!Qb(_.getStart(t),_.getEnd(),t)&&a(_.getStart(t),_.getEnd()),BF(_)||RF(_)||qD(_)||UD(_)||l&&qD(l)||oE(_)&&JF(o)||$P(_)&&oE(o)||iE(_)&&$P(o)&&1===i.length||iP(_)||bP(_)||vP(_)){o=_;break}RF(o)&&u&&ql(u)&&a(_.getFullStart()-2,u.getStart()+1);const e=$P(_)&&Wue(l)&&$ue(u)&&!Qb(l.getStart(),u.getStart(),t);let s=e?l.getEnd():_.getStart();const c=e?u.getStart():Hue(t,_);if(Iu(_)&&(null==(n=_.jsDoc)?void 0:n.length)&&a(ve(_.jsDoc).getStart(),c),$P(_)){const e=_.getChildren()[0];e&&Iu(e)&&(null==(r=e.jsDoc)?void 0:r.length)&&e.getStart()!==_.pos&&(s=Math.min(s,ve(e.jsDoc).getStart()))}a(s,c),(MD(_)||q_(_))&&a(s+1,c-1),o=_;break}if(c===i.length-1)break e}}return i;function a(t,n){if(t!==n){const r=Qs(t,n);(!i||!xZ(r,i.textSpan)&&$s(r,e))&&(i=__spreadValues({textSpan:r},i&&{parent:i}))}}function s(e,n){a(e,n);let r=e;for(;47===t.text.charCodeAt(r);)r++;a(r,n)}}function Bue(e,t,n){return fn.assert(n.pos<=t),t<n.end||n.getEnd()===t&&YX(e,t).pos<n.end}i(Rue,{getSmartSelectionRange:()=>Mue});var Jue=rn(gE,mE);function zue(e){var t;if(nP(e))return que(e.getChildAt(0).getChildren(),Jue);if(QN(e)){const[t,...n]=e.getChildren(),r=fn.checkDefined(n.pop());fn.assertEqual(t.kind,19),fn.assertEqual(r.kind,20);const i=que(n,t=>t===e.readonlyToken||148===t.kind||t===e.questionToken||58===t.kind);return[t,Uue(Vue(que(i,({kind:e})=>23===e||168===e||24===e),({kind:e})=>59===e)),r]}if(xN(e)){const n=que(e.getChildren(),t=>t===e.name||w(e.modifiers,t)),r=320===(null==(t=n[0])?void 0:t.kind)?n[0]:void 0,i=Vue(r?n.slice(1):n,({kind:e})=>59===e);return r?[r,Uue(i)]:i}if(vN(e)){const t=que(e.getChildren(),t=>t===e.dotDotDotToken||t===e.name);return Vue(que(t,n=>n===t[0]||n===e.questionToken),({kind:e})=>64===e)}return iF(e)?Vue(e.getChildren(),({kind:e})=>64===e):e.getChildren()}function que(e,t){const n=[];let r;for(const i of e)t(i)?(r=r||[],r.push(i)):(r&&(n.push(Uue(r)),r=void 0),n.push(i));return r&&n.push(Uue(r)),n}function Vue(e,t,n=!0){if(e.length<2)return e;const r=T(e,t);if(-1===r)return e;const i=e.slice(0,r),o=e[r],a=ke(e),s=n&&27===a.kind,c=e.slice(r+1,s?e.length-1:void 0),l=oe([i.length?Uue(i):void 0,o,c.length?Uue(c):void 0]);return s?l.concat(a):l}function Uue(e){return fn.assertGreaterThanOrEqual(e.length,1),ET(SI.createSyntaxList(e),e[0].pos,ke(e).end)}function Wue(e){const t=e&&e.kind;return 19===t||23===t||21===t||286===t}function $ue(e){const t=e&&e.kind;return 20===t||24===t||22===t||287===t}function Hue(e,t){switch(t.kind){case 341:case 338:case 348:case 346:case 343:return e.getLineEndOfPosition(t.getStart());default:return t.getEnd()}}var Kue={};i(Kue,{getSymbolDisplayPartsDocumentationAndSymbolKind:()=>tde,getSymbolKind:()=>Xue,getSymbolModifiers:()=>Yue});var Gue=70246400;function Xue(e,t,n){const r=Que(e,t,n);if(""!==r)return r;const i=ux(t);return 32&i?Qu(t,231)?"local class":"class":384&i?"enum":524288&i?"type":64&i?"interface":262144&i?"type parameter":8&i?"enum member":2097152&i?"alias":1536&i?"module":r}function Que(e,t,n){const r=e.getRootSymbols(t);if(1===r.length&&8192&ve(r).flags&&0!==e.getTypeOfSymbolAtLocation(t,n).getNonNullableType().getCallSignatures().length)return"method";if(e.isUndefinedSymbol(t))return"var";if(e.isArgumentsSymbol(t))return"local var";if(110===n.kind&&G_(n)||mv(n))return"parameter";const i=ux(t);if(3&i)return FZ(t)?"parameter":t.valueDeclaration&&_f(t.valueDeclaration)?"const":t.valueDeclaration&&lf(t.valueDeclaration)?"using":t.valueDeclaration&&cf(t.valueDeclaration)?"await using":f(t.declarations,df)?"let":nde(t)?"local var":"var";if(16&i)return nde(t)?"local function":"function";if(32768&i)return"getter";if(65536&i)return"setter";if(8192&i)return"method";if(16384&i)return"constructor";if(131072&i)return"index";if(4&i){if(33554432&i&&6&t.links.checkFlags){const r=f(e.getRootSymbols(t),e=>{if(98311&e.getFlags())return"property"});return r||(e.getTypeOfSymbolAtLocation(t,n).getCallSignatures().length?"method":"property")}return"property"}return""}function Zue(e){if(e.declarations&&e.declarations.length){const[t,...n]=e.declarations,r=SQ(t,p(n)&&_0(t)&&K(n,e=>!_0(e))?65536:0);if(r)return r.split(",")}return[]}function Yue(e,t){if(!t)return"";const n=new Set(Zue(t));if(2097152&t.flags){const r=e.getAliasedSymbol(t);r!==t&&f(Zue(r),e=>{n.add(e)})}return 16777216&t.flags&&n.add("optional"),n.size>0?Re(n.values()).join(","):""}function ede(e,t,n,r,i,o,a,s){var c;const l=[];let _=[],d=[];const p=ux(t);let m=1&a?Que(e,t,i):"",h=!1;const y=110===i.kind&&Cm(i)||mv(i);let v,b,x=!1;if(110===i.kind&&!y)return{displayParts:[IZ(110)],documentation:[],symbolKind:"primitive type",tags:void 0};if(""!==m||32&p||2097152&p){if("getter"===m||"setter"===m){const e=k(t.declarations,e=>e.name===i);if(e)switch(e.kind){case 177:m="getter";break;case 178:m="setter";break;case 172:m="accessor";break;default:fn.assertNever(e)}else m="property"}let n,a;if(null!=o||(o=y?e.getTypeAtLocation(i):e.getTypeOfSymbolAtLocation(t,i)),i.parent&&211===i.parent.kind){const e=i.parent.name;(e===i||e&&0===e.getFullWidth())&&(i=i.parent)}if(z_(i)?a=i:(eX(i)||tX(i)||i.parent&&(Cu(i.parent)||uF(i.parent))&&c_(t.valueDeclaration))&&(a=i.parent),a){n=e.getResolvedSignature(a);const i=214===a.kind||lF(a)&&108===a.expression.kind,s=i?o.getConstructSignatures():o.getCallSignatures();if(!n||w(s,n.target)||w(s,n)||(n=s.length?s[0]:void 0),n){switch(i&&32&p?(m="constructor",F(o.symbol,m)):2097152&p?(m="alias",E(m),l.push(AZ()),i&&(4&n.flags&&(l.push(IZ(128)),l.push(AZ())),l.push(IZ(105)),l.push(AZ())),N(t)):F(t,m),m){case"JSX attribute":case"property":case"var":case"const":case"let":case"parameter":case"local var":l.push(OZ(59)),l.push(AZ()),16&xx(o)||!o.symbol||(_e(l,XZ(e,o.symbol,r,void 0,5)),l.push(HZ())),i&&(4&n.flags&&(l.push(IZ(128)),l.push(AZ())),l.push(IZ(105)),l.push(AZ())),P(n,s,262144);break;default:P(n,s)}h=!0,x=s.length>1}}else if(xX(i)&&!(98304&p)||137===i.kind&&176===i.parent.kind){const r=i.parent;if(t.declarations&&k(t.declarations,e=>e===(137===i.kind?r.parent:r))){const i=176===r.kind?o.getNonNullableType().getConstructSignatures():o.getNonNullableType().getCallSignatures();n=e.isImplementationOfOverload(r)?i[0]:e.getSignatureFromDeclaration(r),176===r.kind?(m="constructor",F(o.symbol,m)):F(179!==r.kind||2048&o.symbol.flags||4096&o.symbol.flags?t:o.symbol,m),n&&P(n,i),h=!0,x=i.length>1}}}if(32&p&&!h&&!y&&(C(),Qu(t,231)?E("local class"):l.push(IZ(86)),l.push(AZ()),N(t),A(t,n)),64&p&&2&a&&(T(),l.push(IZ(120)),l.push(AZ()),N(t),A(t,n)),524288&p&&2&a&&(T(),l.push(IZ(156)),l.push(AZ()),N(t),A(t,n),l.push(AZ()),l.push(LZ(64)),l.push(AZ()),_e(l,GZ(e,i.parent&&Dl(i.parent)?e.getTypeAtLocation(i.parent):e.getDeclaredTypeOfSymbol(t),r,8388608))),384&p&&(T(),K(t.declarations,e=>_E(e)&&af(e))&&(l.push(IZ(87)),l.push(AZ())),l.push(IZ(94)),l.push(AZ()),N(t)),1536&p&&!y){T();const e=Qu(t,267),n=e&&e.name&&80===e.name.kind;l.push(IZ(n?145:144)),l.push(AZ()),N(t)}if(262144&p&&2&a)if(T(),l.push(OZ(21)),l.push(BZ("type parameter")),l.push(OZ(22)),l.push(AZ()),N(t),t.parent)D(),N(t.parent,r),A(t.parent,r);else{const r=Qu(t,168);if(void 0===r)return fn.fail();const i=r.parent;if(i)if(c_(i)){D();const t=e.getSignatureFromDeclaration(i);180===i.kind?(l.push(IZ(105)),l.push(AZ())):179!==i.kind&&i.name&&N(i.symbol),_e(l,QZ(e,t,n,32))}else lE(i)&&(D(),l.push(IZ(156)),l.push(AZ()),N(i.symbol),A(i.symbol,n))}if(8&p){m="enum member",F(t,"enum member");const n=null==(c=t.declarations)?void 0:c[0];if(306===(null==n?void 0:n.kind)){const t=e.getConstantValue(n);void 0!==t&&(l.push(AZ()),l.push(LZ(64)),l.push(AZ()),l.push(PZ(cp(t),"number"==typeof t?7:8)))}}if(2097152&t.flags){if(T(),!h||0===_.length&&0===d.length){const n=e.getAliasedSymbol(t);if(n!==t&&n.declarations&&n.declarations.length>0){const i=n.declarations[0],s=Ec(i);if(s&&!h){const c=pp(i)&&Av(i,128),_="default"!==t.name&&!c,u=ede(e,n,Sd(i),r,s,o,a,_?t:n);l.push(...u.displayParts),l.push(HZ()),v=u.documentation,b=u.tags}else v=n.getContextualDocumentationComment(i,e),b=n.getJsDocTags(e)}}if(t.declarations)switch(t.declarations[0].kind){case 270:l.push(IZ(95)),l.push(AZ()),l.push(IZ(145));break;case 277:l.push(IZ(95)),l.push(AZ()),l.push(IZ(t.declarations[0].isExportEquals?64:90));break;case 281:l.push(IZ(95));break;default:l.push(IZ(102))}l.push(AZ()),N(t),f(t.declarations,t=>{if(271===t.kind){const n=t;if(Nm(n))l.push(AZ()),l.push(LZ(64)),l.push(AZ()),l.push(IZ(149)),l.push(OZ(21)),l.push(PZ(ep(Fm(n)),8)),l.push(OZ(22));else{const t=e.getSymbolAtLocation(n.moduleReference);t&&(l.push(AZ()),l.push(LZ(64)),l.push(AZ()),N(t,r))}return!0}})}if(!h)if(""!==m){if(o)if(y?(T(),l.push(IZ(110))):F(t,m),"property"===m||"accessor"===m||"getter"===m||"setter"===m||"JSX attribute"===m||3&p||"local var"===m||"index"===m||"using"===m||"await using"===m||y){if(l.push(OZ(59)),l.push(AZ()),o.symbol&&262144&o.symbol.flags&&"index"!==m){const t=KZ(t=>{const n=e.typeParameterToDeclaration(o,r,Gue);S().writeNode(4,n,Sd(yc(r)),t)});_e(l,t)}else _e(l,GZ(e,o,r));if(ed(t)&&t.links.target&&ed(t.links.target)&&t.links.target.links.tupleLabelDeclaration){const e=t.links.target.links.tupleLabelDeclaration;fn.assertNode(e.name,tN),l.push(AZ()),l.push(OZ(21)),l.push(BZ(xc(e.name))),l.push(OZ(22))}}else if(16&p||8192&p||16384&p||131072&p||98304&p||"method"===m){const e=o.getNonNullableType().getCallSignatures();e.length&&(P(e[0],e),x=e.length>1)}}else m=Xue(e,t,i);if(0!==_.length||x||(_=t.getContextualDocumentationComment(r,e)),0===_.length&&4&p&&t.parent&&t.declarations&&f(t.parent.declarations,e=>307===e.kind))for(const u of t.declarations){if(!u.parent||226!==u.parent.kind)continue;const t=e.getSymbolAtLocation(u.parent.right);if(t&&(_=t.getDocumentationComment(e),d=t.getJsDocTags(e),_.length>0))break}if(0===_.length&&tN(i)&&t.valueDeclaration&&iF(t.valueDeclaration)){const n=t.valueDeclaration,r=n.parent,i=n.propertyName||n.name;if(tN(i)&&nF(r)){const t=$h(i),n=e.getTypeAtLocation(r);_=g(n.isUnion()?n.types:[n],n=>{const r=n.getProperty(t);return r?r.getDocumentationComment(e):void 0})||u}}return 0!==d.length||x||(d=t.getContextualJsDocTags(r,e)),0===_.length&&v&&(_=v),0===d.length&&b&&(d=b),{displayParts:l,documentation:_,symbolKind:m,tags:0===d.length?void 0:d};function S(){return kV()}function T(){l.length&&l.push(HZ()),C()}function C(){s&&(E("alias"),l.push(AZ()))}function D(){l.push(AZ()),l.push(IZ(103)),l.push(AZ())}function N(r,i){let o;s&&r===t&&(r=s),"index"===m&&(o=e.getIndexInfosOfIndexSymbol(r));let a=[];131072&r.flags&&o?(r.parent&&(a=XZ(e,r.parent)),a.push(OZ(23)),o.forEach((t,n)=>{a.push(...GZ(e,t.keyType)),n!==o.length-1&&(a.push(AZ()),a.push(OZ(52)),a.push(AZ()))}),a.push(OZ(24))):a=XZ(e,r,i||n,void 0,7),_e(l,a),16777216&t.flags&&l.push(OZ(58))}function F(e,t){T(),t&&(E(t),e&&!K(e.declarations,e=>mF(e)||(fF(e)||DF(e))&&!e.name)&&(l.push(AZ()),N(e)))}function E(e){switch(e){case"var":case"function":case"let":case"const":case"constructor":case"using":case"await using":return void l.push(MZ(e));default:return l.push(OZ(21)),l.push(MZ(e)),void l.push(OZ(22))}}function P(t,n,i=0){_e(l,QZ(e,t,r,32|i)),n.length>1&&(l.push(AZ()),l.push(OZ(21)),l.push(LZ(40)),l.push(PZ((n.length-1).toString(),7)),l.push(AZ()),l.push(BZ(2===n.length?"overload":"overloads")),l.push(OZ(22))),_=t.getDocumentationComment(e),d=t.getJsDocTags(),n.length>1&&0===_.length&&0===d.length&&(_=n[0].getDocumentationComment(e),d=n[0].getJsDocTags().filter(e=>"deprecated"!==e.name))}function A(t,n){const r=KZ(r=>{const i=e.symbolToTypeParameterDeclarations(t,n,Gue);S().writeList(53776,i,Sd(yc(n)),r)});_e(l,r)}}function tde(e,t,n,r,i,o=ZG(i),a){return ede(e,t,n,r,i,void 0,o,a)}function nde(e){return!e.parent&&f(e.declarations,e=>{if(218===e.kind)return!0;if(260!==e.kind&&262!==e.kind)return!1;for(let t=e.parent;!Vf(t);t=t.parent)if(307===t.kind||268===t.kind)return!1;return!0})}var rde={};function ide(e){const t=e.__pos;return fn.assert("number"==typeof t),t}function ode(e,t){fn.assert("number"==typeof t),e.__pos=t}function ade(e){const t=e.__end;return fn.assert("number"==typeof t),t}function sde(e,t){fn.assert("number"==typeof t),e.__end=t}i(rde,{ChangeTracker:()=>vde,LeadingTriviaOption:()=>cde,TrailingTriviaOption:()=>lde,applyChanges:()=>Sde,assignPositionsToNode:()=>wde,createWriter:()=>Nde,deleteNode:()=>Ede,getAdjustedEndPosition:()=>mde,isThisTypeAnnotatable:()=>hde,isValidLocationToAddComment:()=>Fde});var cde=(e=>(e[e.Exclude=0]="Exclude",e[e.IncludeAll=1]="IncludeAll",e[e.JSDoc=2]="JSDoc",e[e.StartLine=3]="StartLine",e))(cde||{}),lde=(e=>(e[e.Exclude=0]="Exclude",e[e.ExcludeWhitespace=1]="ExcludeWhitespace",e[e.Include=2]="Include",e))(lde||{});function _de(e,t){return ns(e,t,!1,!0)}var ude={leadingTriviaOption:0,trailingTriviaOption:0};function dde(e,t,n,r){return{pos:pde(e,t,r),end:mde(e,n,r)}}function pde(e,t,n,r=!1){var i,o;const{leadingTriviaOption:a}=n;if(0===a)return t.getStart(e);if(3===a){const n=t.getStart(e),r=NX(n,e);return EX(t,r)?r:n}if(2===a){const n=Sf(t,e.text);if(null==n?void 0:n.length)return NX(n[0].pos,e)}const s=t.getFullStart(),c=t.getStart(e);if(s===c)return c;const l=NX(s,e);if(NX(c,e)===l)return 1===a?s:c;if(r){const t=(null==(i=ms(e.text,s))?void 0:i[0])||(null==(o=gs(e.text,s))?void 0:o[0]);if(t)return ns(e.text,t.end,!0,!0)}const _=s>0?1:0;let u=Dd(av(e,l)+_,e);return u=_de(e.text,u),Dd(av(e,u),e)}function fde(e,t,n){const{end:r}=t,{trailingTriviaOption:i}=n;if(2===i){const n=gs(e.text,r);if(n){const r=av(e,t.end);for(const t of n){if(2===t.kind||av(e,t.pos)>r)break;if(av(e,t.end)>r)return ns(e.text,t.end,!0,!0)}}}}function mde(e,t,n){var r;const{end:i}=t,{trailingTriviaOption:o}=n;if(0===o)return i;if(1===o){const t=X(gs(e.text,i),ms(e.text,i)),n=null==(r=null==t?void 0:t[t.length-1])?void 0:r.end;return n||i}const a=fde(e,t,n);if(a)return a;const s=ns(e.text,i,!0);return s===i||2!==o&&!Ga(e.text.charCodeAt(s-1))?i:s}function gde(e,t){return!!t&&!!e.parent&&(28===t.kind||27===t.kind&&210===e.parent.kind)}function hde(e){return fF(e)||aE(e)}var yde,vde=class e{constructor(e,t){this.newLineCharacter=e,this.formatContext=t,this.changes=[],this.classesWithNodesInsertedAtStart=new Map,this.deletedNodes=[]}static fromContext(t){return new e($Z(t.host,t.formatContext.options),t.formatContext)}static with(t,n){const r=e.fromContext(t);return n(r),r.getChanges()}pushRaw(e,t){fn.assertEqual(e.fileName,t.fileName);for(const n of t.textChanges)this.changes.push({kind:3,sourceFile:e,text:n.newText,range:zQ(n.span)})}deleteRange(e,t){this.changes.push({kind:0,sourceFile:e,range:t})}delete(e,t){this.deletedNodes.push({sourceFile:e,node:t})}deleteNode(e,t,n={leadingTriviaOption:1}){this.deleteRange(e,dde(e,t,t,n))}deleteNodes(e,t,n={leadingTriviaOption:1},r){for(const i of t){const t=pde(e,i,n,r),o=mde(e,i,n);this.deleteRange(e,{pos:t,end:o}),r=!!fde(e,i,n)}}deleteModifier(e,t){this.deleteRange(e,{pos:t.getStart(e),end:ns(e.text,t.end,!0)})}deleteNodeRange(e,t,n,r={leadingTriviaOption:1}){const i=pde(e,t,r),o=mde(e,n,r);this.deleteRange(e,{pos:i,end:o})}deleteNodeRangeExcludingEnd(e,t,n,r={leadingTriviaOption:1}){const i=pde(e,t,r),o=void 0===n?e.text.length:pde(e,n,r);this.deleteRange(e,{pos:i,end:o})}replaceRange(e,t,n,r={}){this.changes.push({kind:1,sourceFile:e,range:t,options:r,node:n})}replaceNode(e,t,n,r=ude){this.replaceRange(e,dde(e,t,t,r),n,r)}replaceNodeRange(e,t,n,r,i=ude){this.replaceRange(e,dde(e,t,n,i),r,i)}replaceRangeWithNodes(e,t,n,r={}){this.changes.push({kind:2,sourceFile:e,range:t,options:r,nodes:n})}replaceNodeWithNodes(e,t,n,r=ude){this.replaceRangeWithNodes(e,dde(e,t,t,r),n,r)}replaceNodeWithText(e,t,n){this.replaceRangeWithText(e,dde(e,t,t,ude),n)}replaceNodeRangeWithNodes(e,t,n,r,i=ude){this.replaceRangeWithNodes(e,dde(e,t,n,i),r,i)}nodeHasTrailingComment(e,t,n=ude){return!!fde(e,t,n)}nextCommaToken(e,t){const n=oQ(t,t.parent,e);return n&&28===n.kind?n:void 0}replacePropertyAssignment(e,t,n){const r=this.nextCommaToken(e,t)?"":","+this.newLineCharacter;this.replaceNode(e,t,n,{suffix:r})}insertNodeAt(e,t,n,r={}){this.replaceRange(e,Rb(t),n,r)}insertNodesAt(e,t,n,r={}){this.replaceRangeWithNodes(e,Rb(t),n,r)}insertNodeAtTopOfFile(e,t,n){this.insertAtTopOfFile(e,t,n)}insertNodesAtTopOfFile(e,t,n){this.insertAtTopOfFile(e,t,n)}insertAtTopOfFile(e,t,n){const r=function(e){let t;for(const l of e.statements){if(!hf(l))break;t=l}let n=0;const r=e.text;if(t)return n=t.end,c(),n;const i=hs(r);void 0!==i&&(n=i.length,c());const o=ms(r,n);if(!o)return n;let a,s;for(const l of o){if(3===l.kind){if(Vd(r,l.pos)){a={range:l,pinnedOrTripleSlash:!0};continue}}else if(qd(r,l.pos,l.end)){a={range:l,pinnedOrTripleSlash:!0};continue}if(a){if(a.pinnedOrTripleSlash)break;if(e.getLineAndCharacterOfPosition(l.pos).line>=e.getLineAndCharacterOfPosition(a.range.end).line+2)break}if(e.statements.length&&(void 0===s&&(s=e.getLineAndCharacterOfPosition(e.statements[0].getStart()).line),s<e.getLineAndCharacterOfPosition(l.end).line+2))break;a={range:l,pinnedOrTripleSlash:!1}}return a&&(n=a.range.end,c()),n;function c(){if(n<r.length){const e=r.charCodeAt(n);Ga(e)&&(n++,n<r.length&&13===e&&10===r.charCodeAt(n)&&n++)}}}(e),i={prefix:0===r?void 0:this.newLineCharacter,suffix:(Ga(e.text.charCodeAt(r))?"":this.newLineCharacter)+(n?this.newLineCharacter:"")};et(t)?this.insertNodesAt(e,r,t,i):this.insertNodeAt(e,r,t,i)}insertNodesAtEndOfFile(e,t,n){this.insertAtEndOfFile(e,t,n)}insertAtEndOfFile(e,t,n){const r=e.end+1,i={prefix:this.newLineCharacter,suffix:this.newLineCharacter+(n?this.newLineCharacter:"")};this.insertNodesAt(e,r,t,i)}insertStatementsInNewFile(e,t,n){this.newFileChanges||(this.newFileChanges=Ge()),this.newFileChanges.add(e,{oldFile:n,statements:t})}insertFirstParameter(e,t,n){const r=he(t);r?this.insertNodeBefore(e,r,n):this.insertNodeAt(e,t.pos,n)}insertNodeBefore(e,t,n,r=!1,i={}){this.insertNodeAt(e,pde(e,t,i),n,this.getOptionsForInsertNodeBefore(t,n,r))}insertNodesBefore(e,t,n,r=!1,i={}){this.insertNodesAt(e,pde(e,t,i),n,this.getOptionsForInsertNodeBefore(t,ve(n),r))}insertModifierAt(e,t,n,r={}){this.insertNodeAt(e,t,_w.createToken(n),r)}insertModifierBefore(e,t,n){return this.insertModifierAt(e,n.getStart(e),t,{suffix:" "})}insertCommentBeforeLine(e,t,n,r){const i=Dd(t,e),o=rY(e.text,i),a=Fde(e,o),s=eQ(e,a?o:n),c=e.text.slice(i,o),l=`${a?"":this.newLineCharacter}//${r}${this.newLineCharacter}${c}`;this.insertText(e,s.getStart(e),l)}insertJsdocCommentBefore(e,t,n){const r=t.getStart(e);if(t.jsDoc)for(const a of t.jsDoc)this.deleteRange(e,{pos:NX(a.getStart(e),e),end:mde(e,a,{})});const i=iY(e.text,r-1),o=e.text.slice(i,r);this.insertNodeAt(e,r,n,{suffix:this.newLineCharacter+o})}createJSDocText(e,t){const n=j(t.jsDoc,e=>nt(e.comment)?_w.createJSDocText(e.comment):e.comment),r=Se(t.jsDoc);return r&&Qb(r.pos,r.end,e)&&0===p(n)?void 0:_w.createNodeArray(b(n,_w.createJSDocText("\n")))}replaceJSDocComment(e,t,n){this.insertJsdocCommentBefore(e,function(e){if(219!==e.kind)return e;const t=172===e.parent.kind?e.parent:e.parent.parent;return t.jsDoc=e.jsDoc,t}(t),_w.createJSDocComment(this.createJSDocText(e,t),_w.createNodeArray(n)))}addJSDocTags(e,t,n){const r=R(t.jsDoc,e=>e.tags),i=n.filter(e=>!r.some((t,n)=>{const i=function(e,t){if(e.kind===t.kind)switch(e.kind){case 341:{const n=e,r=t;return tN(n.name)&&tN(r.name)&&n.name.escapedText===r.name.escapedText?_w.createJSDocParameterTag(void 0,r.name,!1,r.typeExpression,r.isNameFirst,n.comment):void 0}case 342:return _w.createJSDocReturnTag(void 0,t.typeExpression,e.comment);case 344:return _w.createJSDocTypeTag(void 0,t.typeExpression,e.comment)}}(t,e);return i&&(r[n]=i),!!i}));this.replaceJSDocComment(e,t,[...r,...i])}filterJSDocTags(e,t,n){this.replaceJSDocComment(e,t,F(R(t.jsDoc,e=>e.tags),n))}replaceRangeWithText(e,t,n){this.changes.push({kind:3,sourceFile:e,range:t,text:n})}insertText(e,t,n){this.replaceRangeWithText(e,Rb(t),n)}tryInsertTypeAnnotation(e,t,n){var r;let i;if(c_(t)){if(i=zX(t,22,e),!i){if(!mF(t))return!1;i=ve(t.parameters)}}else i=null!=(r=260===t.kind?t.exclamationToken:t.questionToken)?r:t.name;return this.insertNodeAt(e,i.end,n,{prefix:": "}),!0}tryInsertThisTypeAnnotation(e,t,n){const r=zX(t,21,e).getStart(e)+1,i=t.parameters.length?", ":"";this.insertNodeAt(e,r,n,{prefix:"this: ",suffix:i})}insertTypeParameters(e,t,n){const r=(zX(t,21,e)||ve(t.parameters)).getStart(e);this.insertNodesAt(e,r,n,{prefix:"<",suffix:">",joiner:", "})}getOptionsForInsertNodeBefore(e,t,n){return yu(e)||m_(e)?{suffix:n?this.newLineCharacter+this.newLineCharacter:this.newLineCharacter}:iE(e)?{suffix:", "}:vN(e)?vN(t)?{suffix:", "}:{}:MD(e)&&gE(e.parent)||CE(e)?{suffix:", "}:wE(e)?{suffix:","+(n?this.newLineCharacter:" ")}:fn.failBadSyntaxKind(e)}insertNodeAtConstructorStart(e,t,n){const r=he(t.body.statements);r&&t.body.multiLine?this.insertNodeBefore(e,r,n):this.replaceConstructorBody(e,t,[n,...t.body.statements])}insertNodeAtConstructorStartAfterSuperCall(e,t,n){const r=k(t.body.statements,e=>qF(e)&&pf(e.expression));r&&t.body.multiLine?this.insertNodeAfter(e,r,n):this.replaceConstructorBody(e,t,[...t.body.statements,n])}insertNodeAtConstructorEnd(e,t,n){const r=xe(t.body.statements);r&&t.body.multiLine?this.insertNodeAfter(e,r,n):this.replaceConstructorBody(e,t,[...t.body.statements,n])}replaceConstructorBody(e,t,n){this.replaceNode(e,t.body,_w.createBlock(n,!0))}insertNodeAtEndOfScope(e,t,n){const r=pde(e,t.getLastToken(),{});this.insertNodeAt(e,r,n,{prefix:Ga(e.text.charCodeAt(t.getLastToken().pos))?this.newLineCharacter:this.newLineCharacter+this.newLineCharacter,suffix:this.newLineCharacter})}insertMemberAtStart(e,t,n){this.insertNodeAtStartWorker(e,t,n)}insertNodeAtObjectStart(e,t,n){this.insertNodeAtStartWorker(e,t,n)}insertNodeAtStartWorker(e,t,n){var r;const i=null!=(r=this.guessIndentationFromExistingMembers(e,t))?r:this.computeIndentationForNewMember(e,t);this.insertNodeAt(e,kde(t).pos,n,this.getInsertNodeAtStartInsertOptions(e,t,i))}guessIndentationFromExistingMembers(e,t){let n,r=t;for(const i of kde(t)){if(Ub(r,i,e))return;const t=i.getStart(e),o=Ade.SmartIndenter.findFirstNonWhitespaceColumn(NX(t,e),t,e,this.formatContext.options);if(void 0===n)n=o;else if(o!==n)return;r=i}return n}computeIndentationForNewMember(e,t){var n;const r=t.getStart(e);return Ade.SmartIndenter.findFirstNonWhitespaceColumn(NX(r,e),r,e,this.formatContext.options)+(null!=(n=this.formatContext.options.indentSize)?n:4)}getInsertNodeAtStartInsertOptions(e,t,n){const r=0===kde(t).length,i=!this.classesWithNodesInsertedAtStart.has(rJ(t));i&&this.classesWithNodesInsertedAtStart.set(rJ(t),{node:t,sourceFile:e});const o=aF(t)&&(!of(e)||!r);return{indentation:n,prefix:(aF(t)&&of(e)&&r&&!i?",":"")+this.newLineCharacter,suffix:o?",":cE(t)&&r?";":""}}insertNodeAfterComma(e,t,n){const r=this.insertNodeAfterWorker(e,this.nextCommaToken(e,t)||t,n);this.insertNodeAt(e,r,n,this.getInsertNodeAfterOptions(e,t))}insertNodeAfter(e,t,n){const r=this.insertNodeAfterWorker(e,t,n);this.insertNodeAt(e,r,n,this.getInsertNodeAfterOptions(e,t))}insertNodeAtEndOfList(e,t,n){this.insertNodeAt(e,t.end,n,{prefix:", "})}insertNodesAfter(e,t,n){const r=this.insertNodeAfterWorker(e,t,ve(n));this.insertNodesAt(e,r,n,this.getInsertNodeAfterOptions(e,t))}insertNodeAfterWorker(e,t,n){var r,i;return i=n,((xN(r=t)||kN(r))&&S_(i)&&167===i.name.kind||hu(r)&&hu(i))&&59!==e.text.charCodeAt(t.end-1)&&this.replaceRange(e,Rb(t.end),_w.createToken(27)),mde(e,t,{})}getInsertNodeAfterOptions(e,t){const n=this.getInsertNodeAfterOptionsWorker(t);return __spreadProps(__spreadValues({},n),{prefix:t.end===e.end&&yu(t)?n.prefix?`\n${n.prefix}`:"\n":n.prefix})}getInsertNodeAfterOptionsWorker(e){switch(e.kind){case 263:case 267:return{prefix:this.newLineCharacter,suffix:this.newLineCharacter};case 260:case 11:case 80:return{prefix:", "};case 303:return{suffix:","+this.newLineCharacter};case 95:return{prefix:" "};case 169:return{};default:return fn.assert(yu(e)||S_(e)),{suffix:this.newLineCharacter}}}insertName(e,t,n){if(fn.assert(!t.name),219===t.kind){const r=zX(t,39,e),i=zX(t,21,e);i?(this.insertNodesAt(e,i.getStart(e),[_w.createToken(100),_w.createIdentifier(n)],{joiner:" "}),Ede(this,e,r)):(this.insertText(e,ve(t.parameters).getStart(e),`function ${n}(`),this.replaceRange(e,r,_w.createToken(22))),241!==t.body.kind&&(this.insertNodesAt(e,t.body.getStart(e),[_w.createToken(19),_w.createToken(107)],{joiner:" ",suffix:" "}),this.insertNodesAt(e,t.body.end,[_w.createToken(27),_w.createToken(20)],{joiner:" "}))}else{const r=zX(t,218===t.kind?100:86,e).end;this.insertNodeAt(e,r,_w.createIdentifier(n),{prefix:" "})}}insertExportModifier(e,t){this.insertText(e,t.getStart(e),"export ")}insertImportSpecifierAtIndex(e,t,n,r){const i=n.elements[r-1];i?this.insertNodeInListAfter(e,i,t):this.insertNodeBefore(e,n.elements[0],t,!Qb(n.elements[0].getStart(),n.parent.parent.getStart(),e))}insertNodeInListAfter(e,t,n,r=Ade.SmartIndenter.getContainingList(t,e)){if(!r)return void fn.fail("node is not a list element");const i=np(r,t);if(i<0)return;const o=t.getEnd();if(i!==r.length-1){const o=tQ(e,t.end);if(o&&gde(t,o)){const t=r[i+1],a=_de(e.text,t.getFullStart()),s=`${Oa(o.kind)}${e.text.substring(o.end,a)}`;this.insertNodesAt(e,a,[n],{suffix:s})}}else{const a=t.getStart(e),s=NX(a,e);let c,l=!1;if(1===r.length)c=28;else{const n=aQ(t.pos,e);c=gde(t,n)?n.kind:28,l=NX(r[i-1].getStart(e),e)!==s}if(!function(e,t){let n=t;for(;n<e.length;){const t=e.charCodeAt(n);if(!Ka(t))return 47===t;n++}return!1}(e.text,t.end)&&Qb(r.pos,r.end,e)||(l=!0),l){this.replaceRange(e,Rb(o),_w.createToken(c));const t=Ade.SmartIndenter.findFirstNonWhitespaceColumn(s,a,e,this.formatContext.options);let r=ns(e.text,o,!0,!1);for(;r!==o&&Ga(e.text.charCodeAt(r-1));)r--;this.replaceRange(e,Rb(r),n,{indentation:t,prefix:this.newLineCharacter})}else this.replaceRange(e,Rb(o),n,{prefix:`${Oa(c)} `})}}parenthesizeExpression(e,t){this.replaceRange(e,pT(t),_w.createParenthesizedExpression(t))}finishClassesWithNodesInsertedAtStart(){this.classesWithNodesInsertedAtStart.forEach(({node:e,sourceFile:t})=>{const[n,r]=function(e,t){const n=zX(e,19,t),r=zX(e,20,t);return[null==n?void 0:n.end,null==r?void 0:r.end]}(e,t);if(void 0!==n&&void 0!==r){const i=0===kde(e).length,o=Qb(n,r,t);i&&o&&n!==r-1&&this.deleteRange(t,Rb(n,r-1)),o&&this.insertText(t,r-1,this.newLineCharacter)}})}finishDeleteDeclarations(){const e=new Set;for(const{sourceFile:t,node:n}of this.deletedNodes)this.deletedNodes.some(e=>e.sourceFile===t&&FX(e.node,n))||(et(n)?this.deleteRange(t,fT(t,n)):Tde.deleteDeclaration(this,e,t,n));e.forEach(t=>{const n=t.getSourceFile(),r=Ade.SmartIndenter.getContainingList(t,n);if(t!==ke(r))return;const i=C(r,t=>!e.has(t),r.length-2);-1!==i&&this.deleteRange(n,{pos:r[i].end,end:bde(n,r[i+1])})})}getChanges(e){this.finishDeleteDeclarations(),this.finishClassesWithNodesInsertedAtStart();const t=yde.getTextChangesFromChanges(this.changes,this.newLineCharacter,this.formatContext,e);return this.newFileChanges&&this.newFileChanges.forEach((e,n)=>{t.push(yde.newFileChanges(n,e,this.newLineCharacter,this.formatContext))}),t}createNewFile(e,t,n){this.insertStatementsInNewFile(t,n,e)}};function bde(e,t){return ns(e.text,pde(e,t,{leadingTriviaOption:1}),!1,!0)}function xde(e,t,n,r){const i=bde(e,r);if(void 0===n||Qb(mde(e,t,{}),i,e))return i;const o=aQ(r.getStart(e),e);if(gde(t,o)){const r=aQ(t.getStart(e),e);if(gde(n,r)){const t=ns(e.text,o.getEnd(),!0,!0);if(Qb(r.getStart(e),o.getStart(e),e))return Ga(e.text.charCodeAt(t-1))?t-1:t;if(Ga(e.text.charCodeAt(t)))return t}}return i}function kde(e){return aF(e)?e.properties:e.members}function Sde(e,t){for(let n=t.length-1;n>=0;n--){const{span:r,newText:i}=t[n];e=`${e.substring(0,r.start)}${i}${e.substring(Os(r))}`}return e}(e=>{function t(e,t,r,i){const o=j(t,e=>e.statements.map(t=>4===t?"":n(t,e.oldFile,r).text)).join(r),a=ZI("any file name",o,{languageVersion:99,jsDocParsingMode:1},!0,e);return Sde(o,Ade.formatDocument(a,i))+r}function n(e,t,n){const r=Nde(n);return CV({newLine:d0(n),neverAsciiEscape:!0,preserveSourceNewlines:!0,terminateUnterminatedLiterals:!0},r).writeNode(4,e,t,r),{text:r.getText(),node:wde(e)}}e.getTextChangesFromChanges=function(e,t,r,i){return z(Ve(e,e=>e.sourceFile.path),e=>{const o=e[0].sourceFile,a=pe(e,(e,t)=>e.range.pos-t.range.pos||e.range.end-t.range.end);for(let t=0;t<a.length-1;t++)fn.assert(a[t].range.end<=a[t+1].range.pos,"Changes overlap",()=>`${JSON.stringify(a[t].range)} and ${JSON.stringify(a[t+1].range)}`);const s=z(a,e=>{var a,s;const c=JQ(e.range),l=1===e.kind?null!=(a=Sd(mc(e.node)))?a:e.sourceFile:2===e.kind&&null!=(s=Sd(mc(e.nodes[0])))?s:e.sourceFile,_=function(e,t,r,i,o,a){var s;if(0===e.kind)return"";if(3===e.kind)return e.text;const{options:c={},range:{pos:l}}=e,_=e=>function(e,t,r,i,{indentation:o,prefix:a,delta:s},c,l,_){const{node:u,text:d}=n(e,t,c);_&&_(u,d);const p=f0(l,t),f=void 0!==o?o:Ade.SmartIndenter.getIndentation(i,r,p,a===c||NX(i,t)===i);void 0===s&&(s=Ade.SmartIndenter.shouldIndentChildNode(p,e)&&p.indentSize||0);const m={text:d,getLineAndCharacterOfPosition(e){return $a(this,e)}},g=Ade.formatNodeGivenIndentation(u,m,t.languageVariant,f,s,__spreadProps(__spreadValues({},l),{options:p}));return Sde(d,g)}(e,t,r,l,c,i,o,a),u=2===e.kind?e.nodes.map(e=>zt(_(e),i)).join((null==(s=e.options)?void 0:s.joiner)||i):_(e.node),d=void 0!==c.indentation||NX(l,t)===l?u:u.replace(/^\s+/,"");return(c.prefix||"")+d+(!c.suffix||Jt(d,c.suffix)?"":c.suffix)}(e,l,o,t,r,i);if(c.length!==_.length||!c0(l.text,_,c.start))return VQ(c,_)});return s.length>0?{fileName:o.fileName,textChanges:s}:void 0})},e.newFileChanges=function(e,n,r,i){const o=t(wS(e),n,r,i);return{fileName:e,textChanges:[VQ(Xs(0,0),o)],isNewFile:!0}},e.newFileChangesWorker=t,e.getNonformattedText=n})(yde||(yde={}));var Tde,Cde=__spreadProps(__spreadValues({},Kq),{factory:YC(1|Kq.factory.flags,Kq.factory.baseFactory)});function wde(e){const t=SJ(e,wde,Cde,Dde,wde),n=iy(t)?t:Object.create(t);return ET(n,ide(e),ade(e)),n}function Dde(e,t,n,r,i){const o=fJ(e,t,n,r,i);if(!o)return o;fn.assert(e);const a=o===e?_w.createNodeArray(o.slice(0)):o;return ET(a,ide(e),ade(e)),a}function Nde(e){let t=0;const n=My(e);function r(e,r){if(r||!function(e){return ns(e,0)===e.length}(e)){t=n.getTextPos();let r=0;for(;Ha(e.charCodeAt(e.length-r-1));)r++;t-=r}}return{onBeforeEmitNode:e=>{e&&ode(e,t)},onAfterEmitNode:e=>{e&&sde(e,t)},onBeforeEmitNodeArray:e=>{e&&ode(e,t)},onAfterEmitNodeArray:e=>{e&&sde(e,t)},onBeforeEmitToken:e=>{e&&ode(e,t)},onAfterEmitToken:e=>{e&&sde(e,t)},write:function(e){n.write(e),r(e,!1)},writeComment:function(e){n.writeComment(e)},writeKeyword:function(e){n.writeKeyword(e),r(e,!1)},writeOperator:function(e){n.writeOperator(e),r(e,!1)},writePunctuation:function(e){n.writePunctuation(e),r(e,!1)},writeTrailingSemicolon:function(e){n.writeTrailingSemicolon(e),r(e,!1)},writeParameter:function(e){n.writeParameter(e),r(e,!1)},writeProperty:function(e){n.writeProperty(e),r(e,!1)},writeSpace:function(e){n.writeSpace(e),r(e,!1)},writeStringLiteral:function(e){n.writeStringLiteral(e),r(e,!1)},writeSymbol:function(e,t){n.writeSymbol(e,t),r(e,!1)},writeLine:function(e){n.writeLine(e)},increaseIndent:function(){n.increaseIndent()},decreaseIndent:function(){n.decreaseIndent()},getText:function(){return n.getText()},rawWrite:function(e){n.rawWrite(e),r(e,!1)},writeLiteral:function(e){n.writeLiteral(e),r(e,!0)},getTextPos:function(){return n.getTextPos()},getLine:function(){return n.getLine()},getColumn:function(){return n.getColumn()},getIndent:function(){return n.getIndent()},isAtStartOfLine:function(){return n.isAtStartOfLine()},hasTrailingComment:()=>n.hasTrailingComment(),hasTrailingWhitespace:()=>n.hasTrailingWhitespace(),clear:function(){n.clear(),t=0}}}function Fde(e,t){return!(bQ(e,t)||_Q(e,t)||pQ(e,t)||fQ(e,t))}function Ede(e,t,n,r={leadingTriviaOption:1}){const i=pde(t,n,r),o=mde(t,n,r);e.deleteRange(t,{pos:i,end:o})}function Pde(e,t,n,r){const i=fn.checkDefined(Ade.SmartIndenter.getContainingList(r,n)),o=np(i,r);fn.assert(-1!==o),1!==i.length?(fn.assert(!t.has(r),"Deleting a node twice"),t.add(r),e.deleteRange(n,{pos:bde(n,r),end:o===i.length-1?mde(n,r,{}):xde(n,r,i[o-1],i[o+1])})):Ede(e,n,r)}(e=>{function t(e,t,n){if(n.parent.name){const r=fn.checkDefined(tQ(t,n.pos-1));e.deleteRange(t,{pos:r.getStart(t),end:n.end})}else Ede(e,t,Nh(n,272))}e.deleteDeclaration=function(e,n,r,i){switch(i.kind){case 169:{const t=i.parent;mF(t)&&1===t.parameters.length&&!zX(t,21,r)?e.replaceNodeWithText(r,i,"()"):Pde(e,n,r,i);break}case 272:case 271:Ede(e,r,i,{leadingTriviaOption:r.imports.length&&i===ve(r.imports).parent||i===k(r.statements,Dp)?0:Iu(i)?2:3});break;case 208:const o=i.parent;207===o.kind&&i!==ke(o.elements)?Ede(e,r,i):Pde(e,n,r,i);break;case 260:!function(e,t,n,r){const{parent:i}=r;if(299===i.kind)return void e.deleteNodeRange(n,zX(i,21,n),zX(i,22,n));if(1!==i.declarations.length)return void Pde(e,t,n,r);const o=i.parent;switch(o.kind){case 250:case 249:e.replaceNode(n,r,_w.createObjectLiteralExpression());break;case 248:Ede(e,n,i);break;case 243:Ede(e,n,o,{leadingTriviaOption:Iu(o)?2:3});break;default:fn.assertNever(o)}}(e,n,r,i);break;case 168:Pde(e,n,r,i);break;case 276:const a=i.parent;1===a.elements.length?t(e,r,a):Pde(e,n,r,i);break;case 274:t(e,r,i);break;case 27:Ede(e,r,i,{trailingTriviaOption:0});break;case 100:Ede(e,r,i,{leadingTriviaOption:0});break;case 263:case 262:Ede(e,r,i,{leadingTriviaOption:Iu(i)?2:3});break;default:i.parent?hE(i.parent)&&i.parent.name===i?function(e,t,n){if(n.namedBindings){const r=n.name.getStart(t),i=tQ(t,n.name.end);if(i&&28===i.kind){const n=ns(t.text,i.end,!1,!0);e.deleteRange(t,{pos:r,end:n})}else Ede(e,t,n.name)}else Ede(e,t,n.parent)}(e,r,i.parent):lF(i.parent)&&w(i.parent.arguments,i)?Pde(e,n,r,i):Ede(e,r,i):Ede(e,r,i)}}})(Tde||(Tde={}));var Ade={};i(Ade,{FormattingContext:()=>Ode,FormattingRequestKind:()=>Ide,RuleAction:()=>Jde,RuleFlags:()=>zde,SmartIndenter:()=>_fe,anyContext:()=>Bde,createTextRangeWithKind:()=>gfe,formatDocument:()=>xfe,formatNodeGivenIndentation:()=>wfe,formatOnClosingCurly:()=>bfe,formatOnEnter:()=>hfe,formatOnOpeningCurly:()=>vfe,formatOnSemicolon:()=>yfe,formatSelection:()=>kfe,getAllRules:()=>qde,getFormatContext:()=>nfe,getFormattingScanner:()=>Rde,getIndentationString:()=>Pfe,getRangeOfEnclosingComment:()=>Efe});var Ide=(e=>(e[e.FormatDocument=0]="FormatDocument",e[e.FormatSelection=1]="FormatSelection",e[e.FormatOnEnter=2]="FormatOnEnter",e[e.FormatOnSemicolon=3]="FormatOnSemicolon",e[e.FormatOnOpeningCurlyBrace=4]="FormatOnOpeningCurlyBrace",e[e.FormatOnClosingCurlyBrace=5]="FormatOnClosingCurlyBrace",e))(Ide||{}),Ode=class{constructor(e,t,n){this.sourceFile=e,this.formattingRequestKind=t,this.options=n}updateContext(e,t,n,r,i){this.currentTokenSpan=fn.checkDefined(e),this.currentTokenParent=fn.checkDefined(t),this.nextTokenSpan=fn.checkDefined(n),this.nextTokenParent=fn.checkDefined(r),this.contextNode=fn.checkDefined(i),this.contextNodeAllOnSameLine=void 0,this.nextNodeAllOnSameLine=void 0,this.tokensAreOnSameLine=void 0,this.contextNodeBlockIsOnOneLine=void 0,this.nextNodeBlockIsOnOneLine=void 0}ContextNodeAllOnSameLine(){return void 0===this.contextNodeAllOnSameLine&&(this.contextNodeAllOnSameLine=this.NodeIsOnOneLine(this.contextNode)),this.contextNodeAllOnSameLine}NextNodeAllOnSameLine(){return void 0===this.nextNodeAllOnSameLine&&(this.nextNodeAllOnSameLine=this.NodeIsOnOneLine(this.nextTokenParent)),this.nextNodeAllOnSameLine}TokensAreOnSameLine(){if(void 0===this.tokensAreOnSameLine){const e=this.sourceFile.getLineAndCharacterOfPosition(this.currentTokenSpan.pos).line,t=this.sourceFile.getLineAndCharacterOfPosition(this.nextTokenSpan.pos).line;this.tokensAreOnSameLine=e===t}return this.tokensAreOnSameLine}ContextNodeBlockIsOnOneLine(){return void 0===this.contextNodeBlockIsOnOneLine&&(this.contextNodeBlockIsOnOneLine=this.BlockIsOnOneLine(this.contextNode)),this.contextNodeBlockIsOnOneLine}NextNodeBlockIsOnOneLine(){return void 0===this.nextNodeBlockIsOnOneLine&&(this.nextNodeBlockIsOnOneLine=this.BlockIsOnOneLine(this.nextTokenParent)),this.nextNodeBlockIsOnOneLine}NodeIsOnOneLine(e){return this.sourceFile.getLineAndCharacterOfPosition(e.getStart(this.sourceFile)).line===this.sourceFile.getLineAndCharacterOfPosition(e.getEnd()).line}BlockIsOnOneLine(e){const t=zX(e,19,this.sourceFile),n=zX(e,20,this.sourceFile);return!(!t||!n)&&this.sourceFile.getLineAndCharacterOfPosition(t.getEnd()).line===this.sourceFile.getLineAndCharacterOfPosition(n.getStart(this.sourceFile)).line}},Lde=xs(99,!1,0),jde=xs(99,!1,1);function Rde(e,t,n,r,i){const o=1===t?jde:Lde;o.setText(e),o.resetTokenState(n);let a,s,c,l,_,u=!0;const d=i({advance:function(){_=void 0,o.getTokenFullStart()!==n?u=!!s&&4===ke(s).kind:o.scan(),a=void 0,s=void 0;let e=o.getTokenFullStart();for(;e<r;){const t=o.getToken();if(!jh(t))break;o.scan();const n={pos:e,end:o.getTokenFullStart(),kind:t};e=o.getTokenFullStart(),a=se(a,n)}c=o.getTokenFullStart()},readTokenInfo:function(e){fn.assert(p());const t=function(e){switch(e.kind){case 34:case 72:case 73:case 50:case 49:return!0}return!1}(e)?1:14===e.kind?2:function(e){return 17===e.kind||18===e.kind}(e)?3:function(e){if(e.parent)switch(e.parent.kind){case 291:case 286:case 287:case 285:return Fh(e.kind)||80===e.kind}return!1}(e)?4:BD(n=e)||jE(n)&&12===(null==_?void 0:_.token.kind)?5:function(e){return e.parent&&VE(e.parent)&&e.parent.initializer===e}(e)?6:0;var n;if(_&&t===l)return m(_,e);o.getTokenFullStart()!==c&&(fn.assert(void 0!==_),o.resetTokenState(c),o.scan());let i=function(e,t){const n=o.getToken();switch(l=0,t){case 1:if(32===n){l=1;const t=o.reScanGreaterToken();return fn.assert(e.kind===t),t}break;case 2:if(44===(r=n)||69===r){l=2;const t=o.reScanSlashToken();return fn.assert(e.kind===t),t}break;case 3:if(20===n)return l=3,o.reScanTemplateToken(!1);break;case 4:return l=4,o.scanJsxIdentifier();case 5:return l=5,o.reScanJsxToken(!1);case 6:return l=6,o.reScanJsxAttributeValue();case 0:break;default:fn.assertNever(t)}var r;return n}(e,t);const u=gfe(o.getTokenFullStart(),o.getTokenEnd(),i);for(s&&(s=void 0);o.getTokenFullStart()<r&&(i=o.scan(),jh(i));){const e=gfe(o.getTokenFullStart(),o.getTokenEnd(),i);if(s||(s=[]),s.push(e),4===i){o.scan();break}}return _={leadingTrivia:a,trailingTrivia:s,token:u},m(_,e)},readEOFTokenRange:function(){return fn.assert(f()),gfe(o.getTokenFullStart(),o.getTokenEnd(),1)},isOnToken:p,isOnEOF:f,getCurrentLeadingTrivia:()=>a,lastTrailingTriviaWasNewLine:()=>u,skipToEndOf:function(e){o.resetTokenState(e.end),c=o.getTokenFullStart(),l=void 0,_=void 0,u=!1,a=void 0,s=void 0},skipToStartOf:function(e){o.resetTokenState(e.pos),c=o.getTokenFullStart(),l=void 0,_=void 0,u=!1,a=void 0,s=void 0},getTokenFullStart:()=>{var e;return null!=(e=null==_?void 0:_.token.pos)?e:o.getTokenStart()},getStartPos:()=>{var e;return null!=(e=null==_?void 0:_.token.pos)?e:o.getTokenStart()}});return _=void 0,o.setText(void 0),d;function p(){const e=_?_.token.kind:o.getToken();return 1!==e&&!jh(e)}function f(){return 1===(_?_.token.kind:o.getToken())}function m(e,t){return Ll(t)&&e.token.kind!==t.kind&&(e.token.kind=t.kind),e}}var Mde,Bde=u,Jde=(e=>(e[e.None=0]="None",e[e.StopProcessingSpaceActions=1]="StopProcessingSpaceActions",e[e.StopProcessingTokenActions=2]="StopProcessingTokenActions",e[e.InsertSpace=4]="InsertSpace",e[e.InsertNewLine=8]="InsertNewLine",e[e.DeleteSpace=16]="DeleteSpace",e[e.DeleteToken=32]="DeleteToken",e[e.InsertTrailingSemicolon=64]="InsertTrailingSemicolon",e[e.StopAction=3]="StopAction",e[e.ModifySpaceAction=28]="ModifySpaceAction",e[e.ModifyTokenAction=96]="ModifyTokenAction",e))(Jde||{}),zde=(e=>(e[e.None=0]="None",e[e.CanDeleteNewLines=1]="CanDeleteNewLines",e))(zde||{});function qde(){const e=[];for(let d=0;d<=165;d++)1!==d&&e.push(d);function t(...t){return{tokens:e.filter(e=>!t.some(t=>t===e)),isSpecific:!1}}const n={tokens:e,isSpecific:!1},r=Ude([...e,3]),i=Ude([...e,1]),o=$de(83,165),a=$de(30,79),s=[103,104,165,130,142,152],c=[80,...UQ],l=r,_=Ude([80,32,3,86,95,102]),u=Ude([22,3,92,113,98,93,85]);return[Vde("IgnoreBeforeComment",n,[2,3],Bde,1),Vde("IgnoreAfterLineComment",2,n,Bde,1),Vde("NotSpaceBeforeColon",n,59,[Npe,npe,rpe],16),Vde("SpaceAfterColon",59,n,[Npe,npe,Ope],4),Vde("NoSpaceBeforeQuestionMark",n,58,[Npe,npe,rpe],16),Vde("SpaceAfterQuestionMarkInConditionalOperator",58,n,[Npe,ape],4),Vde("NoSpaceAfterQuestionMark",58,n,[Npe,ope],16),Vde("NoSpaceBeforeDot",n,[25,29],[Npe,tfe],16),Vde("NoSpaceAfterDot",[25,29],n,[Npe],16),Vde("NoSpaceBetweenImportParenInImportType",102,21,[Npe,Dpe],16),Vde("NoSpaceAfterUnaryPrefixOperator",[46,47,55,54],[9,10,80,21,23,19,110,105],[Npe,npe],16),Vde("NoSpaceAfterUnaryPreincrementOperator",46,[80,21,110,105],[Npe],16),Vde("NoSpaceAfterUnaryPredecrementOperator",47,[80,21,110,105],[Npe],16),Vde("NoSpaceBeforeUnaryPostincrementOperator",[80,22,24,105],46,[Npe,Zpe],16),Vde("NoSpaceBeforeUnaryPostdecrementOperator",[80,22,24,105],47,[Npe,Zpe],16),Vde("SpaceAfterPostincrementWhenFollowedByAdd",46,40,[Npe,tpe],4),Vde("SpaceAfterAddWhenFollowedByUnaryPlus",40,40,[Npe,tpe],4),Vde("SpaceAfterAddWhenFollowedByPreincrement",40,46,[Npe,tpe],4),Vde("SpaceAfterPostdecrementWhenFollowedBySubtract",47,41,[Npe,tpe],4),Vde("SpaceAfterSubtractWhenFollowedByUnaryMinus",41,41,[Npe,tpe],4),Vde("SpaceAfterSubtractWhenFollowedByPredecrement",41,47,[Npe,tpe],4),Vde("NoSpaceAfterCloseBrace",20,[28,27],[Npe],16),Vde("NewLineBeforeCloseBraceInBlockContext",r,20,[_pe],8),Vde("SpaceAfterCloseBrace",20,t(22),[Npe,vpe],4),Vde("SpaceBetweenCloseBraceAndElse",20,93,[Npe],4),Vde("SpaceBetweenCloseBraceAndWhile",20,117,[Npe],4),Vde("NoSpaceBetweenEmptyBraceBrackets",19,20,[Npe,xpe],16),Vde("SpaceAfterConditionalClosingParen",22,23,[bpe],4),Vde("NoSpaceBetweenFunctionKeywordAndStar",100,42,[gpe],16),Vde("SpaceAfterStarInGeneratorDeclaration",42,80,[gpe],4),Vde("SpaceAfterFunctionInFuncDecl",100,n,[fpe],4),Vde("NewLineAfterOpenBraceInBlockContext",19,n,[_pe],8),Vde("SpaceAfterGetSetInMember",[139,153],80,[fpe],4),Vde("NoSpaceBetweenYieldKeywordAndStar",127,42,[Npe,Xpe],16),Vde("SpaceBetweenYieldOrYieldStarAndOperand",[127,42],n,[Npe,Xpe],4),Vde("NoSpaceBetweenReturnAndSemicolon",107,27,[Npe],16),Vde("SpaceAfterCertainKeywords",[115,111,105,91,107,114,135],n,[Npe],4),Vde("SpaceAfterLetConstInVariableDeclaration",[121,87],n,[Npe,Jpe],4),Vde("NoSpaceBeforeOpenParenInFuncCall",n,21,[Npe,kpe,Spe],16),Vde("SpaceBeforeBinaryKeywordOperator",n,s,[Npe,tpe],4),Vde("SpaceAfterBinaryKeywordOperator",s,n,[Npe,tpe],4),Vde("SpaceAfterVoidOperator",116,n,[Npe,Gpe],4),Vde("SpaceBetweenAsyncAndOpenParen",134,21,[wpe,Npe],4),Vde("SpaceBetweenAsyncAndFunctionKeyword",134,[100,80],[Npe],4),Vde("NoSpaceBetweenTagAndTemplateString",[80,22],[15,16],[Npe],16),Vde("SpaceBeforeJsxAttribute",n,80,[Ape,Npe],4),Vde("SpaceBeforeSlashInJsxOpeningElement",n,44,[jpe,Npe],4),Vde("NoSpaceBeforeGreaterThanTokenInJsxOpeningElement",44,32,[jpe,Npe],16),Vde("NoSpaceBeforeEqualInJsxAttribute",n,64,[Ipe,Npe],16),Vde("NoSpaceAfterEqualInJsxAttribute",64,n,[Ipe,Npe],16),Vde("NoSpaceBeforeJsxNamespaceColon",80,59,[Lpe],16),Vde("NoSpaceAfterJsxNamespaceColon",59,80,[Lpe],16),Vde("NoSpaceAfterModuleImport",[144,149],21,[Npe],16),Vde("SpaceAfterCertainTypeScriptKeywords",[128,129,86,138,90,94,95,96,139,119,102,120,144,145,123,125,124,148,153,126,156,161,143,140],n,[Npe],4),Vde("SpaceBeforeCertainTypeScriptKeywords",n,[96,119,161],[Npe],4),Vde("SpaceAfterModuleName",11,19,[qpe],4),Vde("SpaceBeforeArrow",n,39,[Npe],4),Vde("SpaceAfterArrow",39,n,[Npe],4),Vde("NoSpaceAfterEllipsis",26,80,[Npe],16),Vde("NoSpaceAfterOptionalParameters",58,[22,28],[Npe,npe],16),Vde("NoSpaceBetweenEmptyInterfaceBraceBrackets",19,20,[Npe,Vpe],16),Vde("NoSpaceBeforeOpenAngularBracket",c,30,[Npe,$pe],16),Vde("NoSpaceBetweenCloseParenAndAngularBracket",22,30,[Npe,$pe],16),Vde("NoSpaceAfterOpenAngularBracket",30,n,[Npe,$pe],16),Vde("NoSpaceBeforeCloseAngularBracket",n,32,[Npe,$pe],16),Vde("NoSpaceAfterCloseAngularBracket",32,[21,23,32,28],[Npe,$pe,mpe,Kpe],16),Vde("SpaceBeforeAt",[22,80],60,[Npe],4),Vde("NoSpaceAfterAt",60,n,[Npe],16),Vde("SpaceAfterDecorator",n,[128,80,95,90,86,126,125,123,124,139,153,23,42],[Mpe],4),Vde("NoSpaceBeforeNonNullAssertionOperator",n,54,[Npe,Qpe],16),Vde("NoSpaceAfterNewKeywordOnConstructorSignature",105,21,[Npe,Upe],16),Vde("SpaceLessThanAndNonJSXTypeAnnotation",30,30,[Npe],4),Vde("SpaceAfterConstructor",137,21,[Kde("insertSpaceAfterConstructor"),Npe],4),Vde("NoSpaceAfterConstructor",137,21,[Xde("insertSpaceAfterConstructor"),Npe],16),Vde("SpaceAfterComma",28,n,[Kde("insertSpaceAfterCommaDelimiter"),Npe,Epe,Tpe,Cpe],4),Vde("NoSpaceAfterComma",28,n,[Xde("insertSpaceAfterCommaDelimiter"),Npe,Epe],16),Vde("SpaceAfterAnonymousFunctionKeyword",[100,42],21,[Kde("insertSpaceAfterFunctionKeywordForAnonymousFunctions"),fpe],4),Vde("NoSpaceAfterAnonymousFunctionKeyword",[100,42],21,[Xde("insertSpaceAfterFunctionKeywordForAnonymousFunctions"),fpe],16),Vde("SpaceAfterKeywordInControl",o,21,[Kde("insertSpaceAfterKeywordsInControlFlowStatements"),bpe],4),Vde("NoSpaceAfterKeywordInControl",o,21,[Xde("insertSpaceAfterKeywordsInControlFlowStatements"),bpe],16),Vde("SpaceAfterOpenParen",21,n,[Kde("insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis"),Npe],4),Vde("SpaceBeforeCloseParen",n,22,[Kde("insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis"),Npe],4),Vde("SpaceBetweenOpenParens",21,21,[Kde("insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis"),Npe],4),Vde("NoSpaceBetweenParens",21,22,[Npe],16),Vde("NoSpaceAfterOpenParen",21,n,[Xde("insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis"),Npe],16),Vde("NoSpaceBeforeCloseParen",n,22,[Xde("insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis"),Npe],16),Vde("SpaceAfterOpenBracket",23,n,[Kde("insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets"),Npe],4),Vde("SpaceBeforeCloseBracket",n,24,[Kde("insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets"),Npe],4),Vde("NoSpaceBetweenBrackets",23,24,[Npe],16),Vde("NoSpaceAfterOpenBracket",23,n,[Xde("insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets"),Npe],16),Vde("NoSpaceBeforeCloseBracket",n,24,[Xde("insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets"),Npe],16),Vde("SpaceAfterOpenBrace",19,n,[Zde("insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces"),cpe],4),Vde("SpaceBeforeCloseBrace",n,20,[Zde("insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces"),cpe],4),Vde("NoSpaceBetweenEmptyBraceBrackets",19,20,[Npe,xpe],16),Vde("NoSpaceAfterOpenBrace",19,n,[Gde("insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces"),Npe],16),Vde("NoSpaceBeforeCloseBrace",n,20,[Gde("insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces"),Npe],16),Vde("SpaceBetweenEmptyBraceBrackets",19,20,[Kde("insertSpaceAfterOpeningAndBeforeClosingEmptyBraces")],4),Vde("NoSpaceBetweenEmptyBraceBrackets",19,20,[Gde("insertSpaceAfterOpeningAndBeforeClosingEmptyBraces"),Npe],16),Vde("SpaceAfterTemplateHeadAndMiddle",[16,17],n,[Kde("insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces"),Fpe],4,1),Vde("SpaceBeforeTemplateMiddleAndTail",n,[17,18],[Kde("insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces"),Npe],4),Vde("NoSpaceAfterTemplateHeadAndMiddle",[16,17],n,[Xde("insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces"),Fpe],16,1),Vde("NoSpaceBeforeTemplateMiddleAndTail",n,[17,18],[Xde("insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces"),Npe],16),Vde("SpaceAfterOpenBraceInJsxExpression",19,n,[Kde("insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces"),Npe,Ppe],4),Vde("SpaceBeforeCloseBraceInJsxExpression",n,20,[Kde("insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces"),Npe,Ppe],4),Vde("NoSpaceAfterOpenBraceInJsxExpression",19,n,[Xde("insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces"),Npe,Ppe],16),Vde("NoSpaceBeforeCloseBraceInJsxExpression",n,20,[Xde("insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces"),Npe,Ppe],16),Vde("SpaceAfterSemicolonInFor",27,n,[Kde("insertSpaceAfterSemicolonInForStatements"),Npe,Yde],4),Vde("NoSpaceAfterSemicolonInFor",27,n,[Xde("insertSpaceAfterSemicolonInForStatements"),Npe,Yde],16),Vde("SpaceBeforeBinaryOperator",n,a,[Kde("insertSpaceBeforeAndAfterBinaryOperators"),Npe,tpe],4),Vde("SpaceAfterBinaryOperator",a,n,[Kde("insertSpaceBeforeAndAfterBinaryOperators"),Npe,tpe],4),Vde("NoSpaceBeforeBinaryOperator",n,a,[Xde("insertSpaceBeforeAndAfterBinaryOperators"),Npe,tpe],16),Vde("NoSpaceAfterBinaryOperator",a,n,[Xde("insertSpaceBeforeAndAfterBinaryOperators"),Npe,tpe],16),Vde("SpaceBeforeOpenParenInFuncDecl",n,21,[Kde("insertSpaceBeforeFunctionParenthesis"),Npe,fpe],4),Vde("NoSpaceBeforeOpenParenInFuncDecl",n,21,[Xde("insertSpaceBeforeFunctionParenthesis"),Npe,fpe],16),Vde("NewLineBeforeOpenBraceInControl",u,19,[Kde("placeOpenBraceOnNewLineForControlBlocks"),bpe,lpe],8,1),Vde("NewLineBeforeOpenBraceInFunction",l,19,[Kde("placeOpenBraceOnNewLineForFunctions"),fpe,lpe],8,1),Vde("NewLineBeforeOpenBraceInTypeScriptDeclWithBlock",_,19,[Kde("placeOpenBraceOnNewLineForFunctions"),hpe,lpe],8,1),Vde("SpaceAfterTypeAssertion",32,n,[Kde("insertSpaceAfterTypeAssertion"),Npe,Hpe],4),Vde("NoSpaceAfterTypeAssertion",32,n,[Xde("insertSpaceAfterTypeAssertion"),Npe,Hpe],16),Vde("SpaceBeforeTypeAnnotation",n,[58,59],[Kde("insertSpaceBeforeTypeAnnotation"),Npe,ipe],4),Vde("NoSpaceBeforeTypeAnnotation",n,[58,59],[Xde("insertSpaceBeforeTypeAnnotation"),Npe,ipe],16),Vde("NoOptionalSemicolon",27,i,[Hde("semicolons","remove"),Ype],32),Vde("OptionalSemicolon",n,i,[Hde("semicolons","insert"),efe],64),Vde("NoSpaceBeforeSemicolon",n,27,[Npe],16),Vde("SpaceBeforeOpenBraceInControl",u,19,[Qde("placeOpenBraceOnNewLineForControlBlocks"),bpe,zpe,spe],4,1),Vde("SpaceBeforeOpenBraceInFunction",l,19,[Qde("placeOpenBraceOnNewLineForFunctions"),fpe,dpe,zpe,spe],4,1),Vde("SpaceBeforeOpenBraceInTypeScriptDeclWithBlock",_,19,[Qde("placeOpenBraceOnNewLineForFunctions"),hpe,zpe,spe],4,1),Vde("NoSpaceBeforeComma",n,28,[Npe],16),Vde("NoSpaceBeforeOpenBracket",t(134,84),23,[Npe],16),Vde("NoSpaceAfterCloseBracket",24,n,[Npe,Rpe],16),Vde("SpaceAfterSemicolon",27,n,[Npe],4),Vde("SpaceBetweenForAndAwaitKeyword",99,135,[Npe],4),Vde("SpaceBetweenDotDotDotAndTypeName",26,c,[Npe],16),Vde("SpaceBetweenStatements",[22,92,93,84],n,[Npe,Epe,epe],4),Vde("SpaceAfterTryCatchFinally",[113,85,98],19,[Npe],4)]}function Vde(e,t,n,r,i,o=0){return{leftTokenRange:Wde(t),rightTokenRange:Wde(n),rule:{debugName:e,context:r,action:i,flags:o}}}function Ude(e){return{tokens:e,isSpecific:!0}}function Wde(e){return"number"==typeof e?Ude([e]):et(e)?Ude(e):e}function $de(e,t,n=[]){const r=[];for(let i=e;i<=t;i++)w(n,i)||r.push(i);return Ude(r)}function Hde(e,t){return n=>n.options&&n.options[e]===t}function Kde(e){return t=>t.options&&Pe(t.options,e)&&!!t.options[e]}function Gde(e){return t=>t.options&&Pe(t.options,e)&&!t.options[e]}function Xde(e){return t=>!t.options||!Pe(t.options,e)||!t.options[e]}function Qde(e){return t=>!t.options||!Pe(t.options,e)||!t.options[e]||t.TokensAreOnSameLine()}function Zde(e){return t=>!t.options||!Pe(t.options,e)||!!t.options[e]}function Yde(e){return 248===e.contextNode.kind}function epe(e){return!Yde(e)}function tpe(e){switch(e.contextNode.kind){case 226:return 28!==e.contextNode.operatorToken.kind;case 227:case 194:case 234:case 281:case 276:case 182:case 192:case 193:case 238:return!0;case 208:case 265:case 271:case 277:case 260:case 169:case 306:case 172:case 171:return 64===e.currentTokenSpan.kind||64===e.nextTokenSpan.kind;case 249:case 168:return 103===e.currentTokenSpan.kind||103===e.nextTokenSpan.kind||64===e.currentTokenSpan.kind||64===e.nextTokenSpan.kind;case 250:return 165===e.currentTokenSpan.kind||165===e.nextTokenSpan.kind}return!1}function npe(e){return!tpe(e)}function rpe(e){return!ipe(e)}function ipe(e){const t=e.contextNode.kind;return 172===t||171===t||169===t||260===t||p_(t)}function ope(e){return!function(e){return kN(e.contextNode)&&e.contextNode.questionToken}(e)}function ape(e){return 227===e.contextNode.kind||194===e.contextNode.kind}function spe(e){return e.TokensAreOnSameLine()||dpe(e)}function cpe(e){return 206===e.contextNode.kind||200===e.contextNode.kind||function(e){return upe(e)&&(e.ContextNodeAllOnSameLine()||e.ContextNodeBlockIsOnOneLine())}(e)}function lpe(e){return dpe(e)&&!(e.NextNodeAllOnSameLine()||e.NextNodeBlockIsOnOneLine())}function _pe(e){return upe(e)&&!(e.ContextNodeAllOnSameLine()||e.ContextNodeBlockIsOnOneLine())}function upe(e){return ppe(e.contextNode)}function dpe(e){return ppe(e.nextTokenParent)}function ppe(e){if(ype(e))return!0;switch(e.kind){case 241:case 269:case 210:case 268:return!0}return!1}function fpe(e){switch(e.contextNode.kind){case 262:case 174:case 173:case 177:case 178:case 179:case 218:case 176:case 219:case 264:return!0}return!1}function mpe(e){return!fpe(e)}function gpe(e){return 262===e.contextNode.kind||218===e.contextNode.kind}function hpe(e){return ype(e.contextNode)}function ype(e){switch(e.kind){case 263:case 231:case 264:case 266:case 187:case 267:case 278:case 279:case 272:case 275:return!0}return!1}function vpe(e){switch(e.currentTokenParent.kind){case 263:case 267:case 266:case 299:case 268:case 255:return!0;case 241:{const t=e.currentTokenParent.parent;if(!t||219!==t.kind&&218!==t.kind)return!0}}return!1}function bpe(e){switch(e.contextNode.kind){case 245:case 255:case 248:case 249:case 250:case 247:case 258:case 246:case 254:case 299:return!0;default:return!1}}function xpe(e){return 210===e.contextNode.kind}function kpe(e){return function(e){return 213===e.contextNode.kind}(e)||function(e){return 214===e.contextNode.kind}(e)}function Spe(e){return 28!==e.currentTokenSpan.kind}function Tpe(e){return 24!==e.nextTokenSpan.kind}function Cpe(e){return 22!==e.nextTokenSpan.kind}function wpe(e){return 219===e.contextNode.kind}function Dpe(e){return 205===e.contextNode.kind}function Npe(e){return e.TokensAreOnSameLine()&&12!==e.contextNode.kind}function Fpe(e){return 12!==e.contextNode.kind}function Epe(e){return 284!==e.contextNode.kind&&288!==e.contextNode.kind}function Ppe(e){return 294===e.contextNode.kind||293===e.contextNode.kind}function Ape(e){return 291===e.nextTokenParent.kind||295===e.nextTokenParent.kind&&291===e.nextTokenParent.parent.kind}function Ipe(e){return 291===e.contextNode.kind}function Ope(e){return 295!==e.nextTokenParent.kind}function Lpe(e){return 295===e.nextTokenParent.kind}function jpe(e){return 285===e.contextNode.kind}function Rpe(e){return!fpe(e)&&!dpe(e)}function Mpe(e){return e.TokensAreOnSameLine()&&Jv(e.contextNode)&&Bpe(e.currentTokenParent)&&!Bpe(e.nextTokenParent)}function Bpe(e){for(;e&&G_(e);)e=e.parent;return e&&170===e.kind}function Jpe(e){return 261===e.currentTokenParent.kind&&e.currentTokenParent.getStart(e.sourceFile)===e.currentTokenSpan.pos}function zpe(e){return 2!==e.formattingRequestKind}function qpe(e){return 267===e.contextNode.kind}function Vpe(e){return 187===e.contextNode.kind}function Upe(e){return 180===e.contextNode.kind}function Wpe(e,t){if(30!==e.kind&&32!==e.kind)return!1;switch(t.kind){case 183:case 216:case 265:case 263:case 231:case 264:case 262:case 218:case 219:case 174:case 173:case 179:case 180:case 213:case 214:case 233:return!0;default:return!1}}function $pe(e){return Wpe(e.currentTokenSpan,e.currentTokenParent)||Wpe(e.nextTokenSpan,e.nextTokenParent)}function Hpe(e){return 216===e.contextNode.kind}function Kpe(e){return!Hpe(e)}function Gpe(e){return 116===e.currentTokenSpan.kind&&222===e.currentTokenParent.kind}function Xpe(e){return 229===e.contextNode.kind&&void 0!==e.contextNode.expression}function Qpe(e){return 235===e.contextNode.kind}function Zpe(e){return!function(e){switch(e.contextNode.kind){case 245:case 248:case 249:case 250:case 246:case 247:return!0;default:return!1}}(e)}function Ype(e){let t=e.nextTokenSpan.kind,n=e.nextTokenSpan.pos;if(jh(t)){const r=e.nextTokenParent===e.currentTokenParent?oQ(e.currentTokenParent,gc(e.currentTokenParent,e=>!e.parent),e.sourceFile):e.nextTokenParent.getFirstToken(e.sourceFile);if(!r)return!0;t=r.kind,n=r.getStart(e.sourceFile)}return e.sourceFile.getLineAndCharacterOfPosition(e.currentTokenSpan.pos).line===e.sourceFile.getLineAndCharacterOfPosition(n).line?20===t||1===t:27===t&&27===e.currentTokenSpan.kind||240!==t&&27!==t&&(264===e.contextNode.kind||265===e.contextNode.kind?!xN(e.currentTokenParent)||!!e.currentTokenParent.type||21!==t:kN(e.currentTokenParent)?!e.currentTokenParent.initializer:248!==e.currentTokenParent.kind&&242!==e.currentTokenParent.kind&&240!==e.currentTokenParent.kind&&23!==t&&21!==t&&40!==t&&41!==t&&44!==t&&14!==t&&28!==t&&228!==t&&16!==t&&15!==t&&25!==t)}function efe(e){return RY(e.currentTokenSpan.end,e.currentTokenParent,e.sourceFile)}function tfe(e){return!sF(e.contextNode)||!jD(e.contextNode.expression)||e.contextNode.expression.getText().includes(".")}function nfe(e,t){return{options:e,getRules:rfe(),host:t}}function rfe(){return void 0===Mde&&(Mde=function(e){const t=function(e){const t=new Array(pfe*pfe),n=new Array(t.length);for(const r of e){const e=r.leftTokenRange.isSpecific&&r.rightTokenRange.isSpecific;for(const i of r.leftTokenRange.tokens)for(const o of r.rightTokenRange.tokens){const a=ofe(i,o);let s=t[a];void 0===s&&(s=t[a]=[]),mfe(s,r.rule,e,n,a)}}return t}(e);return e=>{const n=t[ofe(e.currentTokenSpan.kind,e.nextTokenSpan.kind)];if(n){const t=[];let r=0;for(const i of n){const n=~ife(r);i.action&n&&x(i.context,t=>t(e))&&(t.push(i),r|=i.action)}if(t.length)return t}}}(qde())),Mde}function ife(e){let t=0;return 1&e&&(t|=28),2&e&&(t|=96),28&e&&(t|=28),96&e&&(t|=96),t}function ofe(e,t){return fn.assert(e<=165&&t<=165,"Must compute formatting context from tokens"),e*pfe+t}var afe,sfe,cfe,lfe,_fe,ufe=5,dfe=31,pfe=166,ffe=((afe=ffe||{})[afe.StopRulesSpecific=0]="StopRulesSpecific",afe[afe.StopRulesAny=1*ufe]="StopRulesAny",afe[afe.ContextRulesSpecific=2*ufe]="ContextRulesSpecific",afe[afe.ContextRulesAny=3*ufe]="ContextRulesAny",afe[afe.NoContextRulesSpecific=4*ufe]="NoContextRulesSpecific",afe[afe.NoContextRulesAny=5*ufe]="NoContextRulesAny",afe);function mfe(e,t,n,r,i){const o=3&t.action?n?0:ffe.StopRulesAny:t.context!==Bde?n?ffe.ContextRulesSpecific:ffe.ContextRulesAny:n?ffe.NoContextRulesSpecific:ffe.NoContextRulesAny,a=r[i]||0;e.splice(function(e,t){let n=0;for(let r=0;r<=t;r+=ufe)n+=e&dfe,e>>=ufe;return n}(a,o),0,t),r[i]=function(e,t){const n=1+(e>>t&dfe);return fn.assert((n&dfe)===n,"Adding more rules into the sub-bucket than allowed. Maximum allowed is 32 rules."),e&~(dfe<<t)|n<<t}(a,o)}function gfe(e,t,n){const r={pos:e,end:t,kind:n};return fn.isDebugging&&Object.defineProperty(r,"__debugKind",{get:()=>fn.formatSyntaxKind(n)}),r}function hfe(e,t,n){const r=t.getLineAndCharacterOfPosition(e).line;if(0===r)return[];let i=Fd(r,t);for(;Ka(t.text.charCodeAt(i));)i--;return Ga(t.text.charCodeAt(i))&&i--,Nfe({pos:Dd(r-1,t),end:i+1},t,n,2)}function yfe(e,t,n){return Dfe(Tfe(Sfe(e,27,t)),t,n,3)}function vfe(e,t,n){const r=Sfe(e,19,t);return r?Nfe({pos:NX(Tfe(r.parent).getStart(t),t),end:e},t,n,4):[]}function bfe(e,t,n){return Dfe(Tfe(Sfe(e,20,t)),t,n,5)}function xfe(e,t){return Nfe({pos:0,end:e.text.length},e,t,0)}function kfe(e,t,n,r){return Nfe({pos:NX(e,n),end:t},n,r,1)}function Sfe(e,t,n){const r=aQ(e,n);return r&&r.kind===t&&e===r.getEnd()?r:void 0}function Tfe(e){let t=e;for(;t&&t.parent&&t.parent.end===e.end&&!Cfe(t.parent,t);)t=t.parent;return t}function Cfe(e,t){switch(e.kind){case 263:case 264:return tx(e.members,t);case 267:const n=e.body;return!!n&&268===n.kind&&tx(n.statements,t);case 307:case 241:case 268:return tx(e.statements,t);case 299:return tx(e.block.statements,t)}return!1}function wfe(e,t,n,r,i,o){const a={pos:e.pos,end:e.end};return Rde(t.text,n,a.pos,a.end,n=>Ffe(a,e,r,i,n,o,1,e=>!1,t))}function Dfe(e,t,n,r){return e?Nfe({pos:NX(e.getStart(t),t),end:e.end},t,n,r):[]}function Nfe(e,t,n,r){const i=function(e,t){return function n(r){const i=KI(r,n=>nx(n.getStart(t),n.end,e)&&n);if(i){const e=n(i);if(e)return e}return r}(t)}(e,t);return Rde(t.text,t.languageVariant,function(e,t,n){const r=e.getStart(n);if(r===t.pos&&e.end===t.end)return r;const i=aQ(t.pos,n);return i?i.end>=t.pos?e.pos:i.end:e.pos}(i,e,t),e.end,o=>Ffe(e,i,_fe.getIndentationForNode(i,e,t,n.options),function(e,t,n){let r,i=-1;for(;e;){const o=n.getLineAndCharacterOfPosition(e.getStart(n)).line;if(-1!==i&&o!==i)break;if(_fe.shouldIndentChildNode(t,e,r,n))return t.indentSize;i=o,r=e,e=e.parent}return 0}(i,n.options,t),o,n,r,function(e,t){if(!e.length)return i;const n=e.filter(e=>IX(t,e.start,e.start+e.length)).sort((e,t)=>e.start-t.start);if(!n.length)return i;let r=0;return e=>{for(;;){if(r>=n.length)return!1;const t=n[r];if(e.end<=t.start)return!1;if(LX(e.pos,e.end,t.start,t.start+t.length))return!0;r++}};function i(){return!1}}(t.parseDiagnostics,e),t))}function Ffe(e,t,n,r,i,{options:o,getRules:a,host:s},c,l,_){var u;const d=new Ode(_,c,o);let p,f,g,h,y,v=-1;const b=[];if(i.advance(),i.isOnToken()){const a=_.getLineAndCharacterOfPosition(t.getStart(_)).line;let s=a;Jv(t)&&(s=_.getLineAndCharacterOfPosition($d(t,_)).line),function t(n,r,a,s,c,u){if(!IX(e,n.getStart(_),n.getEnd()))return;const d=S(n,a,c,u);let m=r;for(KI(n,e=>{g(e,-1,n,d,a,s,!1)},e=>{h(e,n,a,d)});i.isOnToken()&&i.getTokenFullStart()<e.end;){const t=i.readTokenInfo(n);if(t.token.end>Math.min(n.end,e.end))break;b(t,n,d,n)}function g(r,a,s,c,l,u,d,p){if(fn.assert(!iy(r)),Pd(r)||Id(s,r))return a;const f=r.getStart(_),g=_.getLineAndCharacterOfPosition(f).line;let h=g;Jv(r)&&(h=_.getLineAndCharacterOfPosition($d(r,_)).line);let x=-1;if(d&&tx(e,s)&&(x=function(e,t,n,r,i){if(IX(r,e,t)||AX(r,e,t)){if(-1!==i)return i}else{const t=_.getLineAndCharacterOfPosition(e).line,r=NX(e,_),i=_fe.findFirstNonWhitespaceColumn(r,e,_,o);if(t!==n||e===i){const e=_fe.getBaseIndentation(o);return e>i?e:i}}return-1}(f,r.end,l,e,a),-1!==x&&(a=x)),!IX(e,r.pos,r.end))return r.end<e.pos&&i.skipToEndOf(r),a;if(0===r.getFullWidth())return a;for(;i.isOnToken()&&i.getTokenFullStart()<e.end;){const t=i.readTokenInfo(n);if(t.token.end>e.end)return a;if(t.token.end>f){t.token.pos>f&&i.skipToStartOf(r);break}b(t,n,c,n)}if(!i.isOnToken()||i.getTokenFullStart()>=e.end)return a;if(Ll(r)){const e=i.readTokenInfo(r);if(12!==r.kind)return fn.assert(e.token.end===r.end,"Token end is child end"),b(e,n,c,r),a}const k=170===r.kind?g:u,S=function(e,t,n,r,i,a){const s=_fe.shouldIndentChildNode(o,e)?o.indentSize:0;return a===t?{indentation:t===y?v:i.getIndentation(),delta:Math.min(o.indentSize,i.getDelta(e)+s)}:-1===n?21===e.kind&&t===y?{indentation:v,delta:i.getDelta(e)}:_fe.childStartsOnTheSameLineWithElseInIfStatement(r,e,t,_)||_fe.childIsUnindentedBranchOfConditionalExpression(r,e,t,_)||_fe.argumentStartsOnSameLineAsPreviousArgument(r,e,t,_)?{indentation:i.getIndentation(),delta:s}:{indentation:i.getIndentation()+i.getDelta(e),delta:s}:{indentation:n,delta:s}}(r,g,x,n,c,k);return t(r,m,g,h,S.indentation,S.delta),m=n,p&&209===s.kind&&-1===a&&(a=S.indentation),a}function h(t,r,a,s){fn.assert(jl(t)),fn.assert(!iy(t));const c=function(e,t){switch(e.kind){case 176:case 262:case 218:case 174:case 173:case 219:case 179:case 180:case 184:case 185:case 177:case 178:if(e.typeParameters===t)return 30;if(e.parameters===t)return 21;break;case 213:case 214:if(e.typeArguments===t)return 30;if(e.arguments===t)return 21;break;case 263:case 231:case 264:case 265:if(e.typeParameters===t)return 30;break;case 183:case 215:case 186:case 233:case 205:if(e.typeArguments===t)return 30;break;case 187:return 19}return 0}(r,t);let l=s,u=a;if(!IX(e,t.pos,t.end))return void(t.end<e.pos&&i.skipToEndOf(t));if(0!==c)for(;i.isOnToken()&&i.getTokenFullStart()<e.end;){const e=i.readTokenInfo(r);if(e.token.end>t.pos)break;if(e.token.kind===c){let t;if(u=_.getLineAndCharacterOfPosition(e.token.pos).line,b(e,r,s,r),-1!==v)t=v;else{const n=NX(e.token.pos,_);t=_fe.findFirstNonWhitespaceColumn(n,e.token.pos,_,o)}l=S(r,a,t,o.indentSize)}else b(e,r,s,r)}let d=-1;for(let e=0;e<t.length;e++)d=g(t[e],d,n,l,u,u,!0,0===e);const p=function(e){switch(e){case 21:return 22;case 30:return 32;case 19:return 20}return 0}(c);if(0!==p&&i.isOnToken()&&i.getTokenFullStart()<e.end){let e=i.readTokenInfo(r);28===e.token.kind&&(b(e,r,l,r),e=i.isOnToken()?i.readTokenInfo(r):void 0),e&&e.token.kind===p&&tx(r,e.token)&&b(e,r,l,r,!0)}}function b(t,n,r,o,a){fn.assert(tx(n,t.token));const s=i.lastTrailingTriviaWasNewLine();let c=!1;t.leadingTrivia&&w(t.leadingTrivia,n,m,r);let u=0;const d=tx(e,t.token),g=_.getLineAndCharacterOfPosition(t.token.pos);if(d){const e=l(t.token),i=f;if(u=D(t.token,g,n,m,r),!e)if(0===u){const e=i&&_.getLineAndCharacterOfPosition(i.end).line;c=s&&g.line!==e}else c=1===u}if(t.trailingTrivia&&(p=ke(t.trailingTrivia).end,w(t.trailingTrivia,n,m,r)),c){const e=d&&!l(t.token)?r.getIndentationForToken(g.line,t.token.kind,o,!!a):-1;let n=!0;if(t.leadingTrivia){const i=r.getIndentationForComment(t.token.kind,e,o);n=C(t.leadingTrivia,i,n,e=>F(e.pos,i,!1))}-1!==e&&n&&(F(t.token.pos,e,1===u),y=g.line,v=e)}i.advance(),m=n}}(t,t,a,s,n,r)}const x=i.getCurrentLeadingTrivia();if(x){const r=_fe.nodeWillIndentChild(o,t,void 0,_,!1)?n+o.indentSize:n;C(x,r,!0,e=>{D(e,_.getLineAndCharacterOfPosition(e.pos),t,t,void 0),F(e.pos,r,!1)}),!1!==o.trimTrailingWhitespace&&function(t){let n=f?f.end:e.pos;for(const e of t)CQ(e.kind)&&(n<e.pos&&I(n,e.pos-1,f),n=e.end+1);n<e.end&&I(n,e.end,f)}(x)}if(f&&i.getTokenFullStart()>=e.end){const e=i.isOnEOF()?i.readEOFTokenRange():i.isOnToken()?i.readTokenInfo(t).token:void 0;if(e&&e.pos===p){const n=(null==(u=aQ(e.end,_,t))?void 0:u.parent)||g;N(e,_.getLineAndCharacterOfPosition(e.pos).line,n,f,h,g,n,void 0)}}return b;function S(e,t,n,r){return{getIndentationForComment:(e,t,r)=>{switch(e){case 20:case 24:case 22:return n+i(r)}return-1!==t?t:n},getIndentationForToken:(r,o,a,s)=>!s&&function(n,r,i){switch(r){case 19:case 20:case 22:case 93:case 117:case 60:return!1;case 44:case 32:switch(i.kind){case 286:case 287:case 285:return!1}break;case 23:case 24:if(200!==i.kind)return!1}return t!==n&&!(Jv(e)&&r===function(e){if(bI(e)){const t=k(e.modifiers,i_,T(e.modifiers,bN));if(t)return t.kind}switch(e.kind){case 263:return 86;case 264:return 120;case 262:return 100;case 266:return 266;case 177:return 139;case 178:return 153;case 174:if(e.asteriskToken)return 42;case 172:case 169:const t=Ec(e);if(t)return t.kind}}(e))}(r,o,a)?n+i(a):n,getIndentation:()=>n,getDelta:i,recomputeIndentation:(t,i)=>{_fe.shouldIndentChildNode(o,i,e,_)&&(n+=t?o.indentSize:-o.indentSize,r=_fe.shouldIndentChildNode(o,e)?o.indentSize:0)}};function i(t){return _fe.nodeWillIndentChild(o,e,t,_,!0)?r:0}}function C(t,n,r,i){for(const o of t){const t=tx(e,o);switch(o.kind){case 3:t&&E(o,n,!r),r=!1;break;case 2:r&&t&&i(o),r=!1;break;case 4:r=!0}}return r}function w(t,n,r,i){for(const o of t)CQ(o.kind)&&tx(e,o)&&D(o,_.getLineAndCharacterOfPosition(o.pos),n,r,i)}function D(t,n,r,i,o){let a=0;return l(t)||(f?a=N(t,n.line,r,f,h,g,i,o):P(_.getLineAndCharacterOfPosition(e.pos).line,n.line)),f=t,p=t.end,g=r,h=n.line,a}function N(e,t,n,r,i,c,l,u){d.updateContext(r,c,e,n,l);const p=a(d);let f=!1!==d.options.trimTrailingWhitespace,g=0;return p?m(p,a=>{if(g=function(e,t,n,r,i){const a=i!==n;switch(e.action){case 1:return 0;case 16:if(t.end!==r.pos)return O(t.end,r.pos-t.end),a?2:0;break;case 32:O(t.pos,t.end-t.pos);break;case 8:if(1!==e.flags&&n!==i)return 0;if(1!==i-n)return L(t.end,r.pos-t.end,$Z(s,o)),a?0:1;break;case 4:if(1!==e.flags&&n!==i)return 0;if(1!==r.pos-t.end||32!==_.text.charCodeAt(t.end))return L(t.end,r.pos-t.end," "),a?2:0;break;case 64:c=t.end,l=";",b.push(qQ(c,0,l))}var c,l;return 0}(a,r,i,e,t),u)switch(g){case 2:n.getStart(_)===e.pos&&u.recomputeIndentation(!1,l);break;case 1:n.getStart(_)===e.pos&&u.recomputeIndentation(!0,l);break;default:fn.assert(0===g)}f=f&&!(16&a.action)&&1!==a.flags}):f=f&&1!==e.kind,t!==i&&f&&P(i,t,r),g}function F(e,t,n){const r=Pfe(t,o);if(n)L(e,0,r);else{const n=_.getLineAndCharacterOfPosition(e),i=Dd(n.line,_);(t!==function(e,t){let n=0;for(let r=0;r<t;r++)9===_.text.charCodeAt(e+r)?n+=o.tabSize-n%o.tabSize:n++;return n}(i,n.character)||function(e,t){return e!==_.text.substr(t,e.length)}(r,i))&&L(i,n.character,r)}}function E(e,t,n,r=!0){let i=_.getLineAndCharacterOfPosition(e.pos).line;const a=_.getLineAndCharacterOfPosition(e.end).line;if(i===a)return void(n||F(e.pos,t,!1));const s=[];let c=e.pos;for(let o=i;o<a;o++){const e=Fd(o,_);s.push({pos:c,end:e}),c=Dd(o+1,_)}if(r&&s.push({pos:c,end:e.end}),0===s.length)return;const l=Dd(i,_),u=_fe.findFirstNonWhitespaceCharacterAndColumn(l,s[0].pos,_,o);let d=0;n&&(d=1,i++);const p=t-u.column;for(let f=d;f<s.length;f++,i++){const e=Dd(i,_),t=0===f?u:_fe.findFirstNonWhitespaceCharacterAndColumn(s[f].pos,s[f].end,_,o),n=t.column+p;if(n>0){const r=Pfe(n,o);L(e,t.character,r)}else O(e,t.character)}}function P(e,t,n){for(let r=e;r<t;r++){const e=Dd(r,_),t=Fd(r,_);if(n&&(CQ(n.kind)||wQ(n.kind))&&n.pos<=t&&n.end>t)continue;const i=A(e,t);-1!==i&&(fn.assert(i===e||!Ka(_.text.charCodeAt(i-1))),O(i,t+1-i))}}function A(e,t){let n=t;for(;n>=e&&Ka(_.text.charCodeAt(n));)n--;return n!==t?n+1:-1}function I(e,t,n){P(_.getLineAndCharacterOfPosition(e).line,_.getLineAndCharacterOfPosition(t).line+1,n)}function O(e,t){t&&b.push(qQ(e,t,""))}function L(e,t,n){(t||n)&&b.push(qQ(e,t,n))}}function Efe(e,t,n,r=tQ(e,t)){const i=gc(r,yP);if(i&&(r=i.parent),r.getStart(e)<=t&&t<r.getEnd())return;const o=X((n=null===n?void 0:void 0===n?aQ(t,e):n)&&gs(e.text,n.end),kf(r,e));return o&&k(o,n=>PX(n,t)||t===n.end&&(2===n.kind||t===e.getFullWidth()))}function Pfe(e,t){if((!sfe||sfe.tabSize!==t.tabSize||sfe.indentSize!==t.indentSize)&&(sfe={tabSize:t.tabSize,indentSize:t.indentSize},cfe=lfe=void 0),t.convertTabsToSpaces){let n;const r=Math.floor(e/t.indentSize),i=e%t.indentSize;return lfe||(lfe=[]),void 0===lfe[r]?(n=XQ(" ",t.indentSize*r),lfe[r]=n):n=lfe[r],i?n+XQ(" ",i):n}{const n=Math.floor(e/t.tabSize),r=e-n*t.tabSize;let i;return cfe||(cfe=[]),void 0===cfe[n]?cfe[n]=i=XQ("\t",n):i=cfe[n],r?i+XQ(" ",r):i}}(e=>{let t;var n;function r(e){return e.baseIndentSize||0}function i(e,t,n,i,s,c,l){var f;let m=e.parent;for(;m;){let r=!0;if(n){const t=e.getStart(s);r=t<n.pos||t>n.end}const h=o(m,e,s),y=h.line===t.line||d(m,e,t.line,s);if(r){const n=null==(f=p(e,s))?void 0:f[0];let r=g(e,s,l,!!n&&_(n,s).line>h.line);if(-1!==r)return r+i;if(r=a(e,m,t,y,s,l),-1!==r)return r+i}S(l,m,e,s,c)&&!y&&(i+=l.indentSize);const v=u(m,e,t.line,s);m=(e=m).parent,t=v?s.getLineAndCharacterOfPosition(e.getStart(s)):h}return i+r(l)}function o(e,t,n){const r=p(t,n),i=r?r.pos:e.getStart(n);return n.getLineAndCharacterOfPosition(i)}function a(e,t,n,r,i,o){return!mu(e)&&!hu(e)||307!==t.kind&&r?-1:y(n,i,o)}let s;var c;function l(e,t,n,r){const i=oQ(e,t,r);return i?19===i.kind?1:20===i.kind&&n===_(i,r).line?2:0:0}function _(e,t){return t.getLineAndCharacterOfPosition(e.getStart(t))}function u(e,t,n,r){return!(!lF(e)||!w(e.arguments,t))&&$a(r,e.expression.getEnd()).line===n}function d(e,t,n,r){if(245===e.kind&&e.elseStatement===t){const t=zX(e,93,r);return fn.assert(void 0!==t),_(t,r).line===n}return!1}function p(e,t){return e.parent&&f(e.getStart(t),e.getEnd(),e.parent,t)}function f(e,t,n,r){switch(n.kind){case 183:return i(n.typeArguments);case 210:return i(n.properties);case 209:case 275:case 279:case 206:case 207:return i(n.elements);case 187:return i(n.members);case 262:case 218:case 219:case 174:case 173:case 179:case 176:case 185:case 180:return i(n.typeParameters)||i(n.parameters);case 177:return i(n.parameters);case 263:case 231:case 264:case 265:case 345:return i(n.typeParameters);case 214:case 213:return i(n.typeArguments)||i(n.arguments);case 261:return i(n.declarations)}function i(i){return i&&AX(function(e,t,n){const r=e.getChildren(n);for(let i=1;i<r.length-1;i++)if(r[i].pos===t.pos&&r[i].end===t.end)return{pos:r[i-1].end,end:r[i+1].getStart(n)};return t}(n,i,r),e,t)?i:void 0}}function m(e,t,n){return e?y(t.getLineAndCharacterOfPosition(e.pos),t,n):-1}function g(e,t,n,r){if(e.parent&&261===e.parent.kind)return-1;const i=p(e,t);if(i){const o=i.indexOf(e);if(-1!==o){const e=h(i,o,t,n);if(-1!==e)return e}return m(i,t,n)+(r?n.indentSize:0)}return-1}function h(e,t,n,r){fn.assert(t>=0&&t<e.length);let i=_(e[t],n);for(let o=t-1;o>=0;o--)if(28!==e[o].kind){if(n.getLineAndCharacterOfPosition(e[o].end).line!==i.line)return y(i,n,r);i=_(e[o],n)}return-1}function y(e,t,n){const r=t.getPositionOfLineAndCharacter(e.line,0);return b(r,r+e.character,t,n)}function v(e,t,n,r){let i=0,o=0;for(let a=e;a<t;a++){const e=n.text.charCodeAt(a);if(!Ka(e))break;9===e?o+=r.tabSize+o%r.tabSize:o++,i++}return{column:o,character:i}}function b(e,t,n,r){return v(e,t,n,r).column}function x(e,t,n,r,i){var o;const a=n?n.kind:0;switch(t.kind){case 244:case 263:case 231:case 264:case 266:case 265:case 209:case 241:case 268:case 210:case 187:case 200:case 189:case 217:case 211:case 213:case 214:case 243:case 277:case 253:case 227:case 207:case 206:case 286:case 289:case 285:case 294:case 173:case 179:case 180:case 169:case 184:case 185:case 196:case 215:case 223:case 279:case 275:case 281:case 276:case 172:case 296:case 297:return!0;case 269:return null==(o=e.indentSwitchCase)||o;case 260:case 303:case 226:if(!e.indentMultiLineObjectLiteralBeginningOnBlankLine&&r&&210===a)return T(r,n);if(226===t.kind&&r&&n&&284===a)return r.getLineAndCharacterOfPosition(ns(r.text,t.pos)).line!==r.getLineAndCharacterOfPosition(ns(r.text,n.pos)).line;if(226!==t.kind)return!0;break;case 246:case 247:case 249:case 250:case 248:case 245:case 262:case 218:case 174:case 176:case 177:case 178:return 241!==a;case 219:return r&&217===a?T(r,n):241!==a;case 278:return 279!==a;case 272:return 273!==a||!!n.namedBindings&&275!==n.namedBindings.kind;case 284:return 287!==a;case 288:return 290!==a;case 193:case 192:case 238:if(187===a||189===a||200===a)return!1}return i}function S(e,t,n,r,i=!1){return x(e,t,n,r,!1)&&!(i&&n&&function(e,t){switch(e){case 253:case 257:case 251:case 252:return 241!==t.kind;default:return!1}}(n.kind,t))}function T(e,t){const n=ns(e.text,t.pos);return e.getLineAndCharacterOfPosition(n).line===e.getLineAndCharacterOfPosition(t.end).line}(n=t||(t={}))[n.Unknown=-1]="Unknown",e.getIndentation=function(e,t,n,o=!1){if(e>t.text.length)return r(n);if(0===n.indentStyle)return 0;const a=aQ(e,t,void 0,!0),s=Efe(t,e,a||null);if(s&&3===s.kind)return function(e,t,n,r){const i=$a(e,t).line-1,o=$a(e,r.pos).line;if(fn.assert(o>=0),i<=o)return b(Dd(o,e),t,e,n);const a=Dd(i,e),{column:s,character:c}=v(a,t,e,n);if(0===s)return s;const l=e.text.charCodeAt(a+c);return 42===l?s-1:s}(t,e,n,s);if(!a)return r(n);if(wQ(a.kind)&&a.getStart(t)<=e&&e<a.end)return 0;const c=t.getLineAndCharacterOfPosition(e).line,u=tQ(t,e),d=19===u.kind&&210===u.parent.kind;if(1===n.indentStyle||d)return function(e,t,n){let r=t;for(;r>0&&Ha(e.text.charCodeAt(r));)r--;const i=NX(r,e);return b(i,r,e,n)}(t,e,n);if(28===a.kind&&226!==a.parent.kind){const e=function(e,t,n){const r=BX(e);return r&&r.listItemIndex>0?h(r.list.getChildren(),r.listItemIndex-1,t,n):-1}(a,t,n);if(-1!==e)return e}const p=function(e,t,n){return t&&f(e,e,t,n)}(e,a.parent,t);if(p&&!tx(p,a)){const e=[218,219].includes(u.parent.kind)?0:n.indentSize;return m(p,t,n)+e}return function(e,t,n,o,a,s){let c,u=n;for(;u;){if(jX(u,t,e)&&S(s,u,c,e,!0)){const t=_(u,e),r=l(n,u,o,e);return i(u,t,void 0,0!==r?a&&2===r?s.indentSize:0:o!==t.line?s.indentSize:0,e,!0,s)}const r=g(u,e,s,!0);if(-1!==r)return r;c=u,u=u.parent}return r(s)}(t,e,a,c,o,n)},e.getIndentationForNode=function(e,t,n,r){const o=n.getLineAndCharacterOfPosition(e.getStart(n));return i(e,o,t,0,n,!1,r)},e.getBaseIndentation=r,(c=s||(s={}))[c.Unknown=0]="Unknown",c[c.OpenBrace=1]="OpenBrace",c[c.CloseBrace=2]="CloseBrace",e.isArgumentAndStartLineOverlapsExpressionBeingCalled=u,e.childStartsOnTheSameLineWithElseInIfStatement=d,e.childIsUnindentedBranchOfConditionalExpression=function(e,t,n,r){if(SF(e)&&(t===e.whenTrue||t===e.whenFalse)){const i=$a(r,e.condition.end).line;if(t===e.whenTrue)return n===i;{const t=_(e.whenTrue,r).line,o=$a(r,e.whenTrue.end).line;return i===t&&o===n}}return!1},e.argumentStartsOnSameLineAsPreviousArgument=function(e,t,n,r){if(z_(e)){if(!e.arguments)return!1;const i=k(e.arguments,e=>e.pos===t.pos);if(!i)return!1;const o=e.arguments.indexOf(i);if(0===o)return!1;if(n===$a(r,e.arguments[o-1].getEnd()).line)return!0}return!1},e.getContainingList=p,e.findFirstNonWhitespaceCharacterAndColumn=v,e.findFirstNonWhitespaceColumn=b,e.nodeWillIndentChild=x,e.shouldIndentChildNode=S})(_fe||(_fe={}));var Afe={};function Ife(e,t,n){let r=!1;return t.forEach(t=>{const i=gc(tQ(e,t.pos),e=>tx(e,t));i&&KI(i,function i(o){var a;if(!r){if(tN(o)&&EX(t,o.getStart(e))){const t=n.resolveName(o.text,o,-1,!1);if(t&&t.declarations)for(const n of t.declarations)if(v3(n)||o.text&&e.symbol&&(null==(a=e.symbol.exports)?void 0:a.has(o.escapedText)))return void(r=!0)}o.forEachChild(i)}})}),r}i(Afe,{preparePasteEdits:()=>Ife});var Ofe={};i(Ofe,{pasteEditsProvider:()=>jfe});var Lfe="providePostPasteEdits";function jfe(e,t,n,r,i,o,a,s){const c=rde.ChangeTracker.with({host:i,formatContext:a,preferences:o},c=>function(e,t,n,r,i,o,a,s,c){let l;t.length!==n.length&&(l=1===t.length?t[0]:t.join($Z(a.host,a.options)));const _=[];let u,d=e.text;for(let p=n.length-1;p>=0;p--){const{pos:e,end:r}=n[p];d=l?d.slice(0,e)+l+d.slice(r):d.slice(0,e)+t[p]+d.slice(r)}fn.checkDefined(i.runWithTemporaryFileUpdate).call(i,e.fileName,d,(d,p,f)=>{if(u=U7.createImportAdder(f,d,o,i),null==r?void 0:r.range){fn.assert(r.range.length===t.length),r.range.forEach(e=>{const t=r.file.statements,n=T(t,t=>t.end>e.pos);if(-1===n)return;let i=T(t,t=>t.end>=e.end,n);-1!==i&&e.end<=t[i].getStart()&&i--,_.push(...t.slice(n,-1===i?t.length:i+1))}),fn.assertIsDefined(p,"no original program found");const n=p.getTypeChecker(),o=function({file:e,range:t}){var n;const r=t[0].pos,i=t[t.length-1].end,o=tQ(e,r),a=null!=(n=iQ(e,r))?n:tQ(e,i);return{pos:tN(o)&&r<=o.getStart(e)?o.getFullStart():r,end:tN(a)&&i===a.getEnd()?rde.getAdjustedEndPosition(e,a,{}):i}}(r),a=g3(r.file,_,n,C3(f,_,n),o),s=!y0(e.fileName,p,i,!!r.file.commonJsModuleIndicator);K6(r.file,a.targetFileImportsFromOldFile,c,s),F3(r.file,a.oldImportsNeededByTargetFile,a.targetFileImportsFromOldFile,n,d,u)}else{const e={sourceFile:f,program:p,cancellationToken:s,host:i,preferences:o,formatContext:a};let r=0;n.forEach((n,i)=>{const o=n.end-n.pos,a=null!=l?l:t[i],s=n.pos+r,c={pos:s,end:s+a.length};r+=a.length-o;const _=gc(tQ(e.sourceFile,c.pos),e=>tx(e,c));_&&KI(_,function t(n){if(tN(n)&&EX(c,n.getStart(f))&&!(null==d?void 0:d.getTypeChecker().resolveName(n.text,n,-1,!1)))return u.addImportForUnresolvedIdentifier(e,n,!0);n.forEachChild(t)})})}u.writeFixes(c,lZ(r?r.file:e,o))}),u.hasFixes()&&n.forEach((n,r)=>{c.replaceRangeWithText(e,{pos:n.pos,end:n.end},null!=l?l:t[r])})}(e,t,n,r,i,o,a,s,c));return{edits:c,fixId:Lfe}}var Rfe,Mfe={};function Bfe(e,t,n,r,i){let o=t?"DeprecationError: ":"DeprecationWarning: ";return o+=`'${e}' `,o+=r?`has been deprecated since v${r}`:"is deprecated",o+=t?" and can no longer be used.":n?` and will no longer be usable after v${n}.`:".",o+=i?` ${$x(i,[e])}`:"",o}function Jfe(e,t={}){var n,r;const i="string"==typeof t.typeScriptVersion?new Sn(t.typeScriptVersion):null!=(n=t.typeScriptVersion)?n:null!=Rfe?Rfe:Rfe=new Sn(l),o="string"==typeof t.errorAfter?new Sn(t.errorAfter):t.errorAfter,a="string"==typeof t.warnAfter?new Sn(t.warnAfter):t.warnAfter,s="string"==typeof t.since?new Sn(t.since):null!=(r=t.since)?r:a,c=t.error||o&&i.compareTo(o)>=0,_=!a||i.compareTo(a)>=0;return c?function(e,t,n,r){const i=Bfe(e,!0,t,n,r);return()=>{throw new TypeError(i)}}(e,o,s,t.message):_?function(e,t,n,r){let i=!1;return()=>{i||(fn.log.warn(Bfe(e,!1,t,n,r)),i=!0)}}(e,o,s,t.message):at}function zfe(e,t){var n;return function(e,t){return function(){return e(),t.apply(this,arguments)}}(Jfe(null!=(n=null==t?void 0:t.name)?n:fn.getFunctionName(e),t),e)}function qfe(e,t,n,r){if(Object.defineProperty(o,"name",__spreadProps(__spreadValues({},Object.getOwnPropertyDescriptor(o,"name")),{value:e})),r)for(const a of Object.keys(r)){const n=+a;!isNaN(n)&&Pe(t,`${n}`)&&(t[n]=zfe(t[n],__spreadProps(__spreadValues({},r[n]),{name:e})))}const i=function(e,t){return n=>{for(let r=0;Pe(e,`${r}`)&&Pe(t,`${r}`);r++)if((0,t[r])(n))return r}}(t,n);return o;function o(...e){const n=i(e),r=void 0!==n?t[n]:void 0;if("function"==typeof r)return r(...e);throw new TypeError("Invalid arguments")}}function Vfe(e){return{overload:t=>({bind:n=>({finish:()=>qfe(e,t,n),deprecate:r=>({finish:()=>qfe(e,t,n,r)})})})}}i(Mfe,{ANONYMOUS:()=>EY,AccessFlags:()=>Yr,AssertionLevel:()=>ht,AssignmentDeclarationKind:()=>li,AssignmentKind:()=>Zg,Associativity:()=>oy,BreakpointResolver:()=>x7,BuilderFileEmit:()=>tW,BuilderProgramKind:()=>EW,BuilderState:()=>YU,CallHierarchy:()=>S7,CharacterCodes:()=>Ci,CheckFlags:()=>$r,CheckMode:()=>QB,ClassificationType:()=>KG,ClassificationTypeNames:()=>HG,CommentDirectiveType:()=>Dr,Comparison:()=>_,CompletionInfoFlags:()=>JG,CompletionTriggerKind:()=>AG,Completions:()=>jae,ContainerFlags:()=>XM,ContextFlags:()=>Rr,Debug:()=>fn,DiagnosticCategory:()=>_i,Diagnostics:()=>ma,DocumentHighlights:()=>j0,ElementFlags:()=>Zr,EmitFlags:()=>Fi,EmitHint:()=>Ii,EmitOnly:()=>Pr,EndOfLineState:()=>VG,ExitStatus:()=>Ir,ExportKind:()=>k0,Extension:()=>wi,ExternalEmitHelpers:()=>Ai,FileIncludeKind:()=>Fr,FilePreprocessingDiagnosticsKind:()=>Er,FileSystemEntryKind:()=>so,FileWatcherEventKind:()=>qi,FindAllReferences:()=>Mce,FlattenLevel:()=>Nz,FlowFlags:()=>wr,ForegroundColorEscapeSequences:()=>YV,FunctionFlags:()=>Rh,GeneratedIdentifierFlags:()=>Sr,GetLiteralTextFlags:()=>ap,GoToDefinition:()=>kle,HighlightSpanKind:()=>OG,IdentifierNameMap:()=>rz,ImportKind:()=>x0,ImportsNotUsedAsValues:()=>vi,IndentStyle:()=>LG,IndexFlags:()=>ei,IndexKind:()=>ii,InferenceFlags:()=>si,InferencePriority:()=>ai,InlayHintKind:()=>IG,InlayHints:()=>Jle,InternalEmitFlags:()=>Ei,InternalNodeBuilderFlags:()=>Br,InternalSymbolName:()=>Hr,IntersectionFlags:()=>jr,InvalidatedProjectKind:()=>SH,JSDocParsingMode:()=>Bi,JsDoc:()=>Wle,JsTyping:()=>QK,JsxEmit:()=>yi,JsxFlags:()=>br,JsxReferenceKind:()=>ti,LanguageFeatureMinimumTarget:()=>Pi,LanguageServiceMode:()=>NG,LanguageVariant:()=>Si,LexicalEnvironmentFlags:()=>Li,ListFormat:()=>ji,LogLevel:()=>mn,MapCode:()=>u_e,MemberOverrideStatus:()=>Or,ModifierFlags:()=>vr,ModuleDetectionKind:()=>pi,ModuleInstanceState:()=>$M,ModuleKind:()=>hi,ModuleResolutionKind:()=>di,ModuleSpecifierEnding:()=>qS,NavigateTo:()=>c2,NavigationBar:()=>v2,NewLineKind:()=>bi,NodeBuilderFlags:()=>Mr,NodeCheckFlags:()=>Kr,NodeFactoryFlags:()=>XC,NodeFlags:()=>yr,NodeResolutionFeatures:()=>VR,ObjectFlags:()=>Xr,OperationCanceledException:()=>Nr,OperatorPrecedence:()=>_y,OrganizeImports:()=>h_e,OrganizeImportsMode:()=>PG,OuterExpressionKinds:()=>Oi,OutliningElementsCollector:()=>G_e,OutliningSpanKind:()=>zG,OutputFileType:()=>qG,PackageJsonAutoImportPreference:()=>DG,PackageJsonDependencyGroup:()=>wG,PatternMatchKind:()=>l1,PollingInterval:()=>Vi,PollingWatchKind:()=>gi,PragmaKindFlags:()=>Ri,PredicateSemantics:()=>kr,PreparePasteEdits:()=>Afe,PrivateIdentifierKind:()=>Yw,ProcessLevel:()=>Gz,ProgramUpdateLevel:()=>EV,QuotePreference:()=>sZ,RegularExpressionFlags:()=>Tr,RelationComparisonResult:()=>xr,Rename:()=>iue,ScriptElementKind:()=>WG,ScriptElementKindModifier:()=>$G,ScriptKind:()=>xi,ScriptSnapshot:()=>vG,ScriptTarget:()=>ki,SemanticClassificationFormat:()=>EG,SemanticMeaning:()=>XG,SemicolonPreference:()=>jG,SignatureCheckMode:()=>ZB,SignatureFlags:()=>ri,SignatureHelp:()=>uue,SignatureInfo:()=>eW,SignatureKind:()=>ni,SmartSelectionRange:()=>Rue,SnippetKind:()=>Ni,StatisticType:()=>lK,StructureIsReused:()=>Ar,SymbolAccessibility:()=>qr,SymbolDisplay:()=>Kue,SymbolDisplayPartKind:()=>BG,SymbolFlags:()=>Wr,SymbolFormatFlags:()=>zr,SyntaxKind:()=>hr,Ternary:()=>ci,ThrottledCancellationToken:()=>d7,TokenClass:()=>UG,TokenFlags:()=>Cr,TransformFlags:()=>Di,TypeFacts:()=>GB,TypeFlags:()=>Gr,TypeFormatFlags:()=>Jr,TypeMapKind:()=>oi,TypePredicateKind:()=>Vr,TypeReferenceSerializationKind:()=>Ur,UnionReduction:()=>Lr,UpToDateStatusType:()=>G$,VarianceFlags:()=>Qr,Version:()=>Sn,VersionRange:()=>Cn,WatchDirectoryFlags:()=>Ti,WatchDirectoryKind:()=>mi,WatchFileKind:()=>fi,WatchLogLevel:()=>MV,WatchType:()=>I$,accessPrivateIdentifier:()=>Tz,addEmitFlags:()=>hw,addEmitHelper:()=>Rw,addEmitHelpers:()=>Mw,addInternalEmitFlags:()=>vw,addNodeFactoryPatcher:()=>ZC,addObjectAllocatorPatcher:()=>Ux,addRange:()=>_e,addRelatedInfo:()=>uT,addSyntheticLeadingComment:()=>Ew,addSyntheticTrailingComment:()=>Iw,addToSeen:()=>Cx,advancedAsyncSuperHelper:()=>OD,affectsDeclarationPathOptionDeclarations:()=>LO,affectsEmitOptionDeclarations:()=>OO,allKeysStartWithDot:()=>bM,altDirectorySeparator:()=>go,and:()=>nn,append:()=>se,appendIfUnique:()=>de,arrayFrom:()=>Re,arrayIsEqualTo:()=>ie,arrayIsHomogeneous:()=>DT,arrayOf:()=>je,arrayReverseIterator:()=>fe,arrayToMap:()=>Je,arrayToMultiMap:()=>qe,arrayToNumericMap:()=>ze,assertType:()=>an,assign:()=>Me,asyncSuperHelper:()=>ID,attachFileToDiagnostics:()=>Yx,base64decode:()=>Fb,base64encode:()=>Nb,binarySearch:()=>De,binarySearchKey:()=>Ne,bindSourceFile:()=>YM,breakIntoCharacterSpans:()=>w1,breakIntoWordSpans:()=>D1,buildLinkParts:()=>UZ,buildOpts:()=>WO,buildOverload:()=>Vfe,bundlerModuleNameResolver:()=>WR,canBeConvertedToAsync:()=>Q1,canHaveDecorators:()=>xI,canHaveExportModifier:()=>XT,canHaveFlowNode:()=>Mg,canHaveIllegalDecorators:()=>zA,canHaveIllegalModifiers:()=>qA,canHaveIllegalType:()=>BA,canHaveIllegalTypeParameters:()=>JA,canHaveJSDoc:()=>Bg,canHaveLocals:()=>du,canHaveModifiers:()=>bI,canHaveModuleSpecifier:()=>xg,canHaveSymbol:()=>uu,canIncludeBindAndCheckDiagnostics:()=>yT,canJsonReportNoInputFiles:()=>gj,canProduceDiagnostics:()=>Nq,canUsePropertyAccess:()=>ZT,canWatchAffectingLocation:()=>YW,canWatchAtTypes:()=>XW,canWatchDirectoryOrFile:()=>KW,canWatchDirectoryOrFilePath:()=>GW,cartesianProduct:()=>ln,cast:()=>ot,chainBundle:()=>XJ,chainDiagnosticMessages:()=>ik,changeAnyExtension:()=>Zo,changeCompilerHostLikeToUseCache:()=>GV,changeExtension:()=>QS,changeFullExtension:()=>Yo,changesAffectModuleResolution:()=>rd,changesAffectingProgramStructure:()=>id,characterCodeToRegularExpressionFlag:()=>Ma,childIsDecorated:()=>vm,classElementOrClassElementParameterIsDecorated:()=>xm,classHasClassThisAssignment:()=>Bz,classHasDeclaredOrExplicitlyAssignedName:()=>Wz,classHasExplicitlyAssignedName:()=>Uz,classOrConstructorParameterIsDecorated:()=>bm,classicNameResolver:()=>BM,classifier:()=>q7,cleanExtendedConfigCache:()=>IV,clear:()=>P,clearMap:()=>gx,clearSharedExtendedConfigFileWatcher:()=>AV,climbPastPropertyAccess:()=>_X,clone:()=>We,cloneCompilerOptions:()=>PQ,closeFileWatcher:()=>sx,closeFileWatcherOf:()=>zV,codefix:()=>U7,collapseTextChangeRangesAcrossMultipleVersions:()=>nc,collectExternalModuleInfo:()=>ez,combine:()=>ce,combinePaths:()=>zo,commandLineOptionOfCustomType:()=>qO,commentPragmas:()=>Mi,commonOptionsWithBuild:()=>NO,compact:()=>oe,compareBooleans:()=>Rt,compareDataObjects:()=>mx,compareDiagnostics:()=>sk,compareEmitHelpers:()=>tD,compareNumberOfDirectorySeparators:()=>$S,comparePaths:()=>ia,comparePathsCaseInsensitive:()=>ra,comparePathsCaseSensitive:()=>na,comparePatternKeys:()=>kM,compareProperties:()=>jt,compareStringsCaseInsensitive:()=>wt,compareStringsCaseInsensitiveEslintCompatible:()=>Dt,compareStringsCaseSensitive:()=>Nt,compareStringsCaseSensitiveUI:()=>Lt,compareTextSpans:()=>St,compareValues:()=>kt,compilerOptionsAffectDeclarationPath:()=>Xk,compilerOptionsAffectEmit:()=>Gk,compilerOptionsAffectSemanticDiagnostics:()=>Kk,compilerOptionsDidYouMeanDiagnostics:()=>aL,compilerOptionsIndicateEsModules:()=>tZ,computeCommonSourceDirectoryOfFilenames:()=>UV,computeLineAndCharacterOfPosition:()=>Va,computeLineOfPosition:()=>Ua,computeLineStarts:()=>Ba,computePositionOfLineAndCharacter:()=>za,computeSignatureWithDiagnostics:()=>IW,computeSuggestionDiagnostics:()=>z1,computedOptions:()=>xk,concatenate:()=>X,concatenateDiagnosticMessageChains:()=>ok,consumesNodeCoreModules:()=>GY,contains:()=>w,containsIgnoredPath:()=>MT,containsObjectRestOrSpread:()=>yI,containsParseError:()=>kd,containsPath:()=>oa,convertCompilerOptionsForTelemetry:()=>Kj,convertCompilerOptionsFromJson:()=>xj,convertJsonOption:()=>Fj,convertToBase64:()=>Db,convertToJson:()=>RL,convertToObject:()=>jL,convertToOptionsWithAbsolutePaths:()=>QL,convertToRelativePath:()=>la,convertToTSConfig:()=>JL,convertTypeAcquisitionFromJson:()=>kj,copyComments:()=>pY,copyEntries:()=>ld,copyLeadingComments:()=>yY,copyProperties:()=>He,copyTrailingAsLeadingComments:()=>bY,copyTrailingComments:()=>vY,couldStartTrivia:()=>ts,countWhere:()=>N,createAbstractBuilder:()=>WW,createAccessorPropertyBackingField:()=>dI,createAccessorPropertyGetRedirector:()=>pI,createAccessorPropertySetRedirector:()=>fI,createBaseNodeFactory:()=>VC,createBinaryExpressionTrampoline:()=>oI,createBuilderProgram:()=>OW,createBuilderProgramUsingIncrementalBuildInfo:()=>BW,createBuilderStatusReporter:()=>nH,createCacheableExportInfoMap:()=>S0,createCachedDirectoryStructureHost:()=>FV,createClassifier:()=>L0,createCommentDirectivesMap:()=>Ud,createCompilerDiagnostic:()=>nk,createCompilerDiagnosticForInvalidCustomType:()=>QO,createCompilerDiagnosticFromMessageChain:()=>rk,createCompilerHost:()=>WV,createCompilerHostFromProgramHost:()=>L$,createCompilerHostWorker:()=>KV,createDetachedDiagnostic:()=>Xx,createDiagnosticCollection:()=>fy,createDiagnosticForFileFromMessageChain:()=>Gp,createDiagnosticForNode:()=>qp,createDiagnosticForNodeArray:()=>Vp,createDiagnosticForNodeArrayFromMessageChain:()=>$p,createDiagnosticForNodeFromMessageChain:()=>Wp,createDiagnosticForNodeInSourceFile:()=>Up,createDiagnosticForRange:()=>Qp,createDiagnosticMessageChainFromDiagnostic:()=>Xp,createDiagnosticReporter:()=>_$,createDocumentPositionMapper:()=>WJ,createDocumentRegistry:()=>Q0,createDocumentRegistryInternal:()=>Z0,createEmitAndSemanticDiagnosticsBuilderProgram:()=>UW,createEmitHelperFactory:()=>eD,createEmptyExports:()=>YP,createEvaluator:()=>xC,createExpressionForJsxElement:()=>iA,createExpressionForJsxFragment:()=>oA,createExpressionForObjectLiteralElementLike:()=>lA,createExpressionForPropertyName:()=>cA,createExpressionFromEntityName:()=>sA,createExternalHelpersImportDeclarationIfNeeded:()=>DA,createFileDiagnostic:()=>ek,createFileDiagnosticFromMessageChain:()=>Kp,createFlowNode:()=>QM,createForOfBindingStatement:()=>aA,createFutureSourceFile:()=>b0,createGetCanonicalFileName:()=>Kt,createGetIsolatedDeclarationErrors:()=>Pq,createGetSourceFile:()=>$V,createGetSymbolAccessibilityDiagnosticForNode:()=>Eq,createGetSymbolAccessibilityDiagnosticForNodeName:()=>Fq,createGetSymbolWalker:()=>oB,createIncrementalCompilerHost:()=>W$,createIncrementalProgram:()=>$$,createJsxFactoryExpression:()=>rA,createLanguageService:()=>m7,createLanguageServiceSourceFile:()=>c7,createMemberAccessForPropertyName:()=>eA,createModeAwareCache:()=>ER,createModeAwareCacheKey:()=>FR,createModeMismatchDetails:()=>hd,createModuleNotFoundChain:()=>gd,createModuleResolutionCache:()=>LR,createModuleResolutionLoader:()=>kU,createModuleResolutionLoaderUsingGlobalCache:()=>a$,createModuleSpecifierResolutionHost:()=>nZ,createMultiMap:()=>Ge,createNameResolver:()=>TC,createNodeConverters:()=>$C,createNodeFactory:()=>YC,createOptionNameMap:()=>HO,createOverload:()=>qfe,createPackageJsonImportFilter:()=>KY,createPackageJsonInfo:()=>HY,createParenthesizerRules:()=>UC,createPatternMatcher:()=>u1,createPrinter:()=>CV,createPrinterWithDefaults:()=>xV,createPrinterWithRemoveComments:()=>kV,createPrinterWithRemoveCommentsNeverAsciiEscape:()=>SV,createPrinterWithRemoveCommentsOmitTrailingSemicolon:()=>TV,createProgram:()=>MU,createProgramDiagnostics:()=>QU,createProgramHost:()=>M$,createPropertyNameNodeForIdentifierOrLiteral:()=>$T,createQueue:()=>Ze,createRange:()=>Rb,createRedirectedBuilderProgram:()=>qW,createResolutionCache:()=>s$,createRuntimeTypeSerializer:()=>nq,createScanner:()=>xs,createSemanticDiagnosticsBuilderProgram:()=>VW,createSet:()=>Ye,createSolutionBuilder:()=>aH,createSolutionBuilderHost:()=>iH,createSolutionBuilderWithWatch:()=>sH,createSolutionBuilderWithWatchHost:()=>oH,createSortedArray:()=>te,createSourceFile:()=>ZI,createSourceMapGenerator:()=>wJ,createSourceMapSource:()=>uw,createSuperAccessVariableStatement:()=>aq,createSymbolTable:()=>Yu,createSymlinkCache:()=>nS,createSyntacticTypeNodeBuilder:()=>XK,createSystemWatchFunctions:()=>_o,createTextChange:()=>VQ,createTextChangeFromStartLength:()=>qQ,createTextChangeRange:()=>ec,createTextRangeFromNode:()=>BQ,createTextRangeFromSpan:()=>zQ,createTextSpan:()=>Xs,createTextSpanFromBounds:()=>Qs,createTextSpanFromNode:()=>RQ,createTextSpanFromRange:()=>JQ,createTextSpanFromStringLiteralLikeContent:()=>MQ,createTextWriter:()=>My,createTokenRange:()=>qb,createTypeChecker:()=>aJ,createTypeReferenceDirectiveResolutionCache:()=>jR,createTypeReferenceResolutionLoader:()=>CU,createWatchCompilerHost:()=>H$,createWatchCompilerHostOfConfigFile:()=>z$,createWatchCompilerHostOfFilesAndCompilerOptions:()=>q$,createWatchFactory:()=>O$,createWatchHost:()=>A$,createWatchProgram:()=>K$,createWatchStatusReporter:()=>f$,createWriteFileMeasuringIO:()=>HV,declarationNameToString:()=>jp,decodeMappings:()=>OJ,decodedTextSpanIntersectsWith:()=>Ws,deduplicate:()=>ee,defaultInitCompilerOptions:()=>XO,defaultMaximumTruncationLength:()=>Gu,diagnosticCategoryName:()=>ui,diagnosticToString:()=>p0,diagnosticsEqualityComparer:()=>uk,directoryProbablyExists:()=>Ib,directorySeparator:()=>mo,displayPart:()=>PZ,displayPartsToString:()=>r7,disposeEmitNodes:()=>fw,documentSpansEqual:()=>kZ,dumpTracingLegend:()=>gr,elementAt:()=>ge,elideNodes:()=>sI,emitDetachedComments:()=>Cv,emitFiles:()=>hV,emitFilesAndReportErrors:()=>N$,emitFilesAndReportErrorsAndGetExitStatus:()=>F$,emitModuleKindIsNonNodeESM:()=>Bk,emitNewLineBeforeLeadingCommentOfPosition:()=>Tv,emitResolverSkipsTypeChecking:()=>gV,emitSkippedWithNoDiagnostics:()=>VU,emptyArray:()=>u,emptyFileSystemEntries:()=>cT,emptyMap:()=>d,emptyOptions:()=>FG,endsWith:()=>Jt,ensurePathIsNonModuleName:()=>Qo,ensureScriptKind:()=>CS,ensureTrailingDirectorySeparator:()=>Xo,entityNameToString:()=>zp,enumerateInsertsAndDeletes:()=>cn,equalOwnProperties:()=>Be,equateStringsCaseInsensitive:()=>vt,equateStringsCaseSensitive:()=>bt,equateValues:()=>yt,escapeJsxAttributeString:()=>Ay,escapeLeadingUnderscores:()=>vc,escapeNonAsciiString:()=>Dy,escapeSnippetText:()=>UT,escapeString:()=>Cy,escapeTemplateSubstitution:()=>gy,evaluatorResult:()=>bC,every:()=>x,exclusivelyPrefixedNodeCoreModules:()=>PC,executeCommandLine:()=>wK,expandPreOrPostfixIncrementOrDecrementExpression:()=>_A,explainFiles:()=>k$,explainIfFileIsRedirectAndImpliedFormat:()=>S$,exportAssignmentIsAlias:()=>vh,expressionResultIsUnused:()=>RT,extend:()=>$e,extensionFromPath:()=>iT,extensionIsTS:()=>nT,extensionsNotSupportingExtensionlessResolution:()=>jS,externalHelpersModuleNameText:()=>Ku,factory:()=>_w,fileExtensionIs:()=>Do,fileExtensionIsOneOf:()=>No,fileIncludeReasonToDiagnostics:()=>w$,fileShouldUseJavaScriptRequire:()=>y0,filter:()=>F,filterMutate:()=>E,filterSemanticDiagnostics:()=>WU,find:()=>k,findAncestor:()=>gc,findBestPatternMatch:()=>Qt,findChildOfKind:()=>zX,findComputedPropertyNameCacheAssignment:()=>mI,findConfigFile:()=>qV,findConstructorDeclaration:()=>SC,findContainingList:()=>qX,findDiagnosticForNode:()=>ZY,findFirstNonJsxWhitespaceToken:()=>rQ,findIndex:()=>T,findLast:()=>S,findLastIndex:()=>C,findListItemInfo:()=>BX,findModifier:()=>yZ,findNextToken:()=>oQ,findPackageJson:()=>$Y,findPackageJsons:()=>WY,findPrecedingMatchingToken:()=>gQ,findPrecedingToken:()=>aQ,findSuperStatementIndexPath:()=>uz,findTokenOnLeftOfPosition:()=>iQ,findUseStrictPrologue:()=>mA,first:()=>ve,firstDefined:()=>g,firstDefinedIterator:()=>h,firstIterator:()=>be,firstOrOnly:()=>r0,firstOrUndefined:()=>he,firstOrUndefinedIterator:()=>ye,fixupCompilerOptions:()=>s2,flatMap:()=>j,flatMapIterator:()=>M,flatMapToMutable:()=>R,flatten:()=>L,flattenCommaList:()=>hI,flattenDestructuringAssignment:()=>Fz,flattenDestructuringBinding:()=>Az,flattenDiagnosticMessageText:()=>uU,forEach:()=>f,forEachAncestor:()=>ad,forEachAncestorDirectory:()=>da,forEachAncestorDirectoryStoppingAtGlobalCache:()=>NM,forEachChild:()=>KI,forEachChildRecursively:()=>GI,forEachDynamicImportOrRequireCall:()=>IC,forEachEmittedFile:()=>Qq,forEachEnclosingBlockScopeContainer:()=>Lp,forEachEntry:()=>sd,forEachExternalModuleToImportFrom:()=>w0,forEachImportClauseDeclaration:()=>Fg,forEachKey:()=>cd,forEachLeadingCommentRange:()=>_s,forEachNameInAccessChainWalkingLeft:()=>Ax,forEachNameOfDefaultExport:()=>O0,forEachOptionsSyntaxByName:()=>qC,forEachProjectReference:()=>BC,forEachPropertyAssignment:()=>Kf,forEachResolvedProjectReference:()=>MC,forEachReturnStatement:()=>Af,forEachRight:()=>m,forEachTrailingCommentRange:()=>us,forEachTsConfigPropArray:()=>Qf,forEachUnique:()=>TZ,forEachYieldExpression:()=>If,formatColorAndReset:()=>sU,formatDiagnostic:()=>ZV,formatDiagnostics:()=>QV,formatDiagnosticsWithColorAndContext:()=>_U,formatGeneratedName:()=>uI,formatGeneratedNamePart:()=>lI,formatLocation:()=>lU,formatMessage:()=>tk,formatStringFromArgs:()=>$x,formatting:()=>Ade,generateDjb2Hash:()=>Ji,generateTSConfig:()=>XL,getAdjustedReferenceLocation:()=>QX,getAdjustedRenameLocation:()=>ZX,getAliasDeclarationFromName:()=>hh,getAllAccessorDeclarations:()=>hv,getAllDecoratorsOfClass:()=>yz,getAllDecoratorsOfClassElement:()=>vz,getAllJSDocTags:()=>dl,getAllJSDocTagsOfKind:()=>pl,getAllKeys:()=>Oe,getAllProjectOutputs:()=>pV,getAllSuperTypeNodes:()=>Ch,getAllowImportingTsExtensions:()=>kk,getAllowJSCompilerOption:()=>Rk,getAllowSyntheticDefaultImports:()=>Fk,getAncestor:()=>Nh,getAnyExtensionFromPath:()=>jo,getAreDeclarationMapsEnabled:()=>jk,getAssignedExpandoInitializer:()=>Xm,getAssignedName:()=>Pc,getAssignmentDeclarationKind:()=>og,getAssignmentDeclarationPropertyAccessKind:()=>mg,getAssignmentTargetKind:()=>eh,getAutomaticTypeDirectiveNames:()=>kR,getBaseFileName:()=>Oo,getBinaryOperatorPrecedence:()=>dy,getBuildInfo:()=>vV,getBuildInfoFileVersionMap:()=>JW,getBuildInfoText:()=>yV,getBuildOrderFromAnyBuildOrder:()=>tH,getBuilderCreationParameters:()=>PW,getBuilderFileEmit:()=>rW,getCanonicalDiagnostic:()=>Zp,getCheckFlags:()=>cx,getClassExtendsHeritageElement:()=>Sh,getClassLikeDeclarationOfSymbol:()=>bx,getCombinedLocalAndExportSymbolFlags:()=>ux,getCombinedModifierFlags:()=>lc,getCombinedNodeFlags:()=>uc,getCombinedNodeFlagsAlwaysIncludeJSDoc:()=>_c,getCommentRange:()=>ww,getCommonSourceDirectory:()=>uV,getCommonSourceDirectoryOfConfig:()=>dV,getCompilerOptionValue:()=>Qk,getCompilerOptionsDiffValue:()=>KL,getConditions:()=>bR,getConfigFileParsingDiagnostics:()=>OU,getConstantValue:()=>Lw,getContainerFlags:()=>rB,getContainerNode:()=>TX,getContainingClass:()=>em,getContainingClassExcludingClassDecorators:()=>rm,getContainingClassStaticBlock:()=>tm,getContainingFunction:()=>Zf,getContainingFunctionDeclaration:()=>Yf,getContainingFunctionOrClassStaticBlock:()=>nm,getContainingNodeArray:()=>BT,getContainingObjectLiteralElement:()=>h7,getContextualTypeFromParent:()=>TY,getContextualTypeFromParentOrAncestorTypeNode:()=>$X,getDeclarationDiagnostics:()=>Aq,getDeclarationEmitExtensionForPath:()=>Gy,getDeclarationEmitOutputFilePath:()=>Hy,getDeclarationEmitOutputFilePathWorker:()=>Ky,getDeclarationFileExtension:()=>_O,getDeclarationFromName:()=>fh,getDeclarationModifierFlagsFromSymbol:()=>lx,getDeclarationOfKind:()=>Qu,getDeclarationsOfKind:()=>Zu,getDeclaredExpandoInitializer:()=>Gm,getDecorators:()=>Ac,getDefaultCompilerOptions:()=>i7,getDefaultFormatCodeSettings:()=>RG,getDefaultLibFileName:()=>Is,getDefaultLibFilePath:()=>v7,getDefaultLikeExportInfo:()=>A0,getDefaultLikeExportNameFromDeclaration:()=>o0,getDefaultResolutionModeForFileWorker:()=>qU,getDiagnosticText:()=>pL,getDiagnosticsWithinSpan:()=>YY,getDirectoryPath:()=>Io,getDirectoryToWatchFailedLookupLocation:()=>e$,getDirectoryToWatchFailedLookupLocationFromTypeRoot:()=>r$,getDocumentPositionMapper:()=>M1,getDocumentSpansEqualityComparer:()=>SZ,getESModuleInterop:()=>Nk,getEditsForFileRename:()=>t1,getEffectiveBaseTypeNode:()=>kh,getEffectiveConstraintOfTypeParameter:()=>gl,getEffectiveContainerForJSDocTemplateTag:()=>Ug,getEffectiveImplementsTypeNodes:()=>Th,getEffectiveInitializer:()=>Km,getEffectiveJSDocHost:()=>Hg,getEffectiveModifierFlags:()=>Uv,getEffectiveModifierFlagsAlwaysIncludeJSDoc:()=>Wv,getEffectiveModifierFlagsNoCache:()=>Gv,getEffectiveReturnTypeNode:()=>bv,getEffectiveSetAccessorTypeAnnotationNode:()=>kv,getEffectiveTypeAnnotationNode:()=>yv,getEffectiveTypeParameterDeclarations:()=>ml,getEffectiveTypeRoots:()=>pR,getElementOrPropertyAccessArgumentExpressionOrName:()=>pg,getElementOrPropertyAccessName:()=>fg,getElementsOfBindingOrAssignmentPattern:()=>RA,getEmitDeclarations:()=>Ik,getEmitFlags:()=>rp,getEmitHelpers:()=>Jw,getEmitModuleDetectionKind:()=>wk,getEmitModuleFormatOfFileWorker:()=>JU,getEmitModuleKind:()=>Tk,getEmitModuleResolutionKind:()=>Ck,getEmitScriptTarget:()=>Sk,getEmitStandardClassFields:()=>Hk,getEnclosingBlockScopeContainer:()=>Op,getEnclosingContainer:()=>Ip,getEncodedSemanticClassifications:()=>U0,getEncodedSyntacticClassifications:()=>G0,getEndLinePosition:()=>Fd,getEntityNameFromTypeNode:()=>fm,getEntrypointsFromPackageJsonInfo:()=>_M,getErrorCountForSummary:()=>g$,getErrorSpanForNode:()=>tf,getErrorSummaryText:()=>b$,getEscapedTextOfIdentifierOrLiteral:()=>Hh,getEscapedTextOfJsxAttributeName:()=>aC,getEscapedTextOfJsxNamespacedName:()=>lC,getExpandoInitializer:()=>Qm,getExportAssignmentExpression:()=>bh,getExportInfoMap:()=>P0,getExportNeedsImportStarHelper:()=>QJ,getExpressionAssociativity:()=>ay,getExpressionPrecedence:()=>cy,getExternalHelpersModuleName:()=>CA,getExternalModuleImportEqualsDeclarationExpression:()=>Fm,getExternalModuleName:()=>wg,getExternalModuleNameFromDeclaration:()=>Uy,getExternalModuleNameFromPath:()=>Wy,getExternalModuleNameLiteral:()=>FA,getExternalModuleRequireArgument:()=>Em,getFallbackOptions:()=>JV,getFileEmitOutput:()=>ZU,getFileMatcherPatterns:()=>bS,getFileNamesFromConfigSpecs:()=>jj,getFileWatcherEventKind:()=>to,getFilesInErrorForSummary:()=>h$,getFirstConstructorWithBody:()=>cv,getFirstIdentifier:()=>db,getFirstNonSpaceCharacterPosition:()=>rY,getFirstProjectOutput:()=>mV,getFixableErrorSpanExpression:()=>t0,getFormatCodeSettingsForWriting:()=>f0,getFullWidth:()=>ud,getFunctionFlags:()=>Mh,getHeritageClause:()=>Dh,getHostSignatureFromJSDoc:()=>$g,getIdentifierAutoGenerate:()=>Xw,getIdentifierGeneratedImportReference:()=>Zw,getIdentifierTypeArguments:()=>Kw,getImmediatelyInvokedFunctionExpression:()=>lm,getImpliedNodeFormatForEmitWorker:()=>zU,getImpliedNodeFormatForFile:()=>LU,getImpliedNodeFormatForFileWorker:()=>jU,getImportNeedsImportDefaultHelper:()=>YJ,getImportNeedsImportStarHelper:()=>ZJ,getIndentString:()=>jy,getInferredLibraryNameResolveFrom:()=>NU,getInitializedVariables:()=>ix,getInitializerOfBinaryExpression:()=>gg,getInitializerOfBindingOrAssignmentElement:()=>PA,getInterfaceBaseTypeNodes:()=>wh,getInternalEmitFlags:()=>ip,getInvokedExpression:()=>mm,getIsFileExcluded:()=>E0,getIsolatedModules:()=>Dk,getJSDocAugmentsTag:()=>zc,getJSDocClassTag:()=>Vc,getJSDocCommentRanges:()=>Sf,getJSDocCommentsAndTags:()=>Jg,getJSDocDeprecatedTag:()=>Yc,getJSDocDeprecatedTagNoCache:()=>el,getJSDocEnumTag:()=>tl,getJSDocHost:()=>Kg,getJSDocImplementsTags:()=>qc,getJSDocOverloadTags:()=>Wg,getJSDocOverrideTagNoCache:()=>Zc,getJSDocParameterTags:()=>Lc,getJSDocParameterTagsNoCache:()=>jc,getJSDocPrivateTag:()=>$c,getJSDocPrivateTagNoCache:()=>Hc,getJSDocProtectedTag:()=>Kc,getJSDocProtectedTagNoCache:()=>Gc,getJSDocPublicTag:()=>Uc,getJSDocPublicTagNoCache:()=>Wc,getJSDocReadonlyTag:()=>Xc,getJSDocReadonlyTagNoCache:()=>Qc,getJSDocReturnTag:()=>rl,getJSDocReturnType:()=>cl,getJSDocRoot:()=>Gg,getJSDocSatisfiesExpressionType:()=>iC,getJSDocSatisfiesTag:()=>ol,getJSDocTags:()=>_l,getJSDocTemplateTag:()=>il,getJSDocThisTag:()=>nl,getJSDocType:()=>sl,getJSDocTypeAliasName:()=>MA,getJSDocTypeAssertionType:()=>bA,getJSDocTypeParameterDeclarations:()=>xv,getJSDocTypeParameterTags:()=>Mc,getJSDocTypeParameterTagsNoCache:()=>Bc,getJSDocTypeTag:()=>al,getJSXImplicitImportBase:()=>Yk,getJSXRuntimeImport:()=>eS,getJSXTransformEnabled:()=>Zk,getKeyForCompilerOptions:()=>wR,getLanguageVariant:()=>fk,getLastChild:()=>Tx,getLeadingCommentRanges:()=>ms,getLeadingCommentRangesOfNode:()=>kf,getLeftmostAccessExpression:()=>Px,getLeftmostExpression:()=>Ix,getLibFileNameFromLibReference:()=>RC,getLibNameFromLibReference:()=>jC,getLibraryNameFromLibFileName:()=>FU,getLineAndCharacterOfPosition:()=>$a,getLineInfo:()=>EJ,getLineOfLocalPosition:()=>av,getLineStartPositionForPosition:()=>NX,getLineStarts:()=>qa,getLinesBetweenPositionAndNextNonWhitespaceCharacter:()=>ex,getLinesBetweenPositionAndPrecedingNonWhitespaceCharacter:()=>Yb,getLinesBetweenPositions:()=>Wa,getLinesBetweenRangeEndAndRangeStart:()=>Kb,getLinesBetweenRangeEndPositions:()=>Gb,getLiteralText:()=>sp,getLocalNameForExternalImport:()=>NA,getLocalSymbolForExportDefault:()=>Tb,getLocaleSpecificMessage:()=>Gx,getLocaleTimeString:()=>p$,getMappedContextSpan:()=>NZ,getMappedDocumentSpan:()=>DZ,getMappedLocation:()=>wZ,getMatchedFileSpec:()=>T$,getMatchedIncludeSpec:()=>C$,getMeaningFromDeclaration:()=>QG,getMeaningFromLocation:()=>ZG,getMembersOfDeclaration:()=>Lf,getModeForFileReference:()=>dU,getModeForResolutionAtIndex:()=>pU,getModeForUsageLocation:()=>mU,getModifiedTime:()=>Wi,getModifiers:()=>Ic,getModuleInstanceState:()=>HM,getModuleNameStringLiteralAt:()=>XU,getModuleSpecifierEndingPreference:()=>VS,getModuleSpecifierResolverHost:()=>rZ,getNameForExportedSymbol:()=>i0,getNameFromImportAttribute:()=>yC,getNameFromIndexInfo:()=>Rp,getNameFromPropertyName:()=>ZQ,getNameOfAccessExpression:()=>Fx,getNameOfCompilerOptionValue:()=>WL,getNameOfDeclaration:()=>Ec,getNameOfExpando:()=>Ym,getNameOfJSDocTypedef:()=>Dc,getNameOfScriptTarget:()=>$k,getNameOrArgument:()=>dg,getNameTable:()=>g7,getNamespaceDeclarationNode:()=>Dg,getNewLineCharacter:()=>jb,getNewLineKind:()=>d0,getNewLineOrDefaultFromHost:()=>$Z,getNewTargetContainer:()=>sm,getNextJSDocCommentLocation:()=>qg,getNodeChildren:()=>GP,getNodeForGeneratedName:()=>cI,getNodeId:()=>rJ,getNodeKind:()=>CX,getNodeModifiers:()=>SQ,getNodeModulePathParts:()=>KT,getNonAssignedNameOfDeclaration:()=>Fc,getNonAssignmentOperatorForCompoundAssignment:()=>cz,getNonAugmentationDeclaration:()=>bp,getNonDecoratorTokenPosOfNode:()=>$d,getNonIncrementalBuildInfoRoots:()=>zW,getNonModifierTokenPosOfNode:()=>Hd,getNormalizedAbsolutePath:()=>Uo,getNormalizedAbsolutePathWithoutRoot:()=>Ho,getNormalizedPathComponents:()=>Vo,getObjectFlags:()=>xx,getOperatorAssociativity:()=>sy,getOperatorPrecedence:()=>uy,getOptionFromName:()=>cL,getOptionsForLibraryResolution:()=>RR,getOptionsNameMap:()=>KO,getOptionsSyntaxByArrayElementValue:()=>JC,getOptionsSyntaxByValue:()=>zC,getOrCreateEmitNode:()=>pw,getOrUpdate:()=>V,getOriginalNode:()=>mc,getOriginalNodeId:()=>HJ,getOutputDeclarationFileName:()=>iV,getOutputDeclarationFileNameWorker:()=>oV,getOutputExtension:()=>nV,getOutputFileNames:()=>fV,getOutputJSFileNameWorker:()=>sV,getOutputPathsFor:()=>eV,getOwnEmitOutputFilePath:()=>$y,getOwnKeys:()=>Ie,getOwnValues:()=>Le,getPackageJsonTypesVersionsPaths:()=>dR,getPackageNameFromTypesPackageName:()=>jM,getPackageScopeForPath:()=>pM,getParameterSymbolFromJSDoc:()=>Vg,getParentNodeInSpan:()=>gZ,getParseTreeNode:()=>yc,getParsedCommandLineOfConfigFile:()=>fL,getPathComponents:()=>Ro,getPathFromPathComponents:()=>Mo,getPathUpdater:()=>n1,getPathsBasePath:()=>Zy,getPatternFromSpec:()=>hS,getPendingEmitKindWithSeen:()=>mW,getPositionOfLineAndCharacter:()=>Ja,getPossibleGenericSignatures:()=>yQ,getPossibleOriginalInputExtensionForExtension:()=>Xy,getPossibleOriginalInputPathWithoutChangingExt:()=>Qy,getPossibleTypeArgumentsInfo:()=>vQ,getPreEmitDiagnostics:()=>XV,getPrecedingNonSpaceCharacterPosition:()=>iY,getPrivateIdentifier:()=>kz,getProperties:()=>dz,getProperty:()=>Ae,getPropertyAssignmentAliasLikeExpression:()=>xh,getPropertyNameForPropertyNameNode:()=>Uh,getPropertyNameFromType:()=>pC,getPropertyNameOfBindingOrAssignmentElement:()=>OA,getPropertySymbolFromBindingElement:()=>mZ,getPropertySymbolsFromContextualType:()=>y7,getQuoteFromPreference:()=>_Z,getQuotePreference:()=>lZ,getRangesWhere:()=>G,getRefactorContextSpan:()=>e0,getReferencedFileLocation:()=>AU,getRegexFromPattern:()=>xS,getRegularExpressionForWildcard:()=>fS,getRegularExpressionsForWildcards:()=>mS,getRelativePathFromDirectory:()=>ca,getRelativePathFromFile:()=>_a,getRelativePathToDirectoryOrUrl:()=>ua,getRenameLocation:()=>hY,getReplacementSpanForContextToken:()=>jQ,getResolutionDiagnostic:()=>KU,getResolutionModeOverride:()=>yU,getResolveJsonModule:()=>Ak,getResolvePackageJsonExports:()=>Ek,getResolvePackageJsonImports:()=>Pk,getResolvedExternalModuleName:()=>qy,getResolvedModuleFromResolution:()=>fd,getResolvedTypeReferenceDirectiveFromResolution:()=>md,getRestIndicatorOfBindingOrAssignmentElement:()=>IA,getRestParameterElementType:()=>Of,getRightMostAssignedExpression:()=>tg,getRootDeclaration:()=>ny,getRootDirectoryOfResolutionCache:()=>i$,getRootLength:()=>Ao,getScriptKind:()=>YZ,getScriptKindFromFileName:()=>wS,getScriptTargetFeatures:()=>op,getSelectedEffectiveModifierFlags:()=>zv,getSelectedSyntacticModifierFlags:()=>qv,getSemanticClassifications:()=>q0,getSemanticJsxChildren:()=>py,getSetAccessorTypeAnnotationNode:()=>_v,getSetAccessorValueParameter:()=>lv,getSetExternalModuleIndicator:()=>yk,getShebang:()=>hs,getSingleVariableOfVariableStatement:()=>jg,getSnapshotText:()=>GQ,getSnippetElement:()=>qw,getSourceFileOfModule:()=>Td,getSourceFileOfNode:()=>Sd,getSourceFilePathInNewDir:()=>tv,getSourceFileVersionAsHashFromText:()=>j$,getSourceFilesToEmit:()=>Yy,getSourceMapRange:()=>bw,getSourceMapper:()=>R1,getSourceTextOfNodeFromSourceFile:()=>Kd,getSpanOfTokenAtPosition:()=>Yp,getSpellingSuggestion:()=>Mt,getStartPositionOfLine:()=>Dd,getStartPositionOfRange:()=>Zb,getStartsOnNewLine:()=>Tw,getStaticPropertiesAndClassStaticBlock:()=>fz,getStrictOptionValue:()=>Wk,getStringComparer:()=>Ft,getSubPatternFromSpec:()=>yS,getSuperCallFromStatement:()=>lz,getSuperContainer:()=>cm,getSupportedCodeFixes:()=>o7,getSupportedExtensions:()=>RS,getSupportedExtensionsWithJsonIfResolveJsonModule:()=>MS,getSwitchedType:()=>FY,getSymbolId:()=>iJ,getSymbolNameForPrivateIdentifier:()=>Kh,getSymbolTarget:()=>eY,getSyntacticClassifications:()=>K0,getSyntacticModifierFlags:()=>$v,getSyntacticModifierFlagsNoCache:()=>Xv,getSynthesizedDeepClone:()=>oY,getSynthesizedDeepCloneWithReplacements:()=>aY,getSynthesizedDeepClones:()=>cY,getSynthesizedDeepClonesWithReplacements:()=>lY,getSyntheticLeadingComments:()=>Nw,getSyntheticTrailingComments:()=>Pw,getTargetLabel:()=>uX,getTargetOfBindingOrAssignmentElement:()=>AA,getTemporaryModuleResolutionState:()=>dM,getTextOfConstantValue:()=>cp,getTextOfIdentifierOrLiteral:()=>$h,getTextOfJSDocComment:()=>fl,getTextOfJsxAttributeName:()=>sC,getTextOfJsxNamespacedName:()=>_C,getTextOfNode:()=>ep,getTextOfNodeFromSourceText:()=>Yd,getTextOfPropertyName:()=>Jp,getThisContainer:()=>im,getThisParameter:()=>uv,getTokenAtPosition:()=>tQ,getTokenPosOfNode:()=>Wd,getTokenSourceMapRange:()=>kw,getTouchingPropertyName:()=>YX,getTouchingToken:()=>eQ,getTrailingCommentRanges:()=>gs,getTrailingSemicolonDeferringWriter:()=>By,getTransformers:()=>Bq,getTsBuildInfoEmitOutputFilePath:()=>Zq,getTsConfigObjectLiteralExpression:()=>Gf,getTsConfigPropArrayElementValue:()=>Xf,getTypeAnnotationNode:()=>vv,getTypeArgumentOrTypeParameterList:()=>TQ,getTypeKeywordOfTypeOnlyImport:()=>bZ,getTypeNode:()=>$w,getTypeNodeIfAccessible:()=>PY,getTypeParameterFromJsDoc:()=>Xg,getTypeParameterOwner:()=>rc,getTypesPackageName:()=>OM,getUILocale:()=>It,getUniqueName:()=>gY,getUniqueSymbolId:()=>nY,getUseDefineForClassFields:()=>Mk,getWatchErrorSummaryDiagnosticMessage:()=>y$,getWatchFactory:()=>BV,group:()=>Ve,groupBy:()=>Ue,guessIndentation:()=>Ju,handleNoEmitOptions:()=>UU,handleWatchOptionsConfigDirTemplateSubstitution:()=>aj,hasAbstractModifier:()=>jv,hasAccessorModifier:()=>Mv,hasAmbientModifier:()=>Rv,hasChangesInResolutions:()=>xd,hasContextSensitiveParameters:()=>JT,hasDecorators:()=>Jv,hasDocComment:()=>xQ,hasDynamicName:()=>qh,hasEffectiveModifier:()=>Pv,hasEffectiveModifiers:()=>Fv,hasEffectiveReadonlyModifier:()=>Bv,hasExtension:()=>wo,hasImplementationTSFileExtension:()=>zS,hasIndexSignature:()=>NY,hasInferredType:()=>DC,hasInitializer:()=>Lu,hasInvalidEscape:()=>yy,hasJSDocNodes:()=>Iu,hasJSDocParameterTags:()=>Jc,hasJSFileExtension:()=>BS,hasJsonModuleEmitEnabled:()=>Jk,hasOnlyExpressionInitializer:()=>ju,hasOverrideModifier:()=>Lv,hasPossibleExternalModuleReference:()=>Pp,hasProperty:()=>Pe,hasPropertyAccessExpressionWithName:()=>dX,hasQuestionToken:()=>Eg,hasRecordedExternalHelpers:()=>wA,hasResolutionModeOverride:()=>mC,hasRestParameter:()=>Vu,hasScopeMarker:()=>Y_,hasStaticModifier:()=>Ov,hasSyntacticModifier:()=>Av,hasSyntacticModifiers:()=>Ev,hasTSFileExtension:()=>JS,hasTabstop:()=>YT,hasTrailingDirectorySeparator:()=>Fo,hasType:()=>Ou,hasTypeArguments:()=>Qg,hasZeroOrOneAsteriskCharacter:()=>tS,hostGetCanonicalFileName:()=>zy,hostUsesCaseSensitiveFileNames:()=>Jy,idText:()=>xc,identifierIsThisKeyword:()=>gv,identifierToKeywordKind:()=>kc,identity:()=>_t,identitySourceMapConsumer:()=>$J,ignoreSourceNewlines:()=>Uw,ignoredPaths:()=>no,importFromModuleSpecifier:()=>Sg,importSyntaxAffectsModuleResolution:()=>vk,indexOfAnyCharCode:()=>D,indexOfNode:()=>np,indicesOf:()=>Z,inferredTypesContainingFile:()=>DU,injectClassNamedEvaluationHelperBlockIfMissing:()=>$z,injectClassThisAssignmentIfMissing:()=>Jz,insertImports:()=>vZ,insertSorted:()=>ne,insertStatementAfterCustomPrologue:()=>zd,insertStatementAfterStandardPrologue:()=>Jd,insertStatementsAfterCustomPrologue:()=>Bd,insertStatementsAfterStandardPrologue:()=>Md,intersperse:()=>b,intrinsicTagNameToString:()=>uC,introducesArgumentsExoticObject:()=>zf,inverseJsxOptionMap:()=>SO,isAbstractConstructorSymbol:()=>vx,isAbstractModifier:()=>_N,isAccessExpression:()=>Nx,isAccessibilityModifier:()=>EQ,isAccessor:()=>h_,isAccessorModifier:()=>dN,isAliasableExpression:()=>yh,isAmbientModule:()=>dp,isAmbientPropertyDeclaration:()=>Sp,isAnyDirectorySeparator:()=>vo,isAnyImportOrBareOrAccessedRequire:()=>Np,isAnyImportOrReExport:()=>Ap,isAnyImportOrRequireStatement:()=>Fp,isAnyImportSyntax:()=>Dp,isAnySupportedFileExtension:()=>oT,isApplicableVersionedTypesKey:()=>CM,isArgumentExpressionOfElementAccess:()=>vX,isArray:()=>et,isArrayBindingElement:()=>F_,isArrayBindingOrAssignmentElement:()=>j_,isArrayBindingOrAssignmentPattern:()=>L_,isArrayBindingPattern:()=>rF,isArrayLiteralExpression:()=>oF,isArrayLiteralOrObjectLiteralDestructuringPattern:()=>AQ,isArrayTypeNode:()=>MN,isArrowFunction:()=>mF,isAsExpression:()=>EF,isAssertClause:()=>vE,isAssertEntry:()=>bE,isAssertionExpression:()=>X_,isAssertsKeyword:()=>aN,isAssignmentDeclaration:()=>Hm,isAssignmentExpression:()=>cb,isAssignmentOperator:()=>ob,isAssignmentPattern:()=>N_,isAssignmentTarget:()=>th,isAsteriskToken:()=>GD,isAsyncFunction:()=>Bh,isAsyncModifier:()=>oN,isAutoAccessorPropertyDeclaration:()=>y_,isAwaitExpression:()=>vF,isAwaitKeyword:()=>sN,isBigIntLiteral:()=>RD,isBinaryExpression:()=>kF,isBinaryLogicalOperator:()=>Yv,isBinaryOperatorToken:()=>ZA,isBindableObjectDefinePropertyCall:()=>ag,isBindableStaticAccessExpression:()=>lg,isBindableStaticElementAccessExpression:()=>_g,isBindableStaticNameExpression:()=>ug,isBindingElement:()=>iF,isBindingElementOfBareOrAccessedRequire:()=>qm,isBindingName:()=>s_,isBindingOrAssignmentElement:()=>P_,isBindingOrAssignmentPattern:()=>A_,isBindingPattern:()=>D_,isBlock:()=>BF,isBlockLike:()=>v0,isBlockOrCatchScoped:()=>_p,isBlockScope:()=>Tp,isBlockScopedContainerTopLevel:()=>gp,isBooleanLiteral:()=>u_,isBreakOrContinueStatement:()=>El,isBreakStatement:()=>XF,isBuildCommand:()=>CK,isBuildInfoFile:()=>Xq,isBuilderProgram:()=>x$,isBundle:()=>rP,isCallChain:()=>xl,isCallExpression:()=>lF,isCallExpressionTarget:()=>eX,isCallLikeExpression:()=>J_,isCallLikeOrFunctionLikeExpression:()=>B_,isCallOrNewExpression:()=>z_,isCallOrNewExpressionTarget:()=>nX,isCallSignatureDeclaration:()=>FN,isCallToHelper:()=>LD,isCaseBlock:()=>pE,isCaseClause:()=>KE,isCaseKeyword:()=>mN,isCaseOrDefaultClause:()=>Du,isCatchClause:()=>QE,isCatchClauseVariableDeclaration:()=>qT,isCatchClauseVariableDeclarationOrBindingElement:()=>up,isCheckJsEnabledForFile:()=>sT,isCircularBuildOrder:()=>eH,isClassDeclaration:()=>sE,isClassElement:()=>m_,isClassExpression:()=>DF,isClassInstanceProperty:()=>v_,isClassLike:()=>g_,isClassMemberModifier:()=>r_,isClassNamedEvaluationHelperBlock:()=>Vz,isClassOrTypeElement:()=>S_,isClassStaticBlockDeclaration:()=>CN,isClassThisAssignmentBlock:()=>Mz,isColonToken:()=>ZD,isCommaExpression:()=>hA,isCommaListExpression:()=>jF,isCommaSequence:()=>yA,isCommaToken:()=>$D,isComment:()=>CQ,isCommonJsExportPropertyAssignment:()=>Bf,isCommonJsExportedExpression:()=>Mf,isCompoundAssignment:()=>sz,isComputedNonLiteralName:()=>Mp,isComputedPropertyName:()=>hN,isConciseBody:()=>ru,isConditionalExpression:()=>SF,isConditionalTypeNode:()=>WN,isConstAssertion:()=>kC,isConstTypeReference:()=>Dl,isConstructSignatureDeclaration:()=>EN,isConstructorDeclaration:()=>wN,isConstructorTypeNode:()=>LN,isContextualKeyword:()=>Ah,isContinueStatement:()=>GF,isCustomPrologue:()=>yf,isDebuggerStatement:()=>rE,isDeclaration:()=>mu,isDeclarationBindingElement:()=>E_,isDeclarationFileName:()=>lO,isDeclarationName:()=>ph,isDeclarationNameOfEnumOrNamespace:()=>rx,isDeclarationReadonly:()=>sf,isDeclarationStatement:()=>gu,isDeclarationWithTypeParameterChildren:()=>wp,isDeclarationWithTypeParameters:()=>Cp,isDecorator:()=>bN,isDecoratorTarget:()=>iX,isDefaultClause:()=>GE,isDefaultImport:()=>Ng,isDefaultModifier:()=>iN,isDefaultedExpandoInitializer:()=>Zm,isDeleteExpression:()=>gF,isDeleteTarget:()=>uh,isDeprecatedDeclaration:()=>_0,isDestructuringAssignment:()=>lb,isDiskPathRoot:()=>ko,isDoStatement:()=>UF,isDocumentRegistryEntry:()=>X0,isDotDotDotToken:()=>WD,isDottedName:()=>pb,isDynamicName:()=>Vh,isEffectiveExternalModule:()=>xp,isEffectiveStrictModeSourceFile:()=>kp,isElementAccessChain:()=>bl,isElementAccessExpression:()=>cF,isEmittedFileOfProgram:()=>RV,isEmptyArrayLiteral:()=>Sb,isEmptyBindingElement:()=>ac,isEmptyBindingPattern:()=>oc,isEmptyObjectLiteral:()=>kb,isEmptyStatement:()=>zF,isEmptyStringLiteral:()=>km,isEntityName:()=>o_,isEntityNameExpression:()=>ub,isEnumConst:()=>af,isEnumDeclaration:()=>_E,isEnumMember:()=>tP,isEqualityOperatorKind:()=>wY,isEqualsGreaterThanToken:()=>eN,isExclamationToken:()=>XD,isExcludedFile:()=>Rj,isExclusivelyTypeOnlyImportOrExport:()=>fU,isExpandoPropertyDeclaration:()=>fC,isExportAssignment:()=>DE,isExportDeclaration:()=>NE,isExportModifier:()=>rN,isExportName:()=>pA,isExportNamespaceAsDefaultDeclaration:()=>Gd,isExportOrDefaultModifier:()=>aI,isExportSpecifier:()=>EE,isExportsIdentifier:()=>ng,isExportsOrModuleExportsOrAlias:()=>nB,isExpression:()=>G_,isExpressionNode:()=>Tm,isExpressionOfExternalModuleImportEqualsDeclaration:()=>SX,isExpressionOfOptionalChainRoot:()=>Tl,isExpressionStatement:()=>qF,isExpressionWithTypeArguments:()=>FF,isExpressionWithTypeArgumentsInClassExtendsClause:()=>_b,isExternalModule:()=>tO,isExternalModuleAugmentation:()=>yp,isExternalModuleImportEqualsDeclaration:()=>Nm,isExternalModuleIndicator:()=>tu,isExternalModuleNameRelative:()=>Es,isExternalModuleReference:()=>LE,isExternalModuleSymbol:()=>td,isExternalOrCommonJsModule:()=>rf,isFileLevelReservedGeneratedIdentifier:()=>Zl,isFileLevelUniqueName:()=>Ed,isFileProbablyExternalModule:()=>DI,isFirstDeclarationOfSymbolParameter:()=>FZ,isFixablePromiseHandler:()=>$1,isForInOrOfStatement:()=>nu,isForInStatement:()=>HF,isForInitializer:()=>ou,isForOfStatement:()=>KF,isForStatement:()=>$F,isFullSourceFile:()=>Am,isFunctionBlock:()=>Vf,isFunctionBody:()=>iu,isFunctionDeclaration:()=>aE,isFunctionExpression:()=>fF,isFunctionExpressionOrArrowFunction:()=>VT,isFunctionLike:()=>c_,isFunctionLikeDeclaration:()=>__,isFunctionLikeKind:()=>p_,isFunctionLikeOrClassStaticBlockDeclaration:()=>l_,isFunctionOrConstructorTypeNode:()=>w_,isFunctionOrModuleBlock:()=>f_,isFunctionSymbol:()=>bg,isFunctionTypeNode:()=>ON,isGeneratedIdentifier:()=>Xl,isGeneratedPrivateIdentifier:()=>Ql,isGetAccessor:()=>Au,isGetAccessorDeclaration:()=>DN,isGetOrSetAccessorDeclaration:()=>yl,isGlobalScopeAugmentation:()=>hp,isGlobalSourceFile:()=>nf,isGrammarError:()=>Id,isHeritageClause:()=>XE,isHoistedFunction:()=>vf,isHoistedVariableStatement:()=>xf,isIdentifier:()=>tN,isIdentifierANonContextualKeyword:()=>Lh,isIdentifierName:()=>gh,isIdentifierOrThisTypeNode:()=>UA,isIdentifierPart:()=>vs,isIdentifierStart:()=>ys,isIdentifierText:()=>bs,isIdentifierTypePredicate:()=>$f,isIdentifierTypeReference:()=>wT,isIfStatement:()=>VF,isIgnoredFileFromWildCardWatching:()=>jV,isImplicitGlob:()=>gS,isImportAttribute:()=>kE,isImportAttributeName:()=>Gl,isImportAttributes:()=>xE,isImportCall:()=>ff,isImportClause:()=>hE,isImportDeclaration:()=>gE,isImportEqualsDeclaration:()=>mE,isImportKeyword:()=>fN,isImportMeta:()=>mf,isImportOrExportSpecifier:()=>Vl,isImportOrExportSpecifierName:()=>ZZ,isImportSpecifier:()=>wE,isImportTypeAssertionContainer:()=>yE,isImportTypeNode:()=>YN,isImportable:()=>T0,isInComment:()=>bQ,isInCompoundLikeAssignment:()=>nh,isInExpressionContext:()=>Cm,isInJSDoc:()=>Rm,isInJSFile:()=>Om,isInJSXText:()=>fQ,isInJsonFile:()=>Lm,isInNonReferenceComment:()=>OQ,isInReferenceComment:()=>IQ,isInRightSideOfInternalImportEqualsDeclaration:()=>YG,isInString:()=>_Q,isInTemplateString:()=>pQ,isInTopLevelContext:()=>am,isInTypeQuery:()=>fv,isIncrementalBuildInfo:()=>wW,isIncrementalBundleEmitBuildInfo:()=>CW,isIncrementalCompilation:()=>Lk,isIndexSignatureDeclaration:()=>PN,isIndexedAccessTypeNode:()=>XN,isInferTypeNode:()=>$N,isInfinityOrNaNString:()=>zT,isInitializedProperty:()=>mz,isInitializedVariable:()=>ox,isInsideJsxElement:()=>mQ,isInsideJsxElementOrAttribute:()=>uQ,isInsideNodeModules:()=>XY,isInsideTemplateLiteral:()=>FQ,isInstanceOfExpression:()=>bb,isInstantiatedModule:()=>oJ,isInterfaceDeclaration:()=>cE,isInternalDeclaration:()=>$u,isInternalModuleImportEqualsDeclaration:()=>Pm,isInternalName:()=>uA,isIntersectionTypeNode:()=>UN,isIntrinsicJsxName:()=>Oy,isIterationStatement:()=>Q_,isJSDoc:()=>yP,isJSDocAllType:()=>_P,isJSDocAugmentsTag:()=>xP,isJSDocAuthorTag:()=>kP,isJSDocCallbackTag:()=>TP,isJSDocClassTag:()=>SP,isJSDocCommentContainingNode:()=>Fu,isJSDocConstructSignature:()=>Pg,isJSDocDeprecatedTag:()=>PP,isJSDocEnumTag:()=>IP,isJSDocFunctionType:()=>mP,isJSDocImplementsTag:()=>qP,isJSDocImportTag:()=>WP,isJSDocIndexSignature:()=>Mm,isJSDocLikeText:()=>wI,isJSDocLink:()=>sP,isJSDocLinkCode:()=>cP,isJSDocLinkLike:()=>qu,isJSDocLinkPlain:()=>lP,isJSDocMemberName:()=>aP,isJSDocNameReference:()=>oP,isJSDocNamepathType:()=>hP,isJSDocNamespaceBody:()=>cu,isJSDocNode:()=>Nu,isJSDocNonNullableType:()=>pP,isJSDocNullableType:()=>dP,isJSDocOptionalParameter:()=>eC,isJSDocOptionalType:()=>fP,isJSDocOverloadTag:()=>EP,isJSDocOverrideTag:()=>FP,isJSDocParameterTag:()=>OP,isJSDocPrivateTag:()=>wP,isJSDocPropertyLikeTag:()=>Al,isJSDocPropertyTag:()=>zP,isJSDocProtectedTag:()=>DP,isJSDocPublicTag:()=>CP,isJSDocReadonlyTag:()=>NP,isJSDocReturnTag:()=>LP,isJSDocSatisfiesExpression:()=>rC,isJSDocSatisfiesTag:()=>VP,isJSDocSeeTag:()=>AP,isJSDocSignature:()=>bP,isJSDocTag:()=>Eu,isJSDocTemplateTag:()=>MP,isJSDocThisTag:()=>jP,isJSDocThrowsTag:()=>UP,isJSDocTypeAlias:()=>Ag,isJSDocTypeAssertion:()=>vA,isJSDocTypeExpression:()=>iP,isJSDocTypeLiteral:()=>vP,isJSDocTypeTag:()=>RP,isJSDocTypedefTag:()=>BP,isJSDocUnknownTag:()=>JP,isJSDocUnknownType:()=>uP,isJSDocVariadicType:()=>gP,isJSXTagName:()=>Sm,isJsonEqual:()=>vT,isJsonSourceFile:()=>of,isJsxAttribute:()=>VE,isJsxAttributeLike:()=>Su,isJsxAttributeName:()=>cC,isJsxAttributes:()=>UE,isJsxCallLike:()=>wu,isJsxChild:()=>ku,isJsxClosingElement:()=>BE,isJsxClosingFragment:()=>qE,isJsxElement:()=>jE,isJsxExpression:()=>$E,isJsxFragment:()=>JE,isJsxNamespacedName:()=>HE,isJsxOpeningElement:()=>ME,isJsxOpeningFragment:()=>zE,isJsxOpeningLikeElement:()=>Cu,isJsxOpeningLikeElementTagName:()=>oX,isJsxSelfClosingElement:()=>RE,isJsxSpreadAttribute:()=>WE,isJsxTagNameExpression:()=>xu,isJsxText:()=>BD,isJumpStatementTarget:()=>pX,isKeyword:()=>Fh,isKeywordOrPunctuation:()=>Ph,isKnownSymbol:()=>Gh,isLabelName:()=>mX,isLabelOfLabeledStatement:()=>fX,isLabeledStatement:()=>eE,isLateVisibilityPaintedStatement:()=>Ep,isLeftHandSideExpression:()=>V_,isLet:()=>df,isLineBreak:()=>Ga,isLiteralComputedPropertyDeclarationName:()=>mh,isLiteralExpression:()=>Ml,isLiteralExpressionOfObject:()=>Bl,isLiteralImportTypeNode:()=>gf,isLiteralKind:()=>Rl,isLiteralNameOfPropertyDeclarationOrIndexAccess:()=>kX,isLiteralTypeLiteral:()=>K_,isLiteralTypeNode:()=>ZN,isLocalName:()=>dA,isLogicalOperator:()=>eb,isLogicalOrCoalescingAssignmentExpression:()=>nb,isLogicalOrCoalescingAssignmentOperator:()=>tb,isLogicalOrCoalescingBinaryExpression:()=>ib,isLogicalOrCoalescingBinaryOperator:()=>rb,isMappedTypeNode:()=>QN,isMemberName:()=>hl,isMetaProperty:()=>IF,isMethodDeclaration:()=>TN,isMethodOrAccessor:()=>b_,isMethodSignature:()=>SN,isMinusToken:()=>KD,isMissingDeclaration:()=>AE,isMissingPackageJsonInfo:()=>TR,isModifier:()=>i_,isModifierKind:()=>t_,isModifierLike:()=>x_,isModuleAugmentationExternal:()=>vp,isModuleBlock:()=>dE,isModuleBody:()=>au,isModuleDeclaration:()=>uE,isModuleExportName:()=>PE,isModuleExportsAccessExpression:()=>ig,isModuleIdentifier:()=>rg,isModuleName:()=>HA,isModuleOrEnumDeclaration:()=>_u,isModuleReference:()=>bu,isModuleSpecifierLike:()=>pZ,isModuleWithStringLiteralName:()=>pp,isNameOfFunctionDeclaration:()=>xX,isNameOfModuleDeclaration:()=>bX,isNamedDeclaration:()=>Nc,isNamedEvaluation:()=>Yh,isNamedEvaluationSource:()=>Zh,isNamedExportBindings:()=>Pl,isNamedExports:()=>FE,isNamedImportBindings:()=>lu,isNamedImports:()=>CE,isNamedImportsOrExports:()=>Ex,isNamedTupleMember:()=>JN,isNamespaceBody:()=>su,isNamespaceExport:()=>TE,isNamespaceExportDeclaration:()=>fE,isNamespaceImport:()=>SE,isNamespaceReexportDeclaration:()=>Dm,isNewExpression:()=>_F,isNewExpressionTarget:()=>tX,isNewScopeNode:()=>LC,isNoSubstitutionTemplateLiteral:()=>zD,isNodeArray:()=>jl,isNodeArrayMultiLine:()=>Xb,isNodeDescendantOf:()=>dh,isNodeKind:()=>Il,isNodeLikeSystem:()=>pn,isNodeModulesDirectory:()=>pa,isNodeWithPossibleHoistedDeclaration:()=>rh,isNonContextualKeyword:()=>Ih,isNonGlobalAmbientModule:()=>fp,isNonNullAccess:()=>nC,isNonNullChain:()=>Fl,isNonNullExpression:()=>AF,isNonStaticMethodOrAccessorWithPrivateName:()=>gz,isNotEmittedStatement:()=>IE,isNullishCoalesce:()=>wl,isNumber:()=>rt,isNumericLiteral:()=>jD,isNumericLiteralName:()=>WT,isObjectBindingElementWithoutPropertyName:()=>fZ,isObjectBindingOrAssignmentElement:()=>O_,isObjectBindingOrAssignmentPattern:()=>I_,isObjectBindingPattern:()=>nF,isObjectLiteralElement:()=>Ru,isObjectLiteralElementLike:()=>T_,isObjectLiteralExpression:()=>aF,isObjectLiteralMethod:()=>Uf,isObjectLiteralOrClassExpressionMethodOrAccessor:()=>Wf,isObjectTypeDeclaration:()=>wx,isOmittedExpression:()=>NF,isOptionalChain:()=>kl,isOptionalChainRoot:()=>Sl,isOptionalDeclaration:()=>tC,isOptionalJSDocPropertyLikeTag:()=>QT,isOptionalTypeNode:()=>zN,isOuterExpression:()=>xA,isOutermostOptionalChain:()=>Cl,isOverrideModifier:()=>uN,isPackageJsonInfo:()=>SR,isPackedArrayLiteral:()=>jT,isParameter:()=>vN,isParameterPropertyDeclaration:()=>ic,isParameterPropertyModifier:()=>n_,isParenthesizedExpression:()=>pF,isParenthesizedTypeNode:()=>HN,isParseTreeNode:()=>hc,isPartOfParameterDeclaration:()=>ty,isPartOfTypeNode:()=>Ef,isPartOfTypeOnlyImportOrExportDeclaration:()=>Hl,isPartOfTypeQuery:()=>wm,isPartiallyEmittedExpression:()=>LF,isPatternMatch:()=>tn,isPinnedComment:()=>Vd,isPlainJsFile:()=>Cd,isPlusToken:()=>HD,isPossiblyTypeArgumentPosition:()=>hQ,isPostfixUnaryExpression:()=>xF,isPrefixUnaryExpression:()=>bF,isPrimitiveLiteralValue:()=>CC,isPrivateIdentifier:()=>nN,isPrivateIdentifierClassElementDeclaration:()=>Yl,isPrivateIdentifierPropertyAccessExpression:()=>e_,isPrivateIdentifierSymbol:()=>Xh,isProgramUptoDate:()=>IU,isPrologueDirective:()=>hf,isPropertyAccessChain:()=>vl,isPropertyAccessEntityNameExpression:()=>fb,isPropertyAccessExpression:()=>sF,isPropertyAccessOrQualifiedName:()=>M_,isPropertyAccessOrQualifiedNameOrImportTypeNode:()=>R_,isPropertyAssignment:()=>ZE,isPropertyDeclaration:()=>kN,isPropertyName:()=>a_,isPropertyNameLiteral:()=>Wh,isPropertySignature:()=>xN,isPrototypeAccess:()=>gb,isPrototypePropertyAssignment:()=>hg,isPunctuation:()=>Eh,isPushOrUnshiftIdentifier:()=>ey,isQualifiedName:()=>gN,isQuestionDotToken:()=>YD,isQuestionOrExclamationToken:()=>VA,isQuestionOrPlusOrMinusToken:()=>$A,isQuestionToken:()=>QD,isReadonlyKeyword:()=>cN,isReadonlyKeywordOrPlusOrMinusToken:()=>WA,isRecognizedTripleSlashComment:()=>qd,isReferenceFileLocation:()=>PU,isReferencedFile:()=>EU,isRegularExpressionLiteral:()=>JD,isRequireCall:()=>Bm,isRequireVariableStatement:()=>Um,isRestParameter:()=>Uu,isRestTypeNode:()=>qN,isReturnStatement:()=>QF,isReturnStatementWithFixablePromiseHandler:()=>W1,isRightSideOfAccessExpression:()=>yb,isRightSideOfInstanceofExpression:()=>xb,isRightSideOfPropertyAccess:()=>yX,isRightSideOfQualifiedName:()=>hX,isRightSideOfQualifiedNameOrPropertyAccess:()=>hb,isRightSideOfQualifiedNameOrPropertyAccessOrJSDocMemberName:()=>vb,isRootedDiskPath:()=>xo,isSameEntityName:()=>eg,isSatisfiesExpression:()=>PF,isSemicolonClassElement:()=>MF,isSetAccessor:()=>Pu,isSetAccessorDeclaration:()=>NN,isShiftOperatorOrHigher:()=>KA,isShorthandAmbientModuleSymbol:()=>mp,isShorthandPropertyAssignment:()=>YE,isSideEffectImport:()=>NC,isSignedNumericLiteral:()=>zh,isSimpleCopiableExpression:()=>oz,isSimpleInlineableExpression:()=>az,isSimpleParameterList:()=>wz,isSingleOrDoubleQuote:()=>Wm,isSolutionConfig:()=>mj,isSourceElement:()=>vC,isSourceFile:()=>nP,isSourceFileFromLibrary:()=>g0,isSourceFileJS:()=>Im,isSourceFileNotJson:()=>jm,isSourceMapping:()=>jJ,isSpecialPropertyDeclaration:()=>yg,isSpreadAssignment:()=>eP,isSpreadElement:()=>wF,isStatement:()=>yu,isStatementButNotDeclaration:()=>hu,isStatementOrBlock:()=>vu,isStatementWithLocals:()=>wd,isStatic:()=>Iv,isStaticModifier:()=>lN,isString:()=>nt,isStringANonContextualKeyword:()=>Oh,isStringAndEmptyAnonymousObjectIntersection:()=>NQ,isStringDoubleQuoted:()=>$m,isStringLiteral:()=>MD,isStringLiteralLike:()=>zu,isStringLiteralOrJsxExpression:()=>Tu,isStringLiteralOrTemplate:()=>DY,isStringOrNumericLiteralLike:()=>Jh,isStringOrRegularExpressionOrTemplateLiteral:()=>wQ,isStringTextContainingNode:()=>Kl,isSuperCall:()=>pf,isSuperKeyword:()=>pN,isSuperProperty:()=>_m,isSupportedSourceFileName:()=>US,isSwitchStatement:()=>YF,isSyntaxList:()=>$P,isSyntheticExpression:()=>OF,isSyntheticReference:()=>OE,isTagName:()=>gX,isTaggedTemplateExpression:()=>uF,isTaggedTemplateTag:()=>rX,isTemplateExpression:()=>TF,isTemplateHead:()=>qD,isTemplateLiteral:()=>q_,isTemplateLiteralKind:()=>Jl,isTemplateLiteralToken:()=>zl,isTemplateLiteralTypeNode:()=>tF,isTemplateLiteralTypeSpan:()=>eF,isTemplateMiddle:()=>VD,isTemplateMiddleOrTemplateTail:()=>ql,isTemplateSpan:()=>RF,isTemplateTail:()=>UD,isTextWhiteSpaceLike:()=>CZ,isThis:()=>wX,isThisContainerOrFunctionBlock:()=>om,isThisIdentifier:()=>pv,isThisInTypeQuery:()=>mv,isThisInitializedDeclaration:()=>dm,isThisInitializedObjectBindingExpression:()=>pm,isThisProperty:()=>um,isThisTypeNode:()=>KN,isThisTypeParameter:()=>HT,isThisTypePredicate:()=>Hf,isThrowStatement:()=>tE,isToken:()=>Ll,isTokenKind:()=>Ol,isTraceEnabled:()=>Zj,isTransientSymbol:()=>ed,isTrivia:()=>jh,isTryStatement:()=>nE,isTupleTypeNode:()=>BN,isTypeAlias:()=>Ig,isTypeAliasDeclaration:()=>lE,isTypeAssertionExpression:()=>dF,isTypeDeclaration:()=>GT,isTypeElement:()=>k_,isTypeKeyword:()=>WQ,isTypeKeywordTokenOrIdentifier:()=>HQ,isTypeLiteralNode:()=>RN,isTypeNode:()=>C_,isTypeNodeKind:()=>Dx,isTypeOfExpression:()=>hF,isTypeOnlyExportDeclaration:()=>Wl,isTypeOnlyImportDeclaration:()=>Ul,isTypeOnlyImportOrExportDeclaration:()=>$l,isTypeOperatorNode:()=>GN,isTypeParameterDeclaration:()=>yN,isTypePredicateNode:()=>AN,isTypeQueryNode:()=>jN,isTypeReferenceNode:()=>IN,isTypeReferenceType:()=>Mu,isTypeUsableAsPropertyName:()=>dC,isUMDExportSymbol:()=>kx,isUnaryExpression:()=>W_,isUnaryExpressionWithWrite:()=>H_,isUnicodeIdentifierStart:()=>Pa,isUnionTypeNode:()=>VN,isUrl:()=>bo,isValidBigIntString:()=>TT,isValidESSymbolDeclaration:()=>Jf,isValidTypeOnlyAliasUseSite:()=>CT,isValueSignatureDeclaration:()=>ih,isVarAwaitUsing:()=>cf,isVarConst:()=>_f,isVarConstLike:()=>uf,isVarUsing:()=>lf,isVariableDeclaration:()=>iE,isVariableDeclarationInVariableStatement:()=>Rf,isVariableDeclarationInitializedToBareOrAccessedRequire:()=>zm,isVariableDeclarationInitializedToRequire:()=>Jm,isVariableDeclarationList:()=>oE,isVariableLike:()=>jf,isVariableStatement:()=>JF,isVoidExpression:()=>yF,isWatchSet:()=>ax,isWhileStatement:()=>WF,isWhiteSpaceLike:()=>Ha,isWhiteSpaceSingleLine:()=>Ka,isWithStatement:()=>ZF,isWriteAccess:()=>px,isWriteOnlyAccess:()=>dx,isYieldExpression:()=>CF,jsxModeNeedsExplicitImport:()=>m0,keywordPart:()=>IZ,last:()=>ke,lastOrUndefined:()=>xe,length:()=>p,libMap:()=>wO,libs:()=>CO,lineBreakPart:()=>HZ,loadModuleFromGlobalCache:()=>qM,loadWithModeAwareCache:()=>wU,makeIdentifierFromModuleName:()=>lp,makeImport:()=>oZ,makeStringLiteral:()=>aZ,mangleScopedPackageName:()=>LM,map:()=>A,mapAllOrFail:()=>J,mapDefined:()=>z,mapDefinedIterator:()=>q,mapEntries:()=>H,mapIterator:()=>I,mapOneOrMany:()=>n0,mapToDisplayParts:()=>KZ,matchFiles:()=>kS,matchPatternOrExact:()=>lT,matchedText:()=>Xt,matchesExclude:()=>Bj,matchesExcludeWorker:()=>Jj,maxBy:()=>Tt,maybeBind:()=>Ke,maybeSetLocalizedDiagnosticMessages:()=>Kx,memoize:()=>mt,memoizeOne:()=>gt,min:()=>Ct,minAndMax:()=>dT,missingFileModifiedTime:()=>Ui,modifierToFlag:()=>Zv,modifiersToFlags:()=>Qv,moduleExportNameIsDefault:()=>Zd,moduleExportNameTextEscaped:()=>Qd,moduleExportNameTextUnescaped:()=>Xd,moduleOptionDeclaration:()=>EO,moduleResolutionIsEqualTo:()=>pd,moduleResolutionNameAndModeGetter:()=>xU,moduleResolutionOptionDeclarations:()=>jO,moduleResolutionSupportsPackageJsonExportsAndImports:()=>Vk,moduleResolutionUsesNodeModules:()=>iZ,moduleSpecifierToValidIdentifier:()=>s0,moduleSpecifiers:()=>aB,moduleSupportsImportAttributes:()=>Uk,moduleSymbolToValidIdentifier:()=>a0,moveEmitHelpers:()=>zw,moveRangeEnd:()=>Mb,moveRangePastDecorators:()=>Jb,moveRangePastModifiers:()=>zb,moveRangePos:()=>Bb,moveSyntheticComments:()=>Ow,mutateMap:()=>yx,mutateMapSkippingNewValues:()=>hx,needsParentheses:()=>SY,needsScopeMarker:()=>eu,newCaseClauseTracker:()=>h0,newPrivateEnvironment:()=>xz,noEmitNotification:()=>$q,noEmitSubstitution:()=>Wq,noTransformers:()=>Mq,noTruncationMaximumTruncationLength:()=>Xu,nodeCanBeDecorated:()=>gm,nodeCoreModules:()=>AC,nodeHasName:()=>wc,nodeIsDecorated:()=>hm,nodeIsMissing:()=>Pd,nodeIsPresent:()=>Ad,nodeIsSynthesized:()=>iy,nodeModuleNameResolver:()=>$R,nodeModulesPathPart:()=>ZR,nodeNextJsonConfigResolver:()=>HR,nodeOrChildIsDecorated:()=>ym,nodeOverlapsWithStartEnd:()=>OX,nodePosToString:()=>Nd,nodeSeenTracker:()=>KQ,nodeStartsNewLexicalEnvironment:()=>ry,noop:()=>at,noopFileWatcher:()=>E$,normalizePath:()=>Wo,normalizeSlashes:()=>Bo,normalizeSpans:()=>Gs,not:()=>on,notImplemented:()=>ft,notImplementedResolver:()=>bV,nullNodeConverters:()=>KC,nullParenthesizerRules:()=>WC,nullTransformationContext:()=>Kq,objectAllocator:()=>qx,operatorPart:()=>LZ,optionDeclarations:()=>AO,optionMapToObject:()=>qL,optionsAffectingProgramStructure:()=>MO,optionsForBuild:()=>UO,optionsForWatch:()=>DO,optionsHaveChanges:()=>od,or:()=>rn,orderedRemoveItem:()=>Ut,orderedRemoveItemAt:()=>Wt,packageIdToPackageName:()=>yd,packageIdToString:()=>vd,parameterIsThisKeyword:()=>dv,parameterNamePart:()=>jZ,parseBaseNodeFactory:()=>kI,parseBigInt:()=>kT,parseBuildCommand:()=>dL,parseCommandLine:()=>sL,parseCommandLineWorker:()=>rL,parseConfigFileTextToJson:()=>gL,parseConfigFileWithSystem:()=>m$,parseConfigHostFromCompilerHostLike:()=>$U,parseCustomTypeOption:()=>YO,parseIsolatedEntityName:()=>YI,parseIsolatedJSDocComment:()=>rO,parseJSDocTypeExpressionForTests:()=>iO,parseJsonConfigFileContent:()=>YL,parseJsonSourceFileConfigFileContent:()=>ej,parseJsonText:()=>eO,parseListTypeOption:()=>eL,parseNodeFactory:()=>SI,parseNodeModuleFromPath:()=>eM,parsePackageName:()=>vM,parsePseudoBigInt:()=>bT,parseValidBigInt:()=>ST,pasteEdits:()=>Ofe,patchWriteFileEnsuringDirectory:()=>uo,pathContainsNodeModules:()=>YR,pathIsAbsolute:()=>So,pathIsBareSpecifier:()=>Co,pathIsRelative:()=>To,patternText:()=>Gt,performIncrementalCompilation:()=>V$,performance:()=>Hn,positionBelongsToNode:()=>jX,positionIsASICandidate:()=>RY,positionIsSynthesized:()=>tT,positionsAreOnSameLine:()=>Qb,preProcessFile:()=>L1,probablyUsesSemicolons:()=>MY,processCommentPragmas:()=>uO,processPragmasIntoFields:()=>dO,processTaggedTemplateExpression:()=>Xz,programContainsEsModules:()=>eZ,programContainsModules:()=>YQ,projectReferenceIsEqualTo:()=>dd,propertyNamePart:()=>RZ,pseudoBigIntToString:()=>xT,punctuationPart:()=>OZ,pushIfUnique:()=>ue,quote:()=>CY,quotePreferenceFromString:()=>cZ,rangeContainsPosition:()=>EX,rangeContainsPositionExclusive:()=>PX,rangeContainsRange:()=>tx,rangeContainsRangeExclusive:()=>FX,rangeContainsStartEnd:()=>AX,rangeEndIsOnSameLineAsRangeStart:()=>Hb,rangeEndPositionsAreOnSameLine:()=>Wb,rangeEquals:()=>me,rangeIsOnSingleLine:()=>Vb,rangeOfNode:()=>pT,rangeOfTypeParameters:()=>fT,rangeOverlapsWithStartEnd:()=>IX,rangeStartIsOnSameLineAsRangeEnd:()=>$b,rangeStartPositionsAreOnSameLine:()=>Ub,readBuilderProgram:()=>U$,readConfigFile:()=>mL,readJson:()=>Pb,readJsonConfigFile:()=>hL,readJsonOrUndefined:()=>Eb,reduceEachLeadingCommentRange:()=>ds,reduceEachTrailingCommentRange:()=>ps,reduceLeft:()=>Fe,reduceLeftIterator:()=>y,reducePathComponents:()=>Jo,refactor:()=>m6,regExpEscape:()=>aS,regularExpressionFlagToCharacterCode:()=>Ra,relativeComplement:()=>ae,removeAllComments:()=>mw,removeEmitHelper:()=>Bw,removeExtension:()=>XS,removeFileExtension:()=>KS,removeIgnoredPath:()=>$W,removeMinAndVersionNumbers:()=>Vt,removePrefix:()=>Yt,removeSuffix:()=>zt,removeTrailingDirectorySeparator:()=>Go,repeatString:()=>XQ,replaceElement:()=>we,replaceFirstStar:()=>hC,resolutionExtensionIsTSOrJson:()=>rT,resolveConfigFileProjectName:()=>X$,resolveJSModule:()=>qR,resolveLibrary:()=>MR,resolveModuleName:()=>JR,resolveModuleNameFromCache:()=>BR,resolvePackageNameToPackageJson:()=>xR,resolvePath:()=>qo,resolveProjectReferencePath:()=>HU,resolveTripleslashReference:()=>VV,resolveTypeReferenceDirective:()=>yR,resolvingEmptyArray:()=>Hu,returnFalse:()=>st,returnNoopFileWatcher:()=>P$,returnTrue:()=>ct,returnUndefined:()=>lt,returnsPromise:()=>U1,rewriteModuleSpecifier:()=>Dz,sameFlatMap:()=>B,sameMap:()=>O,sameMapping:()=>LJ,scanTokenAtPosition:()=>ef,scanner:()=>GG,semanticDiagnosticsOptionDeclarations:()=>IO,serializeCompilerOptions:()=>$L,server:()=>Ufe,servicesVersion:()=>M8,setCommentRange:()=>Dw,setConfigFileInOptions:()=>tj,setConstantValue:()=>jw,setEmitFlags:()=>gw,setGetSourceFileAsHashVersioned:()=>R$,setIdentifierAutoGenerate:()=>Gw,setIdentifierGeneratedImportReference:()=>Qw,setIdentifierTypeArguments:()=>Hw,setInternalEmitFlags:()=>yw,setLocalizedDiagnosticMessages:()=>Hx,setNodeChildren:()=>XP,setNodeFlags:()=>AT,setObjectAllocator:()=>Wx,setOriginalNode:()=>dw,setParent:()=>IT,setParentRecursive:()=>OT,setPrivateIdentifier:()=>Sz,setSnippetElement:()=>Vw,setSourceMapRange:()=>xw,setStackTraceLimit:()=>zi,setStartsOnNewLine:()=>Cw,setSyntheticLeadingComments:()=>Fw,setSyntheticTrailingComments:()=>Aw,setSys:()=>fo,setSysLog:()=>oo,setTextRange:()=>vI,setTextRangeEnd:()=>FT,setTextRangePos:()=>NT,setTextRangePosEnd:()=>ET,setTextRangePosWidth:()=>PT,setTokenSourceMapRange:()=>Sw,setTypeNode:()=>Ww,setUILocale:()=>Ot,setValueDeclaration:()=>vg,shouldAllowImportingTsExtension:()=>zM,shouldPreserveConstEnums:()=>Ok,shouldRewriteModuleSpecifier:()=>Cg,shouldUseUriStyleNodeCoreModules:()=>u0,showModuleSpecifier:()=>Sx,signatureHasRestParameter:()=>_J,signatureToDisplayParts:()=>QZ,single:()=>Te,singleElementArray:()=>sn,singleIterator:()=>W,singleOrMany:()=>Ce,singleOrUndefined:()=>Se,skipAlias:()=>_x,skipConstraint:()=>QQ,skipOuterExpressions:()=>kA,skipParentheses:()=>_h,skipPartiallyEmittedExpressions:()=>Nl,skipTrivia:()=>ns,skipTypeChecking:()=>mT,skipTypeCheckingIgnoringNoCheck:()=>gT,skipTypeParentheses:()=>lh,skipWhile:()=>dn,sliceAfter:()=>_T,some:()=>K,sortAndDeduplicate:()=>re,sortAndDeduplicateDiagnostics:()=>Ps,sourceFileAffectingCompilerOptions:()=>RO,sourceFileMayBeEmitted:()=>ev,sourceMapCommentRegExp:()=>NJ,sourceMapCommentRegExpDontCareLineStart:()=>DJ,spacePart:()=>AZ,spanMap:()=>$,startEndContainsRange:()=>nx,startEndOverlapsWithStartEnd:()=>LX,startOnNewLine:()=>TA,startTracing:()=>mr,startsWith:()=>Zt,startsWithDirectory:()=>aa,startsWithUnderscore:()=>l0,startsWithUseStrict:()=>gA,stringContainsAt:()=>c0,stringToToken:()=>La,stripQuotes:()=>Iy,supportedDeclarationExtensions:()=>OS,supportedJSExtensionsFlat:()=>PS,supportedLocaleDirectories:()=>pc,supportedTSExtensionsFlat:()=>NS,supportedTSImplementationExtensions:()=>LS,suppressLeadingAndTrailingTrivia:()=>_Y,suppressLeadingTrivia:()=>uY,suppressTrailingTrivia:()=>dY,symbolEscapedNameNoDefault:()=>dZ,symbolName:()=>Sc,symbolNameNoDefault:()=>uZ,symbolToDisplayParts:()=>XZ,sys:()=>po,sysLog:()=>io,tagNamesAreEquivalent:()=>vO,takeWhile:()=>un,targetOptionDeclaration:()=>FO,targetToLibMap:()=>As,testFormatSettings:()=>MG,textChangeRangeIsUnchanged:()=>Ys,textChangeRangeNewSpan:()=>Zs,textChanges:()=>rde,textOrKeywordPart:()=>MZ,textPart:()=>BZ,textRangeContainsPositionInclusive:()=>Rs,textRangeContainsTextSpan:()=>Js,textRangeIntersectsWithTextSpan:()=>Hs,textSpanContainsPosition:()=>js,textSpanContainsTextRange:()=>Bs,textSpanContainsTextSpan:()=>Ms,textSpanEnd:()=>Os,textSpanIntersection:()=>Ks,textSpanIntersectsWith:()=>Us,textSpanIntersectsWithPosition:()=>$s,textSpanIntersectsWithTextSpan:()=>Vs,textSpanIsEmpty:()=>Ls,textSpanOverlap:()=>qs,textSpanOverlapsWith:()=>zs,textSpansEqual:()=>xZ,textToKeywordObj:()=>ya,timestamp:()=>$n,toArray:()=>tt,toBuilderFileEmit:()=>RW,toBuilderStateFileInfoForMultiEmit:()=>jW,toEditorSettings:()=>t7,toFileNameLowerCase:()=>pt,toPath:()=>Ko,toProgramEmitPending:()=>MW,toSorted:()=>pe,tokenIsIdentifierOrKeyword:()=>ga,tokenIsIdentifierOrKeywordOrGreaterThan:()=>ha,tokenToString:()=>Oa,trace:()=>Qj,tracing:()=>Xn,tracingEnabled:()=>Qn,transferSourceFileChildren:()=>ZP,transform:()=>b7,transformClassFields:()=>eq,transformDeclarations:()=>Lq,transformECMAScriptModule:()=>wq,transformES2015:()=>xq,transformES2016:()=>vq,transformES2017:()=>oq,transformES2018:()=>sq,transformES2019:()=>cq,transformES2020:()=>lq,transformES2021:()=>_q,transformESDecorators:()=>iq,transformESNext:()=>uq,transformGenerators:()=>kq,transformImpliedNodeFormatDependentModule:()=>Dq,transformJsx:()=>hq,transformLegacyDecorators:()=>rq,transformModule:()=>Sq,transformNamedEvaluation:()=>Kz,transformNodes:()=>Hq,transformSystemModule:()=>Cq,transformTypeScript:()=>Yz,transpile:()=>a2,transpileDeclaration:()=>e2,transpileModule:()=>Y1,transpileOptionValueCompilerOptions:()=>BO,tryAddToSet:()=>U,tryAndIgnoreErrors:()=>VY,tryCast:()=>it,tryDirectoryExists:()=>qY,tryExtractTSExtension:()=>Cb,tryFileExists:()=>zY,tryGetClassExtendingExpressionWithTypeArguments:()=>ab,tryGetClassImplementingOrExtendingExpressionWithTypeArguments:()=>sb,tryGetDirectories:()=>BY,tryGetExtensionFromPath:()=>aT,tryGetImportFromModuleSpecifier:()=>Tg,tryGetJSDocSatisfiesTypeNode:()=>oC,tryGetModuleNameFromFile:()=>EA,tryGetModuleSpecifierFromDeclaration:()=>kg,tryGetNativePerformanceHooks:()=>Vn,tryGetPropertyAccessOrIdentifierToString:()=>mb,tryGetPropertyNameOfBindingOrAssignmentElement:()=>LA,tryGetSourceMappingURL:()=>PJ,tryGetTextOfPropertyName:()=>Bp,tryParseJson:()=>Ab,tryParsePattern:()=>ZS,tryParsePatterns:()=>eT,tryParseRawSourceMap:()=>IJ,tryReadDirectory:()=>JY,tryReadFile:()=>yL,tryRemoveDirectoryPrefix:()=>iS,tryRemoveExtension:()=>GS,tryRemovePrefix:()=>en,tryRemoveSuffix:()=>qt,tscBuildOption:()=>VO,typeAcquisitionDeclarations:()=>$O,typeAliasNamePart:()=>JZ,typeDirectiveIsEqualTo:()=>bd,typeKeywords:()=>UQ,typeParameterNamePart:()=>zZ,typeToDisplayParts:()=>GZ,unchangedPollThresholds:()=>Gi,unchangedTextChangeRange:()=>tc,unescapeLeadingUnderscores:()=>bc,unmangleScopedPackageName:()=>RM,unorderedRemoveItem:()=>Ht,unprefixedNodeCoreModules:()=>EC,unreachableCodeIsError:()=>zk,unsetNodeChildren:()=>QP,unusedLabelIsError:()=>qk,unwrapInnermostStatementOfLabel:()=>qf,unwrapParenthesizedExpression:()=>wC,updateErrorForNoInputFiles:()=>hj,updateLanguageServiceSourceFile:()=>l7,updateMissingFilePathsWatch:()=>OV,updateResolutionField:()=>sR,updateSharedExtendedConfigFileWatcher:()=>PV,updateSourceFile:()=>nO,updateWatchingWildcardDirectories:()=>LV,usingSingleLineStringWriter:()=>_d,utf16EncodeAsString:()=>Cs,validateLocaleAndSetLanguage:()=>fc,version:()=>l,versionMajorMinor:()=>s,visitArray:()=>mJ,visitCommaListElements:()=>kJ,visitEachChild:()=>SJ,visitFunctionBody:()=>bJ,visitIterationBody:()=>xJ,visitLexicalEnvironment:()=>hJ,visitNode:()=>pJ,visitNodes:()=>fJ,visitParameterList:()=>yJ,walkUpBindingElementsAndPatterns:()=>sc,walkUpOuterExpressions:()=>SA,walkUpParenthesizedExpressions:()=>sh,walkUpParenthesizedTypes:()=>ah,walkUpParenthesizedTypesAndGetParentAndChild:()=>ch,whitespaceOrMapCommentRegExp:()=>FJ,writeCommentRange:()=>wv,writeFile:()=>rv,writeFileEnsuringDirectories:()=>ov,zipWith:()=>v});var Ufe={};i(Ufe,{ActionInvalidate:()=>tG,ActionPackageInstalled:()=>nG,ActionSet:()=>eG,ActionWatchTypingLocations:()=>sG,Arguments:()=>ZK,AutoImportProviderProject:()=>Vme,AuxiliaryProject:()=>zme,CharRangeSection:()=>Lhe,CloseFileWatcherEvent:()=>lge,CommandNames:()=>lhe,ConfigFileDiagEvent:()=>rge,ConfiguredProject:()=>Ume,ConfiguredProjectLoadKind:()=>Pge,CreateDirectoryWatcherEvent:()=>cge,CreateFileWatcherEvent:()=>sge,Errors:()=>Zfe,EventBeginInstallTypes:()=>iG,EventEndInstallTypes:()=>oG,EventInitializationFailed:()=>aG,EventTypesRegistry:()=>rG,ExternalProject:()=>Wme,GcTimer:()=>fme,InferredProject:()=>Jme,LargeFileReferencedEvent:()=>nge,LineIndex:()=>zhe,LineLeaf:()=>Vhe,LineNode:()=>qhe,LogLevel:()=>eme,Msg:()=>nme,OpenFileInfoTelemetryEvent:()=>age,Project:()=>Bme,ProjectInfoTelemetryEvent:()=>oge,ProjectKind:()=>Ame,ProjectLanguageServiceStateEvent:()=>ige,ProjectLoadingFinishEvent:()=>tge,ProjectLoadingStartEvent:()=>ege,ProjectService:()=>Zge,ProjectsUpdatedInBackgroundEvent:()=>Yme,ScriptInfo:()=>Fme,ScriptVersionCache:()=>Bhe,Session:()=>Dhe,TextStorage:()=>Dme,ThrottledOperations:()=>pme,TypingsInstallerAdapter:()=>Whe,allFilesAreJsOrDts:()=>Lme,allRootFilesAreJsOrDts:()=>Ome,asNormalizedPath:()=>ame,convertCompilerOptions:()=>hge,convertFormatOptions:()=>gge,convertScriptKindName:()=>xge,convertTypeAcquisition:()=>vge,convertUserPreferences:()=>kge,convertWatchOptions:()=>yge,countEachFileTypes:()=>Ime,createInstallTypingsRequest:()=>rme,createModuleSpecifierCache:()=>the,createNormalizedPathMap:()=>sme,createPackageJsonCache:()=>nhe,createSortedArray:()=>dme,emptyArray:()=>tme,findArgument:()=>lG,formatDiagnosticToProtocol:()=>che,formatMessage:()=>_he,getBaseConfigFileName:()=>mme,getDetailWatchInfo:()=>Bge,getLocationInNewDocument:()=>Ahe,hasArgument:()=>cG,hasNoTypeScriptSource:()=>jme,indent:()=>dG,isBackgroundProject:()=>Gme,isConfigFile:()=>Yge,isConfiguredProject:()=>Hme,isDynamicFileName:()=>Nme,isExternalProject:()=>Kme,isInferredProject:()=>$me,isInferredProjectName:()=>cme,isProjectDeferredClose:()=>Xme,makeAutoImportProviderProjectName:()=>_me,makeAuxiliaryProjectName:()=>ume,makeInferredProjectName:()=>lme,maxFileSize:()=>Zme,maxProgramSizeForNonTsFiles:()=>Qme,normalizedPathToPath:()=>ome,nowString:()=>_G,nullCancellationToken:()=>rhe,nullTypingsInstaller:()=>wge,protocol:()=>gme,scriptInfoIsContainedByBackgroundProject:()=>Eme,scriptInfoIsContainedByDeferredClosedProject:()=>Pme,stringifyIndented:()=>pG,toEvent:()=>dhe,toNormalizedPath:()=>ime,tryConvertScriptKindName:()=>bge,typingsInstaller:()=>Wfe,updateProjectIfDirty:()=>zge});var Wfe={};i(Wfe,{TypingsInstaller:()=>Xfe,getNpmCommandForInstallation:()=>Gfe,installNpmPackages:()=>Kfe,typingsName:()=>Qfe});var $fe={isEnabled:()=>!1,writeLine:at};function Hfe(e,t,n,r){try{const r=JR(t,zo(e,"index.d.ts"),{moduleResolution:2},n);return r.resolvedModule&&r.resolvedModule.resolvedFileName}catch(i){return void(r.isEnabled()&&r.writeLine(`Failed to resolve ${t} in folder '${e}': ${i.message}`))}}function Kfe(e,t,n,r){let i=!1;for(let o=n.length;o>0;){const a=Gfe(e,t,n,o);o=a.remaining,i=r(a.command)||i}return i}function Gfe(e,t,n,r){const i=n.length-r;let o,a=r;for(;o=`${e} install --ignore-scripts ${(a===n.length?n:n.slice(i,i+a)).join(" ")} --save-dev --user-agent="typesInstaller/${t}"`,!(o.length<8e3);)a-=Math.floor(a/2);return{command:o,remaining:r-a}}var Xfe=class{constructor(e,t,n,r,i,o=$fe){this.installTypingHost=e,this.globalCachePath=t,this.safeListPath=n,this.typesMapLocation=r,this.throttleLimit=i,this.log=o,this.packageNameToTypingLocation=new Map,this.missingTypingsSet=new Set,this.knownCachesSet=new Set,this.projectWatchers=new Map,this.pendingRunRequests=[],this.installRunCount=1,this.inFlightRequestCount=0,this.latestDistTag="latest",this.log.isEnabled()&&this.log.writeLine(`Global cache location '${t}', safe file path '${n}', types map path ${r}`),this.processCacheLocation(this.globalCachePath)}handleRequest(e){switch(e.kind){case"discover":this.install(e);break;case"closeProject":this.closeProject(e);break;case"typesRegistry":{const e={};this.typesRegistry.forEach((t,n)=>{e[n]=t});const t={kind:rG,typesRegistry:e};this.sendResponse(t);break}case"installPackage":this.installPackage(e);break;default:fn.assertNever(e)}}closeProject(e){this.closeWatchers(e.projectName)}closeWatchers(e){this.log.isEnabled()&&this.log.writeLine(`Closing file watchers for project '${e}'`),this.projectWatchers.get(e)?(this.projectWatchers.delete(e),this.sendResponse({kind:sG,projectName:e,files:[]}),this.log.isEnabled()&&this.log.writeLine(`Closing file watchers for project '${e}' - done.`)):this.log.isEnabled()&&this.log.writeLine(`No watchers are registered for project '${e}'`)}install(e){this.log.isEnabled()&&this.log.writeLine(`Got install request${pG(e)}`),e.cachePath&&(this.log.isEnabled()&&this.log.writeLine(`Request specifies cache path '${e.cachePath}', loading cached information...`),this.processCacheLocation(e.cachePath)),void 0===this.safeList&&this.initializeSafeList();const t=QK.discoverTypings(this.installTypingHost,this.log.isEnabled()?e=>this.log.writeLine(e):void 0,e.fileNames,e.projectRootPath,this.safeList,this.packageNameToTypingLocation,e.typeAcquisition,e.unresolvedImports,this.typesRegistry,e.compilerOptions);this.watchFiles(e.projectName,t.filesToWatch),t.newTypingNames.length?this.installTypings(e,e.cachePath||this.globalCachePath,t.cachedTypingPaths,t.newTypingNames):(this.sendResponse(this.createSetTypings(e,t.cachedTypingPaths)),this.log.isEnabled()&&this.log.writeLine("No new typings were requested as a result of typings discovery"))}installPackage(e){const{fileName:t,packageName:n,projectName:r,projectRootPath:i,id:o}=e,a=da(Io(t),e=>{if(this.installTypingHost.fileExists(zo(e,"package.json")))return e})||i;if(a)this.installWorker(-1,[n],a,e=>{const t={kind:nG,projectName:r,id:o,success:e,message:e?`Package ${n} installed.`:`There was an error installing ${n}.`};this.sendResponse(t)});else{const e={kind:nG,projectName:r,id:o,success:!1,message:"Could not determine a project root path."};this.sendResponse(e)}}initializeSafeList(){if(this.typesMapLocation){const e=QK.loadTypesMap(this.installTypingHost,this.typesMapLocation);if(e)return this.log.writeLine(`Loaded safelist from types map file '${this.typesMapLocation}'`),void(this.safeList=e);this.log.writeLine(`Failed to load safelist from types map file '${this.typesMapLocation}'`)}this.safeList=QK.loadSafeList(this.installTypingHost,this.safeListPath)}processCacheLocation(e){if(this.log.isEnabled()&&this.log.writeLine(`Processing cache location '${e}'`),this.knownCachesSet.has(e))return void(this.log.isEnabled()&&this.log.writeLine("Cache location was already processed..."));const t=zo(e,"package.json"),n=zo(e,"package-lock.json");if(this.log.isEnabled()&&this.log.writeLine(`Trying to find '${t}'...`),this.installTypingHost.fileExists(t)&&this.installTypingHost.fileExists(n)){const r=JSON.parse(this.installTypingHost.readFile(t)),i=JSON.parse(this.installTypingHost.readFile(n));if(this.log.isEnabled()&&(this.log.writeLine(`Loaded content of '${t}':${pG(r)}`),this.log.writeLine(`Loaded content of '${n}':${pG(i)}`)),r.devDependencies&&i.dependencies)for(const t in r.devDependencies){if(!Pe(i.dependencies,t))continue;const n=Oo(t);if(!n)continue;const r=Hfe(e,n,this.installTypingHost,this.log);if(!r){this.missingTypingsSet.add(n);continue}const o=this.packageNameToTypingLocation.get(n);if(o){if(o.typingLocation===r)continue;this.log.isEnabled()&&this.log.writeLine(`New typing for package ${n} from '${r}' conflicts with existing typing file '${o}'`)}this.log.isEnabled()&&this.log.writeLine(`Adding entry into typings cache: '${n}' => '${r}'`);const a=Ae(i.dependencies,t),s=a&&a.version;if(!s)continue;const c={typingLocation:r,version:new Sn(s)};this.packageNameToTypingLocation.set(n,c)}}this.log.isEnabled()&&this.log.writeLine(`Finished processing cache location '${e}'`),this.knownCachesSet.add(e)}filterTypings(e){return z(e,e=>{const t=LM(e);if(this.missingTypingsSet.has(t))return void(this.log.isEnabled()&&this.log.writeLine(`'${e}':: '${t}' is in missingTypingsSet - skipping...`));const n=QK.validatePackageName(e);if(n!==QK.NameValidationResult.Ok)return this.missingTypingsSet.add(t),void(this.log.isEnabled()&&this.log.writeLine(QK.renderPackageNameValidationFailure(n,e)));if(this.typesRegistry.has(t)){if(!this.packageNameToTypingLocation.get(t)||!QK.isTypingUpToDate(this.packageNameToTypingLocation.get(t),this.typesRegistry.get(t)))return t;this.log.isEnabled()&&this.log.writeLine(`'${e}':: '${t}' already has an up-to-date typing - skipping...`)}else this.log.isEnabled()&&this.log.writeLine(`'${e}':: Entry for package '${t}' does not exist in local types registry - skipping...`)})}ensurePackageDirectoryExists(e){const t=zo(e,"package.json");this.log.isEnabled()&&this.log.writeLine(`Npm config file: ${t}`),this.installTypingHost.fileExists(t)||(this.log.isEnabled()&&this.log.writeLine(`Npm config file: '${t}' is missing, creating new one...`),this.ensureDirectoryExists(e,this.installTypingHost),this.installTypingHost.writeFile(t,'{ "private": true }'))}installTypings(e,t,n,r){this.log.isEnabled()&&this.log.writeLine(`Installing typings ${JSON.stringify(r)}`);const i=this.filterTypings(r);if(0===i.length)return this.log.isEnabled()&&this.log.writeLine("All typings are known to be missing or invalid - no need to install more typings"),void this.sendResponse(this.createSetTypings(e,n));this.ensurePackageDirectoryExists(t);const o=this.installRunCount;this.installRunCount++,this.sendResponse({kind:iG,eventId:o,typingsInstallerVersion:l,projectName:e.projectName});const a=i.map(Qfe);this.installTypingsAsync(o,a,t,r=>{try{if(!r){this.log.isEnabled()&&this.log.writeLine(`install request failed, marking packages as missing to prevent repeated requests: ${JSON.stringify(i)}`);for(const e of i)this.missingTypingsSet.add(e);return}this.log.isEnabled()&&this.log.writeLine(`Installed typings ${JSON.stringify(a)}`);const o=[];for(const e of i){const n=Hfe(t,e,this.installTypingHost,this.log);if(!n){this.missingTypingsSet.add(e);continue}const r=this.typesRegistry.get(e),i={typingLocation:n,version:new Sn(r[`ts${s}`]||r[this.latestDistTag])};this.packageNameToTypingLocation.set(e,i),o.push(n)}this.log.isEnabled()&&this.log.writeLine(`Installed typing files ${JSON.stringify(o)}`),this.sendResponse(this.createSetTypings(e,n.concat(o)))}finally{const t={kind:oG,eventId:o,projectName:e.projectName,packagesToInstall:a,installSuccess:r,typingsInstallerVersion:l};this.sendResponse(t)}})}ensureDirectoryExists(e,t){const n=Io(e);t.directoryExists(n)||this.ensureDirectoryExists(n,t),t.directoryExists(e)||t.createDirectory(e)}watchFiles(e,t){if(!t.length)return void this.closeWatchers(e);const n=this.projectWatchers.get(e),r=new Set(t);!n||cd(r,e=>!n.has(e))||cd(n,e=>!r.has(e))?(this.projectWatchers.set(e,r),this.sendResponse({kind:sG,projectName:e,files:t})):this.sendResponse({kind:sG,projectName:e,files:void 0})}createSetTypings(e,t){return{projectName:e.projectName,typeAcquisition:e.typeAcquisition,compilerOptions:e.compilerOptions,typings:t,unresolvedImports:e.unresolvedImports,kind:eG}}installTypingsAsync(e,t,n,r){this.pendingRunRequests.unshift({requestId:e,packageNames:t,cwd:n,onRequestCompleted:r}),this.executeWithThrottling()}executeWithThrottling(){for(;this.inFlightRequestCount<this.throttleLimit&&this.pendingRunRequests.length;){this.inFlightRequestCount++;const e=this.pendingRunRequests.pop();this.installWorker(e.requestId,e.packageNames,e.cwd,t=>{this.inFlightRequestCount--,e.onRequestCompleted(t),this.executeWithThrottling()})}}};function Qfe(e){return`@types/${e}@ts${s}`}var Zfe,Yfe,eme=(e=>(e[e.terse=0]="terse",e[e.normal=1]="normal",e[e.requestTime=2]="requestTime",e[e.verbose=3]="verbose",e))(eme||{}),tme=[],nme=(e=>(e.Err="Err",e.Info="Info",e.Perf="Perf",e))(nme||{});function rme(e,t,n,r){return{projectName:e.getProjectName(),fileNames:e.getFileNames(!0,!0).concat(e.getExcludedFiles()),compilerOptions:e.getCompilationSettings(),typeAcquisition:t,unresolvedImports:n,projectRootPath:e.getCurrentDirectory(),cachePath:r,kind:"discover"}}function ime(e){return Wo(e)}function ome(e,t,n){return n(xo(e)?e:Uo(e,t))}function ame(e){return e}function sme(){const e=new Map;return{get:t=>e.get(t),set(t,n){e.set(t,n)},contains:t=>e.has(t),remove(t){e.delete(t)}}}function cme(e){return/dev\/null\/inferredProject\d+\*/.test(e)}function lme(e){return`/dev/null/inferredProject${e}*`}function _me(e){return`/dev/null/autoImportProviderProject${e}*`}function ume(e){return`/dev/null/auxiliaryProject${e}*`}function dme(){return[]}(Yfe=Zfe||(Zfe={})).ThrowNoProject=function(){throw new Error("No Project.")},Yfe.ThrowProjectLanguageServiceDisabled=function(){throw new Error("The project's language service is disabled.")},Yfe.ThrowProjectDoesNotContainDocument=function(e,t){throw new Error(`Project '${t.getProjectName()}' does not contain document '${e}'`)};var pme=class e{constructor(e,t){this.host=e,this.pendingTimeouts=new Map,this.logger=t.hasLevel(3)?t:void 0}schedule(t,n,r){const i=this.pendingTimeouts.get(t);i&&this.host.clearTimeout(i),this.pendingTimeouts.set(t,this.host.setTimeout(e.run,n,t,this,r)),this.logger&&this.logger.info(`Scheduled: ${t}${i?", Cancelled earlier one":""}`)}cancel(e){const t=this.pendingTimeouts.get(e);return!!t&&(this.host.clearTimeout(t),this.pendingTimeouts.delete(e))}static run(e,t,n){t.pendingTimeouts.delete(e),t.logger&&t.logger.info(`Running: ${e}`),n()}},fme=class e{constructor(e,t,n){this.host=e,this.delay=t,this.logger=n}scheduleCollect(){this.host.gc&&void 0===this.timerId&&(this.timerId=this.host.setTimeout(e.run,this.delay,this))}static run(e){e.timerId=void 0;const t=e.logger.hasLevel(2),n=t&&e.host.getMemoryUsage();if(e.host.gc(),t){const t=e.host.getMemoryUsage();e.logger.perftrc(`GC::before ${n}, after ${t}`)}}};function mme(e){const t=Oo(e);return"tsconfig.json"===t||"jsconfig.json"===t?t:void 0}var gme={};i(gme,{ClassificationType:()=>KG,CommandTypes:()=>hme,CompletionTriggerKind:()=>AG,IndentStyle:()=>xme,JsxEmit:()=>kme,ModuleKind:()=>Sme,ModuleResolutionKind:()=>Tme,NewLineKind:()=>Cme,OrganizeImportsMode:()=>PG,PollingWatchKind:()=>bme,ScriptTarget:()=>wme,SemicolonPreference:()=>jG,WatchDirectoryKind:()=>vme,WatchFileKind:()=>yme});var hme=(e=>(e.JsxClosingTag="jsxClosingTag",e.LinkedEditingRange="linkedEditingRange",e.Brace="brace",e.BraceFull="brace-full",e.BraceCompletion="braceCompletion",e.GetSpanOfEnclosingComment="getSpanOfEnclosingComment",e.Change="change",e.Close="close",e.Completions="completions",e.CompletionInfo="completionInfo",e.CompletionsFull="completions-full",e.CompletionDetails="completionEntryDetails",e.CompletionDetailsFull="completionEntryDetails-full",e.CompileOnSaveAffectedFileList="compileOnSaveAffectedFileList",e.CompileOnSaveEmitFile="compileOnSaveEmitFile",e.Configure="configure",e.Definition="definition",e.DefinitionFull="definition-full",e.DefinitionAndBoundSpan="definitionAndBoundSpan",e.DefinitionAndBoundSpanFull="definitionAndBoundSpan-full",e.Implementation="implementation",e.ImplementationFull="implementation-full",e.EmitOutput="emit-output",e.Exit="exit",e.FileReferences="fileReferences",e.FileReferencesFull="fileReferences-full",e.Format="format",e.Formatonkey="formatonkey",e.FormatFull="format-full",e.FormatonkeyFull="formatonkey-full",e.FormatRangeFull="formatRange-full",e.Geterr="geterr",e.GeterrForProject="geterrForProject",e.SemanticDiagnosticsSync="semanticDiagnosticsSync",e.SyntacticDiagnosticsSync="syntacticDiagnosticsSync",e.SuggestionDiagnosticsSync="suggestionDiagnosticsSync",e.NavBar="navbar",e.NavBarFull="navbar-full",e.Navto="navto",e.NavtoFull="navto-full",e.NavTree="navtree",e.NavTreeFull="navtree-full",e.DocumentHighlights="documentHighlights",e.DocumentHighlightsFull="documentHighlights-full",e.Open="open",e.Quickinfo="quickinfo",e.QuickinfoFull="quickinfo-full",e.References="references",e.ReferencesFull="references-full",e.Reload="reload",e.Rename="rename",e.RenameInfoFull="rename-full",e.RenameLocationsFull="renameLocations-full",e.Saveto="saveto",e.SignatureHelp="signatureHelp",e.SignatureHelpFull="signatureHelp-full",e.FindSourceDefinition="findSourceDefinition",e.Status="status",e.TypeDefinition="typeDefinition",e.ProjectInfo="projectInfo",e.ReloadProjects="reloadProjects",e.Unknown="unknown",e.OpenExternalProject="openExternalProject",e.OpenExternalProjects="openExternalProjects",e.CloseExternalProject="closeExternalProject",e.SynchronizeProjectList="synchronizeProjectList",e.ApplyChangedToOpenFiles="applyChangedToOpenFiles",e.UpdateOpen="updateOpen",e.EncodedSyntacticClassificationsFull="encodedSyntacticClassifications-full",e.EncodedSemanticClassificationsFull="encodedSemanticClassifications-full",e.Cleanup="cleanup",e.GetOutliningSpans="getOutliningSpans",e.GetOutliningSpansFull="outliningSpans",e.TodoComments="todoComments",e.Indentation="indentation",e.DocCommentTemplate="docCommentTemplate",e.CompilerOptionsDiagnosticsFull="compilerOptionsDiagnostics-full",e.NameOrDottedNameSpan="nameOrDottedNameSpan",e.BreakpointStatement="breakpointStatement",e.CompilerOptionsForInferredProjects="compilerOptionsForInferredProjects",e.GetCodeFixes="getCodeFixes",e.GetCodeFixesFull="getCodeFixes-full",e.GetCombinedCodeFix="getCombinedCodeFix",e.GetCombinedCodeFixFull="getCombinedCodeFix-full",e.ApplyCodeActionCommand="applyCodeActionCommand",e.GetSupportedCodeFixes="getSupportedCodeFixes",e.GetApplicableRefactors="getApplicableRefactors",e.GetEditsForRefactor="getEditsForRefactor",e.GetMoveToRefactoringFileSuggestions="getMoveToRefactoringFileSuggestions",e.PreparePasteEdits="preparePasteEdits",e.GetPasteEdits="getPasteEdits",e.GetEditsForRefactorFull="getEditsForRefactor-full",e.OrganizeImports="organizeImports",e.OrganizeImportsFull="organizeImports-full",e.GetEditsForFileRename="getEditsForFileRename",e.GetEditsForFileRenameFull="getEditsForFileRename-full",e.ConfigurePlugin="configurePlugin",e.SelectionRange="selectionRange",e.SelectionRangeFull="selectionRange-full",e.ToggleLineComment="toggleLineComment",e.ToggleLineCommentFull="toggleLineComment-full",e.ToggleMultilineComment="toggleMultilineComment",e.ToggleMultilineCommentFull="toggleMultilineComment-full",e.CommentSelection="commentSelection",e.CommentSelectionFull="commentSelection-full",e.UncommentSelection="uncommentSelection",e.UncommentSelectionFull="uncommentSelection-full",e.PrepareCallHierarchy="prepareCallHierarchy",e.ProvideCallHierarchyIncomingCalls="provideCallHierarchyIncomingCalls",e.ProvideCallHierarchyOutgoingCalls="provideCallHierarchyOutgoingCalls",e.ProvideInlayHints="provideInlayHints",e.WatchChange="watchChange",e.MapCode="mapCode",e.CopilotRelated="copilotRelated",e))(hme||{}),yme=(e=>(e.FixedPollingInterval="FixedPollingInterval",e.PriorityPollingInterval="PriorityPollingInterval",e.DynamicPriorityPolling="DynamicPriorityPolling",e.FixedChunkSizePolling="FixedChunkSizePolling",e.UseFsEvents="UseFsEvents",e.UseFsEventsOnParentDirectory="UseFsEventsOnParentDirectory",e))(yme||{}),vme=(e=>(e.UseFsEvents="UseFsEvents",e.FixedPollingInterval="FixedPollingInterval",e.DynamicPriorityPolling="DynamicPriorityPolling",e.FixedChunkSizePolling="FixedChunkSizePolling",e))(vme||{}),bme=(e=>(e.FixedInterval="FixedInterval",e.PriorityInterval="PriorityInterval",e.DynamicPriority="DynamicPriority",e.FixedChunkSize="FixedChunkSize",e))(bme||{}),xme=(e=>(e.None="None",e.Block="Block",e.Smart="Smart",e))(xme||{}),kme=(e=>(e.None="none",e.Preserve="preserve",e.ReactNative="react-native",e.React="react",e.ReactJSX="react-jsx",e.ReactJSXDev="react-jsxdev",e))(kme||{}),Sme=(e=>(e.None="none",e.CommonJS="commonjs",e.AMD="amd",e.UMD="umd",e.System="system",e.ES6="es6",e.ES2015="es2015",e.ES2020="es2020",e.ES2022="es2022",e.ESNext="esnext",e.Node16="node16",e.Node18="node18",e.NodeNext="nodenext",e.Preserve="preserve",e))(Sme||{}),Tme=(e=>(e.Classic="classic",e.Node="node",e.NodeJs="node",e.Node10="node10",e.Node16="node16",e.NodeNext="nodenext",e.Bundler="bundler",e))(Tme||{}),Cme=(e=>(e.Crlf="Crlf",e.Lf="Lf",e))(Cme||{}),wme=(e=>(e.ES3="es3",e.ES5="es5",e.ES6="es6",e.ES2015="es2015",e.ES2016="es2016",e.ES2017="es2017",e.ES2018="es2018",e.ES2019="es2019",e.ES2020="es2020",e.ES2021="es2021",e.ES2022="es2022",e.ES2023="es2023",e.ES2024="es2024",e.ESNext="esnext",e.JSON="json",e.Latest="esnext",e))(wme||{}),Dme=class{constructor(e,t,n){this.host=e,this.info=t,this.isOpen=!1,this.ownFileText=!1,this.pendingReloadFromDisk=!1,this.version=n||0}getVersion(){return this.svc?`SVC-${this.version}-${this.svc.getSnapshotVersion()}`:`Text-${this.version}`}hasScriptVersionCache_TestOnly(){return void 0!==this.svc}resetSourceMapInfo(){this.info.sourceFileLike=void 0,this.info.closeSourceMapFileWatcher(),this.info.sourceMapFilePath=void 0,this.info.declarationInfoPath=void 0,this.info.sourceInfos=void 0,this.info.documentPositionMapper=void 0}useText(e){this.svc=void 0,this.text=e,this.textSnapshot=void 0,this.lineMap=void 0,this.fileSize=void 0,this.resetSourceMapInfo(),this.version++}edit(e,t,n){this.switchToScriptVersionCache().edit(e,t-e,n),this.ownFileText=!1,this.text=void 0,this.textSnapshot=void 0,this.lineMap=void 0,this.fileSize=void 0,this.resetSourceMapInfo()}reload(e){return fn.assert(void 0!==e),this.pendingReloadFromDisk=!1,!this.text&&this.svc&&(this.text=GQ(this.svc.getSnapshot())),this.text!==e&&(this.useText(e),this.ownFileText=!1,!0)}reloadWithFileText(e){const{text:t,fileSize:n}=e||!this.info.isDynamicOrHasMixedContent()?this.getFileTextAndSize(e):{text:"",fileSize:void 0},r=this.reload(t);return this.fileSize=n,this.ownFileText=!e||e===this.info.fileName,this.ownFileText&&this.info.mTime===Ui.getTime()&&(this.info.mTime=(this.host.getModifiedTime(this.info.fileName)||Ui).getTime()),r}scheduleReloadIfNeeded(){return!this.pendingReloadFromDisk&&!this.ownFileText&&(this.pendingReloadFromDisk=!0)}delayReloadFromFileIntoText(){this.pendingReloadFromDisk=!0}getTelemetryFileSize(){return this.fileSize?this.fileSize:this.text?this.text.length:this.svc?this.svc.getSnapshot().getLength():this.getSnapshot().getLength()}getSnapshot(){var e,t;return(null==(t=this.tryUseScriptVersionCache())?void 0:t.getSnapshot())||(null!=(e=this.textSnapshot)?e:this.textSnapshot=vG.fromString(fn.checkDefined(this.text)))}getAbsolutePositionAndLineText(e){const t=this.tryUseScriptVersionCache();if(t)return t.getAbsolutePositionAndLineText(e);const n=this.getLineMap();return e<=n.length?{absolutePosition:n[e-1],lineText:this.text.substring(n[e-1],n[e])}:{absolutePosition:this.text.length,lineText:void 0}}lineToTextSpan(e){const t=this.tryUseScriptVersionCache();if(t)return t.lineToTextSpan(e);const n=this.getLineMap();return Qs(n[e],e+1<n.length?n[e+1]:this.text.length)}lineOffsetToPosition(e,t,n){const r=this.tryUseScriptVersionCache();return r?r.lineOffsetToPosition(e,t):za(this.getLineMap(),e-1,t-1,this.text,n)}positionToLineOffset(e){const t=this.tryUseScriptVersionCache();if(t)return t.positionToLineOffset(e);const{line:n,character:r}=Va(this.getLineMap(),e);return{line:n+1,offset:r+1}}getFileTextAndSize(e){let t;const n=e||this.info.fileName,r=()=>void 0===t?t=this.host.readFile(n)||"":t;if(!JS(this.info.fileName)){const e=this.host.getFileSize?this.host.getFileSize(n):r().length;if(e>Zme)return fn.assert(!!this.info.containingProjects.length),this.info.containingProjects[0].projectService.logger.info(`Skipped loading contents of large file ${n} for info ${this.info.fileName}: fileSize: ${e}`),this.info.containingProjects[0].projectService.sendLargeFileReferencedEvent(n,e),{text:"",fileSize:e}}return{text:r()}}switchToScriptVersionCache(){return this.svc&&!this.pendingReloadFromDisk||(this.svc=Bhe.fromString(this.getOrLoadText()),this.textSnapshot=void 0,this.version++),this.svc}tryUseScriptVersionCache(){return this.svc&&!this.pendingReloadFromDisk||this.getOrLoadText(),this.isOpen?(this.svc||this.textSnapshot||(this.svc=Bhe.fromString(fn.checkDefined(this.text)),this.textSnapshot=void 0),this.svc):this.svc}getOrLoadText(){return(void 0===this.text||this.pendingReloadFromDisk)&&(fn.assert(!this.svc||this.pendingReloadFromDisk,"ScriptVersionCache should not be set when reloading from disk"),this.reloadWithFileText()),this.text}getLineMap(){return fn.assert(!this.svc,"ScriptVersionCache should not be set"),this.lineMap||(this.lineMap=Ba(fn.checkDefined(this.text)))}getLineInfo(){const e=this.tryUseScriptVersionCache();if(e)return{getLineCount:()=>e.getLineCount(),getLineText:t=>e.getAbsolutePositionAndLineText(t+1).lineText};const t=this.getLineMap();return EJ(this.text,t)}};function Nme(e){return"^"===e[0]||(e.includes("walkThroughSnippet:/")||e.includes("untitled:/"))&&"^"===Oo(e)[0]||e.includes(":^")&&!e.includes(mo)}var Fme=class{constructor(e,t,n,r,i,o){this.host=e,this.fileName=t,this.scriptKind=n,this.hasMixedContent=r,this.path=i,this.containingProjects=[],this.isDynamic=Nme(t),this.textStorage=new Dme(e,this,o),(r||this.isDynamic)&&(this.realpath=this.path),this.scriptKind=n||wS(t)}isDynamicOrHasMixedContent(){return this.hasMixedContent||this.isDynamic}isScriptOpen(){return this.textStorage.isOpen}open(e){this.textStorage.isOpen=!0,void 0!==e&&this.textStorage.reload(e)&&this.markContainingProjectsAsDirty()}close(e=!0){this.textStorage.isOpen=!1,e&&this.textStorage.scheduleReloadIfNeeded()&&this.markContainingProjectsAsDirty()}getSnapshot(){return this.textStorage.getSnapshot()}ensureRealPath(){if(void 0===this.realpath&&(this.realpath=this.path,this.host.realpath)){fn.assert(!!this.containingProjects.length);const e=this.containingProjects[0],t=this.host.realpath(this.path);t&&(this.realpath=e.toPath(t),this.realpath!==this.path&&e.projectService.realpathToScriptInfos.add(this.realpath,this))}}getRealpathIfDifferent(){return this.realpath&&this.realpath!==this.path?this.realpath:void 0}isSymlink(){return this.realpath&&this.realpath!==this.path}getFormatCodeSettings(){return this.formatSettings}getPreferences(){return this.preferences}attachToProject(e){const t=!this.isAttached(e);return t&&(this.containingProjects.push(e),e.getCompilerOptions().preserveSymlinks||this.ensureRealPath(),e.onFileAddedOrRemoved(this.isSymlink())),t}isAttached(e){switch(this.containingProjects.length){case 0:return!1;case 1:return this.containingProjects[0]===e;case 2:return this.containingProjects[0]===e||this.containingProjects[1]===e;default:return w(this.containingProjects,e)}}detachFromProject(e){switch(this.containingProjects.length){case 0:return;case 1:this.containingProjects[0]===e&&(e.onFileAddedOrRemoved(this.isSymlink()),this.containingProjects.pop());break;case 2:this.containingProjects[0]===e?(e.onFileAddedOrRemoved(this.isSymlink()),this.containingProjects[0]=this.containingProjects.pop()):this.containingProjects[1]===e&&(e.onFileAddedOrRemoved(this.isSymlink()),this.containingProjects.pop());break;default:Ut(this.containingProjects,e)&&e.onFileAddedOrRemoved(this.isSymlink())}}detachAllProjects(){for(const e of this.containingProjects){Hme(e)&&e.getCachedDirectoryStructureHost().addOrDeleteFile(this.fileName,this.path,2);const t=e.getRootFilesMap().get(this.path);e.removeFile(this,!1,!1),e.onFileAddedOrRemoved(this.isSymlink()),t&&!$me(e)&&e.addMissingFileRoot(t.fileName)}P(this.containingProjects)}getDefaultProject(){var e;switch(this.containingProjects.length){case 0:return Zfe.ThrowNoProject();case 1:return Xme(this.containingProjects[0])||Gme(this.containingProjects[0])?Zfe.ThrowNoProject():this.containingProjects[0];default:let t,n,r,i;for(let e=0;e<this.containingProjects.length;e++){const o=this.containingProjects[e];if(Hme(o)){if(o.deferredClose)continue;if(!o.isSourceOfProjectReferenceRedirect(this.fileName)){if(void 0===i&&e!==this.containingProjects.length-1&&(i=o.projectService.findDefaultConfiguredProject(this)||!1),i===o)return o;r||(r=o)}t||(t=o)}else{if(Kme(o))return o;!n&&$me(o)&&(n=o)}}return null!=(e=i||r||t||n)?e:Zfe.ThrowNoProject()}}registerFileUpdate(){for(const e of this.containingProjects)e.registerFileUpdate(this.path)}setOptions(e,t){e&&(this.formatSettings?this.formatSettings=__spreadValues(__spreadValues({},this.formatSettings),e):(this.formatSettings=RG(this.host.newLine),Me(this.formatSettings,e))),t&&(this.preferences||(this.preferences=FG),this.preferences=__spreadValues(__spreadValues({},this.preferences),t))}getLatestVersion(){return this.textStorage.getSnapshot(),this.textStorage.getVersion()}saveTo(e){this.host.writeFile(e,GQ(this.textStorage.getSnapshot()))}delayReloadNonMixedContentFile(){fn.assert(!this.isDynamicOrHasMixedContent()),this.textStorage.delayReloadFromFileIntoText(),this.markContainingProjectsAsDirty()}reloadFromFile(e){return!!this.textStorage.reloadWithFileText(e)&&(this.markContainingProjectsAsDirty(),!0)}editContent(e,t,n){this.textStorage.edit(e,t,n),this.markContainingProjectsAsDirty()}markContainingProjectsAsDirty(){for(const e of this.containingProjects)e.markFileAsDirty(this.path)}isOrphan(){return this.deferredDelete||!f(this.containingProjects,e=>!e.isOrphan())}lineToTextSpan(e){return this.textStorage.lineToTextSpan(e)}lineOffsetToPosition(e,t,n){return this.textStorage.lineOffsetToPosition(e,t,n)}positionToLineOffset(e){!function(e){fn.assert("number"==typeof e,`Expected position ${e} to be a number.`),fn.assert(e>=0,"Expected position to be non-negative.")}(e);const t=this.textStorage.positionToLineOffset(e);return function(e){fn.assert("number"==typeof e.line,`Expected line ${e.line} to be a number.`),fn.assert("number"==typeof e.offset,`Expected offset ${e.offset} to be a number.`),fn.assert(e.line>0,"Expected line to be non-"+(0===e.line?"zero":"negative")),fn.assert(e.offset>0,"Expected offset to be non-"+(0===e.offset?"zero":"negative"))}(t),t}isJavaScript(){return 1===this.scriptKind||2===this.scriptKind}closeSourceMapFileWatcher(){this.sourceMapFilePath&&!nt(this.sourceMapFilePath)&&(zV(this.sourceMapFilePath),this.sourceMapFilePath=void 0)}};function Eme(e){return K(e.containingProjects,Gme)}function Pme(e){return K(e.containingProjects,Xme)}var Ame=(e=>(e[e.Inferred=0]="Inferred",e[e.Configured=1]="Configured",e[e.External=2]="External",e[e.AutoImportProvider=3]="AutoImportProvider",e[e.Auxiliary=4]="Auxiliary",e))(Ame||{});function Ime(e,t=!1){const n={js:0,jsSize:0,jsx:0,jsxSize:0,ts:0,tsSize:0,tsx:0,tsxSize:0,dts:0,dtsSize:0,deferred:0,deferredSize:0};for(const r of e){const e=t?r.textStorage.getTelemetryFileSize():0;switch(r.scriptKind){case 1:n.js+=1,n.jsSize+=e;break;case 2:n.jsx+=1,n.jsxSize+=e;break;case 3:lO(r.fileName)?(n.dts+=1,n.dtsSize+=e):(n.ts+=1,n.tsSize+=e);break;case 4:n.tsx+=1,n.tsxSize+=e;break;case 7:n.deferred+=1,n.deferredSize+=e}}return n}function Ome(e){const t=Ime(e.getRootScriptInfos());return 0===t.ts&&0===t.tsx}function Lme(e){const t=Ime(e.getScriptInfos());return 0===t.ts&&0===t.tsx}function jme(e){return!e.some(e=>Do(e,".ts")&&!lO(e)||Do(e,".tsx"))}function Rme(e){return void 0!==e.generatedFilePath}function Mme(e,t){if(e===t)return!0;if(0===(e||tme).length&&0===(t||tme).length)return!0;const n=new Map;let r=0;for(const i of e)!0!==n.get(i)&&(n.set(i,!0),r++);for(const i of t){const e=n.get(i);if(void 0===e)return!1;!0===e&&(n.set(i,!1),r--)}return 0===r}var Bme=class e{constructor(e,t,n,r,i,o,a,s,c,l){switch(this.projectKind=t,this.projectService=n,this.compilerOptions=o,this.compileOnSaveEnabled=a,this.watchOptions=s,this.rootFilesMap=new Map,this.plugins=[],this.cachedUnresolvedImportsPerFile=new Map,this.hasAddedorRemovedFiles=!1,this.hasAddedOrRemovedSymlinks=!1,this.lastReportedVersion=0,this.projectProgramVersion=0,this.projectStateVersion=0,this.initialLoadPending=!1,this.dirty=!1,this.typingFiles=tme,this.moduleSpecifierCache=the(this),this.createHash=Ke(this.projectService.host,this.projectService.host.createHash),this.globalCacheResolutionModuleName=QK.nonRelativeModuleNameForTypingCache,this.updateFromProjectInProgress=!1,n.logger.info(`Creating ${Ame[t]}Project: ${e}, currentDirectory: ${l}`),this.projectName=e,this.directoryStructureHost=c,this.currentDirectory=this.projectService.getNormalizedAbsolutePath(l),this.getCanonicalFileName=this.projectService.toCanonicalFileName,this.jsDocParsingMode=this.projectService.jsDocParsingMode,this.cancellationToken=new d7(this.projectService.cancellationToken,this.projectService.throttleWaitMilliseconds),this.compilerOptions?(r||Rk(this.compilerOptions)||this.projectService.hasDeferredExtension())&&(this.compilerOptions.allowNonTsExtensions=!0):(this.compilerOptions={target:1,jsx:1},this.compilerOptions.allowNonTsExtensions=!0,this.compilerOptions.allowJs=!0),n.serverMode){case 0:this.languageServiceEnabled=!0;break;case 1:this.languageServiceEnabled=!0,this.compilerOptions.noResolve=!0,this.compilerOptions.types=[];break;case 2:this.languageServiceEnabled=!1,this.compilerOptions.noResolve=!0,this.compilerOptions.types=[];break;default:fn.assertNever(n.serverMode)}this.setInternalCompilerOptionsForEmittingJsFiles();const _=this.projectService.host;this.projectService.logger.loggingEnabled()?this.trace=e=>this.writeLog(e):_.trace&&(this.trace=e=>_.trace(e)),this.realpath=Ke(_,_.realpath),this.preferNonRecursiveWatch=this.projectService.canUseWatchEvents||_.preferNonRecursiveWatch,this.resolutionCache=s$(this,this.currentDirectory,!0),this.languageService=m7(this,this.projectService.documentRegistry,this.projectService.serverMode),i&&this.disableLanguageService(i),this.markAsDirty(),Gme(this)||(this.projectService.pendingEnsureProjectForOpenFiles=!0),this.projectService.onProjectCreation(this)}getResolvedProjectReferenceToRedirect(e){}isNonTsProject(){return zge(this),Lme(this)}isJsOnlyProject(){return zge(this),function(e){const t=Ime(e.getScriptInfos());return t.js>0&&0===t.ts&&0===t.tsx}(this)}static resolveModule(t,n,r,i){return e.importServicePluginSync({name:t},[n],r,i).resolvedModule}static importServicePluginSync(e,t,n,r){let i,o;fn.assertIsDefined(n.require);for(const a of t){const t=Bo(n.resolvePath(zo(a,"node_modules")));r(`Loading ${e.name} from ${a} (resolved to ${t})`);const s=n.require(t,e.name);if(!s.error){o=s.module;break}const c=s.error.stack||s.error.message||JSON.stringify(s.error);(null!=i?i:i=[]).push(`Failed to load module '${e.name}' from ${t}: ${c}`)}return{pluginConfigEntry:e,resolvedModule:o,errorLogs:i}}static importServicePluginAsync(e,t,n,r){return __async(this,null,function*(){let i,o;fn.assertIsDefined(n.importPlugin);for(const s of t){const t=zo(s,"node_modules");let c;r(`Dynamically importing ${e.name} from ${s} (resolved to ${t})`);try{c=yield n.importPlugin(t,e.name)}catch(a){c={module:void 0,error:a}}if(!c.error){o=c.module;break}const l=c.error.stack||c.error.message||JSON.stringify(c.error);(null!=i?i:i=[]).push(`Failed to dynamically import module '${e.name}' from ${t}: ${l}`)}return{pluginConfigEntry:e,resolvedModule:o,errorLogs:i}})}isKnownTypesPackageName(e){return this.projectService.typingsInstaller.isKnownTypesPackageName(e)}installPackage(e){return this.projectService.typingsInstaller.installPackage(__spreadProps(__spreadValues({},e),{projectName:this.projectName,projectRootPath:this.toPath(this.currentDirectory)}))}getGlobalTypingsCacheLocation(){return this.getTypeAcquisition().enable?this.projectService.typingsInstaller.globalTypingsCacheLocation:void 0}getSymlinkCache(){return this.symlinks||(this.symlinks=nS(this.getCurrentDirectory(),this.getCanonicalFileName)),this.program&&!this.symlinks.hasProcessedResolutions()&&this.symlinks.setSymlinksFromResolutions(this.program.forEachResolvedModule,this.program.forEachResolvedTypeReferenceDirective,this.program.getAutomaticTypeDirectiveResolutions()),this.symlinks}getCompilationSettings(){return this.compilerOptions}getCompilerOptions(){return this.getCompilationSettings()}getNewLine(){return this.projectService.host.newLine}getProjectVersion(){return this.projectStateVersion.toString()}getProjectReferences(){}getScriptFileNames(){if(!this.rootFilesMap.size)return u;let e;return this.rootFilesMap.forEach(t=>{(this.languageServiceEnabled||t.info&&t.info.isScriptOpen())&&(e||(e=[])).push(t.fileName)}),_e(e,this.typingFiles)||u}getOrCreateScriptInfoAndAttachToProject(e){const t=this.projectService.getOrCreateScriptInfoNotOpenedByClient(e,this.currentDirectory,this.directoryStructureHost,!1);if(t){const e=this.rootFilesMap.get(t.path);e&&e.info!==t&&(e.info=t),t.attachToProject(this)}return t}getScriptKind(e){const t=this.projectService.getScriptInfoForPath(this.toPath(e));return t&&t.scriptKind}getScriptVersion(e){const t=this.projectService.getOrCreateScriptInfoNotOpenedByClient(e,this.currentDirectory,this.directoryStructureHost,!1);return t&&t.getLatestVersion()}getScriptSnapshot(e){const t=this.getOrCreateScriptInfoAndAttachToProject(e);if(t)return t.getSnapshot()}getCancellationToken(){return this.cancellationToken}getCurrentDirectory(){return this.currentDirectory}getDefaultLibFileName(){return zo(Io(Wo(this.projectService.getExecutingFilePath())),Is(this.compilerOptions))}useCaseSensitiveFileNames(){return this.projectService.host.useCaseSensitiveFileNames}readDirectory(e,t,n,r,i){return this.directoryStructureHost.readDirectory(e,t,n,r,i)}readFile(e){return this.projectService.host.readFile(e)}writeFile(e,t){return this.projectService.host.writeFile(e,t)}fileExists(e){const t=this.toPath(e);return!!this.projectService.getScriptInfoForPath(t)||!this.isWatchedMissingFile(t)&&this.directoryStructureHost.fileExists(e)}resolveModuleNameLiterals(e,t,n,r,i,o){return this.resolutionCache.resolveModuleNameLiterals(e,t,n,r,i,o)}getModuleResolutionCache(){return this.resolutionCache.getModuleResolutionCache()}resolveTypeReferenceDirectiveReferences(e,t,n,r,i,o){return this.resolutionCache.resolveTypeReferenceDirectiveReferences(e,t,n,r,i,o)}resolveLibrary(e,t,n,r){return this.resolutionCache.resolveLibrary(e,t,n,r)}directoryExists(e){return this.directoryStructureHost.directoryExists(e)}getDirectories(e){return this.directoryStructureHost.getDirectories(e)}getCachedDirectoryStructureHost(){}toPath(e){return Ko(e,this.currentDirectory,this.projectService.toCanonicalFileName)}watchDirectoryOfFailedLookupLocation(e,t,n){return this.projectService.watchFactory.watchDirectory(e,t,n,this.projectService.getWatchOptions(this),I$.FailedLookupLocations,this)}watchAffectingFileLocation(e,t){return this.projectService.watchFactory.watchFile(e,t,2e3,this.projectService.getWatchOptions(this),I$.AffectingFileLocation,this)}clearInvalidateResolutionOfFailedLookupTimer(){return this.projectService.throttledOperations.cancel(`${this.getProjectName()}FailedLookupInvalidation`)}scheduleInvalidateResolutionsOfFailedLookupLocations(){this.projectService.throttledOperations.schedule(`${this.getProjectName()}FailedLookupInvalidation`,1e3,()=>{this.resolutionCache.invalidateResolutionsOfFailedLookupLocations()&&this.projectService.delayUpdateProjectGraphAndEnsureProjectStructureForOpenFiles(this)})}invalidateResolutionsOfFailedLookupLocations(){this.clearInvalidateResolutionOfFailedLookupTimer()&&this.resolutionCache.invalidateResolutionsOfFailedLookupLocations()&&(this.markAsDirty(),this.projectService.delayEnsureProjectForOpenFiles())}onInvalidatedResolution(){this.projectService.delayUpdateProjectGraphAndEnsureProjectStructureForOpenFiles(this)}watchTypeRootsDirectory(e,t,n){return this.projectService.watchFactory.watchDirectory(e,t,n,this.projectService.getWatchOptions(this),I$.TypeRoots,this)}hasChangedAutomaticTypeDirectiveNames(){return this.resolutionCache.hasChangedAutomaticTypeDirectiveNames()}onChangedAutomaticTypeDirectiveNames(){this.projectService.delayUpdateProjectGraphAndEnsureProjectStructureForOpenFiles(this)}fileIsOpen(e){return this.projectService.openFiles.has(e)}writeLog(e){this.projectService.logger.info(e)}log(e){this.writeLog(e)}error(e){this.projectService.logger.msg(e,"Err")}setInternalCompilerOptionsForEmittingJsFiles(){0!==this.projectKind&&2!==this.projectKind||(this.compilerOptions.noEmitForJsFiles=!0)}getGlobalProjectErrors(){return F(this.projectErrors,e=>!e.file)||tme}getAllProjectErrors(){return this.projectErrors||tme}setProjectErrors(e){this.projectErrors=e}getLanguageService(e=!0){return e&&zge(this),this.languageService}getSourceMapper(){return this.getLanguageService().getSourceMapper()}clearSourceMapperCache(){this.languageService.clearSourceMapperCache()}getDocumentPositionMapper(e,t){return this.projectService.getDocumentPositionMapper(this,e,t)}getSourceFileLike(e){return this.projectService.getSourceFileLike(e,this)}shouldEmitFile(e){return e&&!e.isDynamicOrHasMixedContent()&&!this.program.isSourceOfProjectReferenceRedirect(e.path)}getCompileOnSaveAffectedFileList(e){return this.languageServiceEnabled?(zge(this),this.builderState=YU.create(this.program,this.builderState,!0),z(YU.getFilesAffectedBy(this.builderState,this.program,e.path,this.cancellationToken,this.projectService.host),e=>this.shouldEmitFile(this.projectService.getScriptInfoForPath(e.path))?e.fileName:void 0)):[]}emitFile(e,t){if(!this.languageServiceEnabled||!this.shouldEmitFile(e))return{emitSkipped:!0,diagnostics:tme};const{emitSkipped:n,diagnostics:r,outputFiles:i}=this.getLanguageService().getEmitOutput(e.fileName);if(!n){for(const e of i)t(Uo(e.name,this.currentDirectory),e.text,e.writeByteOrderMark);if(this.builderState&&Ik(this.compilerOptions)){const t=i.filter(e=>lO(e.name));if(1===t.length){const n=this.program.getSourceFile(e.fileName),r=this.projectService.host.createHash?this.projectService.host.createHash(t[0].text):Ji(t[0].text);YU.updateSignatureOfFile(this.builderState,r,n.resolvedPath)}}}return{emitSkipped:n,diagnostics:r}}enableLanguageService(){this.languageServiceEnabled||2===this.projectService.serverMode||(this.languageServiceEnabled=!0,this.lastFileExceededProgramSize=void 0,this.projectService.onUpdateLanguageServiceStateForProject(this,!0))}cleanupProgram(){if(this.program){for(const e of this.program.getSourceFiles())this.detachScriptInfoIfNotRoot(e.fileName);this.program.forEachResolvedProjectReference(e=>this.detachScriptInfoFromProject(e.sourceFile.fileName)),this.program=void 0}}disableLanguageService(e){this.languageServiceEnabled&&(fn.assert(2!==this.projectService.serverMode),this.languageService.cleanupSemanticCache(),this.languageServiceEnabled=!1,this.cleanupProgram(),this.lastFileExceededProgramSize=e,this.builderState=void 0,this.autoImportProviderHost&&this.autoImportProviderHost.close(),this.autoImportProviderHost=void 0,this.resolutionCache.closeTypeRootsWatch(),this.clearGeneratedFileWatch(),this.projectService.verifyDocumentRegistry(),this.projectService.onUpdateLanguageServiceStateForProject(this,!1))}getProjectName(){return this.projectName}removeLocalTypingsFromTypeAcquisition(e){return e.enable&&e.include?__spreadProps(__spreadValues({},e),{include:this.removeExistingTypings(e.include)}):e}getExternalFiles(e){return pe(j(this.plugins,t=>{if("function"==typeof t.module.getExternalFiles)try{return t.module.getExternalFiles(this,e||0)}catch(n){this.projectService.logger.info(`A plugin threw an exception in getExternalFiles: ${n}`),n.stack&&this.projectService.logger.info(n.stack)}}))}getSourceFile(e){if(this.program)return this.program.getSourceFileByPath(e)}getSourceFileOrConfigFile(e){const t=this.program.getCompilerOptions();return e===t.configFilePath?t.configFile:this.getSourceFile(e)}close(){var e;this.typingsCache&&this.projectService.typingsInstaller.onProjectClosed(this),this.typingsCache=void 0,this.closeWatchingTypingLocations(),this.cleanupProgram(),f(this.externalFiles,e=>this.detachScriptInfoIfNotRoot(e)),this.rootFilesMap.forEach(e=>{var t;return null==(t=e.info)?void 0:t.detachFromProject(this)}),this.projectService.pendingEnsureProjectForOpenFiles=!0,this.rootFilesMap=void 0,this.externalFiles=void 0,this.program=void 0,this.builderState=void 0,this.resolutionCache.clear(),this.resolutionCache=void 0,this.cachedUnresolvedImportsPerFile=void 0,null==(e=this.packageJsonWatches)||e.forEach(e=>{e.projects.delete(this),e.close()}),this.packageJsonWatches=void 0,this.moduleSpecifierCache.clear(),this.moduleSpecifierCache=void 0,this.directoryStructureHost=void 0,this.exportMapCache=void 0,this.projectErrors=void 0,this.plugins.length=0,this.missingFilesMap&&(gx(this.missingFilesMap,sx),this.missingFilesMap=void 0),this.clearGeneratedFileWatch(),this.clearInvalidateResolutionOfFailedLookupTimer(),this.autoImportProviderHost&&this.autoImportProviderHost.close(),this.autoImportProviderHost=void 0,this.noDtsResolutionProject&&this.noDtsResolutionProject.close(),this.noDtsResolutionProject=void 0,this.languageService.dispose(),this.languageService=void 0}detachScriptInfoIfNotRoot(e){const t=this.projectService.getScriptInfo(e);t&&!this.isRoot(t)&&t.detachFromProject(this)}isClosed(){return void 0===this.rootFilesMap}hasRoots(){var e;return!!(null==(e=this.rootFilesMap)?void 0:e.size)}isOrphan(){return!1}getRootFiles(){return this.rootFilesMap&&Re(q(this.rootFilesMap.values(),e=>{var t;return null==(t=e.info)?void 0:t.fileName}))}getRootFilesMap(){return this.rootFilesMap}getRootScriptInfos(){return Re(q(this.rootFilesMap.values(),e=>e.info))}getScriptInfos(){return this.languageServiceEnabled?A(this.program.getSourceFiles(),e=>{const t=this.projectService.getScriptInfoForPath(e.resolvedPath);return fn.assert(!!t,"getScriptInfo",()=>`scriptInfo for a file '${e.fileName}' Path: '${e.path}' / '${e.resolvedPath}' is missing.`),t}):this.getRootScriptInfos()}getExcludedFiles(){return tme}getFileNames(e,t){if(!this.program)return[];if(!this.languageServiceEnabled){let e=this.getRootFiles();if(this.compilerOptions){const t=v7(this.compilerOptions);t&&(e||(e=[])).push(t)}return e}const n=[];for(const r of this.program.getSourceFiles())e&&this.program.isSourceFileFromExternalLibrary(r)||n.push(ame(r.fileName));if(!t){const e=this.program.getCompilerOptions().configFile;if(e&&(n.push(e.fileName),e.extendedSourceFiles))for(const t of e.extendedSourceFiles)n.push(ame(t))}return n}getFileNamesWithRedirectInfo(e){return this.getFileNames().map(t=>({fileName:t,isSourceOfProjectReferenceRedirect:e&&this.isSourceOfProjectReferenceRedirect(t)}))}hasConfigFile(e){if(this.program&&this.languageServiceEnabled){const t=this.program.getCompilerOptions().configFile;if(t){if(e===t.fileName)return!0;if(t.extendedSourceFiles)for(const n of t.extendedSourceFiles)if(e===ame(n))return!0}}return!1}containsScriptInfo(e){if(this.isRoot(e))return!0;if(!this.program)return!1;const t=this.program.getSourceFileByPath(e.path);return!!t&&t.resolvedPath===e.path}containsFile(e,t){const n=this.projectService.getScriptInfoForNormalizedPath(e);return!(!n||!n.isScriptOpen()&&t)&&this.containsScriptInfo(n)}isRoot(e){var t,n;return(null==(n=null==(t=this.rootFilesMap)?void 0:t.get(e.path))?void 0:n.info)===e}addRoot(e,t){fn.assert(!this.isRoot(e)),this.rootFilesMap.set(e.path,{fileName:t||e.fileName,info:e}),e.attachToProject(this),this.markAsDirty()}addMissingFileRoot(e){const t=this.projectService.toPath(e);this.rootFilesMap.set(t,{fileName:e}),this.markAsDirty()}removeFile(e,t,n){this.isRoot(e)&&this.removeRoot(e),t?this.resolutionCache.removeResolutionsOfFile(e.path):this.resolutionCache.invalidateResolutionOfFile(e.path),this.cachedUnresolvedImportsPerFile.delete(e.path),n&&e.detachFromProject(this),this.markAsDirty()}registerFileUpdate(e){(this.updatedFileNames||(this.updatedFileNames=new Set)).add(e)}markFileAsDirty(e){this.markAsDirty(),this.exportMapCache&&!this.exportMapCache.isEmpty()&&(this.changedFilesForExportMapCache||(this.changedFilesForExportMapCache=new Set)).add(e)}markAsDirty(){this.dirty||(this.projectStateVersion++,this.dirty=!0)}markAutoImportProviderAsDirty(){var e;this.autoImportProviderHost||(this.autoImportProviderHost=void 0),null==(e=this.autoImportProviderHost)||e.markAsDirty()}onAutoImportProviderSettingsChanged(){this.markAutoImportProviderAsDirty()}onPackageJsonChange(){this.moduleSpecifierCache.clear(),this.markAutoImportProviderAsDirty()}onFileAddedOrRemoved(e){this.hasAddedorRemovedFiles=!0,e&&(this.hasAddedOrRemovedSymlinks=!0)}onDiscoveredSymlink(){this.hasAddedOrRemovedSymlinks=!0}onReleaseOldSourceFile(e,t,n,r){(!r||e.resolvedPath===e.path&&r.resolvedPath!==e.path)&&this.detachScriptInfoFromProject(e.fileName,n)}updateFromProject(){zge(this)}updateGraph(){var e,t;null==(e=Xn)||e.push(Xn.Phase.Session,"updateGraph",{name:this.projectName,kind:Ame[this.projectKind]}),this.resolutionCache.startRecordingFilesWithChangedResolutions();const n=this.updateGraphWorker(),r=this.hasAddedorRemovedFiles;this.hasAddedorRemovedFiles=!1,this.hasAddedOrRemovedSymlinks=!1;const i=this.resolutionCache.finishRecordingFilesWithChangedResolutions()||tme;for(const a of i)this.cachedUnresolvedImportsPerFile.delete(a);this.languageServiceEnabled&&0===this.projectService.serverMode&&!this.isOrphan()?((n||i.length)&&(this.lastCachedUnresolvedImportsList=function(e,t){var n,r;const i=e.getSourceFiles();null==(n=Xn)||n.push(Xn.Phase.Session,"getUnresolvedImports",{count:i.length});const o=e.getTypeChecker().getAmbientModules().map(e=>Iy(e.getName())),a=re(j(i,n=>function(e,t,n,r){return V(r,t.path,()=>{let r;return e.forEachResolvedModule(({resolvedModule:e},t)=>{e&&rT(e.extension)||Es(t)||n.some(e=>e===t)||(r=se(r,vM(t).packageName))},t),r||tme})}(e,n,o,t)));return null==(r=Xn)||r.pop(),a}(this.program,this.cachedUnresolvedImportsPerFile)),this.enqueueInstallTypingsForProject(r)):this.lastCachedUnresolvedImportsList=void 0;const o=0===this.projectProgramVersion&&n;return n&&this.projectProgramVersion++,r&&this.markAutoImportProviderAsDirty(),o&&this.getPackageJsonAutoImportProvider(),null==(t=Xn)||t.pop(),!n}enqueueInstallTypingsForProject(e){const t=this.getTypeAcquisition();if(!t||!t.enable||this.projectService.typingsInstaller===wge)return;const n=this.typingsCache;var r,i,o,a;!e&&n&&(o=t,a=n.typeAcquisition,o.enable===a.enable&&Mme(o.include,a.include)&&Mme(o.exclude,a.exclude))&&!function(e,t){return Rk(e)!==Rk(t)}(this.getCompilationSettings(),n.compilerOptions)&&(r=this.lastCachedUnresolvedImportsList,i=n.unresolvedImports,r===i||ie(r,i))||(this.typingsCache={compilerOptions:this.getCompilationSettings(),typeAcquisition:t,unresolvedImports:this.lastCachedUnresolvedImportsList},this.projectService.typingsInstaller.enqueueInstallTypingsRequest(this,t,this.lastCachedUnresolvedImportsList))}updateTypingFiles(e,t,n,r){this.typingsCache={compilerOptions:e,typeAcquisition:t,unresolvedImports:n};const i=t&&t.enable?pe(r):tme;cn(i,this.typingFiles,Ft(!this.useCaseSensitiveFileNames()),at,e=>this.detachScriptInfoFromProject(e))&&(this.typingFiles=i,this.resolutionCache.setFilesWithInvalidatedNonRelativeUnresolvedImports(this.cachedUnresolvedImportsPerFile),this.projectService.delayUpdateProjectGraphAndEnsureProjectStructureForOpenFiles(this))}closeWatchingTypingLocations(){this.typingWatchers&&gx(this.typingWatchers,sx),this.typingWatchers=void 0}onTypingInstallerWatchInvoke(){this.typingWatchers.isInvoked=!0,this.projectService.updateTypingsForProject({projectName:this.getProjectName(),kind:tG})}watchTypingLocations(e){if(!e)return void(this.typingWatchers.isInvoked=!1);if(!e.length)return void this.closeWatchingTypingLocations();const t=new Map(this.typingWatchers);this.typingWatchers||(this.typingWatchers=new Map),this.typingWatchers.isInvoked=!1;const n=(e,n)=>{const r=this.toPath(e);if(t.delete(r),!this.typingWatchers.has(r)){const t="FileWatcher"===n?I$.TypingInstallerLocationFile:I$.TypingInstallerLocationDirectory;this.typingWatchers.set(r,GW(r)?"FileWatcher"===n?this.projectService.watchFactory.watchFile(e,()=>this.typingWatchers.isInvoked?this.writeLog("TypingWatchers already invoked"):this.onTypingInstallerWatchInvoke(),2e3,this.projectService.getWatchOptions(this),t,this):this.projectService.watchFactory.watchDirectory(e,e=>this.typingWatchers.isInvoked?this.writeLog("TypingWatchers already invoked"):Do(e,".json")?ia(e,zo(this.projectService.typingsInstaller.globalTypingsCacheLocation,"package.json"),!this.useCaseSensitiveFileNames())?this.writeLog("Ignoring package.json change at global typings location"):void this.onTypingInstallerWatchInvoke():this.writeLog("Ignoring files that are not *.json"),1,this.projectService.getWatchOptions(this),t,this):(this.writeLog(`Skipping watcher creation at ${e}:: ${Bge(t,this)}`),E$))}};for(const r of e){const e=Oo(r);if("package.json"!==e&&"bower.json"!==e){if(oa(this.currentDirectory,r,this.currentDirectory,!this.useCaseSensitiveFileNames())){const e=r.indexOf(mo,this.currentDirectory.length+1);n(-1!==e?r.substr(0,e):r,"DirectoryWatcher");continue}oa(this.projectService.typingsInstaller.globalTypingsCacheLocation,r,this.currentDirectory,!this.useCaseSensitiveFileNames())?n(this.projectService.typingsInstaller.globalTypingsCacheLocation,"DirectoryWatcher"):n(r,"DirectoryWatcher")}else n(r,"FileWatcher")}t.forEach((e,t)=>{e.close(),this.typingWatchers.delete(t)})}getCurrentProgram(){return this.program}removeExistingTypings(e){if(!e.length)return e;const t=kR(this.getCompilerOptions(),this);return F(e,e=>!t.includes(e))}updateGraphWorker(){var e,t;const n=this.languageService.getCurrentProgram();fn.assert(n===this.program),fn.assert(!this.isClosed(),"Called update graph worker of closed project"),this.writeLog(`Starting updateGraphWorker: Project: ${this.getProjectName()}`);const r=$n(),{hasInvalidatedResolutions:i,hasInvalidatedLibResolutions:o}=this.resolutionCache.createHasInvalidatedResolutions(st,st);this.hasInvalidatedResolutions=i,this.hasInvalidatedLibResolutions=o,this.resolutionCache.startCachingPerDirectoryResolution(),this.dirty=!1,this.updateFromProjectInProgress=!0,this.program=this.languageService.getProgram(),this.updateFromProjectInProgress=!1,null==(e=Xn)||e.push(Xn.Phase.Session,"finishCachingPerDirectoryResolution"),this.resolutionCache.finishCachingPerDirectoryResolution(this.program,n),null==(t=Xn)||t.pop(),fn.assert(void 0===n||void 0!==this.program);let a=!1;if(this.program&&(!n||this.program!==n&&2!==this.program.structureIsReused)){if(a=!0,this.rootFilesMap.forEach((e,t)=>{var n;const r=this.program.getSourceFileByPath(t),i=e.info;r&&(null==(n=e.info)?void 0:n.path)!==r.resolvedPath&&(e.info=this.projectService.getScriptInfo(r.fileName),fn.assert(e.info.isAttached(this)),null==i||i.detachFromProject(this))}),OV(this.program,this.missingFilesMap||(this.missingFilesMap=new Map),(e,t)=>this.addMissingFileWatcher(e,t)),this.generatedFilesMap){const e=this.compilerOptions.outFile;Rme(this.generatedFilesMap)?e&&this.isValidGeneratedFileWatcher(KS(e)+".d.ts",this.generatedFilesMap)||this.clearGeneratedFileWatch():e?this.clearGeneratedFileWatch():this.generatedFilesMap.forEach((e,t)=>{const n=this.program.getSourceFileByPath(t);n&&n.resolvedPath===t&&this.isValidGeneratedFileWatcher(Ky(n.fileName,this.compilerOptions,this.program),e)||(zV(e),this.generatedFilesMap.delete(t))})}this.languageServiceEnabled&&0===this.projectService.serverMode&&this.resolutionCache.updateTypeRootsWatch()}this.projectService.verifyProgram(this),this.exportMapCache&&!this.exportMapCache.isEmpty()&&(this.exportMapCache.releaseSymbols(),this.hasAddedorRemovedFiles||n&&!this.program.structureIsReused?this.exportMapCache.clear():this.changedFilesForExportMapCache&&n&&this.program&&cd(this.changedFilesForExportMapCache,e=>{const t=n.getSourceFileByPath(e),r=this.program.getSourceFileByPath(e);return t&&r?this.exportMapCache.onFileChanged(t,r,!!this.getTypeAcquisition().enable):(this.exportMapCache.clear(),!0)})),this.changedFilesForExportMapCache&&this.changedFilesForExportMapCache.clear(),(this.hasAddedOrRemovedSymlinks||this.program&&!this.program.structureIsReused&&this.getCompilerOptions().preserveSymlinks)&&(this.symlinks=void 0,this.moduleSpecifierCache.clear());const s=this.externalFiles||tme;this.externalFiles=this.getExternalFiles(),cn(this.externalFiles,s,Ft(!this.useCaseSensitiveFileNames()),e=>{const t=this.projectService.getOrCreateScriptInfoNotOpenedByClient(e,this.currentDirectory,this.directoryStructureHost,!1);null==t||t.attachToProject(this)},e=>this.detachScriptInfoFromProject(e));const c=$n()-r;return this.sendPerformanceEvent("UpdateGraph",c),this.writeLog(`Finishing updateGraphWorker: Project: ${this.getProjectName()} projectStateVersion: ${this.projectStateVersion} projectProgramVersion: ${this.projectProgramVersion} structureChanged: ${a}${this.program?` structureIsReused:: ${Ar[this.program.structureIsReused]}`:""} Elapsed: ${c}ms`),this.projectService.logger.isTestLogger?this.program!==n?this.print(!0,this.hasAddedorRemovedFiles,!0):this.writeLog("Same program as before"):this.hasAddedorRemovedFiles?this.print(!0,!0,!1):this.program!==n&&this.writeLog("Different program with same set of files"),this.projectService.verifyDocumentRegistry(),a}sendPerformanceEvent(e,t){this.projectService.sendPerformanceEvent(e,t)}detachScriptInfoFromProject(e,t){const n=this.projectService.getScriptInfo(e);n&&(n.detachFromProject(this),t||this.resolutionCache.removeResolutionsOfFile(n.path))}addMissingFileWatcher(e,t){var n;if(Hme(this)){const t=this.projectService.configFileExistenceInfoCache.get(e);if(null==(n=null==t?void 0:t.config)?void 0:n.projects.has(this.canonicalConfigFilePath))return E$}const r=this.projectService.watchFactory.watchFile(Uo(t,this.currentDirectory),(t,n)=>{Hme(this)&&this.getCachedDirectoryStructureHost().addOrDeleteFile(t,e,n),0===n&&this.missingFilesMap.has(e)&&(this.missingFilesMap.delete(e),r.close(),this.projectService.delayUpdateProjectGraphAndEnsureProjectStructureForOpenFiles(this))},500,this.projectService.getWatchOptions(this),I$.MissingFile,this);return r}isWatchedMissingFile(e){return!!this.missingFilesMap&&this.missingFilesMap.has(e)}addGeneratedFileWatch(e,t){if(this.compilerOptions.outFile)this.generatedFilesMap||(this.generatedFilesMap=this.createGeneratedFileWatcher(e));else{const n=this.toPath(t);if(this.generatedFilesMap){if(Rme(this.generatedFilesMap))return void fn.fail(`${this.projectName} Expected to not have --out watcher for generated file with options: ${JSON.stringify(this.compilerOptions)}`);if(this.generatedFilesMap.has(n))return}else this.generatedFilesMap=new Map;this.generatedFilesMap.set(n,this.createGeneratedFileWatcher(e))}}createGeneratedFileWatcher(e){return{generatedFilePath:this.toPath(e),watcher:this.projectService.watchFactory.watchFile(e,()=>{this.clearSourceMapperCache(),this.projectService.delayUpdateProjectGraphAndEnsureProjectStructureForOpenFiles(this)},2e3,this.projectService.getWatchOptions(this),I$.MissingGeneratedFile,this)}}isValidGeneratedFileWatcher(e,t){return this.toPath(e)===t.generatedFilePath}clearGeneratedFileWatch(){this.generatedFilesMap&&(Rme(this.generatedFilesMap)?zV(this.generatedFilesMap):gx(this.generatedFilesMap,zV),this.generatedFilesMap=void 0)}getScriptInfoForNormalizedPath(e){const t=this.projectService.getScriptInfoForPath(this.toPath(e));return t&&!t.isAttached(this)?Zfe.ThrowProjectDoesNotContainDocument(e,this):t}getScriptInfo(e){return this.projectService.getScriptInfo(e)}filesToString(e){return this.filesToStringWorker(e,!0,!1)}filesToStringWorker(e,t,n){if(this.initialLoadPending)return"\tFiles (0) InitialLoadPending\n";if(!this.program)return"\tFiles (0) NoProgram\n";const r=this.program.getSourceFiles();let i=`\tFiles (${r.length})\n`;if(e){for(const e of r)i+=`\t${e.fileName}${n?` ${e.version} ${JSON.stringify(e.text)}`:""}\n`;t&&(i+="\n\n",k$(this.program,e=>i+=`\t${e}\n`))}return i}print(e,t,n){var r;this.writeLog(`Project '${this.projectName}' (${Ame[this.projectKind]})`),this.writeLog(this.filesToStringWorker(e&&this.projectService.logger.hasLevel(3),t&&this.projectService.logger.hasLevel(3),n&&this.projectService.logger.hasLevel(3))),this.writeLog("-----------------------------------------------"),this.autoImportProviderHost&&this.autoImportProviderHost.print(!1,!1,!1),null==(r=this.noDtsResolutionProject)||r.print(!1,!1,!1)}setCompilerOptions(e){var t;if(e){e.allowNonTsExtensions=!0;const n=this.compilerOptions;this.compilerOptions=e,this.setInternalCompilerOptionsForEmittingJsFiles(),null==(t=this.noDtsResolutionProject)||t.setCompilerOptions(this.getCompilerOptionsForNoDtsResolutionProject()),rd(n,e)&&(this.cachedUnresolvedImportsPerFile.clear(),this.lastCachedUnresolvedImportsList=void 0,this.resolutionCache.onChangesAffectModuleResolution(),this.moduleSpecifierCache.clear()),this.markAsDirty()}}setWatchOptions(e){this.watchOptions=e}getWatchOptions(){return this.watchOptions}setTypeAcquisition(e){e&&(this.typeAcquisition=this.removeLocalTypingsFromTypeAcquisition(e))}getTypeAcquisition(){return this.typeAcquisition||{}}getChangesSinceVersion(e,t){var n,r;const i=t?e=>Re(e.entries(),([e,t])=>({fileName:e,isSourceOfProjectReferenceRedirect:t})):e=>Re(e.keys());this.initialLoadPending||zge(this);const o={projectName:this.getProjectName(),version:this.projectProgramVersion,isInferred:$me(this),options:this.getCompilationSettings(),languageServiceDisabled:!this.languageServiceEnabled,lastFileExceededProgramSize:this.lastFileExceededProgramSize},a=this.updatedFileNames;if(this.updatedFileNames=void 0,this.lastReportedFileNames&&e===this.lastReportedVersion){if(this.projectProgramVersion===this.lastReportedVersion&&!a)return{info:o,projectErrors:this.getGlobalProjectErrors()};const e=this.lastReportedFileNames,r=(null==(n=this.externalFiles)?void 0:n.map(e=>({fileName:ime(e),isSourceOfProjectReferenceRedirect:!1})))||tme,s=Je(this.getFileNamesWithRedirectInfo(!!t).concat(r),e=>e.fileName,e=>e.isSourceOfProjectReferenceRedirect),c=new Map,l=new Map,_=a?Re(a.keys()):[],u=[];return sd(s,(n,r)=>{e.has(r)?t&&n!==e.get(r)&&u.push({fileName:r,isSourceOfProjectReferenceRedirect:n}):c.set(r,n)}),sd(e,(e,t)=>{s.has(t)||l.set(t,e)}),this.lastReportedFileNames=s,this.lastReportedVersion=this.projectProgramVersion,{info:o,changes:{added:i(c),removed:i(l),updated:t?_.map(e=>({fileName:e,isSourceOfProjectReferenceRedirect:this.isSourceOfProjectReferenceRedirect(e)})):_,updatedRedirects:t?u:void 0},projectErrors:this.getGlobalProjectErrors()}}{const e=this.getFileNamesWithRedirectInfo(!!t),n=(null==(r=this.externalFiles)?void 0:r.map(e=>({fileName:ime(e),isSourceOfProjectReferenceRedirect:!1})))||tme,i=e.concat(n);return this.lastReportedFileNames=Je(i,e=>e.fileName,e=>e.isSourceOfProjectReferenceRedirect),this.lastReportedVersion=this.projectProgramVersion,{info:o,files:t?i:i.map(e=>e.fileName),projectErrors:this.getGlobalProjectErrors()}}}removeRoot(e){this.rootFilesMap.delete(e.path)}isSourceOfProjectReferenceRedirect(e){return!!this.program&&this.program.isSourceOfProjectReferenceRedirect(e)}getGlobalPluginSearchPaths(){return[...this.projectService.pluginProbeLocations,zo(this.projectService.getExecutingFilePath(),"../../..")]}enableGlobalPlugins(e){if(!this.projectService.globalPlugins.length)return;const t=this.projectService.host;if(!t.require&&!t.importPlugin)return void this.projectService.logger.info("Plugins were requested but not running in environment that supports 'require'. Nothing will be loaded");const n=this.getGlobalPluginSearchPaths();for(const r of this.projectService.globalPlugins)r&&(e.plugins&&e.plugins.some(e=>e.name===r)||(this.projectService.logger.info(`Loading global plugin ${r}`),this.enablePlugin({name:r,global:!0},n)))}enablePlugin(e,t){this.projectService.requestEnablePlugin(this,e,t)}enableProxy(e,t){try{if("function"!=typeof e)return void this.projectService.logger.info(`Skipped loading plugin ${t.name} because it did not expose a proper factory function`);const n={config:t,project:this,languageService:this.languageService,languageServiceHost:this,serverHost:this.projectService.host,session:this.projectService.session},r=e({typescript:Mfe}),i=r.create(n);for(const e of Object.keys(this.languageService))e in i||(this.projectService.logger.info(`Plugin activation warning: Missing proxied method ${e} in created LS. Patching.`),i[e]=this.languageService[e]);this.projectService.logger.info("Plugin validation succeeded"),this.languageService=i,this.plugins.push({name:t.name,module:r})}catch(n){this.projectService.logger.info(`Plugin activation failed: ${n}`)}}onPluginConfigurationChanged(e,t){this.plugins.filter(t=>t.name===e).forEach(e=>{e.module.onConfigurationChanged&&e.module.onConfigurationChanged(t)})}refreshDiagnostics(){this.projectService.sendProjectsUpdatedInBackgroundEvent()}getPackageJsonsVisibleToFile(e,t){return 0!==this.projectService.serverMode?tme:this.projectService.getPackageJsonsVisibleToFile(e,this,t)}getNearestAncestorDirectoryWithPackageJson(e){return this.projectService.getNearestAncestorDirectoryWithPackageJson(e,this)}getPackageJsonsForAutoImport(e){return this.getPackageJsonsVisibleToFile(zo(this.currentDirectory,DU),e)}getPackageJsonCache(){return this.projectService.packageJsonCache}getCachedExportInfoMap(){return this.exportMapCache||(this.exportMapCache=S0(this))}clearCachedExportInfoMap(){var e;null==(e=this.exportMapCache)||e.clear()}getModuleSpecifierCache(){return this.moduleSpecifierCache}includePackageJsonAutoImports(){return 0!==this.projectService.includePackageJsonAutoImports()&&this.languageServiceEnabled&&!XY(this.currentDirectory)&&this.isDefaultProjectForOpenFiles()?this.projectService.includePackageJsonAutoImports():0}getHostForAutoImportProvider(){var e,t;return this.program?{fileExists:this.program.fileExists,directoryExists:this.program.directoryExists,realpath:this.program.realpath||(null==(e=this.projectService.host.realpath)?void 0:e.bind(this.projectService.host)),getCurrentDirectory:this.getCurrentDirectory.bind(this),readFile:this.projectService.host.readFile.bind(this.projectService.host),getDirectories:this.projectService.host.getDirectories.bind(this.projectService.host),trace:null==(t=this.projectService.host.trace)?void 0:t.bind(this.projectService.host),useCaseSensitiveFileNames:this.program.useCaseSensitiveFileNames(),readDirectory:this.projectService.host.readDirectory.bind(this.projectService.host)}:this.projectService.host}getPackageJsonAutoImportProvider(){var e,t,n,r;if(!1===this.autoImportProviderHost)return;if(0!==this.projectService.serverMode)return void(this.autoImportProviderHost=!1);if(this.autoImportProviderHost)return zge(this.autoImportProviderHost),this.autoImportProviderHost.isEmpty()?(this.autoImportProviderHost.close(),void(this.autoImportProviderHost=void 0)):this.autoImportProviderHost.getCurrentProgram();const i=this.includePackageJsonAutoImports();if(i){null==(t=Xn)||t.push(Xn.Phase.Session,"getPackageJsonAutoImportProvider");const o=$n();if(this.autoImportProviderHost=null!=(e=Vme.create(i,this,this.getHostForAutoImportProvider()))&&e,this.autoImportProviderHost)return zge(this.autoImportProviderHost),this.sendPerformanceEvent("CreatePackageJsonAutoImportProvider",$n()-o),null==(n=Xn)||n.pop(),this.autoImportProviderHost.getCurrentProgram();null==(r=Xn)||r.pop()}}isDefaultProjectForOpenFiles(){return!!sd(this.projectService.openFiles,(e,t)=>this.projectService.tryGetDefaultProjectForFile(this.projectService.getScriptInfoForPath(t))===this)}watchNodeModulesForPackageJsonChanges(e){return this.projectService.watchPackageJsonsInNodeModules(e,this)}getIncompleteCompletionsCache(){return this.projectService.getIncompleteCompletionsCache()}getNoDtsResolutionProject(e){return fn.assert(0===this.projectService.serverMode),null!=this.noDtsResolutionProject||(this.noDtsResolutionProject=new zme(this)),this.noDtsResolutionProject.rootFile!==e&&(this.projectService.setFileNamesOfAutoImportProviderOrAuxillaryProject(this.noDtsResolutionProject,[e]),this.noDtsResolutionProject.rootFile=e),this.noDtsResolutionProject}runWithTemporaryFileUpdate(e,t,n){var r,i,o,a;const s=this.program,c=fn.checkDefined(null==(r=this.program)?void 0:r.getSourceFile(e),"Expected file to be part of program"),l=fn.checkDefined(c.getFullText());null==(i=this.getScriptInfo(e))||i.editContent(0,l.length,t),this.updateGraph();try{n(this.program,s,null==(o=this.program)?void 0:o.getSourceFile(e))}finally{null==(a=this.getScriptInfo(e))||a.editContent(0,t.length,l)}}getCompilerOptionsForNoDtsResolutionProject(){return __spreadProps(__spreadValues({},this.getCompilerOptions()),{noDtsResolution:!0,allowJs:!0,maxNodeModuleJsDepth:3,diagnostics:!1,skipLibCheck:!0,sourceMap:!1,types:u,lib:u,noLib:!0})}},Jme=class extends Bme{constructor(e,t,n,r,i,o){super(e.newInferredProjectName(),0,e,!1,void 0,t,!1,n,e.host,i),this._isJsInferredProject=!1,this.typeAcquisition=o,this.projectRootPath=r&&e.toCanonicalFileName(r),r||e.useSingleInferredProject||(this.canonicalCurrentDirectory=e.toCanonicalFileName(this.currentDirectory)),this.enableGlobalPlugins(this.getCompilerOptions())}toggleJsInferredProject(e){e!==this._isJsInferredProject&&(this._isJsInferredProject=e,this.setCompilerOptions())}setCompilerOptions(e){if(!e&&!this.getCompilationSettings())return;const t=PQ(e||this.getCompilationSettings());this._isJsInferredProject&&"number"!=typeof t.maxNodeModuleJsDepth?t.maxNodeModuleJsDepth=2:this._isJsInferredProject||(t.maxNodeModuleJsDepth=void 0),t.allowJs=!0,super.setCompilerOptions(t)}addRoot(e){fn.assert(e.isScriptOpen()),this.projectService.startWatchingConfigFilesForInferredProjectRoot(e),!this._isJsInferredProject&&e.isJavaScript()?this.toggleJsInferredProject(!0):this.isOrphan()&&this._isJsInferredProject&&!e.isJavaScript()&&this.toggleJsInferredProject(!1),super.addRoot(e)}removeRoot(e){this.projectService.stopWatchingConfigFilesForScriptInfo(e),super.removeRoot(e),!this.isOrphan()&&this._isJsInferredProject&&e.isJavaScript()&&x(this.getRootScriptInfos(),e=>!e.isJavaScript())&&this.toggleJsInferredProject(!1)}isOrphan(){return!this.hasRoots()}isProjectWithSingleRoot(){return!this.projectRootPath&&!this.projectService.useSingleInferredProject||1===this.getRootScriptInfos().length}close(){f(this.getRootScriptInfos(),e=>this.projectService.stopWatchingConfigFilesForScriptInfo(e)),super.close()}getTypeAcquisition(){return this.typeAcquisition||{enable:Ome(this),include:u,exclude:u}}},zme=class extends Bme{constructor(e){super(e.projectService.newAuxiliaryProjectName(),4,e.projectService,!1,void 0,e.getCompilerOptionsForNoDtsResolutionProject(),!1,void 0,e.projectService.host,e.currentDirectory)}isOrphan(){return!0}scheduleInvalidateResolutionsOfFailedLookupLocations(){}},qme=class e extends Bme{constructor(e,t,n){super(e.projectService.newAutoImportProviderProjectName(),3,e.projectService,!1,void 0,n,!1,e.getWatchOptions(),e.projectService.host,e.currentDirectory),this.hostProject=e,this.rootFileNames=t,this.useSourceOfProjectReferenceRedirect=Ke(this.hostProject,this.hostProject.useSourceOfProjectReferenceRedirect),this.getParsedCommandLine=Ke(this.hostProject,this.hostProject.getParsedCommandLine)}static getRootFileNames(e,t,n,r){var i,o;if(!e)return u;const a=t.getCurrentProgram();if(!a)return u;const s=$n();let c,l;const _=zo(t.currentDirectory,DU),d=t.getPackageJsonsForAutoImport(zo(t.currentDirectory,_));for(const u of d)null==(i=u.dependencies)||i.forEach((e,t)=>y(t)),null==(o=u.peerDependencies)||o.forEach((e,t)=>y(t));let p=0;if(c){const i=t.getSymlinkCache();for(const o of Re(c.keys())){if(2===e&&p>=this.maxDependencies)return t.log(`AutoImportProviderProject: attempted to add more than ${this.maxDependencies} dependencies. Aborting.`),u;const s=xR(o,t.currentDirectory,r,n,a.getModuleResolutionCache());if(s){const e=v(s,a,i);if(e){p+=h(e);continue}}if(!f([t.currentDirectory,t.getGlobalTypingsCacheLocation()],e=>{if(e){const t=xR(`@types/${o}`,e,r,n,a.getModuleResolutionCache());if(t){const e=v(t,a,i);return p+=h(e),!0}}})&&s&&r.allowJs&&r.maxNodeModuleJsDepth){const e=v(s,a,i,!0);p+=h(e)}}}const m=a.getResolvedProjectReferences();let g=0;return(null==m?void 0:m.length)&&t.projectService.getHostPreferences().includeCompletionsForModuleExports&&m.forEach(e=>{if(null==e?void 0:e.commandLine.options.outFile)g+=h(b([QS(e.commandLine.options.outFile,".d.ts")]));else if(e){const n=mt(()=>dV(e.commandLine,!t.useCaseSensitiveFileNames()));g+=h(b(z(e.commandLine.fileNames,r=>lO(r)||Do(r,".json")||a.getSourceFile(r)?void 0:iV(r,e.commandLine,!t.useCaseSensitiveFileNames(),n))))}}),(null==l?void 0:l.size)&&t.log(`AutoImportProviderProject: found ${l.size} root files in ${p} dependencies ${g} referenced projects in ${$n()-s} ms`),l?Re(l.values()):u;function h(e){return(null==e?void 0:e.length)?(null!=l||(l=new Set),e.forEach(e=>l.add(e)),1):0}function y(e){Zt(e,"@types/")||(c||(c=new Set)).add(e)}function v(e,i,o,a){var s;const c=_M(e,r,n,i.getModuleResolutionCache(),a);if(c){const r=null==(s=n.realpath)?void 0:s.call(n,e.packageDirectory),i=r?t.toPath(r):void 0,a=i&&i!==t.toPath(e.packageDirectory);return a&&o.setSymlinkedDirectory(e.packageDirectory,{real:Xo(r),realPath:Xo(i)}),b(c,a?t=>t.replace(e.packageDirectory,r):void 0)}}function b(e,t){return z(e,e=>{const n=t?t(e):e;if(!(a.getSourceFile(n)||t&&a.getSourceFile(e)))return n})}}static create(t,n,r){if(0===t)return;const i=__spreadValues(__spreadValues({},n.getCompilerOptions()),this.compilerOptionsOverrides),o=this.getRootFileNames(t,n,r,i);return o.length?new e(n,o,i):void 0}isEmpty(){return!K(this.rootFileNames)}isOrphan(){return!0}updateGraph(){let t=this.rootFileNames;t||(t=e.getRootFileNames(this.hostProject.includePackageJsonAutoImports(),this.hostProject,this.hostProject.getHostForAutoImportProvider(),this.getCompilationSettings())),this.projectService.setFileNamesOfAutoImportProviderOrAuxillaryProject(this,t),this.rootFileNames=t;const n=this.getCurrentProgram(),r=super.updateGraph();return n&&n!==this.getCurrentProgram()&&this.hostProject.clearCachedExportInfoMap(),r}scheduleInvalidateResolutionsOfFailedLookupLocations(){}hasRoots(){var e;return!!(null==(e=this.rootFileNames)?void 0:e.length)}markAsDirty(){this.rootFileNames=void 0,super.markAsDirty()}getScriptFileNames(){return this.rootFileNames||u}getLanguageService(){throw new Error("AutoImportProviderProject language service should never be used. To get the program, use `project.getCurrentProgram()`.")}onAutoImportProviderSettingsChanged(){throw new Error("AutoImportProviderProject is an auto import provider; use `markAsDirty()` instead.")}onPackageJsonChange(){throw new Error("package.json changes should be notified on an AutoImportProvider's host project")}getHostForAutoImportProvider(){throw new Error("AutoImportProviderProject cannot provide its own host; use `hostProject.getModuleResolutionHostForAutomImportProvider()` instead.")}getProjectReferences(){return this.hostProject.getProjectReferences()}includePackageJsonAutoImports(){return 0}getSymlinkCache(){return this.hostProject.getSymlinkCache()}getModuleResolutionCache(){var e;return null==(e=this.hostProject.getCurrentProgram())?void 0:e.getModuleResolutionCache()}};qme.maxDependencies=10,qme.compilerOptionsOverrides={diagnostics:!1,skipLibCheck:!0,sourceMap:!1,types:u,lib:u,noLib:!0};var Vme=qme,Ume=class extends Bme{constructor(e,t,n,r,i){super(e,1,n,!1,void 0,{},!1,void 0,r,Io(e)),this.canonicalConfigFilePath=t,this.openFileWatchTriggered=new Map,this.initialLoadPending=!0,this.sendLoadingProjectFinish=!1,this.pendingUpdateLevel=2,this.pendingUpdateReason=i}setCompilerHost(e){this.compilerHost=e}getCompilerHost(){return this.compilerHost}useSourceOfProjectReferenceRedirect(){return this.languageServiceEnabled}getParsedCommandLine(e){const t=ime(e),n=this.projectService.toCanonicalFileName(t);let r=this.projectService.configFileExistenceInfoCache.get(n);return r||this.projectService.configFileExistenceInfoCache.set(n,r={exists:this.projectService.host.fileExists(t)}),this.projectService.ensureParsedConfigUptoDate(t,n,r,this),this.languageServiceEnabled&&0===this.projectService.serverMode&&this.projectService.watchWildcards(t,r,this),r.exists?r.config.parsedCommandLine:void 0}onReleaseParsedCommandLine(e){this.releaseParsedConfig(this.projectService.toCanonicalFileName(ime(e)))}releaseParsedConfig(e){this.projectService.stopWatchingWildCards(e,this),this.projectService.releaseParsedConfig(e,this)}updateGraph(){if(this.deferredClose)return!1;const e=this.dirty;this.initialLoadPending=!1;const t=this.pendingUpdateLevel;let n;switch(this.pendingUpdateLevel=0,t){case 1:this.openFileWatchTriggered.clear(),n=this.projectService.reloadFileNamesOfConfiguredProject(this);break;case 2:this.openFileWatchTriggered.clear();const e=fn.checkDefined(this.pendingUpdateReason);this.projectService.reloadConfiguredProject(this,e),n=!0;break;default:n=super.updateGraph()}return this.compilerHost=void 0,this.projectService.sendProjectLoadingFinishEvent(this),this.projectService.sendProjectTelemetry(this),2!==t&&(!n||e&&this.triggerFileForConfigFileDiag&&2!==this.getCurrentProgram().structureIsReused)?this.triggerFileForConfigFileDiag||this.projectService.sendConfigFileDiagEvent(this,void 0,!1):this.triggerFileForConfigFileDiag=void 0,n}getCachedDirectoryStructureHost(){return this.directoryStructureHost}getConfigFilePath(){return this.getProjectName()}getProjectReferences(){return this.projectReferences}updateReferences(e){this.projectReferences=e,this.potentialProjectReferences=void 0}setPotentialProjectReference(e){fn.assert(this.initialLoadPending),(this.potentialProjectReferences||(this.potentialProjectReferences=new Set)).add(e)}getResolvedProjectReferenceToRedirect(e){const t=this.getCurrentProgram();return t&&t.getResolvedProjectReferenceToRedirect(e)}forEachResolvedProjectReference(e){var t;return null==(t=this.getCurrentProgram())?void 0:t.forEachResolvedProjectReference(e)}enablePluginsWithOptions(e){var t;if(this.plugins.length=0,!(null==(t=e.plugins)?void 0:t.length)&&!this.projectService.globalPlugins.length)return;const n=this.projectService.host;if(!n.require&&!n.importPlugin)return void this.projectService.logger.info("Plugins were requested but not running in environment that supports 'require'. Nothing will be loaded");const r=this.getGlobalPluginSearchPaths();if(this.projectService.allowLocalPluginLoads){const e=Io(this.canonicalConfigFilePath);this.projectService.logger.info(`Local plugin loading enabled; adding ${e} to search paths`),r.unshift(e)}if(e.plugins)for(const i of e.plugins)this.enablePlugin(i,r);return this.enableGlobalPlugins(e)}getGlobalProjectErrors(){return F(this.projectErrors,e=>!e.file)||tme}getAllProjectErrors(){return this.projectErrors||tme}setProjectErrors(e){this.projectErrors=e}close(){this.projectService.configFileExistenceInfoCache.forEach((e,t)=>this.releaseParsedConfig(t)),this.projectErrors=void 0,this.openFileWatchTriggered.clear(),this.compilerHost=void 0,super.close()}markAsDirty(){this.deferredClose||super.markAsDirty()}isOrphan(){return!!this.deferredClose}getEffectiveTypeRoots(){return pR(this.getCompilationSettings(),this)||[]}updateErrorOnNoInputFiles(e){this.parsedCommandLine=e,hj(e.fileNames,this.getConfigFilePath(),this.getCompilerOptions().configFile.configFileSpecs,this.projectErrors,gj(e.raw))}},Wme=class extends Bme{constructor(e,t,n,r,i,o,a){super(e,2,t,!0,r,n,i,a,t.host,Io(o||Bo(e))),this.externalProjectName=e,this.compileOnSaveEnabled=i,this.excludedFiles=[],this.enableGlobalPlugins(this.getCompilerOptions())}updateGraph(){const e=super.updateGraph();return this.projectService.sendProjectTelemetry(this),e}getExcludedFiles(){return this.excludedFiles}};function $me(e){return 0===e.projectKind}function Hme(e){return 1===e.projectKind}function Kme(e){return 2===e.projectKind}function Gme(e){return 3===e.projectKind||4===e.projectKind}function Xme(e){return Hme(e)&&!!e.deferredClose}var Qme=20971520,Zme=4194304,Yme="projectsUpdatedInBackground",ege="projectLoadingStart",tge="projectLoadingFinish",nge="largeFileReferenced",rge="configFileDiag",ige="projectLanguageServiceState",oge="projectInfo",age="openFileInfo",sge="createFileWatcher",cge="createDirectoryWatcher",lge="closeFileWatcher",_ge="*ensureProjectForOpenFiles*";function uge(e){const t=new Map;for(const n of e)if("object"==typeof n.type){const e=n.type;e.forEach(e=>{fn.assert("number"==typeof e)}),t.set(n.name,e)}return t}var dge=uge(AO),pge=uge(DO),fge=new Map(Object.entries({none:0,block:1,smart:2})),mge={jquery:{match:/jquery(-[\d.]+)?(\.intellisense)?(\.min)?\.js$/i,types:["jquery"]},WinJS:{match:/^(.*\/winjs-[.\d]+)\/js\/base\.js$/i,exclude:[["^",1,"/.*"]],types:["winjs"]},Kendo:{match:/^(.*\/kendo(-ui)?)\/kendo\.all(\.min)?\.js$/i,exclude:[["^",1,"/.*"]],types:["kendo-ui"]},"Office Nuget":{match:/^(.*\/office\/1)\/excel-\d+\.debug\.js$/i,exclude:[["^",1,"/.*"]],types:["office"]},References:{match:/^(.*\/_references\.js)$/i,exclude:[["^",1,"$"]]}};function gge(e){return nt(e.indentStyle)&&(e.indentStyle=fge.get(e.indentStyle.toLowerCase()),fn.assert(void 0!==e.indentStyle)),e}function hge(e){return dge.forEach((t,n)=>{const r=e[n];nt(r)&&(e[n]=t.get(r.toLowerCase()))}),e}function yge(e,t){let n,r;return DO.forEach(i=>{const o=e[i.name];if(void 0===o)return;const a=pge.get(i.name);(n||(n={}))[i.name]=a?nt(o)?a.get(o.toLowerCase()):o:Fj(i,o,t||"",r||(r=[]))}),n&&{watchOptions:n,errors:r}}function vge(e){let t;return $O.forEach(n=>{const r=e[n.name];void 0!==r&&((t||(t={}))[n.name]=r)}),t}function bge(e){return nt(e)?xge(e):e}function xge(e){switch(e){case"JS":return 1;case"JSX":return 2;case"TS":return 3;case"TSX":return 4;default:return 0}}function kge(e){const t=e,{lazyConfiguredProjectsFromExternalProject:n}=t;return __objRest(t,["lazyConfiguredProjectsFromExternalProject"])}var Sge={getFileName:e=>e,getScriptKind:(e,t)=>{let n;if(t){const r=jo(e);r&&K(t,e=>e.extension===r&&(n=e.scriptKind,!0))}return n},hasMixedContent:(e,t)=>K(t,t=>t.isMixedContent&&Do(e,t.extension))},Tge={getFileName:e=>e.fileName,getScriptKind:e=>bge(e.scriptKind),hasMixedContent:e=>!!e.hasMixedContent};function Cge(e,t){for(const n of t)if(n.getProjectName()===e)return n}var wge={isKnownTypesPackageName:st,installPackage:ft,enqueueInstallTypingsRequest:at,attach:at,onProjectClosed:at,globalTypingsCacheLocation:void 0},Dge={close:at};function Nge(e,t){if(!t)return;const n=t.get(e.path);return void 0!==n?Ege(e)?n&&!nt(n)?n.get(e.fileName):void 0:nt(n)||!n?n:n.get(!1):void 0}function Fge(e){return!!e.containingProjects}function Ege(e){return!!e.configFileInfo}var Pge=(e=>(e[e.FindOptimized=0]="FindOptimized",e[e.Find=1]="Find",e[e.CreateReplayOptimized=2]="CreateReplayOptimized",e[e.CreateReplay=3]="CreateReplay",e[e.CreateOptimized=4]="CreateOptimized",e[e.Create=5]="Create",e[e.ReloadOptimized=6]="ReloadOptimized",e[e.Reload=7]="Reload",e))(Pge||{});function Age(e){return e-1}function Ige(e,t,n,r,i,o,a,s,c){for(var l;;){if(t.parsedCommandLine&&(s&&!t.parsedCommandLine.options.composite||t.parsedCommandLine.options.disableSolutionSearching))return;const _=t.projectService.getConfigFileNameForFile({fileName:t.getConfigFilePath(),path:e.path,configFileInfo:!0,isForDefaultProject:!s},r<=3);if(!_)return;const u=t.projectService.findCreateOrReloadConfiguredProject(_,r,i,o,s?void 0:e.fileName,a,s,c);if(!u)return;!u.project.parsedCommandLine&&(null==(l=t.parsedCommandLine)?void 0:l.options.composite)&&u.project.setPotentialProjectReference(t.canonicalConfigFilePath);const d=n(u);if(d)return d;t=u.project}}function Oge(e,t,n,r,i,o,a,s){const c=t.options.disableReferencedProjectLoad?0:r;let l;return f(t.projectReferences,t=>{var _,u;const d=ime(HU(t)),p=e.projectService.toCanonicalFileName(d),f=null==s?void 0:s.get(p);if(void 0!==f&&f>=c)return;const m=e.projectService.configFileExistenceInfoCache.get(p);let g=0===c?(null==m?void 0:m.exists)||(null==(u=e.resolvedChildConfigs)?void 0:u.has(p))?m.config.parsedCommandLine:void 0:e.getParsedCommandLine(d);if(g&&c!==r&&c>2&&(g=e.getParsedCommandLine(d)),!g)return;const h=e.projectService.findConfiguredProjectByProjectName(d,o);if(2!==c||m||h){switch(c){case 6:h&&h.projectService.reloadConfiguredProjectOptimized(h,i,a);case 4:(null!=(_=e.resolvedChildConfigs)?_:e.resolvedChildConfigs=new Set).add(p);case 2:case 0:if(h||0!==c){const t=n(null!=m?m:e.projectService.configFileExistenceInfoCache.get(p),h,d,i,e,p);if(t)return t}break;default:fn.assertNever(c)}(null!=s?s:s=new Map).set(p,c),(null!=l?l:l=[]).push(g)}})||f(l,t=>t.projectReferences&&Oge(e,t,n,c,i,o,a,s))}function Lge(e,t,n,r,i){let o,a=!1;switch(t){case 2:case 3:Uge(e)&&(o=e.projectService.configFileExistenceInfoCache.get(e.canonicalConfigFilePath));break;case 4:if(o=Vge(e),o)break;case 5:a=function(e,t){if(t){if(qge(e,t,!1))return!0}else zge(e);return!1}(e,n);break;case 6:if(e.projectService.reloadConfiguredProjectOptimized(e,r,i),o=Vge(e),o)break;case 7:a=e.projectService.reloadConfiguredProjectClearingSemanticCache(e,r,i);break;case 0:case 1:break;default:fn.assertNever(t)}return{project:e,sentConfigFileDiag:a,configFileExistenceInfo:o,reason:r}}function jge(e,t){var n;return e.initialLoadPending?null!=(n=e.potentialProjectReferences&&cd(e.potentialProjectReferences,t))?n:e.resolvedChildConfigs&&cd(e.resolvedChildConfigs,t):void 0}function Rge(e,t,n){const r=n&&e.projectService.configuredProjects.get(n);return r&&t(r)}function Mge(e,t){return function(e,t,n,r){return e.getCurrentProgram()?e.forEachResolvedProjectReference(t):e.initialLoadPending?jge(e,r):f(e.getProjectReferences(),n)}(e,n=>Rge(e,t,n.sourceFile.path),n=>Rge(e,t,e.toPath(HU(n))),n=>Rge(e,t,n))}function Bge(e,t){return`${nt(t)?`Config: ${t} `:t?`Project: ${t.getProjectName()} `:""}WatchType: ${e}`}function Jge(e){return!e.isScriptOpen()&&void 0!==e.mTime}function zge(e){return e.invalidateResolutionsOfFailedLookupLocations(),e.dirty&&!e.updateGraph()}function qge(e,t,n){if(!n&&(e.invalidateResolutionsOfFailedLookupLocations(),!e.dirty))return!1;e.triggerFileForConfigFileDiag=t;const r=e.pendingUpdateLevel;if(e.updateGraph(),!e.triggerFileForConfigFileDiag&&!n)return 2===r;const i=e.projectService.sendConfigFileDiagEvent(e,t,n);return e.triggerFileForConfigFileDiag=void 0,i}function Vge(e){const t=ime(e.getConfigFilePath()),n=e.projectService.ensureParsedConfigUptoDate(t,e.canonicalConfigFilePath,e.projectService.configFileExistenceInfoCache.get(e.canonicalConfigFilePath),e),r=n.config.parsedCommandLine;if(e.parsedCommandLine=r,e.resolvedChildConfigs=void 0,e.updateReferences(r.projectReferences),Uge(e))return n}function Uge(e){return!(!e.parsedCommandLine||!e.parsedCommandLine.options.composite&&!mj(e.parsedCommandLine))}function Wge(e){return`User requested reload projects: ${e}`}function $ge(e){Hme(e)&&(e.projectOptions=!0)}function Hge(e){let t=1;return()=>e(t++)}function Kge(){return{idToCallbacks:new Map,pathToId:new Map}}function Gge(e,t){return!!t&&!!e.eventHandler&&!!e.session}function Xge(e,t){if(!Gge(e,t))return;const n=Kge(),r=Kge(),i=Kge();let o=1;return e.session.addProtocolHandler("watchChange",e=>{var t;return et(t=e.arguments)?t.forEach(s):s(t),{responseRequired:!1}}),{watchFile:function(e,t){return a(n,e,t,t=>({eventName:sge,data:{id:t,path:e}}))},watchDirectory:function(e,t,n){return a(n?i:r,e,t,t=>({eventName:cge,data:{id:t,path:e,recursive:!!n,ignoreUpdate:!e.endsWith("/node_modules")||void 0}}))},getCurrentDirectory:()=>e.host.getCurrentDirectory(),useCaseSensitiveFileNames:e.host.useCaseSensitiveFileNames};function a({pathToId:t,idToCallbacks:n},r,i,a){const s=e.toPath(r);let c=t.get(s);c||t.set(s,c=o++);let l=n.get(c);return l||(n.set(c,l=new Set),e.eventHandler(a(c))),l.add(i),{close(){const r=n.get(c);(null==r?void 0:r.delete(i))&&(r.size||(n.delete(c),t.delete(s),e.eventHandler({eventName:lge,data:{id:c}})))}}}function s({id:e,created:t,deleted:n,updated:r}){c(e,t,0),c(e,n,2),c(e,r,1)}function c(e,t,o){(null==t?void 0:t.length)&&(l(n,e,t,(e,t)=>e(t,o)),l(r,e,t,(e,t)=>e(t)),l(i,e,t,(e,t)=>e(t)))}function l(e,t,n,r){var i;null==(i=e.idToCallbacks.get(t))||i.forEach(e=>{n.forEach(t=>r(e,Bo(t)))})}}var Qge=class e{constructor(e){var t;this.filenameToScriptInfo=new Map,this.nodeModulesWatchers=new Map,this.filenameToScriptInfoVersion=new Map,this.allJsFilesForOpenFileTelemetry=new Set,this.externalProjectToConfiguredProjectMap=new Map,this.externalProjects=[],this.inferredProjects=[],this.configuredProjects=new Map,this.newInferredProjectName=Hge(lme),this.newAutoImportProviderProjectName=Hge(_me),this.newAuxiliaryProjectName=Hge(ume),this.openFiles=new Map,this.configFileForOpenFiles=new Map,this.rootOfInferredProjects=new Set,this.openFilesWithNonRootedDiskPath=new Map,this.compilerOptionsForInferredProjectsPerProjectRoot=new Map,this.watchOptionsForInferredProjectsPerProjectRoot=new Map,this.typeAcquisitionForInferredProjectsPerProjectRoot=new Map,this.projectToSizeMap=new Map,this.configFileExistenceInfoCache=new Map,this.safelist=mge,this.legacySafelist=new Map,this.pendingProjectUpdates=new Map,this.pendingEnsureProjectForOpenFiles=!1,this.seenProjects=new Map,this.sharedExtendedConfigFileWatchers=new Map,this.extendedConfigCache=new Map,this.baseline=at,this.verifyDocumentRegistry=at,this.verifyProgram=at,this.onProjectCreation=at,this.host=e.host,this.logger=e.logger,this.cancellationToken=e.cancellationToken,this.useSingleInferredProject=e.useSingleInferredProject,this.useInferredProjectPerProjectRoot=e.useInferredProjectPerProjectRoot,this.typingsInstaller=e.typingsInstaller||wge,this.throttleWaitMilliseconds=e.throttleWaitMilliseconds,this.eventHandler=e.eventHandler,this.suppressDiagnosticEvents=e.suppressDiagnosticEvents,this.globalPlugins=e.globalPlugins||tme,this.pluginProbeLocations=e.pluginProbeLocations||tme,this.allowLocalPluginLoads=!!e.allowLocalPluginLoads,this.typesMapLocation=void 0===e.typesMapLocation?zo(Io(this.getExecutingFilePath()),"typesMap.json"):e.typesMapLocation,this.session=e.session,this.jsDocParsingMode=e.jsDocParsingMode,void 0!==e.serverMode?this.serverMode=e.serverMode:this.serverMode=0,this.host.realpath&&(this.realpathToScriptInfos=Ge()),this.currentDirectory=ime(this.host.getCurrentDirectory()),this.toCanonicalFileName=Kt(this.host.useCaseSensitiveFileNames),this.globalCacheLocationDirectoryPath=this.typingsInstaller.globalTypingsCacheLocation?Xo(this.toPath(this.typingsInstaller.globalTypingsCacheLocation)):void 0,this.throttledOperations=new pme(this.host,this.logger),this.logger.info(`currentDirectory:: ${this.host.getCurrentDirectory()} useCaseSensitiveFileNames:: ${this.host.useCaseSensitiveFileNames}`),this.logger.info(`libs Location:: ${Io(this.host.getExecutingFilePath())}`),this.logger.info(`globalTypingsCacheLocation:: ${this.typingsInstaller.globalTypingsCacheLocation}`),this.typesMapLocation?this.loadTypesMap():this.logger.info("No types map provided; using the default"),this.typingsInstaller.attach(this),this.hostConfiguration={formatCodeOptions:RG(this.host.newLine),preferences:FG,hostInfo:"Unknown host",extraFileExtensions:[]},this.documentRegistry=Z0(this.host.useCaseSensitiveFileNames,this.currentDirectory,this.jsDocParsingMode,this);const n=this.logger.hasLevel(3)?2:this.logger.loggingEnabled()?1:0,r=0!==n?e=>this.logger.info(e):at;this.packageJsonCache=nhe(this),this.watchFactory=0!==this.serverMode?{watchFile:P$,watchDirectory:P$}:BV(Xge(this,e.canUseWatchEvents)||this.host,n,r,Bge),this.canUseWatchEvents=Gge(this,e.canUseWatchEvents),null==(t=e.incrementalVerifier)||t.call(e,this)}toPath(e){return Ko(e,this.currentDirectory,this.toCanonicalFileName)}getExecutingFilePath(){return this.getNormalizedAbsolutePath(this.host.getExecutingFilePath())}getNormalizedAbsolutePath(e){return Uo(e,this.host.getCurrentDirectory())}setDocument(e,t,n){fn.checkDefined(this.getScriptInfoForPath(t)).cacheSourceFile={key:e,sourceFile:n}}getDocument(e,t){const n=this.getScriptInfoForPath(t);return n&&n.cacheSourceFile&&n.cacheSourceFile.key===e?n.cacheSourceFile.sourceFile:void 0}ensureInferredProjectsUpToDate_TestOnly(){this.ensureProjectStructuresUptoDate()}getCompilerOptionsForInferredProjects(){return this.compilerOptionsForInferredProjects}onUpdateLanguageServiceStateForProject(e,t){if(!this.eventHandler)return;const n={eventName:ige,data:{project:e,languageServiceEnabled:t}};this.eventHandler(n)}loadTypesMap(){try{const e=this.host.readFile(this.typesMapLocation);if(void 0===e)return void this.logger.info(`Provided types map file "${this.typesMapLocation}" doesn't exist`);const t=JSON.parse(e);for(const n of Object.keys(t.typesMap))t.typesMap[n].match=new RegExp(t.typesMap[n].match,"i");this.safelist=t.typesMap;for(const n in t.simpleMap)Pe(t.simpleMap,n)&&this.legacySafelist.set(n,t.simpleMap[n].toLowerCase())}catch(e){this.logger.info(`Error loading types map: ${e}`),this.safelist=mge,this.legacySafelist.clear()}}updateTypingsForProject(e){const t=this.findProject(e.projectName);if(t)switch(e.kind){case eG:return void t.updateTypingFiles(e.compilerOptions,e.typeAcquisition,e.unresolvedImports,e.typings);case tG:return void t.enqueueInstallTypingsForProject(!0)}}watchTypingLocations(e){var t;null==(t=this.findProject(e.projectName))||t.watchTypingLocations(e.files)}delayEnsureProjectForOpenFiles(){this.openFiles.size&&(this.pendingEnsureProjectForOpenFiles=!0,this.throttledOperations.schedule(_ge,2500,()=>{0!==this.pendingProjectUpdates.size?this.delayEnsureProjectForOpenFiles():this.pendingEnsureProjectForOpenFiles&&(this.ensureProjectForOpenFiles(),this.sendProjectsUpdatedInBackgroundEvent())}))}delayUpdateProjectGraph(e){if(Xme(e))return;if(e.markAsDirty(),Gme(e))return;const t=e.getProjectName();this.pendingProjectUpdates.set(t,e),this.throttledOperations.schedule(t,250,()=>{this.pendingProjectUpdates.delete(t)&&zge(e)})}hasPendingProjectUpdate(e){return this.pendingProjectUpdates.has(e.getProjectName())}sendProjectsUpdatedInBackgroundEvent(){if(!this.eventHandler)return;const e={eventName:Yme,data:{openFiles:Re(this.openFiles.keys(),e=>this.getScriptInfoForPath(e).fileName)}};this.eventHandler(e)}sendLargeFileReferencedEvent(e,t){if(!this.eventHandler)return;const n={eventName:nge,data:{file:e,fileSize:t,maxFileSize:Zme}};this.eventHandler(n)}sendProjectLoadingStartEvent(e,t){if(!this.eventHandler)return;e.sendLoadingProjectFinish=!0;const n={eventName:ege,data:{project:e,reason:t}};this.eventHandler(n)}sendProjectLoadingFinishEvent(e){if(!this.eventHandler||!e.sendLoadingProjectFinish)return;e.sendLoadingProjectFinish=!1;const t={eventName:tge,data:{project:e}};this.eventHandler(t)}sendPerformanceEvent(e,t){this.performanceEventHandler&&this.performanceEventHandler({kind:e,durationMs:t})}delayUpdateProjectGraphAndEnsureProjectStructureForOpenFiles(e){this.delayUpdateProjectGraph(e),this.delayEnsureProjectForOpenFiles()}delayUpdateProjectGraphs(e,t){if(e.length){for(const n of e)t&&n.clearSourceMapperCache(),this.delayUpdateProjectGraph(n);this.delayEnsureProjectForOpenFiles()}}setCompilerOptionsForInferredProjects(e,t){fn.assert(void 0===t||this.useInferredProjectPerProjectRoot,"Setting compiler options per project root path is only supported when useInferredProjectPerProjectRoot is enabled");const n=hge(e),r=yge(e,t),i=vge(e);n.allowNonTsExtensions=!0;const o=t&&this.toCanonicalFileName(t);o?(this.compilerOptionsForInferredProjectsPerProjectRoot.set(o,n),this.watchOptionsForInferredProjectsPerProjectRoot.set(o,r||!1),this.typeAcquisitionForInferredProjectsPerProjectRoot.set(o,i)):(this.compilerOptionsForInferredProjects=n,this.watchOptionsForInferredProjects=r,this.typeAcquisitionForInferredProjects=i);for(const a of this.inferredProjects)(o?a.projectRootPath!==o:a.projectRootPath&&this.compilerOptionsForInferredProjectsPerProjectRoot.has(a.projectRootPath))||(a.setCompilerOptions(n),a.setTypeAcquisition(i),a.setWatchOptions(null==r?void 0:r.watchOptions),a.setProjectErrors(null==r?void 0:r.errors),a.compileOnSaveEnabled=n.compileOnSave,a.markAsDirty(),this.delayUpdateProjectGraph(a));this.delayEnsureProjectForOpenFiles()}findProject(e){if(void 0!==e)return cme(e)?Cge(e,this.inferredProjects):this.findExternalProjectByProjectName(e)||this.findConfiguredProjectByProjectName(ime(e))}forEachProject(e){this.externalProjects.forEach(e),this.configuredProjects.forEach(e),this.inferredProjects.forEach(e)}forEachEnabledProject(e){this.forEachProject(t=>{!t.isOrphan()&&t.languageServiceEnabled&&e(t)})}getDefaultProjectForFile(e,t){return t?this.ensureDefaultProjectForFile(e):this.tryGetDefaultProjectForFile(e)}tryGetDefaultProjectForFile(e){const t=nt(e)?this.getScriptInfoForNormalizedPath(e):e;return t&&!t.isOrphan()?t.getDefaultProject():void 0}tryGetDefaultProjectForEnsuringConfiguredProjectForFile(e){var t;const n=nt(e)?this.getScriptInfoForNormalizedPath(e):e;if(n)return(null==(t=this.pendingOpenFileProjectUpdates)?void 0:t.delete(n.path))&&(this.tryFindDefaultConfiguredProjectAndLoadAncestorsForOpenScriptInfo(n,5),n.isOrphan()&&this.assignOrphanScriptInfoToInferredProject(n,this.openFiles.get(n.path))),this.tryGetDefaultProjectForFile(n)}ensureDefaultProjectForFile(e){return this.tryGetDefaultProjectForEnsuringConfiguredProjectForFile(e)||this.doEnsureDefaultProjectForFile(e)}doEnsureDefaultProjectForFile(e){this.ensureProjectStructuresUptoDate();const t=nt(e)?this.getScriptInfoForNormalizedPath(e):e;return t?t.getDefaultProject():(this.logErrorForScriptInfoNotFound(nt(e)?e:e.fileName),Zfe.ThrowNoProject())}getScriptInfoEnsuringProjectsUptoDate(e){return this.ensureProjectStructuresUptoDate(),this.getScriptInfo(e)}ensureProjectStructuresUptoDate(){let e=this.pendingEnsureProjectForOpenFiles;this.pendingProjectUpdates.clear();const t=t=>{e=zge(t)||e};this.externalProjects.forEach(t),this.configuredProjects.forEach(t),this.inferredProjects.forEach(t),e&&this.ensureProjectForOpenFiles()}getFormatCodeOptions(e){const t=this.getScriptInfoForNormalizedPath(e);return t&&t.getFormatCodeSettings()||this.hostConfiguration.formatCodeOptions}getPreferences(e){const t=this.getScriptInfoForNormalizedPath(e);return __spreadValues(__spreadValues({},this.hostConfiguration.preferences),t&&t.getPreferences())}getHostFormatCodeOptions(){return this.hostConfiguration.formatCodeOptions}getHostPreferences(){return this.hostConfiguration.preferences}onSourceFileChanged(e,t){fn.assert(!e.isScriptOpen()),2===t?this.handleDeletedFile(e,!0):(e.deferredDelete&&(e.deferredDelete=void 0),e.delayReloadNonMixedContentFile(),this.delayUpdateProjectGraphs(e.containingProjects,!1),this.handleSourceMapProjects(e))}handleSourceMapProjects(e){if(e.sourceMapFilePath)if(nt(e.sourceMapFilePath)){const t=this.getScriptInfoForPath(e.sourceMapFilePath);this.delayUpdateSourceInfoProjects(null==t?void 0:t.sourceInfos)}else this.delayUpdateSourceInfoProjects(e.sourceMapFilePath.sourceInfos);this.delayUpdateSourceInfoProjects(e.sourceInfos),e.declarationInfoPath&&this.delayUpdateProjectsOfScriptInfoPath(e.declarationInfoPath)}delayUpdateSourceInfoProjects(e){e&&e.forEach((e,t)=>this.delayUpdateProjectsOfScriptInfoPath(t))}delayUpdateProjectsOfScriptInfoPath(e){const t=this.getScriptInfoForPath(e);t&&this.delayUpdateProjectGraphs(t.containingProjects,!0)}handleDeletedFile(e,t){fn.assert(!e.isScriptOpen()),this.delayUpdateProjectGraphs(e.containingProjects,!1),this.handleSourceMapProjects(e),e.detachAllProjects(),t?(e.delayReloadNonMixedContentFile(),e.deferredDelete=!0):this.deleteScriptInfo(e)}watchWildcardDirectory(e,t,n,r){let i=this.watchFactory.watchDirectory(e,t=>this.onWildCardDirectoryWatcherInvoke(e,n,r,o,t),t,this.getWatchOptionsFromProjectWatchOptions(r.parsedCommandLine.watchOptions,Io(n)),I$.WildcardDirectory,n);const o={packageJsonWatches:void 0,close(){var e;i&&(i.close(),i=void 0,null==(e=o.packageJsonWatches)||e.forEach(e=>{e.projects.delete(o),e.close()}),o.packageJsonWatches=void 0)}};return o}onWildCardDirectoryWatcherInvoke(e,t,n,r,i){const o=this.toPath(i),a=n.cachedDirectoryStructureHost.addOrDeleteFileOrDirectory(i,o);if("package.json"===Oo(o)&&!XY(o)&&(a&&a.fileExists||!a&&this.host.fileExists(i))){const e=this.getNormalizedAbsolutePath(i);this.logger.info(`Config: ${t} Detected new package.json: ${e}`),this.packageJsonCache.addOrUpdate(e,o),this.watchPackageJsonFile(e,o,r)}(null==a?void 0:a.fileExists)||this.sendSourceFileChange(o);const s=this.findConfiguredProjectByProjectName(t);jV({watchedDirPath:this.toPath(e),fileOrDirectory:i,fileOrDirectoryPath:o,configFileName:t,extraFileExtensions:this.hostConfiguration.extraFileExtensions,currentDirectory:this.currentDirectory,options:n.parsedCommandLine.options,program:(null==s?void 0:s.getCurrentProgram())||n.parsedCommandLine.fileNames,useCaseSensitiveFileNames:this.host.useCaseSensitiveFileNames,writeLog:e=>this.logger.info(e),toPath:e=>this.toPath(e),getScriptKind:s?e=>s.getScriptKind(e):void 0})||(2!==n.updateLevel&&(n.updateLevel=1),n.projects.forEach((e,n)=>{var r;if(!e)return;const i=this.getConfiguredProjectByCanonicalConfigFilePath(n);if(!i)return;if(s!==i&&this.getHostPreferences().includeCompletionsForModuleExports){const e=this.toPath(t);k(null==(r=i.getCurrentProgram())?void 0:r.getResolvedProjectReferences(),t=>(null==t?void 0:t.sourceFile.path)===e)&&i.markAutoImportProviderAsDirty()}const a=s===i?1:0;if(!(i.pendingUpdateLevel>a))if(this.openFiles.has(o))if(fn.checkDefined(this.getScriptInfoForPath(o)).isAttached(i)){const e=Math.max(a,i.openFileWatchTriggered.get(o)||0);i.openFileWatchTriggered.set(o,e)}else i.pendingUpdateLevel=a,this.delayUpdateProjectGraphAndEnsureProjectStructureForOpenFiles(i);else i.pendingUpdateLevel=a,this.delayUpdateProjectGraphAndEnsureProjectStructureForOpenFiles(i)}))}delayUpdateProjectsFromParsedConfigOnConfigFileChange(e,t){const n=this.configFileExistenceInfoCache.get(e);if(!(null==n?void 0:n.config))return!1;let r=!1;return n.config.updateLevel=2,n.config.cachedDirectoryStructureHost.clearCache(),n.config.projects.forEach((n,i)=>{var o,a,s;const c=this.getConfiguredProjectByCanonicalConfigFilePath(i);if(c)if(r=!0,i===e){if(c.initialLoadPending)return;c.pendingUpdateLevel=2,c.pendingUpdateReason=t,this.delayUpdateProjectGraph(c),c.markAutoImportProviderAsDirty()}else{if(c.initialLoadPending)return void(null==(a=null==(o=this.configFileExistenceInfoCache.get(i))?void 0:o.openFilesImpactedByConfigFile)||a.forEach(e=>{var t,n;(null==(n=this.pendingOpenFileProjectUpdates)?void 0:n.has(e))||(null!=(t=this.pendingOpenFileProjectUpdates)?t:this.pendingOpenFileProjectUpdates=new Map).set(e,this.configFileForOpenFiles.get(e))}));const t=this.toPath(e);c.resolutionCache.removeResolutionsFromProjectReferenceRedirects(t),this.delayUpdateProjectGraph(c),this.getHostPreferences().includeCompletionsForModuleExports&&k(null==(s=c.getCurrentProgram())?void 0:s.getResolvedProjectReferences(),e=>(null==e?void 0:e.sourceFile.path)===t)&&c.markAutoImportProviderAsDirty()}}),r}onConfigFileChanged(e,t,n){const r=this.configFileExistenceInfoCache.get(t),i=this.getConfiguredProjectByCanonicalConfigFilePath(t),o=null==i?void 0:i.deferredClose;2===n?(r.exists=!1,i&&(i.deferredClose=!0)):(r.exists=!0,o&&(i.deferredClose=void 0,i.markAsDirty())),this.delayUpdateProjectsFromParsedConfigOnConfigFileChange(t,"Change in config file detected"),this.openFiles.forEach((e,t)=>{var n,i,o;const a=this.configFileForOpenFiles.get(t);if(!(null==(i=r.openFilesImpactedByConfigFile)?void 0:i.has(t)))return;this.configFileForOpenFiles.delete(t);const s=this.getScriptInfoForPath(t);this.getConfigFileNameForFile(s,!1)&&((null==(o=this.pendingOpenFileProjectUpdates)?void 0:o.has(t))||(null!=(n=this.pendingOpenFileProjectUpdates)?n:this.pendingOpenFileProjectUpdates=new Map).set(t,a))}),this.delayEnsureProjectForOpenFiles()}removeProject(e){switch(this.logger.info("`remove Project::"),e.print(!0,!0,!1),e.close(),fn.shouldAssert(1)&&this.filenameToScriptInfo.forEach(t=>fn.assert(!t.isAttached(e),"Found script Info still attached to project",()=>`${e.projectName}: ScriptInfos still attached: ${JSON.stringify(Re(q(this.filenameToScriptInfo.values(),t=>t.isAttached(e)?{fileName:t.fileName,projects:t.containingProjects.map(e=>e.projectName),hasMixedContent:t.hasMixedContent}:void 0)),void 0," ")}`)),this.pendingProjectUpdates.delete(e.getProjectName()),e.projectKind){case 2:Ht(this.externalProjects,e),this.projectToSizeMap.delete(e.getProjectName());break;case 1:this.configuredProjects.delete(e.canonicalConfigFilePath),this.projectToSizeMap.delete(e.canonicalConfigFilePath);break;case 0:Ht(this.inferredProjects,e)}}assignOrphanScriptInfoToInferredProject(e,t){fn.assert(e.isOrphan());const n=this.getOrCreateInferredProjectForProjectRootPathIfEnabled(e,t)||this.getOrCreateSingleInferredProjectIfEnabled()||this.getOrCreateSingleInferredWithoutProjectRoot(e.isDynamic?t||this.currentDirectory:Io(xo(e.fileName)?e.fileName:Uo(e.fileName,t?this.getNormalizedAbsolutePath(t):this.currentDirectory)));if(n.addRoot(e),e.containingProjects[0]!==n&&(Ut(e.containingProjects,n),e.containingProjects.unshift(n)),n.updateGraph(),!this.useSingleInferredProject&&!n.projectRootPath)for(const r of this.inferredProjects){if(r===n||r.isOrphan())continue;const e=r.getRootScriptInfos();fn.assert(1===e.length||!!r.projectRootPath),1===e.length&&f(e[0].containingProjects,t=>t!==e[0].containingProjects[0]&&!t.isOrphan())&&r.removeFile(e[0],!0,!0)}return n}assignOrphanScriptInfosToInferredProject(){this.openFiles.forEach((e,t)=>{const n=this.getScriptInfoForPath(t);n.isOrphan()&&this.assignOrphanScriptInfoToInferredProject(n,e)})}closeOpenFile(e,t){var n;const r=!e.isDynamic&&this.host.fileExists(e.fileName);e.close(r),this.stopWatchingConfigFilesForScriptInfo(e);const i=this.toCanonicalFileName(e.fileName);this.openFilesWithNonRootedDiskPath.get(i)===e&&this.openFilesWithNonRootedDiskPath.delete(i);let o=!1;for(const a of e.containingProjects){if(Hme(a)){e.hasMixedContent&&e.registerFileUpdate();const t=a.openFileWatchTriggered.get(e.path);void 0!==t&&(a.openFileWatchTriggered.delete(e.path),a.pendingUpdateLevel<t&&(a.pendingUpdateLevel=t,a.markFileAsDirty(e.path)))}else $me(a)&&a.isRoot(e)&&(a.isProjectWithSingleRoot()&&(o=!0),a.removeFile(e,r,!0));a.languageServiceEnabled||a.markAsDirty()}return this.openFiles.delete(e.path),this.configFileForOpenFiles.delete(e.path),null==(n=this.pendingOpenFileProjectUpdates)||n.delete(e.path),fn.assert(!this.rootOfInferredProjects.has(e)),!t&&o&&this.assignOrphanScriptInfosToInferredProject(),r?this.watchClosedScriptInfo(e):this.handleDeletedFile(e,!1),o}deleteScriptInfo(e){fn.assert(!e.isScriptOpen()),this.filenameToScriptInfo.delete(e.path),this.filenameToScriptInfoVersion.set(e.path,e.textStorage.version),this.stopWatchingScriptInfo(e);const t=e.getRealpathIfDifferent();t&&this.realpathToScriptInfos.remove(t,e),e.closeSourceMapFileWatcher()}configFileExists(e,t,n){var r;const i=this.configFileExistenceInfoCache.get(t);let o;if(!this.openFiles.has(n.path)||Ege(n)&&!n.isForDefaultProject||(i?(null!=(r=i.openFilesImpactedByConfigFile)?r:i.openFilesImpactedByConfigFile=new Set).add(n.path):(o=new Set).add(n.path)),i)return i.exists;const a=this.host.fileExists(e);return this.configFileExistenceInfoCache.set(t,{exists:a,openFilesImpactedByConfigFile:o}),a}createConfigFileWatcherForParsedConfig(e,t,n){var r,i;const o=this.configFileExistenceInfoCache.get(t);o.watcher&&o.watcher!==Dge||(o.watcher=this.watchFactory.watchFile(e,(n,r)=>this.onConfigFileChanged(e,t,r),2e3,this.getWatchOptionsFromProjectWatchOptions(null==(i=null==(r=null==o?void 0:o.config)?void 0:r.parsedCommandLine)?void 0:i.watchOptions,Io(e)),I$.ConfigFile,n)),this.ensureConfigFileWatcherForProject(o,n)}ensureConfigFileWatcherForProject(e,t){const n=e.config.projects;n.set(t.canonicalConfigFilePath,n.get(t.canonicalConfigFilePath)||!1)}releaseParsedConfig(e,t){var n,r,i;const o=this.configFileExistenceInfoCache.get(e);(null==(n=o.config)?void 0:n.projects.delete(t.canonicalConfigFilePath))&&((null==(r=o.config)?void 0:r.projects.size)||(o.config=void 0,AV(e,this.sharedExtendedConfigFileWatchers),fn.checkDefined(o.watcher),(null==(i=o.openFilesImpactedByConfigFile)?void 0:i.size)?o.inferredProjectRoots?GW(Io(e))||(o.watcher.close(),o.watcher=Dge):(o.watcher.close(),o.watcher=void 0):(o.watcher.close(),this.configFileExistenceInfoCache.delete(e))))}stopWatchingConfigFilesForScriptInfo(e){if(0!==this.serverMode)return;const t=this.rootOfInferredProjects.delete(e),n=e.isScriptOpen();n&&!t||this.forEachConfigFileLocation(e,r=>{var i,o,a;const s=this.configFileExistenceInfoCache.get(r);if(s){if(n){if(!(null==(i=null==s?void 0:s.openFilesImpactedByConfigFile)?void 0:i.has(e.path)))return}else if(!(null==(o=s.openFilesImpactedByConfigFile)?void 0:o.delete(e.path)))return;t&&(s.inferredProjectRoots--,!s.watcher||s.config||s.inferredProjectRoots||(s.watcher.close(),s.watcher=void 0)),(null==(a=s.openFilesImpactedByConfigFile)?void 0:a.size)||s.config||(fn.assert(!s.watcher),this.configFileExistenceInfoCache.delete(r))}})}startWatchingConfigFilesForInferredProjectRoot(e){0===this.serverMode&&(fn.assert(e.isScriptOpen()),this.rootOfInferredProjects.add(e),this.forEachConfigFileLocation(e,(t,n)=>{var r,i;let o=this.configFileExistenceInfoCache.get(t);o?o.inferredProjectRoots=(null!=(r=o.inferredProjectRoots)?r:0)+1:(o={exists:this.host.fileExists(n),inferredProjectRoots:1},this.configFileExistenceInfoCache.set(t,o)),(null!=(i=o.openFilesImpactedByConfigFile)?i:o.openFilesImpactedByConfigFile=new Set).add(e.path),o.watcher||(o.watcher=GW(Io(t))?this.watchFactory.watchFile(n,(e,r)=>this.onConfigFileChanged(n,t,r),2e3,this.hostConfiguration.watchOptions,I$.ConfigFileForInferredRoot):Dge)}))}forEachConfigFileLocation(e,t){if(0!==this.serverMode)return;fn.assert(!Fge(e)||this.openFiles.has(e.path));const n=this.openFiles.get(e.path);if(fn.checkDefined(this.getScriptInfo(e.path)).isDynamic)return;let r=Io(e.fileName);const i=()=>oa(n,r,this.currentDirectory,!this.host.useCaseSensitiveFileNames),o=!n||!i();let a=!0,s=!0;Ege(e)&&(a=!Jt(e.fileName,"tsconfig.json")&&(s=!1));do{const e=ome(r,this.currentDirectory,this.toCanonicalFileName);if(a){const n=ame(zo(r,"tsconfig.json"));if(t(zo(e,"tsconfig.json"),n))return n}if(s){const n=ame(zo(r,"jsconfig.json"));if(t(zo(e,"jsconfig.json"),n))return n}if(pa(e))break;const n=ame(Io(r));if(n===r)break;r=n,a=s=!0}while(o||i())}findDefaultConfiguredProject(e){var t;return null==(t=this.findDefaultConfiguredProjectWorker(e,1))?void 0:t.defaultProject}findDefaultConfiguredProjectWorker(e,t){return e.isScriptOpen()?this.tryFindDefaultConfiguredProjectForOpenScriptInfo(e,t):void 0}getConfigFileNameForFileFromCache(e,t){if(t){const t=Nge(e,this.pendingOpenFileProjectUpdates);if(void 0!==t)return t}return Nge(e,this.configFileForOpenFiles)}setConfigFileNameForFileInCache(e,t){if(!this.openFiles.has(e.path))return;const n=t||!1;if(Ege(e)){let t=this.configFileForOpenFiles.get(e.path);t&&!nt(t)||this.configFileForOpenFiles.set(e.path,t=(new Map).set(!1,t)),t.set(e.fileName,n)}else this.configFileForOpenFiles.set(e.path,n)}getConfigFileNameForFile(e,t){const n=this.getConfigFileNameForFileFromCache(e,t);if(void 0!==n)return n||void 0;if(t)return;const r=this.forEachConfigFileLocation(e,(t,n)=>this.configFileExists(n,t,e));return this.logger.info(`getConfigFileNameForFile:: File: ${e.fileName} ProjectRootPath: ${this.openFiles.get(e.path)}:: Result: ${r}`),this.setConfigFileNameForFileInCache(e,r),r}printProjects(){this.logger.hasLevel(1)&&(this.logger.startGroup(),this.externalProjects.forEach(ehe),this.configuredProjects.forEach(ehe),this.inferredProjects.forEach(ehe),this.logger.info("Open files: "),this.openFiles.forEach((e,t)=>{const n=this.getScriptInfoForPath(t);this.logger.info(`\tFileName: ${n.fileName} ProjectRootPath: ${e}`),this.logger.info(`\t\tProjects: ${n.containingProjects.map(e=>e.getProjectName())}`)}),this.logger.endGroup())}findConfiguredProjectByProjectName(e,t){const n=this.toCanonicalFileName(e),r=this.getConfiguredProjectByCanonicalConfigFilePath(n);return t?r:(null==r?void 0:r.deferredClose)?void 0:r}getConfiguredProjectByCanonicalConfigFilePath(e){return this.configuredProjects.get(e)}findExternalProjectByProjectName(e){return Cge(e,this.externalProjects)}getFilenameForExceededTotalSizeLimitForNonTsFiles(e,t,n,r){if(t&&t.disableSizeLimit||!this.host.getFileSize)return;let i=Qme;this.projectToSizeMap.set(e,0),this.projectToSizeMap.forEach(e=>i-=e||0);let o=0;for(const a of n){const e=r.getFileName(a);if(!JS(e)&&(o+=this.host.getFileSize(e),o>Qme||o>i)){const t=n.map(e=>r.getFileName(e)).filter(e=>!JS(e)).map(e=>({name:e,size:this.host.getFileSize(e)})).sort((e,t)=>t.size-e.size).slice(0,5);return this.logger.info(`Non TS file size exceeded limit (${o}). Largest files: ${t.map(e=>`${e.name}:${e.size}`).join(", ")}`),e}}this.projectToSizeMap.set(e,o)}createExternalProject(e,t,n,r,i){const o=hge(n),a=yge(n,Io(Bo(e))),s=new Wme(e,this,o,this.getFilenameForExceededTotalSizeLimitForNonTsFiles(e,o,t,Tge),void 0===n.compileOnSave||n.compileOnSave,void 0,null==a?void 0:a.watchOptions);return s.setProjectErrors(null==a?void 0:a.errors),s.excludedFiles=i,this.addFilesToNonInferredProject(s,t,Tge,r),this.externalProjects.push(s),s}sendProjectTelemetry(e){if(this.seenProjects.has(e.projectName))return void $ge(e);if(this.seenProjects.set(e.projectName,!0),!this.eventHandler||!this.host.createSHA256Hash)return void $ge(e);const t=Hme(e)?e.projectOptions:void 0;$ge(e);const n={projectId:this.host.createSHA256Hash(e.projectName),fileStats:Ime(e.getScriptInfos(),!0),compilerOptions:Kj(e.getCompilationSettings()),typeAcquisition:function({enable:e,include:t,exclude:n}){return{enable:e,include:void 0!==t&&0!==t.length,exclude:void 0!==n&&0!==n.length}}(e.getTypeAcquisition()),extends:t&&t.configHasExtendsProperty,files:t&&t.configHasFilesProperty,include:t&&t.configHasIncludeProperty,exclude:t&&t.configHasExcludeProperty,compileOnSave:e.compileOnSaveEnabled,configFileName:Hme(e)&&mme(e.getConfigFilePath())||"other",projectType:e instanceof Wme?"external":"configured",languageServiceEnabled:e.languageServiceEnabled,version:l};this.eventHandler({eventName:oge,data:n})}addFilesToNonInferredProject(e,t,n,r){this.updateNonInferredProjectFiles(e,t,n),e.setTypeAcquisition(r),e.markAsDirty()}createConfiguredProject(e,t){var n;null==(n=Xn)||n.instant(Xn.Phase.Session,"createConfiguredProject",{configFilePath:e});const r=this.toCanonicalFileName(e);let i=this.configFileExistenceInfoCache.get(r);i?i.exists=!0:this.configFileExistenceInfoCache.set(r,i={exists:!0}),i.config||(i.config={cachedDirectoryStructureHost:FV(this.host,this.host.getCurrentDirectory(),this.host.useCaseSensitiveFileNames),projects:new Map,updateLevel:2});const o=new Ume(e,r,this,i.config.cachedDirectoryStructureHost,t);return fn.assert(!this.configuredProjects.has(r)),this.configuredProjects.set(r,o),this.createConfigFileWatcherForParsedConfig(e,r,o),o}loadConfiguredProject(e,t){var n,r;null==(n=Xn)||n.push(Xn.Phase.Session,"loadConfiguredProject",{configFilePath:e.canonicalConfigFilePath}),this.sendProjectLoadingStartEvent(e,t);const i=ime(e.getConfigFilePath()),o=this.ensureParsedConfigUptoDate(i,e.canonicalConfigFilePath,this.configFileExistenceInfoCache.get(e.canonicalConfigFilePath),e),a=o.config.parsedCommandLine;fn.assert(!!a.fileNames);const s=a.options;e.projectOptions||(e.projectOptions={configHasExtendsProperty:void 0!==a.raw.extends,configHasFilesProperty:void 0!==a.raw.files,configHasIncludeProperty:void 0!==a.raw.include,configHasExcludeProperty:void 0!==a.raw.exclude}),e.parsedCommandLine=a,e.setProjectErrors(a.options.configFile.parseDiagnostics),e.updateReferences(a.projectReferences);const c=this.getFilenameForExceededTotalSizeLimitForNonTsFiles(e.canonicalConfigFilePath,s,a.fileNames,Sge);c?(e.disableLanguageService(c),this.configFileExistenceInfoCache.forEach((t,n)=>this.stopWatchingWildCards(n,e))):(e.setCompilerOptions(s),e.setWatchOptions(a.watchOptions),e.enableLanguageService(),this.watchWildcards(i,o,e)),e.enablePluginsWithOptions(s);const l=a.fileNames.concat(e.getExternalFiles(2));this.updateRootAndOptionsOfNonInferredProject(e,l,Sge,s,a.typeAcquisition,a.compileOnSave,a.watchOptions),null==(r=Xn)||r.pop()}ensureParsedConfigUptoDate(e,t,n,r){var i,o,a;if(n.config&&(1===n.config.updateLevel&&this.reloadFileNamesOfParsedConfig(e,n.config),!n.config.updateLevel))return this.ensureConfigFileWatcherForProject(n,r),n;if(!n.exists&&n.config)return n.config.updateLevel=void 0,this.ensureConfigFileWatcherForProject(n,r),n;const s=(null==(i=n.config)?void 0:i.cachedDirectoryStructureHost)||FV(this.host,this.host.getCurrentDirectory(),this.host.useCaseSensitiveFileNames),c=yL(e,e=>this.host.readFile(e)),l=eO(e,nt(c)?c:""),_=l.parseDiagnostics;nt(c)||_.push(c);const u=Io(e),d=ej(l,s,u,void 0,e,void 0,this.hostConfiguration.extraFileExtensions,this.extendedConfigCache);d.errors.length&&_.push(...d.errors),this.logger.info(`Config: ${e} : ${JSON.stringify({rootNames:d.fileNames,options:d.options,watchOptions:d.watchOptions,projectReferences:d.projectReferences},void 0," ")}`);const p=null==(o=n.config)?void 0:o.parsedCommandLine;return n.config?(n.config.parsedCommandLine=d,n.config.watchedDirectoriesStale=!0,n.config.updateLevel=void 0):n.config={parsedCommandLine:d,cachedDirectoryStructureHost:s,projects:new Map},p||vT(this.getWatchOptionsFromProjectWatchOptions(void 0,u),this.getWatchOptionsFromProjectWatchOptions(d.watchOptions,u))||(null==(a=n.watcher)||a.close(),n.watcher=void 0),this.createConfigFileWatcherForParsedConfig(e,t,r),PV(t,d.options,this.sharedExtendedConfigFileWatchers,(t,n)=>this.watchFactory.watchFile(t,()=>{var e;IV(this.extendedConfigCache,n,e=>this.toPath(e));let r=!1;null==(e=this.sharedExtendedConfigFileWatchers.get(n))||e.projects.forEach(e=>{r=this.delayUpdateProjectsFromParsedConfigOnConfigFileChange(e,`Change in extended config file ${t} detected`)||r}),r&&this.delayEnsureProjectForOpenFiles()},2e3,this.hostConfiguration.watchOptions,I$.ExtendedConfigFile,e),e=>this.toPath(e)),n}watchWildcards(e,{exists:t,config:n},r){if(n.projects.set(r.canonicalConfigFilePath,!0),t){if(n.watchedDirectories&&!n.watchedDirectoriesStale)return;n.watchedDirectoriesStale=!1,LV(n.watchedDirectories||(n.watchedDirectories=new Map),n.parsedCommandLine.wildcardDirectories,(t,r)=>this.watchWildcardDirectory(t,r,e,n))}else{if(n.watchedDirectoriesStale=!1,!n.watchedDirectories)return;gx(n.watchedDirectories,zV),n.watchedDirectories=void 0}}stopWatchingWildCards(e,t){const n=this.configFileExistenceInfoCache.get(e);n.config&&n.config.projects.get(t.canonicalConfigFilePath)&&(n.config.projects.set(t.canonicalConfigFilePath,!1),sd(n.config.projects,_t)||(n.config.watchedDirectories&&(gx(n.config.watchedDirectories,zV),n.config.watchedDirectories=void 0),n.config.watchedDirectoriesStale=void 0))}updateNonInferredProjectFiles(e,t,n){var r;const i=e.getRootFilesMap(),o=new Map;for(const a of t){const t=n.getFileName(a),s=ime(t);let c;if(Nme(s)||e.fileExists(t)){const t=n.getScriptKind(a,this.hostConfiguration.extraFileExtensions),r=n.hasMixedContent(a,this.hostConfiguration.extraFileExtensions),o=fn.checkDefined(this.getOrCreateScriptInfoNotOpenedByClientForNormalizedPath(s,e.currentDirectory,t,r,e.directoryStructureHost,!1));c=o.path;const l=i.get(c);l&&l.info===o?l.fileName=s:(e.addRoot(o,s),o.isScriptOpen()&&this.removeRootOfInferredProjectIfNowPartOfOtherProject(o))}else{c=ome(s,this.currentDirectory,this.toCanonicalFileName);const t=i.get(c);t?((null==(r=t.info)?void 0:r.path)===c&&(e.removeFile(t.info,!1,!0),t.info=void 0),t.fileName=s):i.set(c,{fileName:s})}o.set(c,!0)}i.size>o.size&&i.forEach((t,n)=>{o.has(n)||(t.info?e.removeFile(t.info,e.fileExists(t.info.fileName),!0):i.delete(n))})}updateRootAndOptionsOfNonInferredProject(e,t,n,r,i,o,a){e.setCompilerOptions(r),e.setWatchOptions(a),void 0!==o&&(e.compileOnSaveEnabled=o),this.addFilesToNonInferredProject(e,t,n,i)}reloadFileNamesOfConfiguredProject(e){const t=this.reloadFileNamesOfParsedConfig(e.getConfigFilePath(),this.configFileExistenceInfoCache.get(e.canonicalConfigFilePath).config);return e.updateErrorOnNoInputFiles(t),this.updateNonInferredProjectFiles(e,t.fileNames.concat(e.getExternalFiles(1)),Sge),e.markAsDirty(),e.updateGraph()}reloadFileNamesOfParsedConfig(e,t){if(void 0===t.updateLevel)return t.parsedCommandLine;fn.assert(1===t.updateLevel);const n=jj(t.parsedCommandLine.options.configFile.configFileSpecs,Io(e),t.parsedCommandLine.options,t.cachedDirectoryStructureHost,this.hostConfiguration.extraFileExtensions);return t.parsedCommandLine=__spreadProps(__spreadValues({},t.parsedCommandLine),{fileNames:n}),t.updateLevel=void 0,t.parsedCommandLine}setFileNamesOfAutoImportProviderOrAuxillaryProject(e,t){this.updateNonInferredProjectFiles(e,t,Sge)}reloadConfiguredProjectOptimized(e,t,n){n.has(e)||(n.set(e,6),e.initialLoadPending||this.setProjectForReload(e,2,t))}reloadConfiguredProjectClearingSemanticCache(e,t,n){return 7!==n.get(e)&&(n.set(e,7),this.clearSemanticCache(e),this.reloadConfiguredProject(e,Wge(t)),!0)}setProjectForReload(e,t,n){2===t&&this.clearSemanticCache(e),e.pendingUpdateReason=n&&Wge(n),e.pendingUpdateLevel=t}reloadConfiguredProject(e,t){var n;e.initialLoadPending=!1,this.setProjectForReload(e,0),this.loadConfiguredProject(e,t),qge(e,null!=(n=e.triggerFileForConfigFileDiag)?n:e.getConfigFilePath(),!0)}clearSemanticCache(e){e.originalConfiguredProjects=void 0,e.resolutionCache.clear(),e.getLanguageService(!1).cleanupSemanticCache(),e.cleanupProgram(),e.markAsDirty()}sendConfigFileDiagEvent(e,t,n){var r;if(!this.eventHandler||this.suppressDiagnosticEvents)return!1;const i=e.getLanguageService().getCompilerOptionsDiagnostics();return i.push(...e.getAllProjectErrors()),!(!n&&i.length===(null!=(r=e.configDiagDiagnosticsReported)?r:0)||(e.configDiagDiagnosticsReported=i.length,this.eventHandler({eventName:rge,data:{configFileName:e.getConfigFilePath(),diagnostics:i,triggerFile:null!=t?t:e.getConfigFilePath()}}),0))}getOrCreateInferredProjectForProjectRootPathIfEnabled(e,t){if(!this.useInferredProjectPerProjectRoot||e.isDynamic&&void 0===t)return;if(t){const e=this.toCanonicalFileName(t);for(const t of this.inferredProjects)if(t.projectRootPath===e)return t;return this.createInferredProject(t,!1,t)}let n;for(const r of this.inferredProjects)r.projectRootPath&&oa(r.projectRootPath,e.path,this.host.getCurrentDirectory(),!this.host.useCaseSensitiveFileNames)&&(n&&n.projectRootPath.length>r.projectRootPath.length||(n=r));return n}getOrCreateSingleInferredProjectIfEnabled(){if(this.useSingleInferredProject)return this.inferredProjects.length>0&&void 0===this.inferredProjects[0].projectRootPath?this.inferredProjects[0]:this.createInferredProject(this.currentDirectory,!0,void 0)}getOrCreateSingleInferredWithoutProjectRoot(e){fn.assert(!this.useSingleInferredProject);const t=this.toCanonicalFileName(this.getNormalizedAbsolutePath(e));for(const n of this.inferredProjects)if(!n.projectRootPath&&n.isOrphan()&&n.canonicalCurrentDirectory===t)return n;return this.createInferredProject(e,!1,void 0)}createInferredProject(e,t,n){const r=n&&this.compilerOptionsForInferredProjectsPerProjectRoot.get(n)||this.compilerOptionsForInferredProjects;let i,o;n&&(i=this.watchOptionsForInferredProjectsPerProjectRoot.get(n),o=this.typeAcquisitionForInferredProjectsPerProjectRoot.get(n)),void 0===i&&(i=this.watchOptionsForInferredProjects),void 0===o&&(o=this.typeAcquisitionForInferredProjects),i=i||void 0;const a=new Jme(this,r,null==i?void 0:i.watchOptions,n,e,o);return a.setProjectErrors(null==i?void 0:i.errors),t?this.inferredProjects.unshift(a):this.inferredProjects.push(a),a}getOrCreateScriptInfoNotOpenedByClient(e,t,n,r){return this.getOrCreateScriptInfoNotOpenedByClientForNormalizedPath(ime(e),t,void 0,void 0,n,r)}getScriptInfo(e){return this.getScriptInfoForNormalizedPath(ime(e))}getScriptInfoOrConfig(e){const t=ime(e),n=this.getScriptInfoForNormalizedPath(t);if(n)return n;const r=this.configuredProjects.get(this.toPath(e));return r&&r.getCompilerOptions().configFile}logErrorForScriptInfoNotFound(e){const t=Re(q(this.filenameToScriptInfo.entries(),e=>e[1].deferredDelete?void 0:e),([e,t])=>({path:e,fileName:t.fileName}));this.logger.msg(`Could not find file ${JSON.stringify(e)}.\nAll files are: ${JSON.stringify(t)}`,"Err")}getSymlinkedProjects(e){let t;if(this.realpathToScriptInfos){const t=e.getRealpathIfDifferent();t&&f(this.realpathToScriptInfos.get(t),n),f(this.realpathToScriptInfos.get(e.path),n)}return t;function n(n){if(n!==e)for(const r of n.containingProjects)!r.languageServiceEnabled||r.isOrphan()||r.getCompilerOptions().preserveSymlinks||e.isAttached(r)||(t?sd(t,(e,t)=>t!==n.path&&w(e,r))||t.add(n.path,r):(t=Ge(),t.add(n.path,r)))}}watchClosedScriptInfo(e){if(fn.assert(!e.fileWatcher),!(e.isDynamicOrHasMixedContent()||this.globalCacheLocationDirectoryPath&&Zt(e.path,this.globalCacheLocationDirectoryPath))){const t=e.fileName.indexOf("/node_modules/");this.host.getModifiedTime&&-1!==t?(e.mTime=this.getModifiedTime(e),e.fileWatcher=this.watchClosedScriptInfoInNodeModules(e.fileName.substring(0,t))):e.fileWatcher=this.watchFactory.watchFile(e.fileName,(t,n)=>this.onSourceFileChanged(e,n),500,this.hostConfiguration.watchOptions,I$.ClosedScriptInfo)}}createNodeModulesWatcher(e,t){let n=this.watchFactory.watchDirectory(e,e=>{var n;const i=$W(this.toPath(e));if(!i)return;const o=Oo(i);if(!(null==(n=r.affectedModuleSpecifierCacheProjects)?void 0:n.size)||"package.json"!==o&&"node_modules"!==o||r.affectedModuleSpecifierCacheProjects.forEach(e=>{var t;null==(t=e.getModuleSpecifierCache())||t.clear()}),r.refreshScriptInfoRefCount)if(t===i)this.refreshScriptInfosInDirectory(t);else{const e=this.filenameToScriptInfo.get(i);e?Jge(e)&&this.refreshScriptInfo(e):wo(i)||this.refreshScriptInfosInDirectory(i)}},1,this.hostConfiguration.watchOptions,I$.NodeModules);const r={refreshScriptInfoRefCount:0,affectedModuleSpecifierCacheProjects:void 0,close:()=>{var e;!n||r.refreshScriptInfoRefCount||(null==(e=r.affectedModuleSpecifierCacheProjects)?void 0:e.size)||(n.close(),n=void 0,this.nodeModulesWatchers.delete(t))}};return this.nodeModulesWatchers.set(t,r),r}watchPackageJsonsInNodeModules(e,t){var n;const r=this.toPath(e),i=this.nodeModulesWatchers.get(r)||this.createNodeModulesWatcher(e,r);return fn.assert(!(null==(n=i.affectedModuleSpecifierCacheProjects)?void 0:n.has(t))),(i.affectedModuleSpecifierCacheProjects||(i.affectedModuleSpecifierCacheProjects=new Set)).add(t),{close:()=>{var e;null==(e=i.affectedModuleSpecifierCacheProjects)||e.delete(t),i.close()}}}watchClosedScriptInfoInNodeModules(e){const t=e+"/node_modules",n=this.toPath(t),r=this.nodeModulesWatchers.get(n)||this.createNodeModulesWatcher(t,n);return r.refreshScriptInfoRefCount++,{close:()=>{r.refreshScriptInfoRefCount--,r.close()}}}getModifiedTime(e){return(this.host.getModifiedTime(e.fileName)||Ui).getTime()}refreshScriptInfo(e){const t=this.getModifiedTime(e);if(t!==e.mTime){const n=to(e.mTime,t);e.mTime=t,this.onSourceFileChanged(e,n)}}refreshScriptInfosInDirectory(e){e+=mo,this.filenameToScriptInfo.forEach(t=>{Jge(t)&&Zt(t.path,e)&&this.refreshScriptInfo(t)})}stopWatchingScriptInfo(e){e.fileWatcher&&(e.fileWatcher.close(),e.fileWatcher=void 0)}getOrCreateScriptInfoNotOpenedByClientForNormalizedPath(e,t,n,r,i,o){if(xo(e)||Nme(e))return this.getOrCreateScriptInfoWorker(e,t,!1,void 0,n,!!r,i,o);const a=this.openFilesWithNonRootedDiskPath.get(this.toCanonicalFileName(e));return a||void 0}getOrCreateScriptInfoForNormalizedPath(e,t,n,r,i,o){return this.getOrCreateScriptInfoWorker(e,this.currentDirectory,t,n,r,!!i,o,!1)}getOrCreateScriptInfoWorker(e,t,n,r,i,o,a,s){fn.assert(void 0===r||n,"ScriptInfo needs to be opened by client to be able to set its user defined content");const c=ome(e,t,this.toCanonicalFileName);let l=this.filenameToScriptInfo.get(c);if(l){if(l.deferredDelete){if(fn.assert(!l.isDynamic),!n&&!(a||this.host).fileExists(e))return s?l:void 0;l.deferredDelete=void 0}}else{const r=Nme(e);if(fn.assert(xo(e)||r||n,"",()=>`${JSON.stringify({fileName:e,currentDirectory:t,hostCurrentDirectory:this.currentDirectory,openKeys:Re(this.openFilesWithNonRootedDiskPath.keys())})}\nScript info with non-dynamic relative file name can only be open script info or in context of host currentDirectory`),fn.assert(!xo(e)||this.currentDirectory===t||!this.openFilesWithNonRootedDiskPath.has(this.toCanonicalFileName(e)),"",()=>`${JSON.stringify({fileName:e,currentDirectory:t,hostCurrentDirectory:this.currentDirectory,openKeys:Re(this.openFilesWithNonRootedDiskPath.keys())})}\nOpen script files with non rooted disk path opened with current directory context cannot have same canonical names`),fn.assert(!r||this.currentDirectory===t||this.useInferredProjectPerProjectRoot,"",()=>`${JSON.stringify({fileName:e,currentDirectory:t,hostCurrentDirectory:this.currentDirectory,openKeys:Re(this.openFilesWithNonRootedDiskPath.keys())})}\nDynamic files must always be opened with service's current directory or service should support inferred project per projectRootPath.`),!n&&!r&&!(a||this.host).fileExists(e))return;l=new Fme(this.host,e,i,o,c,this.filenameToScriptInfoVersion.get(c)),this.filenameToScriptInfo.set(l.path,l),this.filenameToScriptInfoVersion.delete(l.path),n?xo(e)||r&&this.currentDirectory===t||this.openFilesWithNonRootedDiskPath.set(this.toCanonicalFileName(e),l):this.watchClosedScriptInfo(l)}return n&&(this.stopWatchingScriptInfo(l),l.open(r),o&&l.registerFileUpdate()),l}getScriptInfoForNormalizedPath(e){return!xo(e)&&this.openFilesWithNonRootedDiskPath.get(this.toCanonicalFileName(e))||this.getScriptInfoForPath(ome(e,this.currentDirectory,this.toCanonicalFileName))}getScriptInfoForPath(e){const t=this.filenameToScriptInfo.get(e);return t&&t.deferredDelete?void 0:t}getDocumentPositionMapper(e,t,n){const r=this.getOrCreateScriptInfoNotOpenedByClient(t,e.currentDirectory,this.host,!1);if(!r)return void(n&&e.addGeneratedFileWatch(t,n));if(r.getSnapshot(),nt(r.sourceMapFilePath)){const t=this.getScriptInfoForPath(r.sourceMapFilePath);if(t&&(t.getSnapshot(),void 0!==t.documentPositionMapper))return t.sourceInfos=this.addSourceInfoToSourceMap(n,e,t.sourceInfos),t.documentPositionMapper?t.documentPositionMapper:void 0;r.sourceMapFilePath=void 0}else{if(r.sourceMapFilePath)return void(r.sourceMapFilePath.sourceInfos=this.addSourceInfoToSourceMap(n,e,r.sourceMapFilePath.sourceInfos));if(void 0!==r.sourceMapFilePath)return}let i,o=(t,n)=>{const r=this.getOrCreateScriptInfoNotOpenedByClient(t,e.currentDirectory,this.host,!0);if(i=r||n,!r||r.deferredDelete)return;const o=r.getSnapshot();return void 0!==r.documentPositionMapper?r.documentPositionMapper:GQ(o)};const a=e.projectName,s=M1({getCanonicalFileName:this.toCanonicalFileName,log:e=>this.logger.info(e),getSourceFileLike:e=>this.getSourceFileLike(e,a,r)},r.fileName,r.textStorage.getLineInfo(),o);return o=void 0,i?nt(i)?r.sourceMapFilePath={watcher:this.addMissingSourceMapFile(e.currentDirectory===this.currentDirectory?i:Uo(i,e.currentDirectory),r.path),sourceInfos:this.addSourceInfoToSourceMap(n,e)}:(r.sourceMapFilePath=i.path,i.declarationInfoPath=r.path,i.deferredDelete||(i.documentPositionMapper=s||!1),i.sourceInfos=this.addSourceInfoToSourceMap(n,e,i.sourceInfos)):r.sourceMapFilePath=!1,s}addSourceInfoToSourceMap(e,t,n){if(e){const r=this.getOrCreateScriptInfoNotOpenedByClient(e,t.currentDirectory,t.directoryStructureHost,!1);(n||(n=new Set)).add(r.path)}return n}addMissingSourceMapFile(e,t){return this.watchFactory.watchFile(e,()=>{const e=this.getScriptInfoForPath(t);e&&e.sourceMapFilePath&&!nt(e.sourceMapFilePath)&&(this.delayUpdateProjectGraphs(e.containingProjects,!0),this.delayUpdateSourceInfoProjects(e.sourceMapFilePath.sourceInfos),e.closeSourceMapFileWatcher())},2e3,this.hostConfiguration.watchOptions,I$.MissingSourceMapFile)}getSourceFileLike(e,t,n){var r;const i=t.projectName?t:this.findProject(t);if(i){const t=i.toPath(e),n=i.getSourceFile(t);if(n&&n.resolvedPath===t)return n}const o=this.getOrCreateScriptInfoNotOpenedByClient(e,(i||this).currentDirectory,i?i.directoryStructureHost:this.host,!1);if(o){if(n&&nt(n.sourceMapFilePath)&&o!==n){const e=this.getScriptInfoForPath(n.sourceMapFilePath);e&&(null!=(r=e.sourceInfos)?r:e.sourceInfos=new Set).add(o.path)}return o.cacheSourceFile?o.cacheSourceFile.sourceFile:(o.sourceFileLike||(o.sourceFileLike={get text(){return fn.fail("shouldnt need text"),""},getLineAndCharacterOfPosition:e=>{const t=o.positionToLineOffset(e);return{line:t.line-1,character:t.offset-1}},getPositionOfLineAndCharacter:(e,t,n)=>o.lineOffsetToPosition(e+1,t+1,n)}),o.sourceFileLike)}}setPerformanceEventHandler(e){this.performanceEventHandler=e}setHostConfiguration(e){var t;if(e.file){const t=this.getScriptInfoForNormalizedPath(ime(e.file));t&&(t.setOptions(gge(e.formatOptions),e.preferences),this.logger.info(`Host configuration update for file ${e.file}`))}else{if(void 0!==e.hostInfo&&(this.hostConfiguration.hostInfo=e.hostInfo,this.logger.info(`Host information ${e.hostInfo}`)),e.formatOptions&&(this.hostConfiguration.formatCodeOptions=__spreadValues(__spreadValues({},this.hostConfiguration.formatCodeOptions),gge(e.formatOptions)),this.logger.info("Format host information updated")),e.preferences){const{lazyConfiguredProjectsFromExternalProject:t,includePackageJsonAutoImports:n,includeCompletionsForModuleExports:r}=this.hostConfiguration.preferences;this.hostConfiguration.preferences=__spreadValues(__spreadValues({},this.hostConfiguration.preferences),e.preferences),t&&!this.hostConfiguration.preferences.lazyConfiguredProjectsFromExternalProject&&this.externalProjectToConfiguredProjectMap.forEach(e=>e.forEach(e=>{e.deferredClose||e.isClosed()||2!==e.pendingUpdateLevel||this.hasPendingProjectUpdate(e)||e.updateGraph()})),n===e.preferences.includePackageJsonAutoImports&&!!r==!!e.preferences.includeCompletionsForModuleExports||this.forEachProject(e=>{e.onAutoImportProviderSettingsChanged()})}if(e.extraFileExtensions&&(this.hostConfiguration.extraFileExtensions=e.extraFileExtensions,this.reloadProjects(),this.logger.info("Host file extension mappings updated")),e.watchOptions){const n=null==(t=yge(e.watchOptions))?void 0:t.watchOptions,r=aj(n,this.currentDirectory);this.hostConfiguration.watchOptions=r,this.hostConfiguration.beforeSubstitution=r===n?void 0:n,this.logger.info(`Host watch options changed to ${JSON.stringify(this.hostConfiguration.watchOptions)}, it will be take effect for next watches.`)}}}getWatchOptions(e){return this.getWatchOptionsFromProjectWatchOptions(e.getWatchOptions(),e.getCurrentDirectory())}getWatchOptionsFromProjectWatchOptions(e,t){const n=this.hostConfiguration.beforeSubstitution?aj(this.hostConfiguration.beforeSubstitution,t):this.hostConfiguration.watchOptions;return e&&n?__spreadValues(__spreadValues({},n),e):e||n}closeLog(){this.logger.close()}sendSourceFileChange(e){this.filenameToScriptInfo.forEach(t=>{if(this.openFiles.has(t.path))return;if(!t.fileWatcher)return;const n=mt(()=>this.host.fileExists(t.fileName)?t.deferredDelete?0:1:2);if(e){if(Jge(t)||!t.path.startsWith(e))return;if(2===n()&&t.deferredDelete)return;this.logger.info(`Invoking sourceFileChange on ${t.fileName}:: ${n()}`)}this.onSourceFileChanged(t,n())})}reloadProjects(){this.logger.info("reload projects."),this.sendSourceFileChange(void 0),this.pendingProjectUpdates.forEach((e,t)=>{this.throttledOperations.cancel(t),this.pendingProjectUpdates.delete(t)}),this.throttledOperations.cancel(_ge),this.pendingOpenFileProjectUpdates=void 0,this.pendingEnsureProjectForOpenFiles=!1,this.configFileExistenceInfoCache.forEach(e=>{e.config&&(e.config.updateLevel=2,e.config.cachedDirectoryStructureHost.clearCache())}),this.configFileForOpenFiles.clear(),this.externalProjects.forEach(e=>{this.clearSemanticCache(e),e.updateGraph()});const e=new Map,t=new Set;this.externalProjectToConfiguredProjectMap.forEach((t,n)=>{const r=`Reloading configured project in external project: ${n}`;t.forEach(t=>{this.getHostPreferences().lazyConfiguredProjectsFromExternalProject?this.reloadConfiguredProjectOptimized(t,r,e):this.reloadConfiguredProjectClearingSemanticCache(t,r,e)})}),this.openFiles.forEach((n,r)=>{const i=this.getScriptInfoForPath(r);k(i.containingProjects,Kme)||this.tryFindDefaultConfiguredProjectAndLoadAncestorsForOpenScriptInfo(i,7,e,t)}),t.forEach(t=>e.set(t,7)),this.inferredProjects.forEach(e=>this.clearSemanticCache(e)),this.ensureProjectForOpenFiles(),this.cleanupProjectsAndScriptInfos(e,new Set(this.openFiles.keys()),new Set(this.externalProjectToConfiguredProjectMap.keys())),this.logger.info("After reloading projects.."),this.printProjects()}removeRootOfInferredProjectIfNowPartOfOtherProject(e){fn.assert(e.containingProjects.length>0);const t=e.containingProjects[0];!t.isOrphan()&&$me(t)&&t.isRoot(e)&&f(e.containingProjects,e=>e!==t&&!e.isOrphan())&&t.removeFile(e,!0,!0)}ensureProjectForOpenFiles(){this.logger.info("Before ensureProjectForOpenFiles:"),this.printProjects();const e=this.pendingOpenFileProjectUpdates;this.pendingOpenFileProjectUpdates=void 0,null==e||e.forEach((e,t)=>this.tryFindDefaultConfiguredProjectAndLoadAncestorsForOpenScriptInfo(this.getScriptInfoForPath(t),5)),this.openFiles.forEach((e,t)=>{const n=this.getScriptInfoForPath(t);n.isOrphan()?this.assignOrphanScriptInfoToInferredProject(n,e):this.removeRootOfInferredProjectIfNowPartOfOtherProject(n)}),this.pendingEnsureProjectForOpenFiles=!1,this.inferredProjects.forEach(zge),this.logger.info("After ensureProjectForOpenFiles:"),this.printProjects()}openClientFile(e,t,n,r){return this.openClientFileWithNormalizedPath(ime(e),t,n,!1,r?ime(r):void 0)}getOriginalLocationEnsuringConfiguredProject(e,t){const n=e.isSourceOfProjectReferenceRedirect(t.fileName),r=n?t:e.getSourceMapper().tryGetSourcePosition(t);if(!r)return;const{fileName:i}=r,o=this.getScriptInfo(i);if(!o&&!this.host.fileExists(i))return;const a={fileName:ime(i),path:this.toPath(i)},s=this.getConfigFileNameForFile(a,!1);if(!s)return;let c=this.findConfiguredProjectByProjectName(s);if(!c){if(e.getCompilerOptions().disableReferencedProjectLoad)return n?t:(null==o?void 0:o.containingProjects.length)?r:t;c=this.createConfiguredProject(s,`Creating project for original file: ${a.fileName}${t!==r?" for location: "+t.fileName:""}`)}const l=this.tryFindDefaultConfiguredProjectForOpenScriptInfoOrClosedFileInfo(a,5,Lge(c,4),e=>`Creating project referenced in solution ${e.projectName} to find possible configured project for original file: ${a.fileName}${t!==r?" for location: "+t.fileName:""}`);if(!l.defaultProject)return;if(l.defaultProject===e)return r;u(l.defaultProject);const _=this.getScriptInfo(i);if(_&&_.containingProjects.length)return _.containingProjects.forEach(e=>{Hme(e)&&u(e)}),r;function u(t){var n;(null!=(n=e.originalConfiguredProjects)?n:e.originalConfiguredProjects=new Set).add(t.canonicalConfigFilePath)}}fileExists(e){return!!this.getScriptInfoForNormalizedPath(e)||this.host.fileExists(e)}findExternalProjectContainingOpenScriptInfo(e){return k(this.externalProjects,t=>(zge(t),t.containsScriptInfo(e)))}getOrCreateOpenScriptInfo(e,t,n,r,i){const o=this.getOrCreateScriptInfoWorker(e,i?this.getNormalizedAbsolutePath(i):this.currentDirectory,!0,t,n,!!r,void 0,!0);return this.openFiles.set(o.path,i),o}assignProjectToOpenedScriptInfo(e){let t,n,r,i;if(!this.findExternalProjectContainingOpenScriptInfo(e)&&0===this.serverMode){const o=this.tryFindDefaultConfiguredProjectAndLoadAncestorsForOpenScriptInfo(e,5);o&&(r=o.seenProjects,i=o.sentConfigDiag,o.defaultProject&&(t=o.defaultProject.getConfigFilePath(),n=o.defaultProject.getAllProjectErrors()))}return e.containingProjects.forEach(zge),e.isOrphan()&&(null==r||r.forEach((t,n)=>{4===t||i.has(n)||this.sendConfigFileDiagEvent(n,e.fileName,!0)}),fn.assert(this.openFiles.has(e.path)),this.assignOrphanScriptInfoToInferredProject(e,this.openFiles.get(e.path))),fn.assert(!e.isOrphan()),{configFileName:t,configFileErrors:n,retainProjects:r}}findCreateOrReloadConfiguredProject(e,t,n,r,i,o,a,s,c){let l,_=null!=c?c:this.findConfiguredProjectByProjectName(e,r),u=!1;switch(t){case 0:case 1:case 3:if(!_)return;break;case 2:if(!_)return;l=function(e){return Uge(e)?e.projectService.configFileExistenceInfoCache.get(e.canonicalConfigFilePath):void 0}(_);break;case 4:case 5:null!=_||(_=this.createConfiguredProject(e,n)),a||({sentConfigFileDiag:u,configFileExistenceInfo:l}=Lge(_,t,i));break;case 6:if(null!=_||(_=this.createConfiguredProject(e,Wge(n))),_.projectService.reloadConfiguredProjectOptimized(_,n,o),l=Vge(_),l)break;case 7:null!=_||(_=this.createConfiguredProject(e,Wge(n))),u=!s&&this.reloadConfiguredProjectClearingSemanticCache(_,n,o),!s||s.has(_)||o.has(_)||(this.setProjectForReload(_,2,n),s.add(_));break;default:fn.assertNever(t)}return{project:_,sentConfigFileDiag:u,configFileExistenceInfo:l,reason:n}}tryFindDefaultConfiguredProjectForOpenScriptInfo(e,t,n,r){const i=this.getConfigFileNameForFile(e,t<=3);if(!i)return;const o=Age(t),a=this.findCreateOrReloadConfiguredProject(i,o,function(e){return`Creating possible configured project for ${e.fileName} to open`}(e),n,e.fileName,r);return a&&this.tryFindDefaultConfiguredProjectForOpenScriptInfoOrClosedFileInfo(e,t,a,t=>`Creating project referenced in solution ${t.projectName} to find possible configured project for ${e.fileName} to open`,n,r)}isMatchedByConfig(e,t,n){if(t.fileNames.some(e=>this.toPath(e)===n.path))return!0;if(US(n.fileName,t.options,this.hostConfiguration.extraFileExtensions))return!1;const{validatedFilesSpec:r,validatedIncludeSpecs:i,validatedExcludeSpecs:o}=t.options.configFile.configFileSpecs,a=ime(Uo(Io(e),this.currentDirectory));return!!(null==r?void 0:r.some(e=>this.toPath(Uo(e,a))===n.path))||!!(null==i?void 0:i.length)&&!Jj(n.fileName,o,this.host.useCaseSensitiveFileNames,this.currentDirectory,a)&&(null==i?void 0:i.some(e=>{const t=hS(e,a,"files");return!!t&&xS(`(${t})$`,this.host.useCaseSensitiveFileNames).test(n.fileName)}))}tryFindDefaultConfiguredProjectForOpenScriptInfoOrClosedFileInfo(e,t,n,r,i,o){const a=Fge(e),s=Age(t),c=new Map;let l;const _=new Set;let u,d,p,f;return m(n),{defaultProject:null!=u?u:d,tsconfigProject:null!=p?p:f,sentConfigDiag:_,seenProjects:c,seenConfigs:l};function m(t){var n,c,l;return null!=(c=null!=(n=function(e,t){return e.sentConfigFileDiag&&_.add(e.project),e.configFileExistenceInfo?g(e.configFileExistenceInfo,e.project,ime(e.project.getConfigFilePath()),e.reason,e.project,e.project.canonicalConfigFilePath):h(e.project,t)}(t,t.project))?n:(l=t.project).parsedCommandLine&&Oge(l,l.parsedCommandLine,g,s,r(l),i,o))?c:function(t){return a?Ige(e,t,m,s,`Creating possible configured project for ${e.fileName} to open`,i,o,!1):void 0}(t.project)}function g(n,r,a,u,d,p){if(r){if(c.has(r))return;c.set(r,s)}else{if(null==l?void 0:l.has(p))return;(null!=l?l:l=new Set).add(p)}if(!d.projectService.isMatchedByConfig(a,n.config.parsedCommandLine,e))return void(d.languageServiceEnabled&&d.projectService.watchWildcards(a,n,d));const f=r?Lge(r,t,e.fileName,u,o):d.projectService.findCreateOrReloadConfiguredProject(a,t,u,i,e.fileName,o);if(f)return c.set(f.project,s),f.sentConfigFileDiag&&_.add(f.project),h(f.project,d);fn.assert(3===t)}function h(n,r){if(c.get(n)===t)return;c.set(n,t);const i=a?e:n.projectService.getScriptInfo(e.fileName),o=i&&n.containsScriptInfo(i);if(o&&!n.isSourceOfProjectReferenceRedirect(i.path))return p=r,u=n;!d&&a&&o&&(f=r,d=n)}}tryFindDefaultConfiguredProjectAndLoadAncestorsForOpenScriptInfo(e,t,n,r){const i=1===t,o=this.tryFindDefaultConfiguredProjectForOpenScriptInfo(e,t,i,n);if(!o)return;const{defaultProject:a,tsconfigProject:s,seenProjects:c}=o;return a&&Ige(e,s,e=>{c.set(e.project,t)},t,`Creating project possibly referencing default composite project ${a.getProjectName()} of open file ${e.fileName}`,i,n,!0,r),o}loadAncestorProjectTree(e){null!=e||(e=new Set(q(this.configuredProjects.entries(),([e,t])=>t.initialLoadPending?void 0:e)));const t=new Set,n=Re(this.configuredProjects.values());for(const r of n)jge(r,t=>e.has(t))&&zge(r),this.ensureProjectChildren(r,e,t)}ensureProjectChildren(e,t,n){var r,i;if(!U(n,e.canonicalConfigFilePath))return;if(e.getCompilerOptions().disableReferencedProjectLoad)return;const o=null==(i=e.getCurrentProgram())?void 0:i.getResolvedProjectReferences();if(o)for(const a of o){if(!a)continue;const i=MC(a.references,e=>t.has(e.sourceFile.path)?e:void 0);if(!i)continue;const o=ime(a.sourceFile.fileName),s=null!=(r=this.findConfiguredProjectByProjectName(o))?r:this.createConfiguredProject(o,`Creating project referenced by : ${e.projectName} as it references project ${i.sourceFile.fileName}`);zge(s),this.ensureProjectChildren(s,t,n)}}cleanupConfiguredProjects(e,t,n){this.getOrphanConfiguredProjects(e,n,t).forEach(e=>this.removeProject(e))}cleanupProjectsAndScriptInfos(e,t,n){this.cleanupConfiguredProjects(e,n,t);for(const r of this.inferredProjects.slice())r.isOrphan()&&this.removeProject(r);this.removeOrphanScriptInfos()}tryInvokeWildCardDirectories(e){this.configFileExistenceInfoCache.forEach((t,n)=>{var r,i;(null==(r=t.config)?void 0:r.parsedCommandLine)&&!w(t.config.parsedCommandLine.fileNames,e.fileName,this.host.useCaseSensitiveFileNames?bt:vt)&&(null==(i=t.config.watchedDirectories)||i.forEach((r,i)=>{oa(i,e.fileName,!this.host.useCaseSensitiveFileNames)&&(this.logger.info(`Invoking ${n}:: wildcard for open scriptInfo:: ${e.fileName}`),this.onWildCardDirectoryWatcherInvoke(i,n,t.config,r.watcher,e.fileName))}))})}openClientFileWithNormalizedPath(e,t,n,r,i){const o=this.getScriptInfoForPath(ome(e,i?this.getNormalizedAbsolutePath(i):this.currentDirectory,this.toCanonicalFileName)),a=this.getOrCreateOpenScriptInfo(e,t,n,r,i);o||!a||a.isDynamic||this.tryInvokeWildCardDirectories(a);const s=this.assignProjectToOpenedScriptInfo(a),{retainProjects:c}=s,l=__objRest(s,["retainProjects"]);return this.cleanupProjectsAndScriptInfos(c,new Set([a.path]),void 0),this.telemetryOnOpenFile(a),this.printProjects(),l}getOrphanConfiguredProjects(e,t,n){const r=new Set(this.configuredProjects.values()),i=e=>{!e.originalConfiguredProjects||!Hme(e)&&e.isOrphan()||e.originalConfiguredProjects.forEach((e,t)=>{const n=this.getConfiguredProjectByCanonicalConfigFilePath(t);return n&&s(n)})};return null==e||e.forEach((e,t)=>s(t)),r.size?(this.inferredProjects.forEach(i),this.externalProjects.forEach(i),this.externalProjectToConfiguredProjectMap.forEach((e,t)=>{(null==n?void 0:n.has(t))||e.forEach(s)}),r.size?(sd(this.openFiles,(e,n)=>{if(null==t?void 0:t.has(n))return;const i=this.getScriptInfoForPath(n);if(k(i.containingProjects,Kme))return;const o=this.tryFindDefaultConfiguredProjectAndLoadAncestorsForOpenScriptInfo(i,1);return(null==o?void 0:o.defaultProject)&&(null==o||o.seenProjects.forEach((e,t)=>s(t)),!r.size)?r:void 0}),r.size?(sd(this.configuredProjects,e=>{if(r.has(e)&&(a(e)||Mge(e,o))&&(s(e),!r.size))return r}),r):r):r):r;function o(e){return!r.has(e)||a(e)}function a(e){var t,n;return(e.deferredClose||e.projectService.hasPendingProjectUpdate(e))&&!!(null==(n=null==(t=e.projectService.configFileExistenceInfoCache.get(e.canonicalConfigFilePath))?void 0:t.openFilesImpactedByConfigFile)?void 0:n.size)}function s(e){r.delete(e)&&(i(e),Mge(e,s))}}removeOrphanScriptInfos(){const e=new Map(this.filenameToScriptInfo);this.filenameToScriptInfo.forEach(t=>{if(!t.deferredDelete){if(!t.isScriptOpen()&&t.isOrphan()&&!Pme(t)&&!Eme(t)){if(!t.sourceMapFilePath)return;let e;if(nt(t.sourceMapFilePath)){const n=this.filenameToScriptInfo.get(t.sourceMapFilePath);e=null==n?void 0:n.sourceInfos}else e=t.sourceMapFilePath.sourceInfos;if(!e)return;if(!cd(e,e=>{const t=this.getScriptInfoForPath(e);return!!t&&(t.isScriptOpen()||!t.isOrphan())}))return}if(e.delete(t.path),t.sourceMapFilePath){let n;if(nt(t.sourceMapFilePath)){const r=this.filenameToScriptInfo.get(t.sourceMapFilePath);(null==r?void 0:r.deferredDelete)?t.sourceMapFilePath={watcher:this.addMissingSourceMapFile(r.fileName,t.path),sourceInfos:r.sourceInfos}:e.delete(t.sourceMapFilePath),n=null==r?void 0:r.sourceInfos}else n=t.sourceMapFilePath.sourceInfos;n&&n.forEach((t,n)=>e.delete(n))}}}),e.forEach(e=>this.deleteScriptInfo(e))}telemetryOnOpenFile(e){if(0!==this.serverMode||!this.eventHandler||!e.isJavaScript()||!Cx(this.allJsFilesForOpenFileTelemetry,e.path))return;const t=this.ensureDefaultProjectForFile(e);if(!t.languageServiceEnabled)return;const n=t.getSourceFile(e.path),r=!!n&&!!n.checkJsDirective;this.eventHandler({eventName:age,data:{info:{checkJs:r}}})}closeClientFile(e,t){const n=this.getScriptInfoForNormalizedPath(ime(e)),r=!!n&&this.closeOpenFile(n,t);return t||this.printProjects(),r}collectChanges(e,t,n,r){for(const i of t){const t=k(e,e=>e.projectName===i.getProjectName());r.push(i.getChangesSinceVersion(t&&t.version,n))}}synchronizeProjectList(e,t){const n=[];return this.collectChanges(e,this.externalProjects,t,n),this.collectChanges(e,q(this.configuredProjects.values(),e=>e.deferredClose?void 0:e),t,n),this.collectChanges(e,this.inferredProjects,t,n),n}applyChangesInOpenFiles(e,t,n){let r,i,o,a=!1;if(e)for(const s of e){(null!=r?r:r=[]).push(this.getScriptInfoForPath(ome(ime(s.fileName),s.projectRootPath?this.getNormalizedAbsolutePath(s.projectRootPath):this.currentDirectory,this.toCanonicalFileName)));const e=this.getOrCreateOpenScriptInfo(ime(s.fileName),s.content,bge(s.scriptKind),s.hasMixedContent,s.projectRootPath?ime(s.projectRootPath):void 0);(i||(i=[])).push(e)}if(t)for(const s of t){const e=this.getScriptInfo(s.fileName);fn.assert(!!e),this.applyChangesToFile(e,s.changes)}if(n)for(const s of n)a=this.closeClientFile(s,!0)||a;f(r,(e,t)=>e||!i[t]||i[t].isDynamic?void 0:this.tryInvokeWildCardDirectories(i[t])),null==i||i.forEach(e=>{var t;return null==(t=this.assignProjectToOpenedScriptInfo(e).retainProjects)?void 0:t.forEach((e,t)=>(null!=o?o:o=new Map).set(t,e))}),a&&this.assignOrphanScriptInfosToInferredProject(),i?(this.cleanupProjectsAndScriptInfos(o,new Set(i.map(e=>e.path)),void 0),i.forEach(e=>this.telemetryOnOpenFile(e)),this.printProjects()):p(n)&&this.printProjects()}applyChangesToFile(e,t){for(const n of t)e.editContent(n.span.start,n.span.start+n.span.length,n.newText)}closeExternalProject(e,t){const n=ime(e);if(this.externalProjectToConfiguredProjectMap.get(n))this.externalProjectToConfiguredProjectMap.delete(n);else{const t=this.findExternalProjectByProjectName(e);t&&this.removeProject(t)}t&&(this.cleanupConfiguredProjects(),this.printProjects())}openExternalProjects(e){const t=new Set(this.externalProjects.map(e=>e.getProjectName()));this.externalProjectToConfiguredProjectMap.forEach((e,n)=>t.add(n));for(const n of e)this.openExternalProject(n,!1),t.delete(n.projectFileName);t.forEach(e=>this.closeExternalProject(e,!1)),this.cleanupConfiguredProjects(),this.printProjects()}static escapeFilenameForRegex(e){return e.replace(this.filenameEscapeRegexp,"\\$&")}resetSafeList(){this.safelist=mge}applySafeList(e){var t;const n=e.typeAcquisition;fn.assert(!!n,"proj.typeAcquisition should be set by now");const r=this.applySafeListWorker(e,e.rootFiles,n);return null!=(t=null==r?void 0:r.excludedFiles)?t:[]}applySafeListWorker(t,n,r){if(!1===r.enable||r.disableFilenameBasedTypeAcquisition)return;const i=r.include||(r.include=[]),o=[],a=n.map(e=>Bo(e.fileName));for(const u of Object.keys(this.safelist)){const t=this.safelist[u];for(const n of a)if(t.match.test(n)){if(this.logger.info(`Excluding files based on rule ${u} matching file '${n}'`),t.types)for(const e of t.types)i.includes(e)||i.push(e);if(t.exclude)for(const r of t.exclude){const i=n.replace(t.match,(...t)=>r.map(n=>"number"==typeof n?nt(t[n])?e.escapeFilenameForRegex(t[n]):(this.logger.info(`Incorrect RegExp specification in safelist rule ${u} - not enough groups`),"\\*"):n).join(""));o.includes(i)||o.push(i)}else{const t=e.escapeFilenameForRegex(n);o.includes(t)||o.push(t)}}}const s=o.map(e=>new RegExp(e,"i"));let c,l;for(let e=0;e<n.length;e++)if(s.some(t=>t.test(a[e])))_(e);else{if(r.enable){const t=Oo(pt(a[e]));if(Do(t,"js")){const n=Vt(KS(t)),r=this.legacySafelist.get(n);if(void 0!==r){this.logger.info(`Excluded '${a[e]}' because it matched ${n} from the legacy safelist`),_(e),i.includes(r)||i.push(r);continue}}}/^.+[.-]min\.js$/.test(a[e])?_(e):null==c||c.push(n[e])}return l?{rootFiles:c,excludedFiles:l}:void 0;function _(e){l||(fn.assert(!c),c=n.slice(0,e),l=[]),l.push(a[e])}}openExternalProject(e,t){var n,r;const i=this.findExternalProjectByProjectName(e.projectFileName);let o,a=[];for(const s of e.rootFiles){const t=ime(s.fileName);if(mme(t)){if(0===this.serverMode&&this.host.fileExists(t)){let n=this.findConfiguredProjectByProjectName(t);n||(n=this.createConfiguredProject(t,`Creating configured project in external project: ${e.projectFileName}`),this.getHostPreferences().lazyConfiguredProjectsFromExternalProject||n.updateGraph()),(null!=o?o:o=new Set).add(n),fn.assert(!n.isClosed())}}else a.push(s)}if(o)this.externalProjectToConfiguredProjectMap.set(e.projectFileName,o),i&&this.removeProject(i);else{this.externalProjectToConfiguredProjectMap.delete(e.projectFileName);const t=e.typeAcquisition||{};t.include=t.include||[],t.exclude=t.exclude||[],void 0===t.enable&&(t.enable=jme(a.map(e=>e.fileName)));const o=this.applySafeListWorker(e,a,t),s=null!=(n=null==o?void 0:o.excludedFiles)?n:[];if(a=null!=(r=null==o?void 0:o.rootFiles)?r:a,i){i.excludedFiles=s;const n=hge(e.options),r=yge(e.options,i.getCurrentDirectory()),o=this.getFilenameForExceededTotalSizeLimitForNonTsFiles(e.projectFileName,n,a,Tge);o?i.disableLanguageService(o):i.enableLanguageService(),i.setProjectErrors(null==r?void 0:r.errors),this.updateRootAndOptionsOfNonInferredProject(i,a,Tge,n,t,e.options.compileOnSave,null==r?void 0:r.watchOptions),i.updateGraph()}else this.createExternalProject(e.projectFileName,a,e.options,t,s).updateGraph()}t&&(this.cleanupConfiguredProjects(o,new Set([e.projectFileName])),this.printProjects())}hasDeferredExtension(){for(const e of this.hostConfiguration.extraFileExtensions)if(7===e.scriptKind)return!0;return!1}requestEnablePlugin(e,t,n){if(this.host.importPlugin||this.host.require)if(this.logger.info(`Enabling plugin ${t.name} from candidate paths: ${n.join(",")}`),!t.name||Es(t.name)||/[\\/]\.\.?(?:$|[\\/])/.test(t.name))this.logger.info(`Skipped loading plugin ${t.name||JSON.stringify(t)} because only package name is allowed plugin name`);else{if(this.host.importPlugin){const r=Bme.importServicePluginAsync(t,n,this.host,e=>this.logger.info(e));null!=this.pendingPluginEnablements||(this.pendingPluginEnablements=new Map);let i=this.pendingPluginEnablements.get(e);return i||this.pendingPluginEnablements.set(e,i=[]),void i.push(r)}this.endEnablePlugin(e,Bme.importServicePluginSync(t,n,this.host,e=>this.logger.info(e)))}else this.logger.info("Plugins were requested but not running in environment that supports 'require'. Nothing will be loaded")}endEnablePlugin(e,{pluginConfigEntry:t,resolvedModule:n,errorLogs:r}){var i;if(n){const r=null==(i=this.currentPluginConfigOverrides)?void 0:i.get(t.name);if(r){const e=t.name;(t=r).name=e}e.enableProxy(n,t)}else f(r,e=>this.logger.info(e)),this.logger.info(`Couldn't find ${t.name}`)}hasNewPluginEnablementRequests(){return!!this.pendingPluginEnablements}hasPendingPluginEnablements(){return!!this.currentPluginEnablementPromise}waitForPendingPlugins(){return __async(this,null,function*(){for(;this.currentPluginEnablementPromise;)yield this.currentPluginEnablementPromise})}enableRequestedPlugins(){this.pendingPluginEnablements&&this.enableRequestedPluginsAsync()}enableRequestedPluginsAsync(){return __async(this,null,function*(){if(this.currentPluginEnablementPromise&&(yield this.waitForPendingPlugins()),!this.pendingPluginEnablements)return;const e=Re(this.pendingPluginEnablements.entries());this.pendingPluginEnablements=void 0,this.currentPluginEnablementPromise=this.enableRequestedPluginsWorker(e),yield this.currentPluginEnablementPromise})}enableRequestedPluginsWorker(e){return __async(this,null,function*(){fn.assert(void 0===this.currentPluginEnablementPromise);let t=!1;yield Promise.all(A(e,e=>__async(this,[e],function*([e,n]){const r=yield Promise.all(n);if(e.isClosed()||Xme(e))this.logger.info(`Cancelling plugin enabling for ${e.getProjectName()} as it is ${e.isClosed()?"closed":"deferred close"}`);else{t=!0;for(const t of r)this.endEnablePlugin(e,t);this.delayUpdateProjectGraph(e)}}))),this.currentPluginEnablementPromise=void 0,t&&this.sendProjectsUpdatedInBackgroundEvent()})}configurePlugin(e){this.forEachEnabledProject(t=>t.onPluginConfigurationChanged(e.pluginName,e.configuration)),this.currentPluginConfigOverrides=this.currentPluginConfigOverrides||new Map,this.currentPluginConfigOverrides.set(e.pluginName,e.configuration)}getPackageJsonsVisibleToFile(e,t,n){const r=this.packageJsonCache,i=n&&this.toPath(n),o=[],a=e=>{switch(r.directoryHasPackageJson(e)){case 3:return r.searchDirectoryAndAncestors(e,t),a(e);case-1:const n=zo(e,"package.json");this.watchPackageJsonFile(n,this.toPath(n),t);const i=r.getInDirectory(e);i&&o.push(i)}if(i&&i===e)return!0};return NM(t,Io(e),a),o}getNearestAncestorDirectoryWithPackageJson(e,t){return NM(t,e,e=>{switch(this.packageJsonCache.directoryHasPackageJson(e)){case-1:return e;case 0:return;case 3:return this.host.fileExists(zo(e,"package.json"))?e:void 0}})}watchPackageJsonFile(e,t,n){var r,i;fn.assert(void 0!==n);let o=(null!=(r=this.packageJsonFilesMap)?r:this.packageJsonFilesMap=new Map).get(t);if(!o){let n=this.watchFactory.watchFile(e,(e,n)=>{switch(n){case 0:case 1:this.packageJsonCache.addOrUpdate(e,t),this.onPackageJsonChange(o);break;case 2:this.packageJsonCache.delete(t),this.onPackageJsonChange(o),o.projects.clear(),o.close()}},250,this.hostConfiguration.watchOptions,I$.PackageJson);o={projects:new Set,close:()=>{var e;!o.projects.size&&n&&(n.close(),n=void 0,null==(e=this.packageJsonFilesMap)||e.delete(t),this.packageJsonCache.invalidate(t))}},this.packageJsonFilesMap.set(t,o)}o.projects.add(n),(null!=(i=n.packageJsonWatches)?i:n.packageJsonWatches=new Set).add(o)}onPackageJsonChange(e){e.projects.forEach(e=>{var t;return null==(t=e.onPackageJsonChange)?void 0:t.call(e)})}includePackageJsonAutoImports(){switch(this.hostConfiguration.preferences.includePackageJsonAutoImports){case"on":return 1;case"off":return 0;default:return 2}}getIncompleteCompletionsCache(){return this.incompleteCompletionsCache||(this.incompleteCompletionsCache=function(){let e;return{get:()=>e,set(t){e=t},clear(){e=void 0}}}())}};Qge.filenameEscapeRegexp=/[-/\\^$*+?.()|[\]{}]/g;var Zge=Qge;function Yge(e){return void 0!==e.kind}function ehe(e){e.print(!1,!1,!1)}function the(e){let t,n,r;const i={get(e,t,i,o){if(n&&r===a(e,i,o))return n.get(t)},set(n,r,i,a,c,l,_){if(o(n,i,a).set(r,s(c,l,_,void 0,!1)),_)for(const o of l)if(o.isInNodeModules){const n=o.path.substring(0,o.path.indexOf(ZR)+ZR.length-1),r=e.toPath(n);(null==t?void 0:t.has(r))||(t||(t=new Map)).set(r,e.watchNodeModulesForPackageJsonChanges(n))}},setModulePaths(e,t,n,r,i){const a=o(e,n,r),c=a.get(t);c?c.modulePaths=i:a.set(t,s(void 0,i,void 0,void 0,void 0))},setBlockedByPackageJsonDependencies(e,t,n,r,i,a){const c=o(e,n,r),l=c.get(t);l?(l.isBlockedByPackageJsonDependencies=a,l.packageName=i):c.set(t,s(void 0,void 0,void 0,i,a))},clear(){null==t||t.forEach(sx),null==n||n.clear(),null==t||t.clear(),r=void 0},count:()=>n?n.size:0};return fn.isDebugging&&Object.defineProperty(i,"__cache",{get:()=>n}),i;function o(e,t,o){const s=a(e,t,o);return n&&r!==s&&i.clear(),r=s,n||(n=new Map)}function a(e,t,n){return`${e},${t.importModuleSpecifierEnding},${t.importModuleSpecifierPreference},${n.overrideImportMode}`}function s(e,t,n,r,i){return{kind:e,modulePaths:t,moduleSpecifiers:n,packageName:r,isBlockedByPackageJsonDependencies:i}}}function nhe(e){const t=new Map,n=new Map;return{addOrUpdate:r,invalidate:function(e){t.delete(e),n.delete(Io(e))},delete:e=>{t.delete(e),n.set(Io(e),!0)},getInDirectory:n=>t.get(e.toPath(zo(n,"package.json")))||void 0,directoryHasPackageJson:t=>i(e.toPath(t)),searchDirectoryAndAncestors:(t,o)=>{NM(o,t,t=>{const o=e.toPath(t);if(3!==i(o))return!0;const a=zo(t,"package.json");zY(e,a)?r(a,zo(o,"package.json")):n.set(o,!0)})}};function r(r,i){const o=fn.checkDefined(HY(r,e.host));t.set(i,o),n.delete(Io(i))}function i(e){return t.has(zo(e,"package.json"))?-1:n.has(e)?0:3}}var rhe={isCancellationRequested:()=>!1,setRequest:()=>{},resetRequest:()=>{}};function ihe(e,t){if(($me(e)||Kme(e))&&e.isJsOnlyProject()){const n=e.getScriptInfoForNormalizedPath(t);return n&&!n.isJavaScript()}return!1}function ohe(e,t,n){const r=t.getScriptInfoForNormalizedPath(e);return{start:r.positionToLineOffset(n.start),end:r.positionToLineOffset(n.start+n.length),text:uU(n.messageText,"\n"),code:n.code,category:ui(n),reportsUnnecessary:n.reportsUnnecessary,reportsDeprecated:n.reportsDeprecated,source:n.source,relatedInformation:A(n.relatedInformation,ahe)}}function ahe(e){return e.file?{span:{start:she($a(e.file,e.start)),end:she($a(e.file,e.start+e.length)),file:e.file.fileName},message:uU(e.messageText,"\n"),category:ui(e),code:e.code}:{message:uU(e.messageText,"\n"),category:ui(e),code:e.code}}function she(e){return{line:e.line+1,offset:e.character+1}}function che(e,t){const n=e.file&&she($a(e.file,e.start)),r=e.file&&she($a(e.file,e.start+e.length)),i=uU(e.messageText,"\n"),{code:o,source:a}=e,s={start:n,end:r,text:i,code:o,category:ui(e),reportsUnnecessary:e.reportsUnnecessary,reportsDeprecated:e.reportsDeprecated,source:a,relatedInformation:A(e.relatedInformation,ahe)};return t?__spreadProps(__spreadValues({},s),{fileName:e.file&&e.file.fileName}):s}var lhe=hme;function _he(e,t,n,r){const i=t.hasLevel(3),o=JSON.stringify(e);return i&&t.info(`${e.type}:${pG(e)}`),`Content-Length: ${1+n(o,"utf8")}\r\n\r\n${o}${r}`}var uhe=class{constructor(e){this.operationHost=e}startNew(e){this.complete(),this.requestId=this.operationHost.getCurrentRequestId(),this.executeAction(e)}complete(){void 0!==this.requestId&&(this.operationHost.sendRequestCompletedEvent(this.requestId,this.performanceData),this.requestId=void 0),this.setTimerHandle(void 0),this.setImmediateId(void 0),this.performanceData=void 0}immediate(e,t){const n=this.requestId;fn.assert(n===this.operationHost.getCurrentRequestId(),"immediate: incorrect request id"),this.setImmediateId(this.operationHost.getServerHost().setImmediate(()=>{this.immediateId=void 0,this.operationHost.executeWithRequestId(n,()=>this.executeAction(t),this.performanceData)},e))}delay(e,t,n){const r=this.requestId;fn.assert(r===this.operationHost.getCurrentRequestId(),"delay: incorrect request id"),this.setTimerHandle(this.operationHost.getServerHost().setTimeout(()=>{this.timerHandle=void 0,this.operationHost.executeWithRequestId(r,()=>this.executeAction(n),this.performanceData)},t,e))}executeAction(e){var t,n,r,i,o,a;let s=!1;try{this.operationHost.isCancellationRequested()?(s=!0,null==(t=Xn)||t.instant(Xn.Phase.Session,"stepCanceled",{seq:this.requestId,early:!0})):(null==(n=Xn)||n.push(Xn.Phase.Session,"stepAction",{seq:this.requestId}),e(this),null==(r=Xn)||r.pop())}catch(c){null==(i=Xn)||i.popAll(),s=!0,c instanceof Nr?null==(o=Xn)||o.instant(Xn.Phase.Session,"stepCanceled",{seq:this.requestId}):(null==(a=Xn)||a.instant(Xn.Phase.Session,"stepError",{seq:this.requestId,message:c.message}),this.operationHost.logError(c,`delayed processing of request ${this.requestId}`))}this.performanceData=this.operationHost.getPerformanceData(),!s&&this.hasPendingWork()||this.complete()}setTimerHandle(e){void 0!==this.timerHandle&&this.operationHost.getServerHost().clearTimeout(this.timerHandle),this.timerHandle=e}setImmediateId(e){void 0!==this.immediateId&&this.operationHost.getServerHost().clearImmediate(this.immediateId),this.immediateId=e}hasPendingWork(){return!!this.timerHandle||!!this.immediateId}};function dhe(e,t){return{seq:0,type:"event",event:e,body:t}}function phe(e){return Ye(({textSpan:e})=>e.start+100003*e.length,SZ(e))}function fhe(e,t,n){const r=e.getLanguageService().getDefinitionAtPosition(t.fileName,t.pos,!1,n),i=r&&he(r);return i&&!i.isLocal?{fileName:i.fileName,pos:i.textSpan.start}:void 0}function mhe(e,t,n){for(const r of et(e)?e:e.projects)n(r,t);!et(e)&&e.symLinkedProjects&&e.symLinkedProjects.forEach((e,t)=>{for(const r of e)n(r,t)})}function ghe(e,t,n,r,i,o,a){const s=new Map,c=Ze();c.enqueue({project:t,location:n}),mhe(e,n.fileName,(e,t)=>{const r={fileName:t,pos:n.pos};c.enqueue({project:e,location:r})});const l=t.projectService,_=t.getCancellationToken(),u=mt(()=>t.isSourceOfProjectReferenceRedirect(r.fileName)?r:t.getLanguageService().getSourceMapper().tryGetGeneratedPosition(r)),d=mt(()=>t.isSourceOfProjectReferenceRedirect(r.fileName)?r:t.getLanguageService().getSourceMapper().tryGetSourcePosition(r)),p=new Set;e:for(;!c.isEmpty();){for(;!c.isEmpty();){if(_.isCancellationRequested())break e;const{project:e,location:t}=c.dequeue();if(s.has(e))continue;if(vhe(e,t))continue;if(zge(e),!e.containsFile(ime(t.fileName)))continue;const n=f(e,t);s.set(e,null!=n?n:tme),p.add(bhe(e))}r&&(l.loadAncestorProjectTree(p),l.forEachEnabledProject(e=>{if(_.isCancellationRequested())return;if(s.has(e))return;const t=i(r,e,u,d);t&&c.enqueue({project:e,location:t})}))}return 1===s.size?be(s.values()):s;function f(e,t){const n=o(e,t);if(!n||!a)return n;for(const r of n)a(r,t=>{const n=l.getOriginalLocationEnsuringConfiguredProject(e,t);if(!n)return;const r=l.getScriptInfo(n.fileName);for(const e of r.containingProjects)e.isOrphan()||s.has(e)||c.enqueue({project:e,location:n});const i=l.getSymlinkedProjects(r);i&&i.forEach((e,t)=>{for(const r of e)r.isOrphan()||s.has(r)||c.enqueue({project:r,location:{fileName:t,pos:n.pos}})})});return n}}function hhe(e,t){if(t.containsFile(ime(e.fileName))&&!vhe(t,e))return e}function yhe(e,t,n,r){const i=hhe(e,t);if(i)return i;const o=n();if(o&&t.containsFile(ime(o.fileName)))return o;const a=r();return a&&t.containsFile(ime(a.fileName))?a:void 0}function vhe(e,t){if(!t)return!1;const n=e.getLanguageService().getProgram();if(!n)return!1;const r=n.getSourceFile(t.fileName);return!!r&&r.resolvedPath!==r.path&&r.resolvedPath!==e.toPath(t.fileName)}function bhe(e){return Hme(e)?e.canonicalConfigFilePath:e.getProjectName()}function xhe({fileName:e,textSpan:t}){return{fileName:e,pos:t.start}}function khe(e,t){return wZ(e,t.getSourceMapper(),e=>t.projectService.fileExists(e))}function She(e,t){return DZ(e,t.getSourceMapper(),e=>t.projectService.fileExists(e))}function The(e,t){return NZ(e,t.getSourceMapper(),e=>t.projectService.fileExists(e))}var Che=["openExternalProject","openExternalProjects","closeExternalProject","synchronizeProjectList","emit-output","compileOnSaveAffectedFileList","compileOnSaveEmitFile","compilerOptionsDiagnostics-full","encodedSemanticClassifications-full","semanticDiagnosticsSync","suggestionDiagnosticsSync","geterrForProject","reload","reloadProjects","getCodeFixes","getCodeFixes-full","getCombinedCodeFix","getCombinedCodeFix-full","applyCodeActionCommand","getSupportedCodeFixes","getApplicableRefactors","getMoveToRefactoringFileSuggestions","getEditsForRefactor","getEditsForRefactor-full","organizeImports","organizeImports-full","getEditsForFileRename","getEditsForFileRename-full","prepareCallHierarchy","provideCallHierarchyIncomingCalls","provideCallHierarchyOutgoingCalls","getPasteEdits","copilotRelated"],whe=[...Che,"definition","definition-full","definitionAndBoundSpan","definitionAndBoundSpan-full","typeDefinition","implementation","implementation-full","references","references-full","rename","renameLocations-full","rename-full","quickinfo","quickinfo-full","completionInfo","completions","completions-full","completionEntryDetails","completionEntryDetails-full","signatureHelp","signatureHelp-full","navto","navto-full","documentHighlights","documentHighlights-full","preparePasteEdits"],Dhe=class e{constructor(e){this.changeSeq=0,this.regionDiagLineCountThreshold=500,this.handlers=new Map(Object.entries({status:()=>{const e={version:l};return this.requiredResponse(e)},openExternalProject:e=>(this.projectService.openExternalProject(e.arguments,!0),this.requiredResponse(!0)),openExternalProjects:e=>(this.projectService.openExternalProjects(e.arguments.projects),this.requiredResponse(!0)),closeExternalProject:e=>(this.projectService.closeExternalProject(e.arguments.projectFileName,!0),this.requiredResponse(!0)),synchronizeProjectList:e=>{const t=this.projectService.synchronizeProjectList(e.arguments.knownProjects,e.arguments.includeProjectReferenceRedirectInfo);if(!t.some(e=>e.projectErrors&&0!==e.projectErrors.length))return this.requiredResponse(t);const n=A(t,e=>e.projectErrors&&0!==e.projectErrors.length?{info:e.info,changes:e.changes,files:e.files,projectErrors:this.convertToDiagnosticsWithLinePosition(e.projectErrors,void 0)}:e);return this.requiredResponse(n)},updateOpen:e=>(this.changeSeq++,this.projectService.applyChangesInOpenFiles(e.arguments.openFiles&&I(e.arguments.openFiles,e=>({fileName:e.file,content:e.fileContent,scriptKind:e.scriptKindName,projectRootPath:e.projectRootPath})),e.arguments.changedFiles&&I(e.arguments.changedFiles,e=>({fileName:e.fileName,changes:q(fe(e.textChanges),t=>{const n=fn.checkDefined(this.projectService.getScriptInfo(e.fileName)),r=n.lineOffsetToPosition(t.start.line,t.start.offset),i=n.lineOffsetToPosition(t.end.line,t.end.offset);return r>=0?{span:{start:r,length:i-r},newText:t.newText}:void 0})})),e.arguments.closedFiles),this.requiredResponse(!0)),applyChangedToOpenFiles:e=>(this.changeSeq++,this.projectService.applyChangesInOpenFiles(e.arguments.openFiles,e.arguments.changedFiles&&I(e.arguments.changedFiles,e=>({fileName:e.fileName,changes:fe(e.changes)})),e.arguments.closedFiles),this.requiredResponse(!0)),exit:()=>(this.exit(),this.notRequired(void 0)),definition:e=>this.requiredResponse(this.getDefinition(e.arguments,!0)),"definition-full":e=>this.requiredResponse(this.getDefinition(e.arguments,!1)),definitionAndBoundSpan:e=>this.requiredResponse(this.getDefinitionAndBoundSpan(e.arguments,!0)),"definitionAndBoundSpan-full":e=>this.requiredResponse(this.getDefinitionAndBoundSpan(e.arguments,!1)),findSourceDefinition:e=>this.requiredResponse(this.findSourceDefinition(e.arguments)),"emit-output":e=>this.requiredResponse(this.getEmitOutput(e.arguments)),typeDefinition:e=>this.requiredResponse(this.getTypeDefinition(e.arguments)),implementation:e=>this.requiredResponse(this.getImplementation(e.arguments,!0)),"implementation-full":e=>this.requiredResponse(this.getImplementation(e.arguments,!1)),references:e=>this.requiredResponse(this.getReferences(e.arguments,!0)),"references-full":e=>this.requiredResponse(this.getReferences(e.arguments,!1)),rename:e=>this.requiredResponse(this.getRenameLocations(e.arguments,!0)),"renameLocations-full":e=>this.requiredResponse(this.getRenameLocations(e.arguments,!1)),"rename-full":e=>this.requiredResponse(this.getRenameInfo(e.arguments)),open:e=>(this.openClientFile(ime(e.arguments.file),e.arguments.fileContent,xge(e.arguments.scriptKindName),e.arguments.projectRootPath?ime(e.arguments.projectRootPath):void 0),this.notRequired(e)),quickinfo:e=>this.requiredResponse(this.getQuickInfoWorker(e.arguments,!0)),"quickinfo-full":e=>this.requiredResponse(this.getQuickInfoWorker(e.arguments,!1)),getOutliningSpans:e=>this.requiredResponse(this.getOutliningSpans(e.arguments,!0)),outliningSpans:e=>this.requiredResponse(this.getOutliningSpans(e.arguments,!1)),todoComments:e=>this.requiredResponse(this.getTodoComments(e.arguments)),indentation:e=>this.requiredResponse(this.getIndentation(e.arguments)),nameOrDottedNameSpan:e=>this.requiredResponse(this.getNameOrDottedNameSpan(e.arguments)),breakpointStatement:e=>this.requiredResponse(this.getBreakpointStatement(e.arguments)),braceCompletion:e=>this.requiredResponse(this.isValidBraceCompletion(e.arguments)),docCommentTemplate:e=>this.requiredResponse(this.getDocCommentTemplate(e.arguments)),getSpanOfEnclosingComment:e=>this.requiredResponse(this.getSpanOfEnclosingComment(e.arguments)),fileReferences:e=>this.requiredResponse(this.getFileReferences(e.arguments,!0)),"fileReferences-full":e=>this.requiredResponse(this.getFileReferences(e.arguments,!1)),format:e=>this.requiredResponse(this.getFormattingEditsForRange(e.arguments)),formatonkey:e=>this.requiredResponse(this.getFormattingEditsAfterKeystroke(e.arguments)),"format-full":e=>this.requiredResponse(this.getFormattingEditsForDocumentFull(e.arguments)),"formatonkey-full":e=>this.requiredResponse(this.getFormattingEditsAfterKeystrokeFull(e.arguments)),"formatRange-full":e=>this.requiredResponse(this.getFormattingEditsForRangeFull(e.arguments)),completionInfo:e=>this.requiredResponse(this.getCompletions(e.arguments,"completionInfo")),completions:e=>this.requiredResponse(this.getCompletions(e.arguments,"completions")),"completions-full":e=>this.requiredResponse(this.getCompletions(e.arguments,"completions-full")),completionEntryDetails:e=>this.requiredResponse(this.getCompletionEntryDetails(e.arguments,!1)),"completionEntryDetails-full":e=>this.requiredResponse(this.getCompletionEntryDetails(e.arguments,!0)),compileOnSaveAffectedFileList:e=>this.requiredResponse(this.getCompileOnSaveAffectedFileList(e.arguments)),compileOnSaveEmitFile:e=>this.requiredResponse(this.emitFile(e.arguments)),signatureHelp:e=>this.requiredResponse(this.getSignatureHelpItems(e.arguments,!0)),"signatureHelp-full":e=>this.requiredResponse(this.getSignatureHelpItems(e.arguments,!1)),"compilerOptionsDiagnostics-full":e=>this.requiredResponse(this.getCompilerOptionsDiagnostics(e.arguments)),"encodedSyntacticClassifications-full":e=>this.requiredResponse(this.getEncodedSyntacticClassifications(e.arguments)),"encodedSemanticClassifications-full":e=>this.requiredResponse(this.getEncodedSemanticClassifications(e.arguments)),cleanup:()=>(this.cleanup(),this.requiredResponse(!0)),semanticDiagnosticsSync:e=>this.requiredResponse(this.getSemanticDiagnosticsSync(e.arguments)),syntacticDiagnosticsSync:e=>this.requiredResponse(this.getSyntacticDiagnosticsSync(e.arguments)),suggestionDiagnosticsSync:e=>this.requiredResponse(this.getSuggestionDiagnosticsSync(e.arguments)),geterr:e=>(this.errorCheck.startNew(t=>this.getDiagnostics(t,e.arguments.delay,e.arguments.files)),this.notRequired(void 0)),geterrForProject:e=>(this.errorCheck.startNew(t=>this.getDiagnosticsForProject(t,e.arguments.delay,e.arguments.file)),this.notRequired(void 0)),change:e=>(this.change(e.arguments),this.notRequired(e)),configure:e=>(this.projectService.setHostConfiguration(e.arguments),this.notRequired(e)),reload:e=>(this.reload(e.arguments),this.requiredResponse({reloadFinished:!0})),saveto:e=>{const t=e.arguments;return this.saveToTmp(t.file,t.tmpfile),this.notRequired(e)},close:e=>{const t=e.arguments;return this.closeClientFile(t.file),this.notRequired(e)},navto:e=>this.requiredResponse(this.getNavigateToItems(e.arguments,!0)),"navto-full":e=>this.requiredResponse(this.getNavigateToItems(e.arguments,!1)),brace:e=>this.requiredResponse(this.getBraceMatching(e.arguments,!0)),"brace-full":e=>this.requiredResponse(this.getBraceMatching(e.arguments,!1)),navbar:e=>this.requiredResponse(this.getNavigationBarItems(e.arguments,!0)),"navbar-full":e=>this.requiredResponse(this.getNavigationBarItems(e.arguments,!1)),navtree:e=>this.requiredResponse(this.getNavigationTree(e.arguments,!0)),"navtree-full":e=>this.requiredResponse(this.getNavigationTree(e.arguments,!1)),documentHighlights:e=>this.requiredResponse(this.getDocumentHighlights(e.arguments,!0)),"documentHighlights-full":e=>this.requiredResponse(this.getDocumentHighlights(e.arguments,!1)),compilerOptionsForInferredProjects:e=>(this.setCompilerOptionsForInferredProjects(e.arguments),this.requiredResponse(!0)),projectInfo:e=>this.requiredResponse(this.getProjectInfo(e.arguments)),reloadProjects:e=>(this.projectService.reloadProjects(),this.notRequired(e)),jsxClosingTag:e=>this.requiredResponse(this.getJsxClosingTag(e.arguments)),linkedEditingRange:e=>this.requiredResponse(this.getLinkedEditingRange(e.arguments)),getCodeFixes:e=>this.requiredResponse(this.getCodeFixes(e.arguments,!0)),"getCodeFixes-full":e=>this.requiredResponse(this.getCodeFixes(e.arguments,!1)),getCombinedCodeFix:e=>this.requiredResponse(this.getCombinedCodeFix(e.arguments,!0)),"getCombinedCodeFix-full":e=>this.requiredResponse(this.getCombinedCodeFix(e.arguments,!1)),applyCodeActionCommand:e=>this.requiredResponse(this.applyCodeActionCommand(e.arguments)),getSupportedCodeFixes:e=>this.requiredResponse(this.getSupportedCodeFixes(e.arguments)),getApplicableRefactors:e=>this.requiredResponse(this.getApplicableRefactors(e.arguments)),getEditsForRefactor:e=>this.requiredResponse(this.getEditsForRefactor(e.arguments,!0)),getMoveToRefactoringFileSuggestions:e=>this.requiredResponse(this.getMoveToRefactoringFileSuggestions(e.arguments)),preparePasteEdits:e=>this.requiredResponse(this.preparePasteEdits(e.arguments)),getPasteEdits:e=>this.requiredResponse(this.getPasteEdits(e.arguments)),"getEditsForRefactor-full":e=>this.requiredResponse(this.getEditsForRefactor(e.arguments,!1)),organizeImports:e=>this.requiredResponse(this.organizeImports(e.arguments,!0)),"organizeImports-full":e=>this.requiredResponse(this.organizeImports(e.arguments,!1)),getEditsForFileRename:e=>this.requiredResponse(this.getEditsForFileRename(e.arguments,!0)),"getEditsForFileRename-full":e=>this.requiredResponse(this.getEditsForFileRename(e.arguments,!1)),configurePlugin:e=>(this.configurePlugin(e.arguments),this.notRequired(e)),selectionRange:e=>this.requiredResponse(this.getSmartSelectionRange(e.arguments,!0)),"selectionRange-full":e=>this.requiredResponse(this.getSmartSelectionRange(e.arguments,!1)),prepareCallHierarchy:e=>this.requiredResponse(this.prepareCallHierarchy(e.arguments)),provideCallHierarchyIncomingCalls:e=>this.requiredResponse(this.provideCallHierarchyIncomingCalls(e.arguments)),provideCallHierarchyOutgoingCalls:e=>this.requiredResponse(this.provideCallHierarchyOutgoingCalls(e.arguments)),toggleLineComment:e=>this.requiredResponse(this.toggleLineComment(e.arguments,!0)),"toggleLineComment-full":e=>this.requiredResponse(this.toggleLineComment(e.arguments,!1)),toggleMultilineComment:e=>this.requiredResponse(this.toggleMultilineComment(e.arguments,!0)),"toggleMultilineComment-full":e=>this.requiredResponse(this.toggleMultilineComment(e.arguments,!1)),commentSelection:e=>this.requiredResponse(this.commentSelection(e.arguments,!0)),"commentSelection-full":e=>this.requiredResponse(this.commentSelection(e.arguments,!1)),uncommentSelection:e=>this.requiredResponse(this.uncommentSelection(e.arguments,!0)),"uncommentSelection-full":e=>this.requiredResponse(this.uncommentSelection(e.arguments,!1)),provideInlayHints:e=>this.requiredResponse(this.provideInlayHints(e.arguments)),mapCode:e=>this.requiredResponse(this.mapCode(e.arguments)),copilotRelated:()=>this.requiredResponse(this.getCopilotRelatedInfo())})),this.host=e.host,this.cancellationToken=e.cancellationToken,this.typingsInstaller=e.typingsInstaller||wge,this.byteLength=e.byteLength,this.hrtime=e.hrtime,this.logger=e.logger,this.canUseEvents=e.canUseEvents,this.suppressDiagnosticEvents=e.suppressDiagnosticEvents,this.noGetErrOnBackgroundUpdate=e.noGetErrOnBackgroundUpdate;const{throttleWaitMilliseconds:t}=e;this.eventHandler=this.canUseEvents?e.eventHandler||(e=>this.defaultEventHandler(e)):void 0;const n={executeWithRequestId:(e,t,n)=>this.executeWithRequestId(e,t,n),getCurrentRequestId:()=>this.currentRequestId,getPerformanceData:()=>this.performanceData,getServerHost:()=>this.host,logError:(e,t)=>this.logError(e,t),sendRequestCompletedEvent:(e,t)=>this.sendRequestCompletedEvent(e,t),isCancellationRequested:()=>this.cancellationToken.isCancellationRequested()};this.errorCheck=new uhe(n);const r={host:this.host,logger:this.logger,cancellationToken:this.cancellationToken,useSingleInferredProject:e.useSingleInferredProject,useInferredProjectPerProjectRoot:e.useInferredProjectPerProjectRoot,typingsInstaller:this.typingsInstaller,throttleWaitMilliseconds:t,eventHandler:this.eventHandler,suppressDiagnosticEvents:this.suppressDiagnosticEvents,globalPlugins:e.globalPlugins,pluginProbeLocations:e.pluginProbeLocations,allowLocalPluginLoads:e.allowLocalPluginLoads,typesMapLocation:e.typesMapLocation,serverMode:e.serverMode,session:this,canUseWatchEvents:e.canUseWatchEvents,incrementalVerifier:e.incrementalVerifier};switch(this.projectService=new Zge(r),this.projectService.setPerformanceEventHandler(this.performanceEventHandler.bind(this)),this.gcTimer=new fme(this.host,7e3,this.logger),this.projectService.serverMode){case 0:break;case 1:Che.forEach(e=>this.handlers.set(e,e=>{throw new Error(`Request: ${e.command} not allowed in LanguageServiceMode.PartialSemantic`)}));break;case 2:whe.forEach(e=>this.handlers.set(e,e=>{throw new Error(`Request: ${e.command} not allowed in LanguageServiceMode.Syntactic`)}));break;default:fn.assertNever(this.projectService.serverMode)}}sendRequestCompletedEvent(e,t){this.event({request_seq:e,performanceData:t&&Nhe(t)},"requestCompleted")}addPerformanceData(e,t){var n;this.performanceData||(this.performanceData={}),this.performanceData[e]=(null!=(n=this.performanceData[e])?n:0)+t}addDiagnosticsPerformanceData(e,t,n){var r,i,o;this.performanceData||(this.performanceData={});let a=null==(i=this.performanceData.diagnosticsDuration)?void 0:i.get(e);a||(null!=(r=(o=this.performanceData).diagnosticsDuration)?r:o.diagnosticsDuration=new Map).set(e,a={}),a[t]=n}performanceEventHandler(e){switch(e.kind){case"UpdateGraph":this.addPerformanceData("updateGraphDurationMs",e.durationMs);break;case"CreatePackageJsonAutoImportProvider":this.addPerformanceData("createAutoImportProviderProgramDurationMs",e.durationMs)}}defaultEventHandler(e){switch(e.eventName){case Yme:this.projectsUpdatedInBackgroundEvent(e.data.openFiles);break;case ege:this.event({projectName:e.data.project.getProjectName(),reason:e.data.reason},e.eventName);break;case tge:this.event({projectName:e.data.project.getProjectName()},e.eventName);break;case nge:case sge:case cge:case lge:this.event(e.data,e.eventName);break;case rge:this.event({triggerFile:e.data.triggerFile,configFile:e.data.configFileName,diagnostics:A(e.data.diagnostics,e=>che(e,!0))},e.eventName);break;case ige:this.event({projectName:e.data.project.getProjectName(),languageServiceEnabled:e.data.languageServiceEnabled},e.eventName);break;case oge:{const t="telemetry";this.event({telemetryEventName:e.eventName,payload:e.data},t);break}}}projectsUpdatedInBackgroundEvent(e){this.projectService.logger.info(`got projects updated in background ${e}`),e.length&&(this.suppressDiagnosticEvents||this.noGetErrOnBackgroundUpdate||(this.projectService.logger.info(`Queueing diagnostics update for ${e}`),this.errorCheck.startNew(t=>this.updateErrorCheck(t,e,100,!0))),this.event({openFiles:e},Yme))}logError(e,t){this.logErrorWorker(e,t)}logErrorWorker(e,t,n){let r="Exception on executing command "+t;if(e.message&&(r+=":\n"+dG(e.message),e.stack&&(r+="\n"+dG(e.stack))),this.logger.hasLevel(3)){if(n)try{const{file:e,project:t}=this.getFileAndProject(n),i=t.getScriptInfoForNormalizedPath(e);if(i){const e=GQ(i.getSnapshot());r+=`\n\nFile text of ${n.file}:${dG(e)}\n`}}catch(i){}if(e.ProgramFiles){r+=`\n\nProgram files: ${JSON.stringify(e.ProgramFiles)}\n`,r+="\n\nProjects::\n";let t=0;const n=e=>{r+=`\nProject '${e.projectName}' (${Ame[e.projectKind]}) ${t}\n`,r+=e.filesToString(!0),r+="\n-----------------------------------------------\n",t++};this.projectService.externalProjects.forEach(n),this.projectService.configuredProjects.forEach(n),this.projectService.inferredProjects.forEach(n)}}this.logger.msg(r,"Err")}send(e){"event"!==e.type||this.canUseEvents?this.writeMessage(e):this.logger.hasLevel(3)&&this.logger.info(`Session does not support events: ignored event: ${pG(e)}`)}writeMessage(e){const t=_he(e,this.logger,this.byteLength,this.host.newLine);this.host.write(t)}event(e,t){this.send(dhe(t,e))}doOutput(e,t,n,r,i,o){const a={seq:0,type:"response",command:t,request_seq:n,success:r,performanceData:i&&Nhe(i)};if(r){let t;if(et(e))a.body=e,t=e.metadata,delete e.metadata;else if("object"==typeof e)if(e.metadata){const n=e,{metadata:r}=n,i=__objRest(n,["metadata"]);a.body=i,t=r}else a.body=e;else a.body=e;t&&(a.metadata=t)}else fn.assert(void 0===e);o&&(a.message=o),this.send(a)}semanticCheck(e,t){var n,r;const i=$n();null==(n=Xn)||n.push(Xn.Phase.Session,"semanticCheck",{file:e,configFilePath:t.canonicalConfigFilePath});const o=ihe(t,e)?tme:t.getLanguageService().getSemanticDiagnostics(e).filter(e=>!!e.file);this.sendDiagnosticsEvent(e,t,o,"semanticDiag",i),null==(r=Xn)||r.pop()}syntacticCheck(e,t){var n,r;const i=$n();null==(n=Xn)||n.push(Xn.Phase.Session,"syntacticCheck",{file:e,configFilePath:t.canonicalConfigFilePath}),this.sendDiagnosticsEvent(e,t,t.getLanguageService().getSyntacticDiagnostics(e),"syntaxDiag",i),null==(r=Xn)||r.pop()}suggestionCheck(e,t){var n,r;const i=$n();null==(n=Xn)||n.push(Xn.Phase.Session,"suggestionCheck",{file:e,configFilePath:t.canonicalConfigFilePath}),this.sendDiagnosticsEvent(e,t,t.getLanguageService().getSuggestionDiagnostics(e),"suggestionDiag",i),null==(r=Xn)||r.pop()}regionSemanticCheck(e,t,n){var r,i,o;const a=$n();let s;null==(r=Xn)||r.push(Xn.Phase.Session,"regionSemanticCheck",{file:e,configFilePath:t.canonicalConfigFilePath}),this.shouldDoRegionCheck(e)&&(s=t.getLanguageService().getRegionSemanticDiagnostics(e,n))?(this.sendDiagnosticsEvent(e,t,s.diagnostics,"regionSemanticDiag",a,s.spans),null==(o=Xn)||o.pop()):null==(i=Xn)||i.pop()}shouldDoRegionCheck(e){var t;const n=null==(t=this.projectService.getScriptInfoForNormalizedPath(e))?void 0:t.textStorage.getLineInfo().getLineCount();return!!(n&&n>=this.regionDiagLineCountThreshold)}sendDiagnosticsEvent(e,t,n,r,i,o){try{const a=fn.checkDefined(t.getScriptInfo(e)),s=$n()-i,c={file:e,diagnostics:n.map(n=>ohe(e,t,n)),spans:null==o?void 0:o.map(e=>Fhe(e,a))};this.event(c,r),this.addDiagnosticsPerformanceData(e,r,s)}catch(a){this.logError(a,r)}}updateErrorCheck(e,t,n,r=!0){if(0===t.length)return;fn.assert(!this.suppressDiagnosticEvents);const i=this.changeSeq,o=Math.min(n,200);let a=0;const s=()=>{if(a++,t.length>a)return e.delay("checkOne",o,l)},c=(t,n)=>{if(this.semanticCheck(t,n),this.changeSeq===i)return this.getPreferences(t).disableSuggestions?s():void e.immediate("suggestionCheck",()=>{this.suggestionCheck(t,n),s()})},l=()=>{if(this.changeSeq!==i)return;let n,o=t[a];if(nt(o)?o=this.toPendingErrorCheck(o):"ranges"in o&&(n=o.ranges,o=this.toPendingErrorCheck(o.file)),!o)return s();const{fileName:l,project:_}=o;return zge(_),_.containsFile(l,r)&&(this.syntacticCheck(l,_),this.changeSeq===i)?0!==_.projectService.serverMode?s():n?e.immediate("regionSemanticCheck",()=>{const t=this.projectService.getScriptInfoForNormalizedPath(l);t&&this.regionSemanticCheck(l,_,n.map(e=>this.getRange(__spreadValues({file:l},e),t))),this.changeSeq===i&&e.immediate("semanticCheck",()=>c(l,_))}):void e.immediate("semanticCheck",()=>c(l,_)):void 0};t.length>a&&this.changeSeq===i&&e.delay("checkOne",n,l)}cleanProjects(e,t){if(t){this.logger.info(`cleaning ${e}`);for(const e of t)e.getLanguageService(!1).cleanupSemanticCache(),e.cleanupProgram()}}cleanup(){this.cleanProjects("inferred projects",this.projectService.inferredProjects),this.cleanProjects("configured projects",Re(this.projectService.configuredProjects.values())),this.cleanProjects("external projects",this.projectService.externalProjects),this.host.gc&&(this.logger.info("host.gc()"),this.host.gc())}getEncodedSyntacticClassifications(e){const{file:t,languageService:n}=this.getFileAndLanguageServiceForSyntacticOperation(e);return n.getEncodedSyntacticClassifications(t,e)}getEncodedSemanticClassifications(e){const{file:t,project:n}=this.getFileAndProject(e),r="2020"===e.format?"2020":"original";return n.getLanguageService().getEncodedSemanticClassifications(t,e,r)}getProject(e){return void 0===e?void 0:this.projectService.findProject(e)}getConfigFileAndProject(e){const t=this.getProject(e.projectFileName),n=ime(e.file);return{configFile:t&&t.hasConfigFile(n)?n:void 0,project:t}}getConfigFileDiagnostics(e,t,n){const r=F(X(t.getAllProjectErrors(),t.getLanguageService().getCompilerOptionsDiagnostics()),t=>!!t.file&&t.file.fileName===e);return n?this.convertToDiagnosticsWithLinePositionFromDiagnosticFile(r):A(r,e=>che(e,!1))}convertToDiagnosticsWithLinePositionFromDiagnosticFile(e){return e.map(e=>({message:uU(e.messageText,this.host.newLine),start:e.start,length:e.length,category:ui(e),code:e.code,source:e.source,startLocation:e.file&&she($a(e.file,e.start)),endLocation:e.file&&she($a(e.file,e.start+e.length)),reportsUnnecessary:e.reportsUnnecessary,reportsDeprecated:e.reportsDeprecated,relatedInformation:A(e.relatedInformation,ahe)}))}getCompilerOptionsDiagnostics(e){const t=this.getProject(e.projectFileName);return this.convertToDiagnosticsWithLinePosition(F(t.getLanguageService().getCompilerOptionsDiagnostics(),e=>!e.file),void 0)}convertToDiagnosticsWithLinePosition(e,t){return e.map(e=>({message:uU(e.messageText,this.host.newLine),start:e.start,length:e.length,category:ui(e),code:e.code,source:e.source,startLocation:t&&t.positionToLineOffset(e.start),endLocation:t&&t.positionToLineOffset(e.start+e.length),reportsUnnecessary:e.reportsUnnecessary,reportsDeprecated:e.reportsDeprecated,relatedInformation:A(e.relatedInformation,ahe)}))}getDiagnosticsWorker(e,t,n,r){const{project:i,file:o}=this.getFileAndProject(e);if(t&&ihe(i,o))return tme;const a=i.getScriptInfoForNormalizedPath(o),s=n(i,o);return r?this.convertToDiagnosticsWithLinePosition(s,a):s.map(e=>ohe(o,i,e))}getDefinition(t,n){const{file:r,project:i}=this.getFileAndProject(t),o=this.getPositionInFile(t,r),a=this.mapDefinitionInfoLocations(i.getLanguageService().getDefinitionAtPosition(r,o)||tme,i);return n?this.mapDefinitionInfo(a,i):a.map(e.mapToOriginalLocation)}mapDefinitionInfoLocations(e,t){return e.map(e=>{const n=She(e,t);return n?__spreadValues(__spreadProps(__spreadValues({},n),{containerKind:e.containerKind,containerName:e.containerName,kind:e.kind,name:e.name,failedAliasResolution:e.failedAliasResolution}),e.unverified&&{unverified:e.unverified}):e})}getDefinitionAndBoundSpan(t,n){const{file:r,project:i}=this.getFileAndProject(t),o=this.getPositionInFile(t,r),a=fn.checkDefined(i.getScriptInfo(r)),s=i.getLanguageService().getDefinitionAndBoundSpan(r,o);if(!s||!s.definitions)return{definitions:tme,textSpan:void 0};const c=this.mapDefinitionInfoLocations(s.definitions,i),{textSpan:l}=s;return n?{definitions:this.mapDefinitionInfo(c,i),textSpan:Fhe(l,a)}:{definitions:c.map(e.mapToOriginalLocation),textSpan:l}}findSourceDefinition(e){var t;const{file:n,project:r}=this.getFileAndProject(e),i=this.getPositionInFile(e,n),o=r.getLanguageService().getDefinitionAtPosition(n,i);let a=this.mapDefinitionInfoLocations(o||tme,r).slice();if(0===this.projectService.serverMode&&(!K(a,e=>ime(e.fileName)!==n&&!e.isAmbient)||K(a,e=>!!e.failedAliasResolution))){const e=Ye(e=>e.textSpan.start,SZ(this.host.useCaseSensitiveFileNames));null==a||a.forEach(t=>e.add(t));const o=r.getNoDtsResolutionProject(n),_=o.getLanguageService(),u=null==(t=_.getDefinitionAtPosition(n,i,!0,!1))?void 0:t.filter(e=>ime(e.fileName)!==n);if(K(u))for(const t of u){if(t.unverified){const n=c(t,r.getLanguageService().getProgram(),_.getProgram());if(K(n)){for(const t of n)e.add(t);continue}}e.add(t)}else{const t=a.filter(e=>ime(e.fileName)!==n&&e.isAmbient);for(const a of K(t)?t:function(){const e=r.getLanguageService(),t=e.getProgram(),o=YX(t.getSourceFile(n),i);return(zu(o)||tN(o))&&Nx(o.parent)&&Ax(o,t=>{var r;if(t===o)return;const i=null==(r=e.getDefinitionAtPosition(n,t.getStart(),!0,!1))?void 0:r.filter(e=>ime(e.fileName)!==n&&e.isAmbient).map(e=>({fileName:e.fileName,name:$h(o)}));return K(i)?i:void 0})||tme}()){const t=s(a.fileName,n,o);if(!t)continue;const r=this.projectService.getOrCreateScriptInfoNotOpenedByClient(t,o.currentDirectory,o.directoryStructureHost,!1);if(!r)continue;o.containsScriptInfo(r)||(o.addRoot(r),o.updateGraph());const i=_.getProgram(),c=fn.checkDefined(i.getSourceFile(t));for(const n of l(a.name,c,i))e.add(n)}}a=Re(e.values())}return a=a.filter(e=>!e.isAmbient&&!e.failedAliasResolution),this.mapDefinitionInfo(a,r);function s(e,t,n){var i,o,a;const s=KT(e);if(s&&e.lastIndexOf(ZR)===s.topLevelNodeModulesIndex){const c=e.substring(0,s.packageRootIndex),l=null==(i=r.getModuleResolutionCache())?void 0:i.getPackageJsonInfoCache(),_=r.getCompilationSettings(),u=pM(Uo(c,r.getCurrentDirectory()),dM(l,r,_));if(!u)return;const d=_M(u,{moduleResolution:2},r,r.getModuleResolutionCache()),p=jM(RM(e.substring(s.topLevelPackageNameIndex+1,s.packageRootIndex))),f=r.toPath(e);if(d&&K(d,e=>r.toPath(e)===f))return null==(o=n.resolutionCache.resolveSingleModuleNameWithoutWatching(p,t).resolvedModule)?void 0:o.resolvedFileName;{const r=`${p}/${KS(e.substring(s.packageRootIndex+1))}`;return null==(a=n.resolutionCache.resolveSingleModuleNameWithoutWatching(r,t).resolvedModule)?void 0:a.resolvedFileName}}}function c(e,t,r){var o;const a=r.getSourceFile(e.fileName);if(!a)return;const s=YX(t.getSourceFile(n),i),c=t.getTypeChecker().getSymbolAtLocation(s),_=c&&Qu(c,276);return _?l((null==(o=_.propertyName)?void 0:o.text)||_.name.text,a,r):void 0}function l(e,t,n){return z(Mce.Core.getTopMostDeclarationNamesInFile(e,t),e=>{const t=n.getTypeChecker().getSymbolAtLocation(e),r=fh(e);if(t&&r)return kle.createDefinitionInfo(r,n.getTypeChecker(),t,r,!0)})}}getEmitOutput(e){const{file:t,project:n}=this.getFileAndProject(e);if(!n.shouldEmitFile(n.getScriptInfo(t)))return{emitSkipped:!0,outputFiles:[],diagnostics:[]};const r=n.getLanguageService().getEmitOutput(t);return e.richResponse?__spreadProps(__spreadValues({},r),{diagnostics:e.includeLinePosition?this.convertToDiagnosticsWithLinePositionFromDiagnosticFile(r.diagnostics):r.diagnostics.map(e=>che(e,!0))}):r}mapJSDocTagInfo(e,t,n){return e?e.map(e=>{var r;return __spreadProps(__spreadValues({},e),{text:n?this.mapDisplayParts(e.text,t):null==(r=e.text)?void 0:r.map(e=>e.text).join("")})}):[]}mapDisplayParts(e,t){return e?e.map(e=>"linkName"!==e.kind?e:__spreadProps(__spreadValues({},e),{target:this.toFileSpan(e.target.fileName,e.target.textSpan,t)})):[]}mapSignatureHelpItems(e,t,n){return e.map(e=>__spreadProps(__spreadValues({},e),{documentation:this.mapDisplayParts(e.documentation,t),parameters:e.parameters.map(e=>__spreadProps(__spreadValues({},e),{documentation:this.mapDisplayParts(e.documentation,t)})),tags:this.mapJSDocTagInfo(e.tags,t,n)}))}mapDefinitionInfo(e,t){return e.map(e=>__spreadValues(__spreadValues({},this.toFileSpanWithContext(e.fileName,e.textSpan,e.contextSpan,t)),e.unverified&&{unverified:e.unverified}))}static mapToOriginalLocation(e){return e.originalFileName?(fn.assert(void 0!==e.originalTextSpan,"originalTextSpan should be present if originalFileName is"),__spreadProps(__spreadValues({},e),{fileName:e.originalFileName,textSpan:e.originalTextSpan,targetFileName:e.fileName,targetTextSpan:e.textSpan,contextSpan:e.originalContextSpan,targetContextSpan:e.contextSpan})):e}toFileSpan(e,t,n){const r=n.getLanguageService(),i=r.toLineColumnOffset(e,t.start),o=r.toLineColumnOffset(e,Os(t));return{file:e,start:{line:i.line+1,offset:i.character+1},end:{line:o.line+1,offset:o.character+1}}}toFileSpanWithContext(e,t,n,r){const i=this.toFileSpan(e,t,r),o=n&&this.toFileSpan(e,n,r);return o?__spreadProps(__spreadValues({},i),{contextStart:o.start,contextEnd:o.end}):i}getTypeDefinition(e){const{file:t,project:n}=this.getFileAndProject(e),r=this.getPositionInFile(e,t),i=this.mapDefinitionInfoLocations(n.getLanguageService().getTypeDefinitionAtPosition(t,r)||tme,n);return this.mapDefinitionInfo(i,n)}mapImplementationLocations(e,t){return e.map(e=>{const n=She(e,t);return n?__spreadProps(__spreadValues({},n),{kind:e.kind,displayParts:e.displayParts}):e})}getImplementation(t,n){const{file:r,project:i}=this.getFileAndProject(t),o=this.getPositionInFile(t,r),a=this.mapImplementationLocations(i.getLanguageService().getImplementationAtPosition(r,o)||tme,i);return n?a.map(({fileName:e,textSpan:t,contextSpan:n})=>this.toFileSpanWithContext(e,t,n,i)):a.map(e.mapToOriginalLocation)}getSyntacticDiagnosticsSync(e){const{configFile:t}=this.getConfigFileAndProject(e);return t?tme:this.getDiagnosticsWorker(e,!1,(e,t)=>e.getLanguageService().getSyntacticDiagnostics(t),!!e.includeLinePosition)}getSemanticDiagnosticsSync(e){const{configFile:t,project:n}=this.getConfigFileAndProject(e);return t?this.getConfigFileDiagnostics(t,n,!!e.includeLinePosition):this.getDiagnosticsWorker(e,!0,(e,t)=>e.getLanguageService().getSemanticDiagnostics(t).filter(e=>!!e.file),!!e.includeLinePosition)}getSuggestionDiagnosticsSync(e){const{configFile:t}=this.getConfigFileAndProject(e);return t?tme:this.getDiagnosticsWorker(e,!0,(e,t)=>e.getLanguageService().getSuggestionDiagnostics(t),!!e.includeLinePosition)}getJsxClosingTag(e){const{file:t,languageService:n}=this.getFileAndLanguageServiceForSyntacticOperation(e),r=this.getPositionInFile(e,t),i=n.getJsxClosingTagAtPosition(t,r);return void 0===i?void 0:{newText:i.newText,caretOffset:0}}getLinkedEditingRange(e){const{file:t,languageService:n}=this.getFileAndLanguageServiceForSyntacticOperation(e),r=this.getPositionInFile(e,t),i=n.getLinkedEditingRangeAtPosition(t,r),o=this.projectService.getScriptInfoForNormalizedPath(t);if(void 0!==o&&void 0!==i)return function(e,t){const n=e.ranges.map(e=>({start:t.positionToLineOffset(e.start),end:t.positionToLineOffset(e.start+e.length)}));return e.wordPattern?{ranges:n,wordPattern:e.wordPattern}:{ranges:n}}(i,o)}getDocumentHighlights(e,t){const{file:n,project:r}=this.getFileAndProject(e),i=this.getPositionInFile(e,n),o=r.getLanguageService().getDocumentHighlights(n,i,e.filesToSearch);return o?t?o.map(({fileName:e,highlightSpans:t})=>{const n=r.getScriptInfo(e);return{file:e,highlightSpans:t.map(({textSpan:e,kind:t,contextSpan:r})=>__spreadProps(__spreadValues({},Ehe(e,r,n)),{kind:t}))}}):o:tme}provideInlayHints(e){const{file:t,project:n}=this.getFileAndProject(e),r=this.projectService.getScriptInfoForNormalizedPath(t);return n.getLanguageService().provideInlayHints(t,e,this.getPreferences(t)).map(e=>{const{position:t,displayParts:n}=e;return __spreadProps(__spreadValues({},e),{position:r.positionToLineOffset(t),displayParts:null==n?void 0:n.map(({text:e,span:t,file:n})=>{if(t){fn.assertIsDefined(n,"Target file should be defined together with its span.");const r=this.projectService.getScriptInfo(n);return{text:e,span:{start:r.positionToLineOffset(t.start),end:r.positionToLineOffset(t.start+t.length),file:n}}}return{text:e}})})})}mapCode(e){var t;const n=this.getHostFormatOptions(),r=this.getHostPreferences(),{file:i,languageService:o}=this.getFileAndLanguageServiceForSyntacticOperation(e),a=this.projectService.getScriptInfoForNormalizedPath(i),s=null==(t=e.mapping.focusLocations)?void 0:t.map(e=>e.map(e=>{const t=a.lineOffsetToPosition(e.start.line,e.start.offset);return{start:t,length:a.lineOffsetToPosition(e.end.line,e.end.offset)-t}})),c=o.mapCode(i,e.mapping.contents,s,n,r);return this.mapTextChangesToCodeEdits(c)}getCopilotRelatedInfo(){return{relatedFiles:[]}}setCompilerOptionsForInferredProjects(e){this.projectService.setCompilerOptionsForInferredProjects(e.options,e.projectRootPath)}getProjectInfo(e){return this.getProjectInfoWorker(e.file,e.projectFileName,e.needFileNameList,e.needDefaultConfiguredProjectInfo,!1)}getProjectInfoWorker(e,t,n,r,i){const{project:o}=this.getFileAndProjectWorker(e,t);return zge(o),{configFileName:o.getProjectName(),languageServiceDisabled:!o.languageServiceEnabled,fileNames:n?o.getFileNames(!1,i):void 0,configuredProjectInfo:r?this.getDefaultConfiguredProjectInfo(e):void 0}}getDefaultConfiguredProjectInfo(e){var t;const n=this.projectService.getScriptInfo(e);if(!n)return;const r=this.projectService.findDefaultConfiguredProjectWorker(n,3);if(!r)return;let i,o;return r.seenProjects.forEach((e,t)=>{t!==r.defaultProject&&(3!==e?(null!=i?i:i=[]).push(ime(t.getConfigFilePath())):(null!=o?o:o=[]).push(ime(t.getConfigFilePath())))}),null==(t=r.seenConfigs)||t.forEach(e=>(null!=i?i:i=[]).push(e)),{notMatchedByConfig:i,notInProject:o,defaultProject:r.defaultProject&&ime(r.defaultProject.getConfigFilePath())}}getRenameInfo(e){const{file:t,project:n}=this.getFileAndProject(e),r=this.getPositionInFile(e,t),i=this.getPreferences(t);return n.getLanguageService().getRenameInfo(t,r,i)}getProjects(e,t,n){var r;let i,o;if(e.projectFileName){const t=this.getProject(e.projectFileName);t&&(i=[t])}else{const r=t?this.projectService.getScriptInfoEnsuringProjectsUptoDate(e.file):this.projectService.getScriptInfo(e.file);if(!r)return n?tme:(this.projectService.logErrorForScriptInfoNotFound(e.file),Zfe.ThrowNoProject());t||this.projectService.ensureDefaultProjectForFile(r),i=r.containingProjects,o=this.projectService.getSymlinkedProjects(r)}return i=F(i,e=>e.languageServiceEnabled&&!e.isOrphan()),n||i&&i.length||o?o?{projects:i,symLinkedProjects:o}:i:(this.projectService.logErrorForScriptInfoNotFound(null!=(r=e.file)?r:e.projectFileName),Zfe.ThrowNoProject())}getDefaultProject(e){if(e.projectFileName){const t=this.getProject(e.projectFileName);if(t)return t;if(!e.file)return Zfe.ThrowNoProject()}return this.projectService.getScriptInfo(e.file).getDefaultProject()}getRenameLocations(e,t){const n=ime(e.file),r=this.getPositionInFile(e,n),i=this.getProjects(e),o=this.getDefaultProject(e),a=this.getPreferences(n),s=this.mapRenameInfo(o.getLanguageService().getRenameInfo(n,r,a),fn.checkDefined(this.projectService.getScriptInfo(n)));if(!s.canRename)return t?{info:s,locs:[]}:[];const c=function(e,t,n,r,i,o,a){const s=ghe(e,t,n,fhe(t,n,!0),yhe,(e,t)=>e.getLanguageService().findRenameLocations(t.fileName,t.pos,r,i,o),(e,t)=>t(xhe(e)));if(et(s))return s;const c=[],l=phe(a);return s.forEach((e,t)=>{for(const n of e)l.has(n)||khe(xhe(n),t)||(c.push(n),l.add(n))}),c}(i,o,{fileName:e.file,pos:r},!!e.findInStrings,!!e.findInComments,a,this.host.useCaseSensitiveFileNames);return t?{info:s,locs:this.toSpanGroups(c)}:c}mapRenameInfo(e,t){if(e.canRename){const{canRename:n,fileToRename:r,displayName:i,fullDisplayName:o,kind:a,kindModifiers:s,triggerSpan:c}=e;return{canRename:n,fileToRename:r,displayName:i,fullDisplayName:o,kind:a,kindModifiers:s,triggerSpan:Fhe(c,t)}}return e}toSpanGroups(e){const t=new Map;for(const n of e){const e=n,{fileName:r,textSpan:i,contextSpan:o,originalContextSpan:a,originalTextSpan:s,originalFileName:c}=e,l=__objRest(e,["fileName","textSpan","contextSpan","originalContextSpan","originalTextSpan","originalFileName"]);let _=t.get(r);_||t.set(r,_={file:r,locs:[]});const u=fn.checkDefined(this.projectService.getScriptInfo(r));_.locs.push(__spreadValues(__spreadValues({},Ehe(i,o,u)),l))}return Re(t.values())}getReferences(e,t){const n=ime(e.file),r=this.getProjects(e),i=this.getPositionInFile(e,n),o=function(e,t,n,r,i){var o,a;const s=ghe(e,t,n,fhe(t,n,!1),yhe,(e,t)=>(i.info(`Finding references to ${t.fileName} position ${t.pos} in project ${e.getProjectName()}`),e.getLanguageService().findReferences(t.fileName,t.pos)),(e,t)=>{t(xhe(e.definition));for(const n of e.references)t(xhe(n))});if(et(s))return s;const c=s.get(t);if(void 0===(null==(a=null==(o=null==c?void 0:c[0])?void 0:o.references[0])?void 0:a.isDefinition))s.forEach(e=>{for(const t of e)for(const e of t.references)delete e.isDefinition});else{const e=phe(r);for(const n of c)for(const t of n.references)if(t.isDefinition){e.add(t);break}const t=new Set;for(;;){let n=!1;if(s.forEach((r,i)=>{t.has(i)||i.getLanguageService().updateIsDefinitionOfReferencedSymbols(r,e)&&(t.add(i),n=!0)}),!n)break}s.forEach((e,n)=>{if(!t.has(n))for(const t of e)for(const e of t.references)e.isDefinition=!1})}const l=[],_=phe(r);return s.forEach((e,t)=>{for(const n of e){const e=khe(xhe(n.definition),t),i=void 0===e?n.definition:__spreadProps(__spreadValues({},n.definition),{textSpan:Xs(e.pos,n.definition.textSpan.length),fileName:e.fileName,contextSpan:The(n.definition,t)});let o=k(l,e=>kZ(e.definition,i,r));o||(o={definition:i,references:[]},l.push(o));for(const r of n.references)_.has(r)||khe(xhe(r),t)||(_.add(r),o.references.push(r))}}),l.filter(e=>0!==e.references.length)}(r,this.getDefaultProject(e),{fileName:e.file,pos:i},this.host.useCaseSensitiveFileNames,this.logger);if(!t)return o;const a=this.getPreferences(n),s=this.getDefaultProject(e),c=s.getScriptInfoForNormalizedPath(n),l=s.getLanguageService().getQuickInfoAtPosition(n,i),_=l?r7(l.displayParts):"",u=l&&l.textSpan,d=u?c.positionToLineOffset(u.start).offset:0,p=u?c.getSnapshot().getText(u.start,Os(u)):"";return{refs:j(o,e=>e.references.map(e=>Ihe(this.projectService,e,a))),symbolName:p,symbolStartOffset:d,symbolDisplayString:_}}getFileReferences(e,t){const n=this.getProjects(e),r=ime(e.file),i=this.getPreferences(r),o={fileName:r,pos:0},a=ghe(n,this.getDefaultProject(e),o,o,hhe,e=>(this.logger.info(`Finding references to file ${r} in project ${e.getProjectName()}`),e.getLanguageService().getFileReferences(r)));let s;if(et(a))s=a;else{s=[];const e=phe(this.host.useCaseSensitiveFileNames);a.forEach(t=>{for(const n of t)e.has(n)||(s.push(n),e.add(n))})}return t?{refs:s.map(e=>Ihe(this.projectService,e,i)),symbolName:`"${e.file}"`}:s}openClientFile(e,t,n,r){this.projectService.openClientFileWithNormalizedPath(e,t,n,!1,r)}getPosition(e,t){return void 0!==e.position?e.position:t.lineOffsetToPosition(e.line,e.offset)}getPositionInFile(e,t){const n=this.projectService.getScriptInfoForNormalizedPath(t);return this.getPosition(e,n)}getFileAndProject(e){return this.getFileAndProjectWorker(e.file,e.projectFileName)}getFileAndLanguageServiceForSyntacticOperation(e){const{file:t,project:n}=this.getFileAndProject(e);return{file:t,languageService:n.getLanguageService(!1)}}getFileAndProjectWorker(e,t){const n=ime(e);return{file:n,project:this.getProject(t)||this.projectService.ensureDefaultProjectForFile(n)}}getOutliningSpans(e,t){const{file:n,languageService:r}=this.getFileAndLanguageServiceForSyntacticOperation(e),i=r.getOutliningSpans(n);if(t){const e=this.projectService.getScriptInfoForNormalizedPath(n);return i.map(t=>({textSpan:Fhe(t.textSpan,e),hintSpan:Fhe(t.hintSpan,e),bannerText:t.bannerText,autoCollapse:t.autoCollapse,kind:t.kind}))}return i}getTodoComments(e){const{file:t,project:n}=this.getFileAndProject(e);return n.getLanguageService().getTodoComments(t,e.descriptors)}getDocCommentTemplate(e){const{file:t,languageService:n}=this.getFileAndLanguageServiceForSyntacticOperation(e),r=this.getPositionInFile(e,t);return n.getDocCommentTemplateAtPosition(t,r,this.getPreferences(t),this.getFormatOptions(t))}getSpanOfEnclosingComment(e){const{file:t,languageService:n}=this.getFileAndLanguageServiceForSyntacticOperation(e),r=e.onlyMultiLine,i=this.getPositionInFile(e,t);return n.getSpanOfEnclosingComment(t,i,r)}getIndentation(e){const{file:t,languageService:n}=this.getFileAndLanguageServiceForSyntacticOperation(e),r=this.getPositionInFile(e,t),i=e.options?gge(e.options):this.getFormatOptions(t);return{position:r,indentation:n.getIndentationAtPosition(t,r,i)}}getBreakpointStatement(e){const{file:t,languageService:n}=this.getFileAndLanguageServiceForSyntacticOperation(e),r=this.getPositionInFile(e,t);return n.getBreakpointStatementAtPosition(t,r)}getNameOrDottedNameSpan(e){const{file:t,languageService:n}=this.getFileAndLanguageServiceForSyntacticOperation(e),r=this.getPositionInFile(e,t);return n.getNameOrDottedNameSpan(t,r,r)}isValidBraceCompletion(e){const{file:t,languageService:n}=this.getFileAndLanguageServiceForSyntacticOperation(e),r=this.getPositionInFile(e,t);return n.isValidBraceCompletionAtPosition(t,r,e.openingBrace.charCodeAt(0))}getQuickInfoWorker(e,t){const{file:n,project:r}=this.getFileAndProject(e),i=this.projectService.getScriptInfoForNormalizedPath(n),o=r.getLanguageService().getQuickInfoAtPosition(n,this.getPosition(e,i));if(!o)return;const a=!!this.getPreferences(n).displayPartsForJSDoc;if(t){const e=r7(o.displayParts);return{kind:o.kind,kindModifiers:o.kindModifiers,start:i.positionToLineOffset(o.textSpan.start),end:i.positionToLineOffset(Os(o.textSpan)),displayString:e,documentation:a?this.mapDisplayParts(o.documentation,r):r7(o.documentation),tags:this.mapJSDocTagInfo(o.tags,r,a)}}return a?o:__spreadProps(__spreadValues({},o),{tags:this.mapJSDocTagInfo(o.tags,r,!1)})}getFormattingEditsForRange(e){const{file:t,languageService:n}=this.getFileAndLanguageServiceForSyntacticOperation(e),r=this.projectService.getScriptInfoForNormalizedPath(t),i=r.lineOffsetToPosition(e.line,e.offset),o=r.lineOffsetToPosition(e.endLine,e.endOffset),a=n.getFormattingEditsForRange(t,i,o,this.getFormatOptions(t));if(a)return a.map(e=>this.convertTextChangeToCodeEdit(e,r))}getFormattingEditsForRangeFull(e){const{file:t,languageService:n}=this.getFileAndLanguageServiceForSyntacticOperation(e),r=e.options?gge(e.options):this.getFormatOptions(t);return n.getFormattingEditsForRange(t,e.position,e.endPosition,r)}getFormattingEditsForDocumentFull(e){const{file:t,languageService:n}=this.getFileAndLanguageServiceForSyntacticOperation(e),r=e.options?gge(e.options):this.getFormatOptions(t);return n.getFormattingEditsForDocument(t,r)}getFormattingEditsAfterKeystrokeFull(e){const{file:t,languageService:n}=this.getFileAndLanguageServiceForSyntacticOperation(e),r=e.options?gge(e.options):this.getFormatOptions(t);return n.getFormattingEditsAfterKeystroke(t,e.position,e.key,r)}getFormattingEditsAfterKeystroke(e){const{file:t,languageService:n}=this.getFileAndLanguageServiceForSyntacticOperation(e),r=this.projectService.getScriptInfoForNormalizedPath(t),i=r.lineOffsetToPosition(e.line,e.offset),o=this.getFormatOptions(t),a=n.getFormattingEditsAfterKeystroke(t,i,e.key,o);if("\n"===e.key&&(!a||0===a.length||function(e,t){return e.every(e=>Os(e.span)<t)}(a,i))){const{lineText:s,absolutePosition:c}=r.textStorage.getAbsolutePositionAndLineText(e.line);if(s&&s.search("\\S")<0){const e=n.getIndentationAtPosition(t,i,o);let r,l,_=0;for(r=0,l=s.length;r<l;r++)if(" "===s.charAt(r))_++;else{if("\t"!==s.charAt(r))break;_+=o.tabSize}if(e!==_){const t=c+r;a.push({span:Qs(c,t),newText:Ade.getIndentationString(e,o)})}}}if(a)return a.map(e=>({start:r.positionToLineOffset(e.span.start),end:r.positionToLineOffset(Os(e.span)),newText:e.newText?e.newText:""}))}getCompletions(e,t){const{file:n,project:r}=this.getFileAndProject(e),i=this.projectService.getScriptInfoForNormalizedPath(n),o=this.getPosition(e,i),a=r.getLanguageService().getCompletionsAtPosition(n,o,__spreadProps(__spreadValues({},kge(this.getPreferences(n))),{triggerCharacter:e.triggerCharacter,triggerKind:e.triggerKind,includeExternalModuleExports:e.includeExternalModuleExports,includeInsertTextCompletions:e.includeInsertTextCompletions}),r.projectService.getFormatCodeOptions(n));if(void 0===a)return;if("completions-full"===t)return a;const s=e.prefix||"",c=z(a.entries,e=>{if(a.isMemberCompletion||Zt(e.name.toLowerCase(),s.toLowerCase())){const t=e.replacementSpan?Fhe(e.replacementSpan,i):void 0;return __spreadProps(__spreadValues({},e),{replacementSpan:t,hasAction:e.hasAction||void 0,symbol:void 0})}});return"completions"===t?(a.metadata&&(c.metadata=a.metadata),c):__spreadProps(__spreadValues({},a),{optionalReplacementSpan:a.optionalReplacementSpan&&Fhe(a.optionalReplacementSpan,i),entries:c})}getCompletionEntryDetails(e,t){const{file:n,project:r}=this.getFileAndProject(e),i=this.projectService.getScriptInfoForNormalizedPath(n),o=this.getPosition(e,i),a=r.projectService.getFormatCodeOptions(n),s=!!this.getPreferences(n).displayPartsForJSDoc,c=z(e.entryNames,e=>{const{name:t,source:i,data:s}="string"==typeof e?{name:e,source:void 0,data:void 0}:e;return r.getLanguageService().getCompletionEntryDetails(n,o,t,a,i,this.getPreferences(n),s?ot(s,Ohe):void 0)});return t?s?c:c.map(e=>__spreadProps(__spreadValues({},e),{tags:this.mapJSDocTagInfo(e.tags,r,!1)})):c.map(e=>__spreadProps(__spreadValues({},e),{codeActions:A(e.codeActions,e=>this.mapCodeAction(e)),documentation:this.mapDisplayParts(e.documentation,r),tags:this.mapJSDocTagInfo(e.tags,r,s)}))}getCompileOnSaveAffectedFileList(e){const t=this.getProjects(e,!0,!0),n=this.projectService.getScriptInfo(e.file);return n?function(e,t,n,r){const i=R(et(n)?n:n.projects,t=>r(t,e));return!et(n)&&n.symLinkedProjects&&n.symLinkedProjects.forEach((e,n)=>{const o=t(n);i.push(...j(e,e=>r(e,o)))}),ee(i,yt)}(n,e=>this.projectService.getScriptInfoForPath(e),t,(e,t)=>{if(!e.compileOnSaveEnabled||!e.languageServiceEnabled||e.isOrphan())return;const n=e.getCompilationSettings();return n.noEmit||lO(t.fileName)&&!function(e){return Ik(e)||!!e.emitDecoratorMetadata}(n)?void 0:{projectFileName:e.getProjectName(),fileNames:e.getCompileOnSaveAffectedFileList(t),projectUsesOutFile:!!n.outFile}}):tme}emitFile(e){const{file:t,project:n}=this.getFileAndProject(e);if(n||Zfe.ThrowNoProject(),!n.languageServiceEnabled)return!!e.richResponse&&{emitSkipped:!0,diagnostics:[]};const r=n.getScriptInfo(t),{emitSkipped:i,diagnostics:o}=n.emitFile(r,(e,t,n)=>this.host.writeFile(e,t,n));return e.richResponse?{emitSkipped:i,diagnostics:e.includeLinePosition?this.convertToDiagnosticsWithLinePositionFromDiagnosticFile(o):o.map(e=>che(e,!0))}:!i}getSignatureHelpItems(e,t){const{file:n,project:r}=this.getFileAndProject(e),i=this.projectService.getScriptInfoForNormalizedPath(n),o=this.getPosition(e,i),a=r.getLanguageService().getSignatureHelpItems(n,o,e),s=!!this.getPreferences(n).displayPartsForJSDoc;if(a&&t){const e=a.applicableSpan;return __spreadProps(__spreadValues({},a),{applicableSpan:{start:i.positionToLineOffset(e.start),end:i.positionToLineOffset(e.start+e.length)},items:this.mapSignatureHelpItems(a.items,r,s)})}return s||!a?a:__spreadProps(__spreadValues({},a),{items:a.items.map(e=>__spreadProps(__spreadValues({},e),{tags:this.mapJSDocTagInfo(e.tags,r,!1)}))})}toPendingErrorCheck(e){const t=ime(e),n=this.projectService.tryGetDefaultProjectForFile(t);return n&&{fileName:t,project:n}}getDiagnostics(e,t,n){this.suppressDiagnosticEvents||n.length>0&&this.updateErrorCheck(e,n,t)}change(e){const t=this.projectService.getScriptInfo(e.file);fn.assert(!!t),t.textStorage.switchToScriptVersionCache();const n=t.lineOffsetToPosition(e.line,e.offset),r=t.lineOffsetToPosition(e.endLine,e.endOffset);n>=0&&(this.changeSeq++,this.projectService.applyChangesToFile(t,W({span:{start:n,length:r-n},newText:e.insertString})))}reload(e){const t=ime(e.file),n=void 0===e.tmpfile?void 0:ime(e.tmpfile),r=this.projectService.getScriptInfoForNormalizedPath(t);r&&(this.changeSeq++,r.reloadFromFile(n))}saveToTmp(e,t){const n=this.projectService.getScriptInfo(e);n&&n.saveTo(t)}closeClientFile(e){if(!e)return;const t=Wo(e);this.projectService.closeClientFile(t)}mapLocationNavigationBarItems(e,t){return A(e,e=>({text:e.text,kind:e.kind,kindModifiers:e.kindModifiers,spans:e.spans.map(e=>Fhe(e,t)),childItems:this.mapLocationNavigationBarItems(e.childItems,t),indent:e.indent}))}getNavigationBarItems(e,t){const{file:n,languageService:r}=this.getFileAndLanguageServiceForSyntacticOperation(e),i=r.getNavigationBarItems(n);return i?t?this.mapLocationNavigationBarItems(i,this.projectService.getScriptInfoForNormalizedPath(n)):i:void 0}toLocationNavigationTree(e,t){return{text:e.text,kind:e.kind,kindModifiers:e.kindModifiers,spans:e.spans.map(e=>Fhe(e,t)),nameSpan:e.nameSpan&&Fhe(e.nameSpan,t),childItems:A(e.childItems,e=>this.toLocationNavigationTree(e,t))}}getNavigationTree(e,t){const{file:n,languageService:r}=this.getFileAndLanguageServiceForSyntacticOperation(e),i=r.getNavigationTree(n);return i?t?this.toLocationNavigationTree(i,this.projectService.getScriptInfoForNormalizedPath(n)):i:void 0}getNavigateToItems(e,t){const n=this.getFullNavigateToItems(e);return j(n,t?({project:e,navigateToItems:t})=>t.map(t=>{const n=e.getScriptInfo(t.fileName),r={name:t.name,kind:t.kind,kindModifiers:t.kindModifiers,isCaseSensitive:t.isCaseSensitive,matchKind:t.matchKind,file:t.fileName,start:n.positionToLineOffset(t.textSpan.start),end:n.positionToLineOffset(Os(t.textSpan))};return t.kindModifiers&&""!==t.kindModifiers&&(r.kindModifiers=t.kindModifiers),t.containerName&&t.containerName.length>0&&(r.containerName=t.containerName),t.containerKind&&t.containerKind.length>0&&(r.containerKind=t.containerKind),r}):({navigateToItems:e})=>e)}getFullNavigateToItems(e){const{currentFileOnly:t,searchValue:n,maxResultCount:r,projectFileName:i}=e;if(t){fn.assertIsDefined(e.file);const{file:t,project:i}=this.getFileAndProject(e);return[{project:i,navigateToItems:i.getLanguageService().getNavigateToItems(n,r,t)}]}const o=this.getHostPreferences(),a=[],s=new Map;return e.file||i?mhe(this.getProjects(e),void 0,e=>c(e)):(this.projectService.loadAncestorProjectTree(),this.projectService.forEachEnabledProject(e=>c(e))),a;function c(e){const t=F(e.getLanguageService().getNavigateToItems(n,r,void 0,e.isNonTsProject(),o.excludeLibrarySymbolsInNavTo),t=>function(e){const t=e.name;if(!s.has(t))return s.set(t,[e]),!0;const n=s.get(t);for(const r of n)if(l(r,e))return!1;return n.push(e),!0}(t)&&!khe(xhe(t),e));t.length&&a.push({project:e,navigateToItems:t})}function l(e,t){return e===t||!(!e||!t)&&e.containerKind===t.containerKind&&e.containerName===t.containerName&&e.fileName===t.fileName&&e.isCaseSensitive===t.isCaseSensitive&&e.kind===t.kind&&e.kindModifiers===t.kindModifiers&&e.matchKind===t.matchKind&&e.name===t.name&&e.textSpan.start===t.textSpan.start&&e.textSpan.length===t.textSpan.length}}getSupportedCodeFixes(e){if(!e)return o7();if(e.file){const{file:t,project:n}=this.getFileAndProject(e);return n.getLanguageService().getSupportedCodeFixes(t)}const t=this.getProject(e.projectFileName);return t||Zfe.ThrowNoProject(),t.getLanguageService().getSupportedCodeFixes()}isLocation(e){return void 0!==e.line}extractPositionOrRange(e,t){let n,r;var i;return this.isLocation(e)?n=void 0!==(i=e).position?i.position:t.lineOffsetToPosition(i.line,i.offset):r=this.getRange(e,t),fn.checkDefined(void 0===n?r:n)}getRange(e,t){const{startPosition:n,endPosition:r}=this.getStartAndEndPosition(e,t);return{pos:n,end:r}}getApplicableRefactors(e){const{file:t,project:n}=this.getFileAndProject(e),r=n.getScriptInfoForNormalizedPath(t);return n.getLanguageService().getApplicableRefactors(t,this.extractPositionOrRange(e,r),this.getPreferences(t),e.triggerReason,e.kind,e.includeInteractiveActions).map(e=>__spreadProps(__spreadValues({},e),{actions:e.actions.map(e=>__spreadProps(__spreadValues({},e),{range:e.range?{start:she({line:e.range.start.line,character:e.range.start.offset}),end:she({line:e.range.end.line,character:e.range.end.offset})}:void 0}))}))}getEditsForRefactor(e,t){const{file:n,project:r}=this.getFileAndProject(e),i=r.getScriptInfoForNormalizedPath(n),o=r.getLanguageService().getEditsForRefactor(n,this.getFormatOptions(n),this.extractPositionOrRange(e,i),e.refactor,e.action,this.getPreferences(n),e.interactiveRefactorArguments);if(void 0===o)return{edits:[]};if(t){const{renameFilename:e,renameLocation:t,edits:n}=o;let i;return void 0!==e&&void 0!==t&&(i=Ahe(GQ(r.getScriptInfoForNormalizedPath(ime(e)).getSnapshot()),e,t,n)),{renameLocation:i,renameFilename:e,edits:this.mapTextChangesToCodeEdits(n),notApplicableReason:o.notApplicableReason}}return o}getMoveToRefactoringFileSuggestions(e){const{file:t,project:n}=this.getFileAndProject(e),r=n.getScriptInfoForNormalizedPath(t);return n.getLanguageService().getMoveToRefactoringFileSuggestions(t,this.extractPositionOrRange(e,r),this.getPreferences(t))}preparePasteEdits(e){const{file:t,project:n}=this.getFileAndProject(e);return n.getLanguageService().preparePasteEditsForFile(t,e.copiedTextSpan.map(e=>this.getRange({file:t,startLine:e.start.line,startOffset:e.start.offset,endLine:e.end.line,endOffset:e.end.offset},this.projectService.getScriptInfoForNormalizedPath(t))))}getPasteEdits(e){const{file:t,project:n}=this.getFileAndProject(e);if(Nme(t))return;const r=e.copiedFrom?{file:e.copiedFrom.file,range:e.copiedFrom.spans.map(t=>this.getRange({file:e.copiedFrom.file,startLine:t.start.line,startOffset:t.start.offset,endLine:t.end.line,endOffset:t.end.offset},n.getScriptInfoForNormalizedPath(ime(e.copiedFrom.file))))}:void 0,i=n.getLanguageService().getPasteEdits({targetFile:t,pastedText:e.pastedText,pasteLocations:e.pasteLocations.map(e=>this.getRange({file:t,startLine:e.start.line,startOffset:e.start.offset,endLine:e.end.line,endOffset:e.end.offset},n.getScriptInfoForNormalizedPath(t))),copiedFrom:r,preferences:this.getPreferences(t)},this.getFormatOptions(t));return i&&this.mapPasteEditsAction(i)}organizeImports(e,t){var n;fn.assert("file"===e.scope.type);const{file:r,project:i}=this.getFileAndProject(e.scope.args),o=i.getLanguageService().organizeImports({fileName:r,mode:null!=(n=e.mode)?n:e.skipDestructiveCodeActions?"SortAndCombine":void 0,type:"file"},this.getFormatOptions(r),this.getPreferences(r));return t?this.mapTextChangesToCodeEdits(o):o}getEditsForFileRename(e,t){const n=ime(e.oldFilePath),r=ime(e.newFilePath),i=this.getHostFormatOptions(),o=this.getHostPreferences(),a=new Set,s=[];return this.projectService.loadAncestorProjectTree(),this.projectService.forEachEnabledProject(e=>{const t=e.getLanguageService().getEditsForFileRename(n,r,i,o),c=[];for(const n of t)a.has(n.fileName)||(s.push(n),c.push(n.fileName));for(const n of c)a.add(n)}),t?s.map(e=>this.mapTextChangeToCodeEdit(e)):s}getCodeFixes(e,t){const{file:n,project:r}=this.getFileAndProject(e),i=r.getScriptInfoForNormalizedPath(n),{startPosition:o,endPosition:a}=this.getStartAndEndPosition(e,i);let s;try{s=r.getLanguageService().getCodeFixesAtPosition(n,o,a,e.errorCodes,this.getFormatOptions(n),this.getPreferences(n))}catch(c){const t=c instanceof Error?c:new Error(c),i=r.getLanguageService(),s=[...i.getSyntacticDiagnostics(n),...i.getSemanticDiagnostics(n),...i.getSuggestionDiagnostics(n)].filter(e=>Ws(o,a-o,e.start,e.length)).map(e=>e.code),l=e.errorCodes.find(e=>!s.includes(e));throw void 0!==l&&(t.message+=`\nAdditional information: BADCLIENT: Bad error code, ${l} not found in range ${o}..${a} (found: ${s.join(", ")})`),t}return t?s.map(e=>this.mapCodeFixAction(e)):s}getCombinedCodeFix({scope:e,fixId:t},n){fn.assert("file"===e.type);const{file:r,project:i}=this.getFileAndProject(e.args),o=i.getLanguageService().getCombinedCodeFix({type:"file",fileName:r},t,this.getFormatOptions(r),this.getPreferences(r));return n?{changes:this.mapTextChangesToCodeEdits(o.changes),commands:o.commands}:o}applyCodeActionCommand(e){const t=e.command;for(const n of tt(t)){const{file:e,project:t}=this.getFileAndProject(n);t.getLanguageService().applyCodeActionCommand(n,this.getFormatOptions(e)).then(e=>{},e=>{})}return{}}getStartAndEndPosition(e,t){let n,r;return void 0!==e.startPosition?n=e.startPosition:(n=t.lineOffsetToPosition(e.startLine,e.startOffset),e.startPosition=n),void 0!==e.endPosition?r=e.endPosition:(r=t.lineOffsetToPosition(e.endLine,e.endOffset),e.endPosition=r),{startPosition:n,endPosition:r}}mapCodeAction({description:e,changes:t,commands:n}){return{description:e,changes:this.mapTextChangesToCodeEdits(t),commands:n}}mapCodeFixAction({fixName:e,description:t,changes:n,commands:r,fixId:i,fixAllDescription:o}){return{fixName:e,description:t,changes:this.mapTextChangesToCodeEdits(n),commands:r,fixId:i,fixAllDescription:o}}mapPasteEditsAction({edits:e,fixId:t}){return{edits:this.mapTextChangesToCodeEdits(e),fixId:t}}mapTextChangesToCodeEdits(e){return e.map(e=>this.mapTextChangeToCodeEdit(e))}mapTextChangeToCodeEdit(e){const t=this.projectService.getScriptInfoOrConfig(e.fileName);return!!e.isNewFile==!!t&&(t||this.projectService.logErrorForScriptInfoNotFound(e.fileName),fn.fail("Expected isNewFile for (only) new files. "+JSON.stringify({isNewFile:!!e.isNewFile,hasScriptInfo:!!t}))),t?{fileName:e.fileName,textChanges:e.textChanges.map(e=>function(e,t){return{start:Phe(t,e.span.start),end:Phe(t,Os(e.span)),newText:e.newText}}(e,t))}:function(e){fn.assert(1===e.textChanges.length);const t=ve(e.textChanges);return fn.assert(0===t.span.start&&0===t.span.length),{fileName:e.fileName,textChanges:[{start:{line:0,offset:0},end:{line:0,offset:0},newText:t.newText}]}}(e)}convertTextChangeToCodeEdit(e,t){return{start:t.positionToLineOffset(e.span.start),end:t.positionToLineOffset(e.span.start+e.span.length),newText:e.newText?e.newText:""}}getBraceMatching(e,t){const{file:n,languageService:r}=this.getFileAndLanguageServiceForSyntacticOperation(e),i=this.projectService.getScriptInfoForNormalizedPath(n),o=this.getPosition(e,i),a=r.getBraceMatchingAtPosition(n,o);return a?t?a.map(e=>Fhe(e,i)):a:void 0}getDiagnosticsForProject(e,t,n){if(this.suppressDiagnosticEvents)return;const{fileNames:r,languageServiceDisabled:i}=this.getProjectInfoWorker(n,void 0,!0,void 0,!0);if(i)return;const o=r.filter(e=>!e.includes("lib.d.ts"));if(0===o.length)return;const a=[],s=[],c=[],l=[],_=ime(n),u=this.projectService.ensureDefaultProjectForFile(_);for(const p of o)this.getCanonicalFileName(p)===this.getCanonicalFileName(n)?a.push(p):this.projectService.getScriptInfo(p).isScriptOpen()?s.push(p):lO(p)?l.push(p):c.push(p);const d=[...a,...s,...c,...l].map(e=>({fileName:e,project:u}));this.updateErrorCheck(e,d,t,!1)}configurePlugin(e){this.projectService.configurePlugin(e)}getSmartSelectionRange(e,t){const{locations:n}=e,{file:r,languageService:i}=this.getFileAndLanguageServiceForSyntacticOperation(e),o=fn.checkDefined(this.projectService.getScriptInfo(r));return A(n,e=>{const n=this.getPosition(e,o),a=i.getSmartSelectionRange(r,n);return t?this.mapSelectionRange(a,o):a})}toggleLineComment(e,t){const{file:n,languageService:r}=this.getFileAndLanguageServiceForSyntacticOperation(e),i=this.projectService.getScriptInfo(n),o=this.getRange(e,i),a=r.toggleLineComment(n,o);if(t){const e=this.projectService.getScriptInfoForNormalizedPath(n);return a.map(t=>this.convertTextChangeToCodeEdit(t,e))}return a}toggleMultilineComment(e,t){const{file:n,languageService:r}=this.getFileAndLanguageServiceForSyntacticOperation(e),i=this.projectService.getScriptInfoForNormalizedPath(n),o=this.getRange(e,i),a=r.toggleMultilineComment(n,o);if(t){const e=this.projectService.getScriptInfoForNormalizedPath(n);return a.map(t=>this.convertTextChangeToCodeEdit(t,e))}return a}commentSelection(e,t){const{file:n,languageService:r}=this.getFileAndLanguageServiceForSyntacticOperation(e),i=this.projectService.getScriptInfoForNormalizedPath(n),o=this.getRange(e,i),a=r.commentSelection(n,o);if(t){const e=this.projectService.getScriptInfoForNormalizedPath(n);return a.map(t=>this.convertTextChangeToCodeEdit(t,e))}return a}uncommentSelection(e,t){const{file:n,languageService:r}=this.getFileAndLanguageServiceForSyntacticOperation(e),i=this.projectService.getScriptInfoForNormalizedPath(n),o=this.getRange(e,i),a=r.uncommentSelection(n,o);if(t){const e=this.projectService.getScriptInfoForNormalizedPath(n);return a.map(t=>this.convertTextChangeToCodeEdit(t,e))}return a}mapSelectionRange(e,t){const n={textSpan:Fhe(e.textSpan,t)};return e.parent&&(n.parent=this.mapSelectionRange(e.parent,t)),n}getScriptInfoFromProjectService(e){const t=ime(e),n=this.projectService.getScriptInfoForNormalizedPath(t);return n||(this.projectService.logErrorForScriptInfoNotFound(t),Zfe.ThrowNoProject())}toProtocolCallHierarchyItem(e){const t=this.getScriptInfoFromProjectService(e.file);return{name:e.name,kind:e.kind,kindModifiers:e.kindModifiers,file:e.file,containerName:e.containerName,span:Fhe(e.span,t),selectionSpan:Fhe(e.selectionSpan,t)}}toProtocolCallHierarchyIncomingCall(e){const t=this.getScriptInfoFromProjectService(e.from.file);return{from:this.toProtocolCallHierarchyItem(e.from),fromSpans:e.fromSpans.map(e=>Fhe(e,t))}}toProtocolCallHierarchyOutgoingCall(e,t){return{to:this.toProtocolCallHierarchyItem(e.to),fromSpans:e.fromSpans.map(e=>Fhe(e,t))}}prepareCallHierarchy(e){const{file:t,project:n}=this.getFileAndProject(e),r=this.projectService.getScriptInfoForNormalizedPath(t);if(r){const i=this.getPosition(e,r),o=n.getLanguageService().prepareCallHierarchy(t,i);return o&&n0(o,e=>this.toProtocolCallHierarchyItem(e))}}provideCallHierarchyIncomingCalls(e){const{file:t,project:n}=this.getFileAndProject(e),r=this.getScriptInfoFromProjectService(t);return n.getLanguageService().provideCallHierarchyIncomingCalls(t,this.getPosition(e,r)).map(e=>this.toProtocolCallHierarchyIncomingCall(e))}provideCallHierarchyOutgoingCalls(e){const{file:t,project:n}=this.getFileAndProject(e),r=this.getScriptInfoFromProjectService(t);return n.getLanguageService().provideCallHierarchyOutgoingCalls(t,this.getPosition(e,r)).map(e=>this.toProtocolCallHierarchyOutgoingCall(e,r))}getCanonicalFileName(e){return Wo(this.host.useCaseSensitiveFileNames?e:pt(e))}exit(){}notRequired(e){return e&&this.doOutput(void 0,e.command,e.seq,!0,this.performanceData),{responseRequired:!1,performanceData:this.performanceData}}requiredResponse(e){return{response:e,responseRequired:!0,performanceData:this.performanceData}}addProtocolHandler(e,t){if(this.handlers.has(e))throw new Error(`Protocol handler already exists for command "${e}"`);this.handlers.set(e,t)}setCurrentRequest(e){fn.assert(void 0===this.currentRequestId),this.currentRequestId=e,this.cancellationToken.setRequest(e)}resetCurrentRequest(e){fn.assert(this.currentRequestId===e),this.currentRequestId=void 0,this.cancellationToken.resetRequest(e)}executeWithRequestId(e,t,n){const r=this.performanceData;try{return this.performanceData=n,this.setCurrentRequest(e),t()}finally{this.resetCurrentRequest(e),this.performanceData=r}}executeCommand(e){const t=this.handlers.get(e.command);if(t){const n=this.executeWithRequestId(e.seq,()=>t(e),void 0);return this.projectService.enableRequestedPlugins(),n}return this.logger.msg(`Unrecognized JSON command:${pG(e)}`,"Err"),this.doOutput(void 0,"unknown",e.seq,!1,void 0,`Unrecognized JSON command: ${e.command}`),{responseRequired:!1}}onMessage(e){var t,n,r,i,o,a,s;let c;this.gcTimer.scheduleCollect();const l=this.performanceData;let _,u;this.logger.hasLevel(2)&&(c=this.hrtime(),this.logger.hasLevel(3)&&this.logger.info(`request:${dG(this.toStringMessage(e))}`));try{_=this.parseMessage(e),u=_.arguments&&_.arguments.file?_.arguments:void 0,null==(t=Xn)||t.instant(Xn.Phase.Session,"request",{seq:_.seq,command:_.command}),null==(n=Xn)||n.push(Xn.Phase.Session,"executeCommand",{seq:_.seq,command:_.command},!0);const{response:o,responseRequired:a,performanceData:s}=this.executeCommand(_);if(null==(r=Xn)||r.pop(),this.logger.hasLevel(2)){const e=(d=this.hrtime(c),(1e9*d[0]+d[1])/1e6).toFixed(4);a?this.logger.perftrc(`${_.seq}::${_.command}: elapsed time (in milliseconds) ${e}`):this.logger.perftrc(`${_.seq}::${_.command}: async elapsed time (in milliseconds) ${e}`)}null==(i=Xn)||i.instant(Xn.Phase.Session,"response",{seq:_.seq,command:_.command,success:!!o}),o?this.doOutput(o,_.command,_.seq,!0,s):a&&this.doOutput(void 0,_.command,_.seq,!1,s,"No content available.")}catch(p){if(null==(o=Xn)||o.popAll(),p instanceof Nr)return null==(a=Xn)||a.instant(Xn.Phase.Session,"commandCanceled",{seq:null==_?void 0:_.seq,command:null==_?void 0:_.command}),void this.doOutput({canceled:!0},_.command,_.seq,!0,this.performanceData);this.logErrorWorker(p,this.toStringMessage(e),u),null==(s=Xn)||s.instant(Xn.Phase.Session,"commandError",{seq:null==_?void 0:_.seq,command:null==_?void 0:_.command,message:p.message}),this.doOutput(void 0,_?_.command:"unknown",_?_.seq:0,!1,this.performanceData,"Error processing request. "+p.message+"\n"+p.stack)}finally{this.performanceData=l}var d}parseMessage(e){return JSON.parse(e)}toStringMessage(e){return e}getFormatOptions(e){return this.projectService.getFormatCodeOptions(e)}getPreferences(e){return this.projectService.getPreferences(e)}getHostFormatOptions(){return this.projectService.getHostFormatCodeOptions()}getHostPreferences(){return this.projectService.getHostPreferences()}};function Nhe(e){const t=e.diagnosticsDuration&&Re(e.diagnosticsDuration,([e,t])=>__spreadProps(__spreadValues({},t),{file:e}));return __spreadProps(__spreadValues({},e),{diagnosticsDuration:t})}function Fhe(e,t){return{start:t.positionToLineOffset(e.start),end:t.positionToLineOffset(Os(e))}}function Ehe(e,t,n){const r=Fhe(e,n),i=t&&Fhe(t,n);return i?__spreadProps(__spreadValues({},r),{contextStart:i.start,contextEnd:i.end}):r}function Phe(e,t){return Yge(e)?{line:(n=e.getLineAndCharacterOfPosition(t)).line+1,offset:n.character+1}:e.positionToLineOffset(t);var n}function Ahe(e,t,n,r){const i=function(e,t,n){for(const{fileName:r,textChanges:i}of n)if(r===t)for(let t=i.length-1;t>=0;t--){const{newText:n,span:{start:r,length:o}}=i[t];e=e.slice(0,r)+n+e.slice(r+o)}return e}(e,t,r),{line:o,character:a}=Va(Ba(i),n);return{line:o+1,offset:a+1}}function Ihe(e,{fileName:t,textSpan:n,contextSpan:r,isWriteAccess:i,isDefinition:o},{disableLineTextInReferences:a}){const s=fn.checkDefined(e.getScriptInfo(t)),c=Ehe(n,r,s),l=a?void 0:function(e,t){const n=e.lineToTextSpan(t.start.line-1);return e.getSnapshot().getText(n.start,Os(n)).replace(/\r|\n/g,"")}(s,c);return __spreadProps(__spreadValues({file:t},c),{lineText:l,isWriteAccess:i,isDefinition:o})}function Ohe(e){return void 0===e||e&&"object"==typeof e&&"string"==typeof e.exportName&&(void 0===e.fileName||"string"==typeof e.fileName)&&(void 0===e.ambientModuleName||"string"==typeof e.ambientModuleName&&(void 0===e.isPackageJsonImport||"boolean"==typeof e.isPackageJsonImport))}var Lhe=(e=>(e[e.PreStart=0]="PreStart",e[e.Start=1]="Start",e[e.Entire=2]="Entire",e[e.Mid=3]="Mid",e[e.End=4]="End",e[e.PostEnd=5]="PostEnd",e))(Lhe||{}),jhe=class{constructor(){this.goSubtree=!0,this.lineIndex=new zhe,this.endBranch=[],this.state=2,this.initialText="",this.trailingText="",this.lineIndex.root=new qhe,this.startPath=[this.lineIndex.root],this.stack=[this.lineIndex.root]}get done(){return!1}insertLines(e,t){t&&(this.trailingText=""),e=e?this.initialText+e+this.trailingText:this.initialText+this.trailingText;const n=zhe.linesFromText(e).lines;let r,i;n.length>1&&""===n[n.length-1]&&n.pop();for(let a=this.endBranch.length-1;a>=0;a--)this.endBranch[a].updateCounts(),0===this.endBranch[a].charCount()&&(i=this.endBranch[a],r=a>0?this.endBranch[a-1]:this.branchNode);i&&r.remove(i);const o=this.startPath[this.startPath.length-1];if(n.length>0)if(o.text=n[0],n.length>1){let e=new Array(n.length-1),t=o;for(let o=1;o<n.length;o++)e[o-1]=new Vhe(n[o]);let r=this.startPath.length-2;for(;r>=0;){const n=this.startPath[r];e=n.insertAt(t,e),r--,t=n}let i=e.length;for(;i>0;){const t=new qhe;t.add(this.lineIndex.root),e=t.insertAt(this.lineIndex.root,e),i=e.length,this.lineIndex.root=t}this.lineIndex.root.updateCounts()}else for(let a=this.startPath.length-2;a>=0;a--)this.startPath[a].updateCounts();else{this.startPath[this.startPath.length-2].remove(o);for(let e=this.startPath.length-2;e>=0;e--)this.startPath[e].updateCounts()}return this.lineIndex}post(e,t,n){n===this.lineCollectionAtBranch&&(this.state=4),this.stack.pop()}pre(e,t,n,r,i){const o=this.stack[this.stack.length-1];let a;function s(e){return e.isLeaf()?new Vhe(""):new qhe}switch(2===this.state&&1===i&&(this.state=1,this.branchNode=o,this.lineCollectionAtBranch=n),i){case 0:this.goSubtree=!1,4!==this.state&&o.add(n);break;case 1:4===this.state?this.goSubtree=!1:(a=s(n),o.add(a),this.startPath.push(a));break;case 2:4!==this.state?(a=s(n),o.add(a),this.startPath.push(a)):n.isLeaf()||(a=s(n),o.add(a),this.endBranch.push(a));break;case 3:this.goSubtree=!1;break;case 4:4!==this.state?this.goSubtree=!1:n.isLeaf()||(a=s(n),o.add(a),this.endBranch.push(a));break;case 5:this.goSubtree=!1,1!==this.state&&o.add(n)}this.goSubtree&&this.stack.push(a)}leaf(e,t,n){1===this.state?this.initialText=n.text.substring(0,e):2===this.state?(this.initialText=n.text.substring(0,e),this.trailingText=n.text.substring(e+t)):this.trailingText=n.text.substring(e+t)}},Rhe=class{constructor(e,t,n){this.pos=e,this.deleteLen=t,this.insertedText=n}getTextChangeRange(){return ec(Xs(this.pos,this.deleteLen),this.insertedText?this.insertedText.length:0)}},Mhe=class e{constructor(){this.changes=[],this.versions=new Array(e.maxVersions),this.minVersion=0,this.currentVersion=0}versionToIndex(t){if(!(t<this.minVersion||t>this.currentVersion))return t%e.maxVersions}currentVersionToIndex(){return this.currentVersion%e.maxVersions}edit(t,n,r){this.changes.push(new Rhe(t,n,r)),(this.changes.length>e.changeNumberThreshold||n>e.changeLengthThreshold||r&&r.length>e.changeLengthThreshold)&&this.getSnapshot()}getSnapshot(){return this._getSnapshot()}_getSnapshot(){let t=this.versions[this.currentVersionToIndex()];if(this.changes.length>0){let n=t.index;for(const e of this.changes)n=n.edit(e.pos,e.deleteLen,e.insertedText);t=new Jhe(this.currentVersion+1,this,n,this.changes),this.currentVersion=t.version,this.versions[this.currentVersionToIndex()]=t,this.changes=[],this.currentVersion-this.minVersion>=e.maxVersions&&(this.minVersion=this.currentVersion-e.maxVersions+1)}return t}getSnapshotVersion(){return this._getSnapshot().version}getAbsolutePositionAndLineText(e){return this._getSnapshot().index.lineNumberToInfo(e)}lineOffsetToPosition(e,t){return this._getSnapshot().index.absolutePositionOfStartOfLine(e)+(t-1)}positionToLineOffset(e){return this._getSnapshot().index.positionToLineOffset(e)}lineToTextSpan(e){const t=this._getSnapshot().index,{lineText:n,absolutePosition:r}=t.lineNumberToInfo(e+1);return Xs(r,void 0!==n?n.length:t.absolutePositionOfStartOfLine(e+2)-r)}getTextChangesBetweenVersions(e,t){if(!(e<t))return tc;if(e>=this.minVersion){const n=[];for(let r=e+1;r<=t;r++){const e=this.versions[this.versionToIndex(r)];for(const t of e.changesSincePreviousVersion)n.push(t.getTextChangeRange())}return nc(n)}}getLineCount(){return this._getSnapshot().index.getLineCount()}static fromString(t){const n=new e,r=new Jhe(0,n,new zhe);n.versions[n.currentVersion]=r;const i=zhe.linesFromText(t);return r.index.load(i.lines),n}};Mhe.changeNumberThreshold=8,Mhe.changeLengthThreshold=256,Mhe.maxVersions=8;var Bhe=Mhe,Jhe=class e{constructor(e,t,n,r=tme){this.version=e,this.cache=t,this.index=n,this.changesSincePreviousVersion=r}getText(e,t){return this.index.getText(e,t-e)}getLength(){return this.index.getLength()}getChangeRange(t){if(t instanceof e&&this.cache===t.cache)return this.version<=t.version?tc:this.cache.getTextChangesBetweenVersions(t.version,this.version)}},zhe=class e{constructor(){this.checkEdits=!1}absolutePositionOfStartOfLine(e){return this.lineNumberToInfo(e).absolutePosition}positionToLineOffset(e){const{oneBasedLine:t,zeroBasedColumn:n}=this.root.charOffsetToLineInfo(1,e);return{line:t,offset:n+1}}positionToColumnAndLineText(e){return this.root.charOffsetToLineInfo(1,e)}getLineCount(){return this.root.lineCount()}lineNumberToInfo(e){if(e<=this.getLineCount()){const{position:t,leaf:n}=this.root.lineNumberToInfo(e,0);return{absolutePosition:t,lineText:n&&n.text}}return{absolutePosition:this.root.charCount(),lineText:void 0}}load(t){if(t.length>0){const n=[];for(let e=0;e<t.length;e++)n[e]=new Vhe(t[e]);this.root=e.buildTreeFromBottom(n)}else this.root=new qhe}walk(e,t,n){this.root.walk(e,t,n)}getText(e,t){let n="";return t>0&&e<this.root.charCount()&&this.walk(e,t,{goSubtree:!0,done:!1,leaf:(e,t,r)=>{n=n.concat(r.text.substring(e,e+t))}}),n}getLength(){return this.root.charCount()}every(e,t,n){n||(n=this.root.charCount());const r={goSubtree:!0,done:!1,leaf(t,n,r){e(r,t,n)||(this.done=!0)}};return this.walk(t,n-t,r),!r.done}edit(t,n,r){if(0===this.root.charCount())return fn.assert(0===n),void 0!==r?(this.load(e.linesFromText(r).lines),this):void 0;{let e;if(this.checkEdits){const i=this.getText(0,this.root.charCount());e=i.slice(0,t)+r+i.slice(t+n)}const i=new jhe;let o=!1;if(t>=this.root.charCount()){t=this.root.charCount()-1;const e=this.getText(t,1);r=r?e+r:e,n=0,o=!0}else if(n>0){const e=t+n,{zeroBasedColumn:i,lineText:o}=this.positionToColumnAndLineText(e);0===i&&(n+=o.length,r=r?r+o:o)}if(this.root.walk(t,n,i),i.insertLines(r,o),this.checkEdits){const t=i.lineIndex.getText(0,i.lineIndex.getLength());fn.assert(e===t,"buffer edit mismatch")}return i.lineIndex}}static buildTreeFromBottom(e){if(e.length<4)return new qhe(e);const t=new Array(Math.ceil(e.length/4));let n=0;for(let r=0;r<t.length;r++){const i=Math.min(n+4,e.length);t[r]=new qhe(e.slice(n,i)),n=i}return this.buildTreeFromBottom(t)}static linesFromText(e){const t=Ba(e);if(0===t.length)return{lines:[],lineMap:t};const n=new Array(t.length),r=t.length-1;for(let o=0;o<r;o++)n[o]=e.substring(t[o],t[o+1]);const i=e.substring(t[r]);return i.length>0?n[r]=i:n.pop(),{lines:n,lineMap:t}}},qhe=class e{constructor(e=[]){this.children=e,this.totalChars=0,this.totalLines=0,e.length&&this.updateCounts()}isLeaf(){return!1}updateCounts(){this.totalChars=0,this.totalLines=0;for(const e of this.children)this.totalChars+=e.charCount(),this.totalLines+=e.lineCount()}execWalk(e,t,n,r,i){return n.pre&&n.pre(e,t,this.children[r],this,i),n.goSubtree?(this.children[r].walk(e,t,n),n.post&&n.post(e,t,this.children[r],this,i)):n.goSubtree=!0,n.done}skipChild(e,t,n,r,i){r.pre&&!r.done&&(r.pre(e,t,this.children[n],this,i),r.goSubtree=!0)}walk(e,t,n){if(0===this.children.length)return;let r=0,i=this.children[r].charCount(),o=e;for(;o>=i;)this.skipChild(o,t,r,n,0),o-=i,r++,i=this.children[r].charCount();if(o+t<=i){if(this.execWalk(o,t,n,r,2))return}else{if(this.execWalk(o,i-o,n,r,1))return;let e=t-(i-o);for(r++,i=this.children[r].charCount();e>i;){if(this.execWalk(0,i,n,r,3))return;e-=i,r++,i=this.children[r].charCount()}if(e>0&&this.execWalk(0,e,n,r,4))return}if(n.pre){const e=this.children.length;if(r<e-1)for(let t=r+1;t<e;t++)this.skipChild(0,0,t,n,5)}}charOffsetToLineInfo(e,t){if(0===this.children.length)return{oneBasedLine:e,zeroBasedColumn:t,lineText:void 0};for(const r of this.children){if(r.charCount()>t)return r.isLeaf()?{oneBasedLine:e,zeroBasedColumn:t,lineText:r.text}:r.charOffsetToLineInfo(e,t);t-=r.charCount(),e+=r.lineCount()}const n=this.lineCount();return 0===n?{oneBasedLine:1,zeroBasedColumn:0,lineText:void 0}:{oneBasedLine:n,zeroBasedColumn:fn.checkDefined(this.lineNumberToInfo(n,0).leaf).charCount(),lineText:void 0}}lineNumberToInfo(e,t){for(const n of this.children){const r=n.lineCount();if(r>=e)return n.isLeaf()?{position:t,leaf:n}:n.lineNumberToInfo(e,t);e-=r,t+=n.charCount()}return{position:t,leaf:void 0}}splitAfter(t){let n;const r=this.children.length,i=++t;if(t<r){for(n=new e;t<r;)n.add(this.children[t]),t++;n.updateCounts()}return this.children.length=i,n}remove(e){const t=this.findChildIndex(e),n=this.children.length;if(t<n-1)for(let r=t;r<n-1;r++)this.children[r]=this.children[r+1];this.children.pop()}findChildIndex(e){const t=this.children.indexOf(e);return fn.assert(-1!==t),t}insertAt(t,n){let r=this.findChildIndex(t);const i=this.children.length,o=n.length;if(i<4&&r===i-1&&1===o)return this.add(n[0]),this.updateCounts(),[];{const t=this.splitAfter(r);let i=0;for(r++;r<4&&i<o;)this.children[r]=n[i],r++,i++;let a=[],s=0;if(i<o){s=Math.ceil((o-i)/4),a=new Array(s);let t=0;for(let n=0;n<s;n++)a[n]=new e;let r=a[0];for(;i<o;)r.add(n[i]),i++,4===r.children.length&&(t++,r=a[t]);for(let e=a.length-1;e>=0;e--)0===a[e].children.length&&a.pop()}t&&a.push(t),this.updateCounts();for(let e=0;e<s;e++)a[e].updateCounts();return a}}add(e){this.children.push(e),fn.assert(this.children.length<=4)}charCount(){return this.totalChars}lineCount(){return this.totalLines}},Vhe=class{constructor(e){this.text=e}isLeaf(){return!0}walk(e,t,n){n.leaf(e,t,this)}charCount(){return this.text.length}lineCount(){return 1}},Uhe=class e{constructor(e,t,n,r,i,o){this.telemetryEnabled=e,this.logger=t,this.host=n,this.globalTypingsCacheLocation=r,this.event=i,this.maxActiveRequestCount=o,this.activeRequestCount=0,this.requestQueue=Ze(),this.requestMap=new Map,this.requestedRegistry=!1,this.packageInstallId=0}isKnownTypesPackageName(e){var t;return QK.validatePackageName(e)===QK.NameValidationResult.Ok&&(this.requestedRegistry||(this.requestedRegistry=!0,this.installer.send({kind:"typesRegistry"})),!!(null==(t=this.typesRegistryCache)?void 0:t.has(e)))}installPackage(e){this.packageInstallId++;const t=__spreadProps(__spreadValues({kind:"installPackage"},e),{id:this.packageInstallId}),n=new Promise((e,t)=>{var n;(null!=(n=this.packageInstalledPromise)?n:this.packageInstalledPromise=new Map).set(this.packageInstallId,{resolve:e,reject:t})});return this.installer.send(t),n}attach(e){this.projectService=e,this.installer=this.createInstallerProcess()}onProjectClosed(e){this.installer.send({projectName:e.getProjectName(),kind:"closeProject"})}enqueueInstallTypingsRequest(e,t,n){const r=rme(e,t,n);this.logger.hasLevel(3)&&this.logger.info(`TIAdapter:: Scheduling throttled operation:${pG(r)}`),this.activeRequestCount<this.maxActiveRequestCount?this.scheduleRequest(r):(this.logger.hasLevel(3)&&this.logger.info(`TIAdapter:: Deferring request for: ${r.projectName}`),this.requestQueue.enqueue(r),this.requestMap.set(r.projectName,r))}handleMessage(e){var t,n;switch(this.logger.hasLevel(3)&&this.logger.info(`TIAdapter:: Received response:${pG(e)}`),e.kind){case rG:this.typesRegistryCache=new Map(Object.entries(e.typesRegistry));break;case nG:{const r=null==(t=this.packageInstalledPromise)?void 0:t.get(e.id);fn.assertIsDefined(r,"Should find the promise for package install"),null==(n=this.packageInstalledPromise)||n.delete(e.id),e.success?r.resolve({successMessage:e.message}):r.reject(e.message),this.projectService.updateTypingsForProject(e),this.event(e,"setTypings");break}case aG:{const t={message:e.message},n="typesInstallerInitializationFailed";this.event(t,n);break}case iG:{const t={eventId:e.eventId,packages:e.packagesToInstall},n="beginInstallTypes";this.event(t,n);break}case oG:{if(this.telemetryEnabled){const t={telemetryEventName:"typingsInstalled",payload:{installedPackages:e.packagesToInstall.join(","),installSuccess:e.installSuccess,typingsInstallerVersion:e.typingsInstallerVersion}},n="telemetry";this.event(t,n)}const t={eventId:e.eventId,packages:e.packagesToInstall,success:e.installSuccess},n="endInstallTypes";this.event(t,n);break}case tG:this.projectService.updateTypingsForProject(e);break;case eG:for(this.activeRequestCount>0?this.activeRequestCount--:fn.fail("TIAdapter:: Received too many responses");!this.requestQueue.isEmpty();){const e=this.requestQueue.dequeue();if(this.requestMap.get(e.projectName)===e){this.requestMap.delete(e.projectName),this.scheduleRequest(e);break}this.logger.hasLevel(3)&&this.logger.info(`TIAdapter:: Skipping defunct request for: ${e.projectName}`)}this.projectService.updateTypingsForProject(e),this.event(e,"setTypings");break;case sG:this.projectService.watchTypingLocations(e)}}scheduleRequest(t){this.logger.hasLevel(3)&&this.logger.info(`TIAdapter:: Scheduling request for: ${t.projectName}`),this.activeRequestCount++,this.host.setTimeout(()=>{this.logger.hasLevel(3)&&this.logger.info(`TIAdapter:: Sending request:${pG(t)}`),this.installer.send(t)},e.requestDelayMillis,`${t.projectName}::${t.kind}`)}};Uhe.requestDelayMillis=100;var Whe=Uhe,$he={};i($he,{ActionInvalidate:()=>tG,ActionPackageInstalled:()=>nG,ActionSet:()=>eG,ActionWatchTypingLocations:()=>sG,Arguments:()=>ZK,AutoImportProviderProject:()=>Vme,AuxiliaryProject:()=>zme,CharRangeSection:()=>Lhe,CloseFileWatcherEvent:()=>lge,CommandNames:()=>lhe,ConfigFileDiagEvent:()=>rge,ConfiguredProject:()=>Ume,ConfiguredProjectLoadKind:()=>Pge,CreateDirectoryWatcherEvent:()=>cge,CreateFileWatcherEvent:()=>sge,Errors:()=>Zfe,EventBeginInstallTypes:()=>iG,EventEndInstallTypes:()=>oG,EventInitializationFailed:()=>aG,EventTypesRegistry:()=>rG,ExternalProject:()=>Wme,GcTimer:()=>fme,InferredProject:()=>Jme,LargeFileReferencedEvent:()=>nge,LineIndex:()=>zhe,LineLeaf:()=>Vhe,LineNode:()=>qhe,LogLevel:()=>eme,Msg:()=>nme,OpenFileInfoTelemetryEvent:()=>age,Project:()=>Bme,ProjectInfoTelemetryEvent:()=>oge,ProjectKind:()=>Ame,ProjectLanguageServiceStateEvent:()=>ige,ProjectLoadingFinishEvent:()=>tge,ProjectLoadingStartEvent:()=>ege,ProjectService:()=>Zge,ProjectsUpdatedInBackgroundEvent:()=>Yme,ScriptInfo:()=>Fme,ScriptVersionCache:()=>Bhe,Session:()=>Dhe,TextStorage:()=>Dme,ThrottledOperations:()=>pme,TypingsInstallerAdapter:()=>Whe,allFilesAreJsOrDts:()=>Lme,allRootFilesAreJsOrDts:()=>Ome,asNormalizedPath:()=>ame,convertCompilerOptions:()=>hge,convertFormatOptions:()=>gge,convertScriptKindName:()=>xge,convertTypeAcquisition:()=>vge,convertUserPreferences:()=>kge,convertWatchOptions:()=>yge,countEachFileTypes:()=>Ime,createInstallTypingsRequest:()=>rme,createModuleSpecifierCache:()=>the,createNormalizedPathMap:()=>sme,createPackageJsonCache:()=>nhe,createSortedArray:()=>dme,emptyArray:()=>tme,findArgument:()=>lG,formatDiagnosticToProtocol:()=>che,formatMessage:()=>_he,getBaseConfigFileName:()=>mme,getDetailWatchInfo:()=>Bge,getLocationInNewDocument:()=>Ahe,hasArgument:()=>cG,hasNoTypeScriptSource:()=>jme,indent:()=>dG,isBackgroundProject:()=>Gme,isConfigFile:()=>Yge,isConfiguredProject:()=>Hme,isDynamicFileName:()=>Nme,isExternalProject:()=>Kme,isInferredProject:()=>$me,isInferredProjectName:()=>cme,isProjectDeferredClose:()=>Xme,makeAutoImportProviderProjectName:()=>_me,makeAuxiliaryProjectName:()=>ume,makeInferredProjectName:()=>lme,maxFileSize:()=>Zme,maxProgramSizeForNonTsFiles:()=>Qme,normalizedPathToPath:()=>ome,nowString:()=>_G,nullCancellationToken:()=>rhe,nullTypingsInstaller:()=>wge,protocol:()=>gme,scriptInfoIsContainedByBackgroundProject:()=>Eme,scriptInfoIsContainedByDeferredClosedProject:()=>Pme,stringifyIndented:()=>pG,toEvent:()=>dhe,toNormalizedPath:()=>ime,tryConvertScriptKindName:()=>bge,typingsInstaller:()=>Wfe,updateProjectIfDirty:()=>zge}),"undefined"!=typeof console&&(fn.loggingHost={log(e,t){switch(e){case 1:return console.error(t);case 2:return console.warn(t);case 3:case 4:return console.log(t)}}})})({get exports(){return l},set exports(e){l=e,s.exports&&(s.exports=e)}})),o.exports);class u{static registerStrategy(e){this.strategies.set(e.name,e)}static getStrategy(e){return this.strategies.get(e)}static getAllStrategies(){return Array.from(this.strategies.values())}}__publicField(u,"strategies",new Map),u.registerStrategy(new class{constructor(){__publicField(this,"name","typescript-basic-syntax")}check(e,t){try{const n=this.createSourceFile(e,t);return this.getSyntaxErrors(n)}catch(n){return[{line:0,column:0,length:0,message:`TypeScript syntax analysis failed: ${n instanceof Error?n.message:"Unknown error"}`,severity:"error"}]}}createSourceFile(e,t){const n=this.detectScriptKind(e,t),r=this.getDefaultFileName(n);return _.createSourceFile(t||r,e,_.ScriptTarget.ES2020,!0,n)}detectScriptKind(e,t){if(t){const e=t.toLowerCase().split(".").pop();if("tsx"===e)return _.ScriptKind.TSX;if("jsx"===e)return _.ScriptKind.JSX;if("js"===e)return _.ScriptKind.JS;if("ts"===e)return _.ScriptKind.TS}return this.hasJsxSyntax(e)?this.hasTypeScriptFeatures(e)?_.ScriptKind.TSX:_.ScriptKind.JSX:(this.hasTypeScriptFeatures(e),_.ScriptKind.TS)}hasJsxSyntax(e){return[/<[A-Z][a-zA-Z0-9]*[^>]*>/,/<[a-z]+[^>]*>/,/<\/[A-Za-z][a-zA-Z0-9]*>/,/{[^}]*}/,/className=/,/onClick=/,/return\s*\(/].some(t=>t.test(e))}hasTypeScriptFeatures(e){return[/:\s*[A-Z][a-zA-Z0-9<>[\]|&,\s]*[^=]/,/interface\s+[A-Z]/,/type\s+[A-Z]/,/enum\s+[A-Z]/,/public\s+|private\s+|protected\s+/,/implements\s+/,/extends\s+[A-Z]/,/<[A-Z][a-zA-Z0-9]*>/,/as\s+[A-Z]/,/readonly\s+/].some(t=>t.test(e))}getDefaultFileName(e){switch(e){case _.ScriptKind.TSX:return"temp.tsx";case _.ScriptKind.JSX:return"temp.jsx";case _.ScriptKind.JS:return"temp.js";case _.ScriptKind.TS:default:return"temp.ts"}}getSyntaxErrors(e){return this.getSyntaxDiagnosticsOnly(e).map(e=>({line:e.file?e.file.getLineAndCharacterOfPosition(e.start).line+1:0,column:e.file?e.file.getLineAndCharacterOfPosition(e.start).character+1:0,length:e.length||0,message:_.flattenDiagnosticMessageText(e.messageText,"\n"),severity:"error"}))}getSyntaxDiagnosticsOnly(e){const t={target:_.ScriptTarget.ES2020,module:_.ModuleKind.None,noResolve:!0,skipLibCheck:!0,noEmit:!0,strict:!1,noImplicitAny:!1,strictNullChecks:!1},n={getSourceFile:t=>t===e.fileName?e:void 0,writeFile:()=>{},getCurrentDirectory:()=>"",getDirectories:()=>[],fileExists:()=>!1,readFile:()=>{},getCanonicalFileName:e=>e,useCaseSensitiveFileNames:()=>!0,getNewLine:()=>"\n",getDefaultLibFileName:()=>""};return _.createProgram([e.fileName],t,n).getSyntacticDiagnostics(e).filter(e=>{const t=_.flattenDiagnosticMessageText(e.messageText,"\n");return!(t.includes("Cannot find module")||t.includes("Cannot find name")||t.includes("Type")||t.includes("Property"))})}}),u.registerStrategy(new class{constructor(){__publicField(this,"name","typescript-code-style"),__publicField(this,"rules",[this.checkEqualityOperators,this.checkVarUsage,this.checkConsoleLogs,this.checkAnyType,this.checkInterfaceNaming,this.checkTypeAssertions,this.checkNonNullAssertion,this.checkEnumNaming])}check(e){return e.split("\n").flatMap((e,t)=>this.checkLine(e,t+1))}checkLine(e,t){return this.rules.flatMap(n=>n.call(this,e,t))}checkEqualityOperators(e,t){const n=e.search(new RegExp("^(?<![!=])={2}(?![=])$"));return-1===n?[]:[{line:t,column:n+1,length:2,message:"Use === instead of == for strict equality",severity:"warning"}]}checkVarUsage(e,t){const n=e.indexOf("var ");return-1===n?[]:[{line:t,column:n+1,length:3,message:"Consider using let or const instead of var",severity:"info"}]}checkConsoleLogs(e,t){const n=e.indexOf("console.log");return-1===n?[]:[{line:t,column:n+1,length:11,message:"Consider removing console.log in production",severity:"info"}]}checkAnyType(e,t){const n=e.indexOf(": any");return-1===n?[]:[{line:t,column:n+1,length:5,message:'Avoid using "any" type, consider using more specific types',severity:"warning"}]}checkInterfaceNaming(e,t){if(!e.trim().startsWith("interface "))return[];const n=e.match(/interface\s+([A-Za-z_][A-Za-z0-9_]*)/);return n&&!n[1].startsWith("I")?[{line:t,column:e.indexOf(n[1])+1,length:n[1].length,message:'Consider prefixing interface names with "I" (e.g., IUserData)',severity:"info"}]:[]}checkTypeAssertions(e,t){return!e.includes(" as ")||e.includes("// ")?[]:[{line:t,column:e.indexOf(" as ")+1,length:4,message:"Type assertions should be used sparingly, consider type guards instead",severity:"info"}]}checkNonNullAssertion(e,t){const n=[e.indexOf("!."),e.indexOf("!;"),e.indexOf("!)")],r=Math.max(...n);return r<=0?[]:[{line:t,column:r+1,length:1,message:"Non-null assertion operator should be used carefully, consider proper null checks",severity:"warning"}]}checkEnumNaming(e,t){if(!e.trim().startsWith("enum "))return[];const n=e.match(/enum\s+([A-Za-z_][A-Za-z0-9_]*)/);return n&&n[1][0]!==n[1][0].toUpperCase()?[{line:t,column:e.indexOf(n[1])+1,length:n[1].length,message:"Enum names should start with uppercase letter (PascalCase)",severity:"info"}]:[]}}),u.registerStrategy(new class{constructor(){__publicField(this,"name","typescript-type-issues"),__publicField(this,"rules",[this.checkFunctionParameterTypes,this.checkArrowFunctionParameterTypes,this.checkVariableTypeAnnotations])}check(e){return e.split("\n").flatMap((e,t)=>this.checkLine(e,t+1))}checkLine(e,t){return this.rules.flatMap(n=>n.call(this,e,t))}checkFunctionParameterTypes(e,t){const n=e.match(/function\s+\w+\s*\(([^)]*)\)/);if(!n)return[];const r=n[1];return r&&!r.includes(":")&&""!==r.trim()?[{line:t,column:e.indexOf("(")+1,length:r.length+2,message:"Consider adding type annotations to function parameters",severity:"info"}]:[]}checkArrowFunctionParameterTypes(e,t){const n=e.match(/\(([^)]*)\)\s*=>/);if(!n)return[];const r=n[1];return r&&!r.includes(":")&&""!==r.trim()?[{line:t,column:e.indexOf("(")+1,length:r.length+2,message:"Consider adding type annotations to arrow function parameters",severity:"info"}]:[]}checkVariableTypeAnnotations(e,t){const n=e.match(/(let|const)\s+(\w+)\s*=/);return!n||e.includes(":")?[]:e.includes("{}")||e.includes("[]")||e.includes("new ")?[{line:t,column:e.indexOf(n[2])+1,length:n[2].length,message:"Consider adding explicit type annotation for complex expressions",severity:"info"}]:[]}}),u.registerStrategy(new class{constructor(){__publicField(this,"name","typescript-advanced-features"),__publicField(this,"rules",[this.checkGenericConstraints,this.checkMappedTypes,this.checkConditionalTypeComplexity,this.checkDecoratorUsage,this.checkNamespaceUsage])}check(e){return e.split("\n").flatMap((e,t)=>this.checkLine(e,t+1))}checkLine(e,t){return this.rules.flatMap(n=>n.call(this,e,t))}checkGenericConstraints(e,t){return!e.includes("<T extends")||e.includes("keyof")?[]:[{line:t,column:e.indexOf("<T extends")+1,length:11,message:"Consider using keyof constraints for better type safety",severity:"info"}]}checkMappedTypes(e,t){return e.includes("Record<")&&e.includes("string,")?[{line:t,column:e.indexOf("Record<")+1,length:7,message:"Consider using more specific key types instead of string",severity:"info"}]:[]}checkConditionalTypeComplexity(e,t){if(!e.includes("?")||!e.includes(":")||!e.includes("extends"))return[];return(e.match(/\?/g)||[]).length>2?[{line:t,column:1,length:e.length,message:"Complex conditional types may be hard to understand, consider breaking them down",severity:"info"}]:[]}checkDecoratorUsage(e,t){if(!e.trim().startsWith("@")||e.includes("//"))return[];const n=e.match(/@(\w+)/);return n?[{line:t,column:e.indexOf("@")+1,length:n[0].length,message:"Ensure decorators are properly configured and necessary",severity:"info"}]:[]}checkNamespaceUsage(e,t){return e.trim().startsWith("namespace ")?[{line:t,column:1,length:9,message:"Consider using ES6 modules instead of namespaces",severity:"info"}]:[]}});class d{constructor(){__publicField(this,"observers",[]),__publicField(this,"resultCollector",{errors:[],completeCount:0})}attach(e){this.observers.push(e)}detach(e){this.observers=this.observers.filter(t=>t!==e)}notify(e,t){this.observers.forEach(n=>n.onCheckComplete(e,t))}checkWithStrategy(e,t,n){const r=u.getStrategy(e);if(r){const i=r.check(t,n);this.notify(e,i)}}checkAll(e,t){this.resultCollector={errors:[],completeCount:0};const n=u.getAllStrategies(),r=n.length;n.forEach(n=>{const i=n.check(e,t);this.resultCollector.errors.push(...i),this.resultCollector.completeCount++,this.resultCollector.completeCount===r&&this.notify("all",this.resultCollector.errors)})}}const p=class e{constructor(){__publicField(this,"subject"),this.subject=new d}static getInstance(){return e.instance||(e.instance=new e),e.instance}registerObserver(e){this.subject.attach(e)}checkStrategy(e,t,n){this.subject.checkWithStrategy(e,t,n)}checkAll(e,t){this.subject.checkAll(e,t)}withPerformanceLogging(e){return(...t)=>{const n=performance.now(),r=e.apply(this,t),i=performance.now();return console.log(`TypeScript检查耗时: ${(i-n).toFixed(2)}ms`),r}}};__publicField(p,"instance");let f=p;const m={checkAll:(e,t,n)=>{const r=f.getInstance();if(t){const e={onCheckComplete:(e,n)=>t(n)};r.registerObserver(e)}r.withPerformanceLogging(r.checkAll)(e,n)},checkBasicSyntax:(e,t,n)=>{const r=f.getInstance();if(t){const e={onCheckComplete:(e,n)=>t(n)};r.registerObserver(e)}r.withPerformanceLogging(r.checkStrategy)("typescript-basic-syntax",e,n)},checkCodeStyle:(e,t,n)=>{const r=f.getInstance();if(t){const e={onCheckComplete:(e,n)=>t(n)};r.registerObserver(e)}r.withPerformanceLogging(r.checkStrategy)("typescript-code-style",e,n)},checkTypeIssues:(e,t,n)=>{const r=f.getInstance();if(t){const e={onCheckComplete:(e,n)=>t(n)};r.registerObserver(e)}r.withPerformanceLogging(r.checkStrategy)("typescript-type-issues",e,n)},checkAdvancedFeatures:(e,t,n)=>{const r=f.getInstance();if(t){const e={onCheckComplete:(e,n)=>t(n)};r.registerObserver(e)}r.withPerformanceLogging(r.checkStrategy)("typescript-advanced-features",e,n)},registerStrategy:e=>{u.registerStrategy(e)}};class g{constructor(e={}){__publicField(this,"options"),__publicField(this,"context"),this.options=__spreadValues({includeComments:!1,includeJSDoc:!1,maxDepth:1e3,skipTypeNodes:!1},e),this.context={depth:0,path:[],sourceFile:null,data:new Map}}traverse(e,t){this.context.sourceFile=e,this.context.depth=0,this.context.path=[],this.context.data.clear(),this.visitNode(e,t)}traverseNode(e,t,n){this.visitNode(e,t,n)}getContext(){return __spreadValues({},this.context)}setContextData(e,t){this.context.data.set(e,t)}getContextData(e){return this.context.data.get(e)}visitNode(e,t,n){if(this.context.depth>=this.options.maxDepth)console.warn("遍历深度超过最大限制，已停止遍历");else if(!this.options.skipTypeNodes||!this.isTypeNode(e)){this.context.depth++,this.context.path.push(e);try{let r=!0;if(t.visitNode){!1===t.visitNode(e,n)&&(r=!1)}r&&(r=this.callSpecificVisitor(e,t,n)),r&&this.visitChildren(e,t),t.leaveNode&&t.leaveNode(e,n)}finally{this.context.depth--,this.context.path.pop()}}}callSpecificVisitor(e,t,n){let r=!0;if(_.isFunctionDeclaration(e)&&t.visitFunctionDeclaration){!1===t.visitFunctionDeclaration(e,n)&&(r=!1)}else if(_.isMethodDeclaration(e)&&t.visitMethodDeclaration){!1===t.visitMethodDeclaration(e,n)&&(r=!1)}else if(_.isVariableDeclaration(e)&&t.visitVariableDeclaration){!1===t.visitVariableDeclaration(e,n)&&(r=!1)}else if(_.isIfStatement(e)&&t.visitIfStatement){!1===t.visitIfStatement(e,n)&&(r=!1)}else if(_.isForStatement(e)&&t.visitForStatement){!1===t.visitForStatement(e,n)&&(r=!1)}else if(_.isWhileStatement(e)&&t.visitWhileStatement){!1===t.visitWhileStatement(e,n)&&(r=!1)}else if(_.isSwitchStatement(e)&&t.visitSwitchStatement){!1===t.visitSwitchStatement(e,n)&&(r=!1)}else if(_.isTryStatement(e)&&t.visitTryStatement){!1===t.visitTryStatement(e,n)&&(r=!1)}else if(_.isClassDeclaration(e)&&t.visitClassDeclaration){!1===t.visitClassDeclaration(e,n)&&(r=!1)}else if(_.isInterfaceDeclaration(e)&&t.visitInterfaceDeclaration){!1===t.visitInterfaceDeclaration(e,n)&&(r=!1)}else if(_.isTypeAliasDeclaration(e)&&t.visitTypeAliasDeclaration){!1===t.visitTypeAliasDeclaration(e,n)&&(r=!1)}else if(_.isImportDeclaration(e)&&t.visitImportDeclaration){!1===t.visitImportDeclaration(e,n)&&(r=!1)}else if(_.isExportDeclaration(e)&&t.visitExportDeclaration){!1===t.visitExportDeclaration(e,n)&&(r=!1)}return r}visitChildren(e,t){_.forEachChild(e,n=>{this.visitNode(n,t,e)}),this.options.includeComments&&this.visitComments(e)}visitComments(e){const t=this.context.sourceFile;t&&(_.getLeadingCommentRanges(t.text,e.getFullStart()),_.getTrailingCommentRanges(t.text,e.getEnd()))}isTypeNode(e){return _.isTypeNode(e)||_.isTypeAliasDeclaration(e)||_.isInterfaceDeclaration(e)||_.isTypeParameterDeclaration(e)}static createFunctionVisitor(e){return{visitNode:t=>{e(t,{depth:0,path:[],sourceFile:t.getSourceFile(),data:new Map})}}}static createComplexityVisitor(){return{visitIfStatement:()=>{},visitForStatement:()=>{},visitWhileStatement:()=>{},visitSwitchStatement:()=>{},visitTryStatement:()=>{},leaveNode:e=>{_.isSourceFile(e)}}}static createFunctionCollector(){const e=[];return{visitor:{visitFunctionDeclaration:t=>{e.push(t)},visitMethodDeclaration:t=>{e.push(t)}},functions:e}}}function h(e,t){var n;const r=(null==(n=e.name)?void 0:n.getText())||"anonymous",i=e.getStart(),o=e.getEnd(),a=t.getLineAndCharacterOfPosition(i).line+1,s=t.getLineAndCharacterOfPosition(o).line+1,c=e.parameters.length;let l=1,u=0;const d=e=>{var t;t=e,(_.isIfStatement(t)||_.isWhileStatement(t)||_.isForStatement(t)||_.isForInStatement(t)||_.isForOfStatement(t)||_.isSwitchStatement(t)||_.isConditionalExpression(t)||_.isCatchClause(t)||_.isBinaryExpression(t)&&(t.operatorToken.kind===_.SyntaxKind.AmpersandAmpersandToken||t.operatorToken.kind===_.SyntaxKind.BarBarToken))&&l++,u+=function(e){return _.isIfStatement(e)||_.isWhileStatement(e)||_.isForStatement(e)||_.isForInStatement(e)||_.isForOfStatement(e)?1:!_.isBinaryExpression(e)||e.operatorToken.kind!==_.SyntaxKind.AmpersandAmpersandToken&&e.operatorToken.kind!==_.SyntaxKind.BarBarToken?0:1}(e),_.forEachChild(e,d)};return e.body&&d(e.body),{name:r,cyclomaticComplexity:l,cognitiveComplexity:u,startLine:a,endLine:s,parameters:c}}function y(e){const t=[];let n,r;"string"==typeof e?(r=_.createSourceFile("temp.ts",e,_.ScriptTarget.Latest,!0),n=r):(n=e,r=e.getSourceFile()||void 0);const i=e=>{var n;if(_.isFunctionDeclaration(e)||_.isMethodDeclaration(e)||_.isFunctionExpression(e)||_.isArrowFunction(e)){const i=(null==(n=e.name)?void 0:n.getText())||"anonymous",o=r.getLineAndCharacterOfPosition(e.getStart()).line+1,a=r.getLineAndCharacterOfPosition(e.getEnd()).line+1,s=e.parameters.length,c=h(e,r),l=c.cyclomaticComplexity,_=c.cognitiveComplexity;t.push({name:i,startLine:o,endLine:a,parameters:s,cyclomaticComplexity:l,cognitiveComplexity:_})}_.forEachChild(e,i)};return i(n),t}function v(e){const t=[],n=function(e){return y(e).filter(e=>e.endLine-e.startLine+1>50).map(e=>({type:"long-function",severity:"warning",message:`Function "${e.name}" is too long (${e.endLine-e.startLine+1} lines)`,line:e.startLine,suggestion:"Consider breaking this function into smaller, focused functions"}))}(e);t.push(...n);const r=function(e){const t=[];try{let n=function(e){if(_.isVariableDeclaration(e)&&e.name&&_.isIdentifier(e.name)){const t=e.name.text,n=r.getLineAndCharacterOfPosition(e.getStart()).line+1;i.set(t,{line:n,type:"variable",node:e})}if(_.isFunctionDeclaration(e)&&e.name){const t=e.name.text,n=r.getLineAndCharacterOfPosition(e.getStart()).line+1;i.set(t,{line:n,type:"function",node:e})}if(_.isImportDeclaration(e)&&e.importClause){const t=r.getLineAndCharacterOfPosition(e.getStart()).line+1;if(e.importClause.name){const n=e.importClause.name.text;i.set(n,{line:t,type:"import",node:e})}e.importClause.namedBindings&&_.isNamedImports(e.importClause.namedBindings)&&e.importClause.namedBindings.elements.forEach(n=>{const r=n.name.text;i.set(r,{line:t,type:"import",node:e})})}if(_.isExportDeclaration(e)&&e.exportClause&&_.isNamedExports(e.exportClause)&&e.exportClause.elements.forEach(e=>{const t=e.name.text;a.add(t)}),_.isFunctionDeclaration(e)&&e.modifiers&&e.modifiers.some(e=>e.kind===_.SyntaxKind.ExportKeyword)&&e.name?a.add(e.name.text):_.isVariableStatement(e)&&e.modifiers&&e.modifiers.some(e=>e.kind===_.SyntaxKind.ExportKeyword)&&e.declarationList.declarations.forEach(e=>{e.name&&_.isIdentifier(e.name)&&a.add(e.name.text)}),_.isIdentifier(e)){const t=e.parent;_.isVariableDeclaration(t)||_.isFunctionDeclaration(t)||_.isImportSpecifier(t)||_.isImportClause(t)||o.add(e.text)}_.forEachChild(e,n)};const r=_.createSourceFile("temp.ts",e,_.ScriptTarget.Latest,!0),i=new Map,o=new Set,a=new Set;n(r),i.forEach((e,n)=>{if(!o.has(n)&&!a.has(n)){if(n.startsWith("_")||"React"===n||"function"===e.type&&"main"===n)return;t.push({type:`dead-${e.type}`,severity:"import"===e.type?"info":"warning",message:`Unused ${e.type} '${n}'`,line:e.line,suggestion:`Remove the unused ${e.type} '${n}' or use it in your code`})}})}catch(n){console.warn("Dead code analysis failed:",n)}return t}(e);t.push(...r);const i=function(e){const t=[];try{let n=function(e){if((_.isFunctionDeclaration(e)||_.isFunctionExpression(e)||_.isArrowFunction(e))&&e.body&&_.isBlock(e.body)){const t=r(e.body),n=i(t);if(n.length>200){const t=a.getLineAndCharacterOfPosition(e.body.getStart()).line+1;s.has(n)||s.set(n,{lines:[],nodes:[]});const r=s.get(n);r.lines.push(t),r.nodes.push(e)}}if(_.isBlock(e)&&e.statements.length>=10){const t=r(e),n=i(t);if(n.length>100){const t=a.getLineAndCharacterOfPosition(e.getStart()).line+1;s.has(n)||s.set(n,{lines:[],nodes:[]});const r=s.get(n);r.lines.push(t),r.nodes.push(e)}}_.forEachChild(e,n)},r=function(t){return e.substring(t.getStart(),t.getEnd())},i=function(e){return e.replace(/\/\*[\s\S]*?\*\//g,"").replace(/\/\/.*$/gm,"").replace(/\s+/g," ").trim()},o=function(){const e=new Map;c.forEach((t,n)=>{const r=i(t);r.length>20&&(e.has(r)||e.set(r,[]),e.get(r).push(n+1))});for(let n=0;n<c.length-9;n++){const e=c.slice(n,n+10).map(i).join("|");if(e.length>200){let r=-1;for(let t=n+10;t<c.length-9;t++)if(e===c.slice(t,t+10).map(i).join("|")){r=t+1;break}r>0&&t.push({type:"duplicate-lines",severity:"warning",message:`Duplicate code sequence found (lines ${n+1}-${n+10} and ${r}-${r+9})`,line:n+1,suggestion:"Extract the duplicate code into a reusable function or method"})}}};const a=_.createSourceFile("temp.ts",e,_.ScriptTarget.Latest,!0),s=new Map,c=e.split("\n");n(a),o(),s.forEach(e=>{if(e.lines.length>1){const n=Math.min(...e.lines);t.push({type:"duplicate-block",severity:"warning",message:`Duplicate code block found at lines: ${e.lines.join(", ")}`,line:n,suggestion:"Extract the duplicate code into a reusable function, method, or utility"})}})}catch(n){console.warn("Duplicate code analysis failed:",n)}return t}(e);return t.push(...i),t}class b{constructor(){__publicField(this,"detectorType","event_listener")}detect(e){const t=[],n=e.split("\n"),r=/addEventListener\s*\(/g,i=/removeEventListener\s*\(/g.test(e);return n.forEach((e,n)=>{r.test(e)&&(i||t.push({type:"event_listener_not_removed",severity:"medium",message:`第${n+1}行: 添加事件监听器但在代码中未找到对应的removeEventListener调用`,suggestion:"确保在适当的时机（如组件卸载、页面离开等）调用removeEventListener移除事件监听器"}))}),t}getType(){return this.detectorType}}class x{constructor(){__publicField(this,"detectorType","timer")}detect(e){const t=[],n=this.detectIntervalIssues(e);t.push(...n);const r=this.detectTimeoutIssues(e);return t.push(...r),t}detectIntervalIssues(e){const t=[],n=e.split("\n"),r=/setInterval\s*\(/g,i=/clearInterval\s*\(/g.test(e);return n.forEach((e,n)=>{r.test(e)&&(i||t.push({type:"interval_not_cleared",severity:"medium",message:`第${n+1}行: 使用setInterval但在代码中未找到对应的clearInterval调用`,suggestion:"确保在适当的时机（如组件卸载、页面离开等）调用clearInterval清除定时器"}))}),t}detectTimeoutIssues(e){const t=[],n=e.split("\n"),r=/setTimeout\s*\(/g,i=/clearTimeout\s*\(/g.test(e);return n.forEach((n,o)=>{r.test(n)&&this.shouldCheckTimeoutClearing(e)&&!i&&t.push({type:"timeout_not_cleared",severity:"low",message:`第${o+1}行: 使用setTimeout但可能需要在某些情况下清除`,suggestion:"如果在组件中使用或需要取消定时器，请在适当时机调用clearTimeout"})}),t}shouldCheckTimeoutClearing(e){return[/useEffect\s*\(/,/componentDidMount/,/componentWillUnmount/,/mounted\s*\(/,/beforeDestroy/,/onUnmounted/].some(t=>t.test(e))}getType(){return this.detectorType}}class k{constructor(){__publicField(this,"detectorType","connection")}detect(e){const t=[],n=this.detectWebSocketIssues(e);t.push(...n);const r=this.detectXHRIssues(e);return t.push(...r),t}detectWebSocketIssues(e){const t=[],n=e.split("\n"),r=/new\s+WebSocket\s*\(/g,i=this.removeComments(e),o=/\.close\s*\(/g.test(i);return n.forEach((e,n)=>{r.test(e)&&(o||t.push({type:"websocket_not_closed",severity:"medium",message:`第${n+1}行: 创建WebSocket连接但在代码中未找到对应的close()调用`,suggestion:"确保在适当的时机（如组件卸载、页面离开等）调用WebSocket.close()关闭连接"}))}),t}detectXHRIssues(e){const t=[],n=e.split("\n"),r=/new\s+XMLHttpRequest\s*\(/g,i=this.removeComments(e),o=/\.abort\s*\(/g.test(i);return n.forEach((n,i)=>{r.test(n)&&this.shouldCheckXHRAbort(e)&&!o&&t.push({type:"xhr_not_aborted",severity:"low",message:`第${i+1}行: 创建XMLHttpRequest但可能需要在某些情况下中止请求`,suggestion:"如果在组件中使用，请在组件卸载时调用xhr.abort()中止未完成的请求"})}),t}shouldCheckXHRAbort(e){return[/useEffect\s*\(/,/componentDidMount/,/componentWillUnmount/,/mounted\s*\(/,/beforeDestroy/,/onUnmounted/].some(t=>t.test(e))}removeComments(e){return e.replace(/\/\*[\s\S]*?\*\//g,"").replace(/\/\/.*$/gm,"")}getType(){return this.detectorType}}class S{constructor(){__publicField(this,"detectorType","dom_reference")}detect(e){const t=[],n=this.detectDOMReferenceIssues(e);t.push(...n);const r=this.detectLargeHTMLIssues(e);t.push(...r);const i=this.detectMutationObserverIssues(e);t.push(...i);const o=this.detectDOMArrayLeaks(e);return t.push(...o),t}detectDOMReferenceIssues(e){const t=[],n=e.split("\n"),r=/let\s+\w+\s*=\s*document\.getElementById|const\s+\w+\s*=\s*document\.getElementById/g;return n.forEach((e,n)=>{r.test(e)&&t.push({type:"dom_element_reference",severity:"medium",message:`第${n+1}行: 存储DOM元素引用可能导致内存泄漏`,suggestion:"避免长期持有DOM元素引用，使用时再获取，或确保在适当时机清除引用"})}),t}detectLargeHTMLIssues(e){const t=[],n=e.split("\n"),r=/\.innerHTML\s*=\s*['"`][^'"`]*<.*>[^'"`]*['"`]/g;return n.forEach((e,n)=>{if(r.test(e)){const r=e.match(/['"`]([^'"`]*<.*>[^'"`]*)['"`]/);r&&r[1].length>200&&t.push({type:"large_html_assignment",severity:"medium",message:`第${n+1}行: 大量HTML内容赋值可能导致内存问题`,suggestion:"考虑分批处理、使用文档片段或模板引擎来优化大HTML内容的处理"})}}),t}detectMutationObserverIssues(e){const t=[],n=e.split("\n"),r=/new\s+MutationObserver\s*\(/g,i=/\.disconnect\s*\(/g.test(e);return n.forEach((e,n)=>{r.test(e)&&(i||t.push({type:"mutation_observer_not_disconnected",severity:"medium",message:`第${n+1}行: 创建MutationObserver但在代码中未找到对应的disconnect()调用`,suggestion:"确保在适当的时机（如组件卸载、页面离开等）调用observer.disconnect()断开观察器"}))}),t}detectDOMArrayLeaks(e){const t=[],n=this.removeComments(e),r=/private\s+elements:\s*HTMLElement\[\]|this\.elements\s*=\s*\[\]/g.test(e),i=/this\.elements\.push\s*\(/g.test(e),o=/this\.elements\s*=\s*\[\]|this\.elements\.length\s*=\s*0/g.test(n);if(r&&i&&!o){e.split("\n").forEach((e,n)=>{/this\.elements\.push\s*\(/.test(e)&&t.push({type:"dom_array_reference_leak",severity:"medium",message:`第${n+1}行: DOM元素被添加到数组但可能没有适当清理`,suggestion:"确保在移除DOM元素后也清空数组引用，如：this.elements = [] 或 this.elements.length = 0"})})}return t}removeComments(e){return e.replace(/\/\*[\s\S]*?\*\//g,"").replace(/\/\/.*$/gm,"")}getType(){return this.detectorType}}class T{constructor(){__publicField(this,"detectorType","closure")}detect(e){const t=[],n=this.detectReturnFunctionClosures(e);t.push(...n);const r=this.detectLargeObjectClosures(e);return t.push(...r),t}detectReturnFunctionClosures(e){const t=[],n=/function\s+\w+\s*\([^)]*\)\s*\{[\s\S]*?return\s+function/g,r=/const\s+\w+\s*=\s*\([^)]*\)\s*=>\s*\{[\s\S]*?return\s+function/g;let i;for(;null!==(i=n.exec(e));){const n=this.getLineNumber(e,i.index);this.containsLargeObjectCreation(i[0])&&t.push({type:"closure_large_object_leak",severity:"medium",message:`第${n}行: 函数返回闭包可能持有大对象引用导致内存泄漏`,suggestion:"确保闭包中的大对象在不需要时能被垃圾回收，避免长期持有引用"})}for(;null!==(i=r.exec(e));){const n=this.getLineNumber(e,i.index);this.containsLargeObjectCreation(i[0])&&t.push({type:"closure_large_object_leak",severity:"medium",message:`第${n}行: 箭头函数返回闭包可能持有大对象引用导致内存泄漏`,suggestion:"确保闭包中的大对象在不需要时能被垃圾回收，避免长期持有引用"})}return t}detectLargeObjectClosures(e){const t=[],n=e.split("\n"),r=/const\s+\w+\s*=\s*\w+\s*\(\s*\)/g;return n.forEach((n,i)=>{if(r.test(n)){const r=n.match(/const\s+\w+\s*=\s*(\w+)\s*\(\s*\)/);if(r){const n=r[1];this.functionContainsClosureWithLargeObject(e,n)&&t.push({type:"closure_reference_leak",severity:"medium",message:`第${i+1}行: 保存闭包函数引用可能导致大对象无法释放`,suggestion:"如果不再需要闭包功能，请将引用设置为null以允许垃圾回收"})}}}),t}containsLargeObjectCreation(e){return/new\s+Array\s*\(\s*\d{4,}\s*\)/.test(e)||e.includes("Array")&&/\.fill\s*\(/.test(e)}functionContainsClosureWithLargeObject(e,t){const n=new RegExp(`function\\s+${t}\\s*\\([^)]*\\)\\s*\\{[\\s\\S]*?\\}`,"g").exec(e);if(n){const e=n[0];return e.includes("return function")&&this.containsLargeObjectCreation(e)}return!1}getLineNumber(e,t){return e.substring(0,t).split("\n").length}getType(){return this.detectorType}}class C{detect(e){const t=[];return e.split("\n").forEach((e,n)=>{this.patterns.forEach(({pattern:r,type:i,message:o,suggestion:a,severity:s})=>{r.test(e)&&t.push({type:i,severity:s,message:`第${n+1}行: ${o}`,suggestion:a})})}),t}getType(){return this.detectorType}}class w extends C{constructor(){super(...arguments),__publicField(this,"patterns",[{pattern:/new\s+Array\s*\(\s*\d{4,}\s*\)/g,type:"large_array_creation",message:"创建大数组可能导致内存问题",suggestion:"考虑分批处理或使用流式处理",severity:"medium"},{pattern:/\.push\s*\([^)]*\).*for\s*\(/g,type:"array_push_in_loop",message:"在循环中频繁push可能导致内存问题",suggestion:"预分配数组大小或使用其他数据结构",severity:"medium"},{pattern:/JSON\.parse\s*\([^)]*\).*length\s*>\s*\d{4,}/g,type:"large_json_parse",message:"解析大JSON对象可能导致内存峰值",suggestion:"考虑流式解析或分块处理",severity:"medium"}]),__publicField(this,"detectorType","large_object")}}class D{constructor(){__publicField(this,"detectorType","cache")}detect(e){const t=[],n=this.detectStaticCacheLeaks(e);t.push(...n);const r=this.detectGlobalVariableLeaks(e);t.push(...r);const i=this.detectUnboundedBuffers(e);return t.push(...i),t}detectStaticCacheLeaks(e){const t=[],n=e.split("\n"),r=/private\s+static\s+cache:\s*\{[^}]*\}\s*=\s*\{\}/g.test(e),i=/\w+\.cache\[.*\]\s*=/g.test(e),o=this.removeComments(e),a=/\w+\.cache\s*=\s*\{\}|delete\s+\w+\.cache\[/g.test(o);return r&&i&&!a&&n.forEach((n,r)=>{/\w+\.cache\[.*\]\s*=/.test(n)&&(this.isInLoop(e,r)||this.containsLargeObjectCreation(n))&&t.push({type:"static_cache_leak",severity:"high",message:`第${r+1}行: 静态缓存对象持续增长可能导致内存泄漏`,suggestion:"提供缓存清理机制，如定期清理、LRU策略或设置缓存大小限制"})}),t}detectGlobalVariableLeaks(e){const t=[],n=e.split("\n"),r=/\(window\s+as\s+any\)\[.*\]\s*=|window\[.*\]\s*=/g;return n.forEach((e,n)=>{r.test(e)&&this.containsLargeObjectCreation(e)&&t.push({type:"global_variable_leak",severity:"high",message:`第${n+1}行: 全局变量持有大对象可能导致内存泄漏`,suggestion:"避免在全局作用域存储大对象，或确保在不需要时清理全局变量"})}),t}detectUnboundedBuffers(e){const t=[],n=e.split("\n"),r=/this\.buffer\.push\s*\(|buffer\.push\s*\(/g.test(e),i=this.removeComments(e),o=/this\.buffer\s*=\s*\[\]|buffer\s*=\s*\[\]|this\.buffer\.length\s*=\s*0/g.test(i);return r&&!o&&n.forEach((e,n)=>{/this\.buffer\.push\s*\(|buffer\.push\s*\(/.test(e)&&t.push({type:"unbounded_buffer_growth",severity:"medium",message:`第${n+1}行: 缓冲区持续增长但没有清理机制`,suggestion:"实现缓冲区大小限制或定期清理机制，防止无限增长"})}),t}containsLargeObjectCreation(e){return/new\s+Array\s*\(\s*\d{4,}\s*\)/.test(e)||e.includes("Array")&&/\.fill\s*\(/.test(e)||/for\s*\(.*\d{4,}/.test(e)}isInLoop(e,t){const n=e.split("\n");for(let r=t;r>=0;r--){const e=n[r];if(/for\s*\(/.test(e)||/while\s*\(/.test(e))return!0;if(/function\s+\w+|class\s+\w+/.test(e))break}return!1}removeComments(e){return e.replace(/\/\*[\s\S]*?\*\//g,"").replace(/\/\/.*$/gm,"")}getType(){return this.detectorType}}const N=class e{constructor(){this.initializeDetectors()}static getInstance(){return e.instance||(e.instance=new e),e.instance}initializeDetectors(){this.registerDetector(new b),this.registerDetector(new x),this.registerDetector(new k),this.registerDetector(new S),this.registerDetector(new T),this.registerDetector(new w),this.registerDetector(new D)}registerDetector(t){e.detectors[t.getType()]=t}getDetector(t){return e.detectors[t]}getAllDetectors(){return Object.values(e.detectors)}};__publicField(N,"detectors",{}),__publicField(N,"instance");let F=N;class E{detect(e){const t=[],n=e.split("\n"),r=this.getPatterns();return n.forEach((e,n)=>{r.forEach(({pattern:r,type:i,message:o,suggestion:a,severity:s})=>{r.test(e)&&t.push({type:i,severity:s,message:`第${n+1}行: ${o}`,suggestion:a})})}),t}}class P extends E{constructor(){super(...arguments),__publicField(this,"type","dangerous_dom_operations")}getPatterns(){return[{pattern:/\.innerHTML\s*=\s*[^;]+/g,type:"innerHTML_assignment",message:"使用innerHTML可能导致XSS攻击",suggestion:"使用textContent或安全的DOM操作方法",severity:"high"},{pattern:/document\.write\s*\(/g,type:"document_write",message:"document.write可能导致XSS攻击",suggestion:"使用安全的DOM操作方法",severity:"high"},{pattern:/eval\s*\(/g,type:"eval_usage",message:"eval函数可能导致代码注入攻击",suggestion:"避免使用eval，使用JSON.parse或其他安全方法",severity:"critical"},{pattern:/dangerouslySetInnerHTML/g,type:"dangerous_set_inner_html",message:"dangerouslySetInnerHTML可能导致XSS攻击",suggestion:"确保内容已经过安全处理或使用安全的渲染方法",severity:"high"},{pattern:/\.outerHTML\s*=\s*[^;]+/g,type:"outerHTML_assignment",message:"使用outerHTML可能导致XSS攻击",suggestion:"使用安全的DOM操作方法",severity:"high"}]}}class A extends E{constructor(){super(...arguments),__publicField(this,"type","user_input_handling")}getPatterns(){return[{pattern:/location\.search|location\.hash|location\.href/g,type:"url_parameter_usage",message:"直接使用URL参数可能导致XSS攻击",suggestion:"对URL参数进行适当的验证和转义",severity:"medium"},{pattern:/window\.name/g,type:"window_name_usage",message:"使用window.name可能导致XSS攻击",suggestion:"验证和清理window.name的内容",severity:"medium"}]}}const I=class e{constructor(){__publicField(this,"detectors"),this.detectors=new Map,this.registerDetectors()}static getInstance(){return e.instance||(e.instance=new e),e.instance}registerDetectors(){this.detectors.set("dangerous_dom_operations",new P),this.detectors.set("user_input_handling",new A)}getDetector(e){return this.detectors.get(e)}getAllDetectors(){return Array.from(this.detectors.values())}registerDetector(e){this.detectors.set(e.type,e)}};__publicField(I,"instance");let O=I;class L{detect(e){const t=[],n=e.split("\n"),r=this.getPatterns();return n.forEach((e,n)=>{r.forEach(({pattern:r,type:i,message:o,suggestion:a,severity:s})=>{r.test(e)&&t.push({type:i,severity:s,message:`第${n+1}行: ${o}`,suggestion:a})})}),t}}class j extends L{constructor(){super(...arguments),__publicField(this,"type","sql_injection")}getPatterns(){return[{pattern:/['"`]\s*\+\s*[^'"`]+\s*\+\s*['"`]/g,type:"string_concatenation_sql",message:"使用字符串拼接构建SQL查询可能导致SQL注入",suggestion:"使用参数化查询或预处理语句",severity:"critical"},{pattern:/\$\{[^}]*\}.*(?:SELECT|INSERT|UPDATE|DELETE|DROP|CREATE)/gi,type:"template_literal_sql",message:"在模板字符串中直接插入变量构建SQL可能导致注入",suggestion:"使用参数化查询替代模板字符串拼接",severity:"critical"},{pattern:/(?:SELECT|INSERT|UPDATE|DELETE|DROP|CREATE).*['"`]\s*\+/gi,type:"sql_string_concat",message:"SQL语句中使用字符串拼接可能导致注入攻击",suggestion:"使用ORM或参数化查询",severity:"critical"},{pattern:/\.query\s*\(\s*['"`][^'"`]*['"`]\s*\+/g,type:"query_concatenation",message:"数据库查询方法中使用字符串拼接",suggestion:"使用参数化查询方法",severity:"critical"}]}}class R extends L{constructor(){super(...arguments),__publicField(this,"type","unsafe_db_operations")}getPatterns(){return[{pattern:/\.exec\s*\(\s*['"`][^'"`]*['"`]\s*\+/g,type:"exec_concatenation",message:"使用exec方法执行拼接的SQL语句",suggestion:"使用参数化的exec方法",severity:"critical"},{pattern:/eval\s*\(.*(?:SELECT|INSERT|UPDATE|DELETE)/gi,type:"eval_sql",message:"使用eval执行SQL相关代码极其危险",suggestion:"完全避免使用eval，使用安全的数据库操作方法",severity:"critical"},{pattern:/new\s+Function\s*\(.*(?:SELECT|INSERT|UPDATE|DELETE)/gi,type:"function_constructor_sql",message:"使用Function构造器执行SQL相关代码",suggestion:"避免动态生成SQL代码",severity:"critical"}]}}class M extends L{constructor(){super(...arguments),__publicField(this,"type","input_validation")}getPatterns(){return[{pattern:/(?:req\.body|req\.params|req\.query)\.[^\s]*.*(?:SELECT|INSERT|UPDATE|DELETE)/gi,type:"direct_user_input_sql",message:"直接使用用户输入构建SQL查询",suggestion:"对用户输入进行验证和清理后再使用",severity:"high"},{pattern:/process\.argv.*(?:SELECT|INSERT|UPDATE|DELETE)/gi,type:"command_line_input_sql",message:"直接使用命令行参数构建SQL查询",suggestion:"验证和清理命令行输入",severity:"high"}]}}const B=class e{constructor(){__publicField(this,"detectors"),this.detectors=new Map,this.registerDetectors()}static getInstance(){return e.instance||(e.instance=new e),e.instance}registerDetectors(){this.detectors.set("sql_injection",new j),this.detectors.set("unsafe_db_operations",new R),this.detectors.set("input_validation",new M)}getDetector(e){return this.detectors.get(e)}getAllDetectors(){return Array.from(this.detectors.values())}registerDetector(e){this.detectors.set(e.type,e)}};__publicField(B,"instance");let J=B;const z=class e{static analyze(t){const n=[];try{const r=e.XssChecker.analyze(t);n.push(...r);const i=e.SQLChecker.analyze(t);n.push(...i);const o=e.MemoryChecker.analyze(t);n.push(...o)}catch(r){console.error("安全检测过程中发生错误:",r),n.push({type:"security_analysis_error",severity:"medium",message:"安全检测过程中发生错误",suggestion:"请检查代码格式是否正确"})}return n}static categorizeIssues(e){return{critical:e.filter(e=>"critical"===e.severity),high:e.filter(e=>"high"===e.severity),medium:e.filter(e=>"medium"===e.severity),low:e.filter(e=>"low"===e.severity)}}static getSecurityScore(e){if(0===e.length)return 100;const t={critical:25,high:15,medium:8,low:3},n=e.reduce((e,n)=>e+(t[n.severity]||0),0);return Math.max(0,100-n)}};__publicField(z,"MemoryChecker",new class{constructor(){__publicField(this,"detectorFactory"),this.detectorFactory=F.getInstance()}analyze(e){const t=this.detectorFactory.getAllDetectors();let n=[];return t.forEach(t=>{n=[...n,...t.detect(e)]}),n}analyzeByType(e,t){const n=this.detectorFactory.getDetector(t);return n?n.detect(e):[]}}),__publicField(z,"XssChecker",new class{constructor(){__publicField(this,"detectorFactory"),this.detectorFactory=O.getInstance()}analyze(e){return this.detectorFactory.getAllDetectors().flatMap(t=>t.detect(e))}analyzeByType(e,t){const n=this.detectorFactory.getDetector(t);return n?n.detect(e):[]}}),__publicField(z,"SQLChecker",new class{constructor(){__publicField(this,"detectorFactory"),this.detectorFactory=J.getInstance()}analyze(e){return this.detectorFactory.getAllDetectors().flatMap(t=>t.detect(e))}analyzeByType(e,t){const n=this.detectorFactory.getDetector(t);return n?n.detect(e):[]}});let q=z;class V extends e{constructor(){super(),__publicField(this,"syntaxChecker",m),__publicField(this,"astTraverser"),this.syntaxChecker=m,this.astTraverser=new g}getLanguageName(){return"typescript"}getSupportedExtensions(){return[".ts",".tsx"]}analyze(e){const t=this.parseCode(e),n=this.getSyntaxErrors(e),r=this.analyzeComplexity(t),i=v(e),o=q.analyze(e);return __spreadProps(__spreadValues({},r),{errors:n,codeSmells:i,security:o})}analyzeComplexity(e){const t=y(e);let n=1,r=0;t.forEach(e=>{n+=e.cyclomaticComplexity,r+=e.cognitiveComplexity});const i={visitNode:e=>{!this.isInsideFunction(e)&&this.isComplexityNode(e)&&(n++,r++)}};this.astTraverser.traverse(e,i);const o=e.getFullText().split("\n").filter(e=>e.trim()&&!e.trim().startsWith("//")).length;return{cyclomaticComplexity:n,cognitiveComplexity:r,functions:t,maintainabilityIndex:this.calculateMaintainabilityIndex(n,t.length,o),codeSmells:[]}}parseCode(e){return _.createSourceFile("temp.ts",e,_.ScriptTarget.Latest,!0)}getSyntaxErrors(e,t){try{const n=[];return this.syntaxChecker.checkAll(e,e=>{n.push(...e)},t),this.formatAnalysisErrors(n)}catch(n){return[`TypeScript analysis failed: ${n instanceof Error?n.message:"Unknown error"}`]}}traverseAST(e,t){const n={visitNode:e=>{t(e)}};this.astTraverser.traverse(e,n)}isComplexityNode(e){return _.isIfStatement(e)||_.isWhileStatement(e)||_.isForStatement(e)||_.isForInStatement(e)||_.isForOfStatement(e)||_.isSwitchStatement(e)||_.isConditionalExpression(e)||_.isCatchClause(e)||e.kind===_.SyntaxKind.BarBarToken||e.kind===_.SyntaxKind.AmpersandAmpersandToken}isInsideFunction(e){let t=e.parent;for(;t;){if(_.isFunctionDeclaration(t)||_.isMethodDeclaration(t)||_.isFunctionExpression(t)||_.isArrowFunction(t))return!0;t=t.parent}return!1}calculateMaintainabilityIndex(e,t,n){const r=2*e+(t>10?1.5*(t-10):0)+(n>300?.05*(n-300):0),i=Math.max(0,Math.min(100,100-r));return Math.round(i)}}class U{static registerStrategy(e){this.strategies.set(e.name,e)}static getStrategy(e){return this.strategies.get(e)}static getAllStrategies(){return Array.from(this.strategies.values())}}__publicField(U,"strategies",new Map),U.registerStrategy(new class{constructor(){__publicField(this,"name","basic-syntax")}check(e){try{const t=this.createSourceFile(e);return this.getSyntaxErrors(t)}catch(t){return[{line:0,column:0,length:0,message:`Syntax analysis failed: ${t instanceof Error?t.message:"Unknown error"}`,severity:"error"}]}}createSourceFile(e){return _.createSourceFile("temp.js",e,_.ScriptTarget.ES2020,!0,_.ScriptKind.JS)}getSyntaxErrors(e){return _.createProgram([e.fileName],{allowJs:!0,target:_.ScriptTarget.ES2020,noResolve:!0},this.createCompilerHost(e)).getSyntacticDiagnostics(e).filter(this.isRelevantError).map(this.convertToAnalysisError)}createCompilerHost(e){return{getSourceFile:t=>t===e.fileName?e:void 0,writeFile:()=>{},getCurrentDirectory:()=>"",getDirectories:()=>[],fileExists:()=>!1,readFile:()=>{},getCanonicalFileName:e=>e,useCaseSensitiveFileNames:()=>!0,getNewLine:()=>"\n",getDefaultLibFileName:()=>""}}isRelevantError(e){const t=_.flattenDiagnosticMessageText(e.messageText,"\n");return!t.includes("Cannot find module")&&!t.includes("Cannot find name")}convertToAnalysisError(e){var t;const n=null==(t=e.file)?void 0:t.getLineAndCharacterOfPosition(e.start);return{line:n?n.line+1:0,column:n?n.character+1:0,length:e.length||0,message:_.flattenDiagnosticMessageText(e.messageText,"\n"),severity:"error"}}}),U.registerStrategy(new class{constructor(){__publicField(this,"name","code-style"),__publicField(this,"rules",[this.checkEqualityOperators,this.checkVarUsage,this.checkConsoleLogs])}check(e){return e.split("\n").flatMap((e,t)=>this.checkLine(e,t+1))}checkLine(e,t){return this.rules.flatMap(n=>n.call(this,e,t))}checkEqualityOperators(e,t){const n=e.search(new RegExp("(?<!!)={2}(?!=)"));return-1===n?[]:[{line:t,column:n+1,length:2,message:"Use === instead of == for strict equality",severity:"warning"}]}checkVarUsage(e,t){const n=e.indexOf("var ");return-1===n?[]:[{line:t,column:n+1,length:3,message:"Consider using let or const instead of var",severity:"info"}]}checkConsoleLogs(e,t){const n=e.indexOf("console.log");return-1===n?[]:[{line:t,column:n+1,length:11,message:"Consider removing console.log in production",severity:"info"}]}}),U.registerStrategy(new class{constructor(){__publicField(this,"name","javascript-specific-issues")}check(e){const t=[];return e.split("\n").forEach((n,r)=>{const i=r+1;this.checkEvalUsage(n,i,t),this.checkWithStatement(n,i,t),this.checkWindowUsage(n,i,t),this.checkAsyncWithoutErrorHandling(n,i,e,t),this.checkPromiseWithoutCatch(n,i,t)}),t}checkEvalUsage(e,t,n){e.includes("eval(")&&n.push({line:t,column:e.indexOf("eval(")+1,length:4,message:"Avoid using eval() as it can be dangerous and affects performance",severity:"warning"})}checkWithStatement(e,t,n){e.includes("with(")&&n.push({line:t,column:e.indexOf("with(")+1,length:4,message:"Avoid using with statement as it can cause confusion",severity:"warning"})}checkWindowUsage(e,t,n){e.includes("window.")&&!e.includes("typeof window")&&n.push({line:t,column:e.indexOf("window.")+1,length:6,message:"Consider checking if window object exists before using it",severity:"info"})}checkAsyncWithoutErrorHandling(e,t,n,r){!e.includes("async ")||n.includes("try")||n.includes("catch")||r.push({line:t,column:e.indexOf("async")+1,length:5,message:"Async functions should include error handling with try-catch",severity:"info"})}checkPromiseWithoutCatch(e,t,n){e.includes(".then(")&&!e.includes(".catch(")&&n.push({line:t,column:e.indexOf(".then(")+1,length:5,message:"Promise chains should include error handling with .catch()",severity:"info"})}});class W{constructor(){__publicField(this,"observers",[]),__publicField(this,"resultCollector",{errors:[],completeCount:0})}attach(e){this.observers.push(e)}detach(e){this.observers=this.observers.filter(t=>t!==e)}notify(e,t){this.observers.forEach(n=>n.onCheckComplete(e,t))}checkWithStrategy(e,t){const n=U.getStrategy(e);if(n){const r=n.check(t);this.notify(e,r)}}checkAll(e){this.resultCollector={errors:[],completeCount:0};const t=U.getAllStrategies(),n=t.length;t.forEach(t=>{const r=t.check(e);this.resultCollector.errors.push(...r),this.resultCollector.completeCount++,this.resultCollector.completeCount===n&&this.notify("all",this.resultCollector.errors)})}}const $=class e{constructor(){__publicField(this,"subject"),this.subject=new W}static getInstance(){return e.instance||(e.instance=new e),e.instance}registerObserver(e){this.subject.attach(e)}checkStrategy(e,t){this.subject.checkWithStrategy(e,t)}checkAll(e){this.subject.checkAll(e)}withPerformanceLogging(e){return(...t)=>{const n=performance.now(),r=e.apply(this,t),i=performance.now();return console.log(`Check completed in ${(i-n).toFixed(2)}ms`),r}}};__publicField($,"instance");let H=$;const K={checkAll:(e,t)=>{const n=H.getInstance();if(t){const e={onCheckComplete:(e,n)=>t(n)};n.registerObserver(e)}n.withPerformanceLogging(n.checkAll)(e)},checkSyntax:(e,t)=>{const n=H.getInstance();if(t){const e={onCheckComplete:(e,n)=>t(n)};n.registerObserver(e)}n.withPerformanceLogging(n.checkStrategy)("basic-syntax",e)},checkStyle:(e,t)=>{const n=H.getInstance();if(t){const e={onCheckComplete:(e,n)=>t(n)};n.registerObserver(e)}n.withPerformanceLogging(n.checkStrategy)("code-style",e)},checkJavaScriptSpecificIssues:(e,t)=>{const n=H.getInstance();if(t){const e={onCheckComplete:(e,n)=>t(n)};n.registerObserver(e)}n.withPerformanceLogging(n.checkStrategy)("javascript-specific-issues",e)},registerStrategy:e=>{U.registerStrategy(e)}};class G extends e{constructor(){super(),__publicField(this,"tsAnalyzer"),__publicField(this,"syntaxChecker"),this.tsAnalyzer=new V,this.syntaxChecker=K}getLanguageName(){return"javascript"}getSupportedExtensions(){return[".js",".jsx",".mjs"]}analyze(e){return this.analyzeJavaScript(e)}analyzeJavaScript(e){const t=this.detectEsVersion(e),{sourceFile:n,moduleType:r}=this.parseJsCode(e,t),i=this.getJsSyntaxErrors(n),o=this.tsAnalyzer.analyzeComplexity(n),a=v(e),s=q.analyze(e);return __spreadProps(__spreadValues({},o),{esVersion:this.getEsVersionName(t),moduleType:r,errors:i,codeSmells:a,security:s})}parseJsCode(e,t=_.ScriptTarget.ES2020){const n=this.detectModuleType(e);return{sourceFile:_.createSourceFile("temp.js",e,t,!0,_.ScriptKind.JS),moduleType:n}}getJsSyntaxErrors(e){try{const t=e.getFullText(),n=[];return this.syntaxChecker.checkAll(t,e=>{n.push(...e)}),this.formatAnalysisErrors(n)}catch(t){return[`JavaScript analysis failed: ${t instanceof Error?t.message:"Unknown error"}`]}}detectModuleType(e){return e.includes("require(")||e.includes("module.exports")||e.includes("exports.")?"commonjs":e.includes("import ")||e.includes("export ")?"esm":"script"}detectEsVersion(e){return e.includes("class")&&e.includes("extends")?_.ScriptTarget.ES2015:e.includes("async")&&e.includes("await")?_.ScriptTarget.ES2017:(e.includes("??")||e.includes("?."),_.ScriptTarget.ES2020)}getEsVersionName(e){return{[_.ScriptTarget.ES2015]:"ES6 (2015)",[_.ScriptTarget.ES2017]:"ES2017",[_.ScriptTarget.ES2020]:"ES2020",[_.ScriptTarget.Latest]:"Latest"}[e]||"Unknown"}}const X=class{static getAnalyzer(e){const t=this.analyzers.get(e);if(!t)throw new Error(`Unsupported language: ${e}`);return t}static getAnalyzerByExtension(e){const t=this.getFileExtension(e),n=this.extensionMap.get(t);if(!n)throw new Error(`Unsupported file extension: ${t}`);return this.getAnalyzer(n)}static registerAnalyzer(e,t){this.analyzers.set(e,t),t.getSupportedExtensions().forEach(t=>{this.extensionMap.set(t,e)})}static detectLanguage(e,t){if(t)try{const e=this.getFileExtension(t),n=this.extensionMap.get(e);if(n)return n}catch(r){}const n=this.hasJsxSyntax(e);return this.hasTypeScriptFeatures(e)?n?"typescriptreact":"typescript":n?"javascriptreact":"javascript"}static getSupportedLanguages(){return Array.from(this.analyzers.keys())}static getSupportedExtensions(){return Array.from(this.extensionMap.keys())}static getFileExtension(e){const t=e.lastIndexOf(".");return t>0?e.substring(t):""}static hasTypeScriptFeatures(e){return[/:\s*\w+/,/interface\s+\w+/,/type\s+\w+\s*=/,/<\w+>/,/as\s+\w+/].some(t=>t.test(e))}static hasJsxSyntax(e){return[/<[A-Z][a-zA-Z0-9]*[^>]*>/,/<[a-z]+[^>]*>/,/<\/[A-Za-z][a-zA-Z0-9]*>/,/className=/,/onClick=/,/return\s*\(/].some(t=>t.test(e))}};__publicField(X,"analyzers",new Map),__publicField(X,"extensionMap",new Map),(()=>{const e=new V,t=new G;X.registerAnalyzer("typescript",e),X.registerAnalyzer("javascript",t),X.registerAnalyzer("typescriptreact",e),X.registerAnalyzer("javascriptreact",t)})();let Q=X;self.onmessage=e=>__async(null,null,function*(){const{id:t,type:n,payload:r}=e.data;try{switch(n){case"PARSE_CODE":{if(!r)throw new Error("Missing payload for PARSE_CODE");const{code:e,language:n,filename:i}=r;if(!e)throw new Error("Code is required");const o=n||Q.detectLanguage(i||"",e),a=Q.getAnalyzer(o),s={id:t,type:"PARSE_COMPLETE",result:a.analyze(e)};self.postMessage(s);break}default:throw new Error(`Unknown message type: ${n}`)}}catch(i){const e={id:t,type:"PARSE_ERROR",error:i instanceof Error?i.message:"Unknown error occurred"};self.postMessage(e)}})}();
rn r||(r=Ps(4,e.symbol),e.instantiations.set(n,r),r.objectFlags|=t?ay(t):0,r.target=e,r.resolvedTypeArguments=t),r}function ly(e){const t=Ds(e.flags,e.symbol);return t.objectFlags=e.objectFlags,t.target=e.target,t.resolvedTypeArguments=e.resolvedTypeArguments,t}function _y(e,t,n,r,i){if(!r){const e=rk(r=Yx(t));i=n?Rk(e,n):e}const o=Ps(4,e.symbol);return o.target=e,o.node=t,o.mapper=n,o.aliasSymbol=r,o.aliasTypeArguments=i,o}function uy(e){var t,n;if(!e.resolvedTypeArguments){if(!Rc(e,5))return X(e.target.outerTypeParameters,null==(t=e.target.localTypeParameters)?void 0:t.map(()=>Et))||u;const i=e.node,o=i?183===i.kind?X(e.target.outerTypeParameters,HR(i,e.target.localTypeParameters)):188===i.kind?[Pk(i.elementType)]:A(i.elements,Pk):u;zc()?null!=e.resolvedTypeArguments||(e.resolvedTypeArguments=e.mapper?Rk(o,e.mapper):o):(null!=e.resolvedTypeArguments||(e.resolvedTypeArguments=X(e.target.outerTypeParameters,(null==(n=e.target.localTypeParameters)?void 0:n.map(()=>Et))||u)),Lo(e.node||r,e.target.symbol?ma.Type_arguments_for_0_circularly_reference_themselves:ma.Tuple_type_arguments_circularly_reference_themselves,e.target.symbol&&nc(e.target.symbol)))}return e.resolvedTypeArguments}function dy(e){return p(e.target.typeParameters)}function my(e,t){const n=vu(ps(t)),r=n.localTypeParameters;if(r){const t=p(e.typeArguments),i=yg(r),o=Om(e);if((te||!o)&&(t<i||t>r.length)){const t=o&&FF(e)&&!xP(e.parent);if(Lo(e,i===r.length?t?ma.Expected_0_type_arguments_provide_these_with_an_extends_tag:ma.Generic_type_0_requires_1_type_argument_s:t?ma.Expected_0_1_type_arguments_provide_these_with_an_extends_tag:ma.Generic_type_0_requires_between_1_and_2_type_arguments,oc(n,void 0,2),i,r.length),!o)return Et}return 183===e.kind&&$v(e,p(e.typeArguments)!==r.length)?_y(n,e,void 0):cy(n,X(n.outerTypeParameters,bg(Ry(e),r,i,o)))}return Ay(e,t)?n:Et}function gy(e,t,n,r){const i=vu(e);if(i===It){const n=eJ.get(e.escapedName);if(void 0!==n&&t&&1===t.length)return 4===n?ky(t[0]):ox(e,t[0])}const o=na(e),a=o.typeParameters,s=Yh(t)+oy(n,r);let c=o.instantiations.get(s);return c||o.instantiations.set(s,c=hS(i,Vk(a,bg(t,a,yg(a),Om(e.valueDeclaration))),n,r)),c}function hy(e){var t;const n=null==(t=e.declarations)?void 0:t.find(Ig);return!(!n||!Zf(n))}function yy(e){return e.parent?`${yy(e.parent)}.${e.escapedName}`:e.escapedName}function vy(e){const t=(166===e.kind?e.right:211===e.kind?e.name:e).escapedText;if(t){const n=166===e.kind?vy(e.left):211===e.kind?vy(e.expression):void 0,r=n?`${yy(n)}.${t}`:t;let i=St.get(r);return i||(St.set(r,i=Wo(524288,t,1048576)),i.parent=n,i.links.declaredType=Pt),i}return bt}function by(e,t,n){const r=function(e){switch(e.kind){case 183:return e.typeName;case 233:const t=e.expression;if(ub(t))return t}}(e);if(!r)return bt;const i=Ka(r,t,n);return i&&i!==bt?i:n?bt:vy(r)}function xy(e,t){if(t===bt)return Et;if(96&(t=function(e){const t=e.valueDeclaration;if(!t||!Om(t)||524288&e.flags||Qm(t,!1))return;const n=iE(t)?Gm(t):Xm(t);if(n){const t=ms(n);if(t)return wL(t,e)}}(t)||t).flags)return my(e,t);if(524288&t.flags)return function(e,t){if(1048576&cx(t)){const n=Ry(e),r=oy(t,n);let i=Tt.get(r);return i||(i=Fs(1,"error",void 0,`alias ${r}`),i.aliasSymbol=t,i.aliasTypeArguments=n,Tt.set(r,i)),i}const n=vu(t),r=na(t).typeParameters;if(r){const n=p(e.typeArguments),i=yg(r);if(n<i||n>r.length)return Lo(e,i===r.length?ma.Generic_type_0_requires_1_type_argument_s:ma.Generic_type_0_requires_between_1_and_2_type_arguments,nc(t),i,r.length),Et;const o=Yx(e);let a,s=!o||!hy(t)&&hy(o)?void 0:o;if(s)a=rk(s);else if(Mu(e)){const t=by(e,2097152,!0);if(t&&t!==bt){const n=Ja(t);n&&524288&n.flags&&(s=n,a=Ry(e)||(r?[]:void 0))}}return gy(t,Ry(e),s,a)}return Ay(e,t)?n:Et}(e,t);const n=bu(t);if(n)return Ay(e,t)?mk(n):Et;if(111551&t.flags&&Py(e)){const n=function(e,t){const n=ra(e);if(!n.resolvedJSDocType){const r=w_(t);let i=r;if(t.valueDeclaration){const n=205===e.kind&&e.qualifier;r.symbol&&r.symbol!==t&&n&&(i=xy(e,r.symbol))}n.resolvedJSDocType=i}return n.resolvedJSDocType}(e,t);return n||(by(e,788968),w_(t))}return Et}function ky(e){return Sy(e)?Dy(e,Ot):e}function Sy(e){return!!(3145728&e.flags&&K(e.types,Sy)||33554432&e.flags&&!Ty(e)&&Sy(e.baseType)||524288&e.flags&&!ZS(e)||432275456&e.flags&&!vx(e))}function Ty(e){return!!(33554432&e.flags&&2&e.constraint.flags)}function wy(e,t){return 3&t.flags||t===e||1&e.flags?e:Dy(e,t)}function Dy(e,t){const n=`${Tb(e)}>${Tb(t)}`,r=dt.get(n);if(r)return r;const i=ws(33554432);return i.baseType=e,i.constraint=t,dt.set(n,i),i}function Ny(e){return Ty(e)?e.baseType:qb([e.constraint,e.baseType])}function Fy(e){return 189===e.kind&&1===e.elements.length}function Ey(e,t,n){return Fy(t)&&Fy(n)?Ey(e,t.elements[0],n.elements[0]):Jx(Pk(t))===Jx(e)?Pk(n):void 0}function Py(e){return!!(16777216&e.flags)&&(183===e.kind||205===e.kind)}function Ay(e,t){return!e.typeArguments||(Lo(e,ma.Type_0_is_not_generic,t?nc(t):e.typeName?jp(e.typeName):UB),!1)}function Ly(e){if(tN(e.typeName)){const t=e.typeArguments;switch(e.typeName.escapedText){case"String":return Ay(e),Vt;case"Number":return Ay(e),Ut;case"BigInt":return Ay(e),$t;case"Boolean":return Ay(e),tn;case"Void":return Ay(e),cn;case"Undefined":return Ay(e),Lt;case"Null":return Ay(e),zt;case"Function":case"function":return Ay(e),Gn;case"array":return t&&t.length||te?void 0:cr;case"promise":return t&&t.length||te?void 0:wj(wt);case"Object":if(t&&2===t.length){if(Mm(e)){const e=Pk(t[0]),n=Pk(t[1]),r=e===Vt||e===Ut?[Ih(e,n,!1)]:u;return Js(void 0,D,u,u,r)}return wt}return Ay(e),te?void 0:wt}}}function jy(e){const t=ra(e);if(!t.resolvedType){if(Dl(e)&&X_(e.parent))return t.resolvedSymbol=bt,t.resolvedType=uR(e.parent.expression);let n,r;const i=788968;Py(e)&&(r=Ly(e),r||(n=by(e,i,!0),n===bt?n=by(e,111551|i):by(e,i),r=xy(e,n))),r||(n=by(e,i),r=xy(e,n)),t.resolvedSymbol=n,t.resolvedType=r}return t.resolvedType}function Ry(e){return A(e.typeArguments,Pk)}function Jy(e){const t=ra(e);if(!t.resolvedType){const n=zL(e);t.resolvedType=mk(Bw(n))}return t.resolvedType}function qy(e,t){function n(e){const t=e.declarations;if(t)for(const n of t)switch(n.kind){case 263:case 264:case 266:return n}}if(!e)return t?On:Dn;const r=vu(e);return 524288&r.flags?p(r.typeParameters)!==t?(Lo(n(e),ma.Global_type_0_must_have_1_type_parameter_s,Sc(e),t),t?On:Dn):r:(Lo(n(e),ma.Global_type_0_must_be_a_class_or_interface_type,Sc(e)),t?On:Dn)}function Vy(e,t){return $y(e,111551,t?ma.Cannot_find_global_value_0:void 0)}function Uy(e,t){return $y(e,788968,t?ma.Cannot_find_global_type_0:void 0)}function Wy(e,t,n){const r=$y(e,788968,n?ma.Cannot_find_global_type_0:void 0);if(!r||(vu(r),p(na(r).typeParameters)===t))return r;Lo(r.declarations&&k(r.declarations,lE),ma.Global_type_0_must_have_1_type_parameter_s,Sc(r),t)}function $y(e,t,n){return ze(void 0,e,t,n,!1,!1)}function Hy(e,t,n){const r=Uy(e,n);return r||n?qy(r,t):void 0}function Ky(e,t){let n;for(const r of e)n=se(n,Hy(r,t,!1));return null!=n?n:u}function Gy(){return Lr||(Lr=Hy("ImportMeta",0,!0)||Dn)}function Xy(){if(!jr){const e=Wo(0,"ImportMetaExpression"),t=Gy(),n=Wo(4,"meta",8);n.parent=e,n.links.type=t;const r=Yu([n]);e.members=r,jr=Js(e,r,u,u,u)}return jr}function Qy(e){return Rr||(Rr=Hy("ImportCallOptions",0,e))||Dn}function Zy(e){return Mr||(Mr=Hy("ImportAttributes",0,e))||Dn}function Yy(e){return dr||(dr=Vy("Symbol",e))}function tv(){return fr||(fr=Hy("Symbol",0,!1))||Dn}function nv(e){return gr||(gr=Hy("Promise",1,e))||On}function rv(e){return hr||(hr=Hy("PromiseLike",1,e))||On}function iv(e){return yr||(yr=Vy("Promise",e))}function ov(e){return Dr||(Dr=Hy("AsyncIterable",3,e))||On}function av(e){return Fr||(Fr=Hy("AsyncIterableIterator",3,e))||On}function sv(e){return br||(br=Hy("Iterable",3,e))||On}function _v(e){return kr||(kr=Hy("IterableIterator",3,e))||On}function gv(){return Y?Lt:wt}function hv(e){return Br||(Br=Hy("Disposable",0,e))||Dn}function vv(e,t=0){const n=$y(e,788968,void 0);return n&&qy(n,t)}function Sv(e){return Vr||(Vr=Wy("Awaited",1,e)||(e?bt:void 0)),Vr===bt?void 0:Vr}function Tv(e,t){return e!==On?cy(e,t):Dn}function Cv(e){return Tv(mr||(mr=Hy("TypedPropertyDescriptor",1,!0)||On),[e])}function wv(e){return Tv(sv(!0),[e,cn,Lt])}function Dv(e,t){return Tv(t?er:Yn,[e])}function Nv(e){switch(e.kind){case 190:return 2;case 191:return qv(e);case 202:return e.questionToken?2:e.dotDotDotToken?qv(e):1;default:return 1}}function qv(e){return Ek(e.type)?4:8}function Vv(e){const t=function(e){return GN(e)&&148===e.operator}(e.parent);return Ek(e)?t?er:Yn:Xv(A(e.elements,Nv),t,A(e.elements,Wv))}function Wv(e){return JN(e)||vN(e)?e:void 0}function $v(e,t){return!!Yx(e)||Hv(e)&&(188===e.kind?Kv(e.elementType):189===e.kind?K(e.elements,Kv):t||K(e.typeArguments,Kv))}function Hv(e){const t=e.parent;switch(t.kind){case 196:case 202:case 183:case 192:case 193:case 199:case 194:case 198:case 188:case 189:return Hv(t);case 265:return!0}return!1}function Kv(e){switch(e.kind){case 183:return Py(e)||!!(524288&by(e,788968).flags);case 186:return!0;case 198:return 158!==e.operator&&Kv(e.type);case 196:case 190:case 202:case 316:case 314:case 315:case 309:return Kv(e.type);case 191:return 188!==e.type.kind||Kv(e.type.elementType);case 192:case 193:return K(e.types,Kv);case 199:return Kv(e.objectType)||Kv(e.indexType);case 194:return Kv(e.checkType)||Kv(e.extendsType)||Kv(e.trueType)||Kv(e.falseType)}return!1}function Gv(e,t,n=!1,r=[]){const i=Xv(t||A(e,e=>1),n,r);return i===On?Dn:e.length?eb(i,e):i}function Xv(e,t,n){if(1===e.length&&4&e[0])return t?er:Yn;const r=A(e,e=>1&e?"#":2&e?"?":4&e?".":"*").join()+(t?"R":"")+(K(n,e=>!!e)?","+A(n,e=>e?rJ(e):"_").join(","):"");let i=Qe.get(r);return i||Qe.set(r,i=function(e,t,n){const r=e.length,i=N(e,e=>!!(9&e));let o;const a=[];let s=0;if(r){o=new Array(r);for(let i=0;i<r;i++){const r=o[i]=As(),c=e[i];if(s|=c,!(12&s)){const e=Wo(4|(2&c?16777216:0),""+i,t?8:0);e.links.tupleLabelDeclaration=null==n?void 0:n[i],e.links.type=r,a.push(e)}}}const c=a.length,l=Wo(4,"length",t?8:0);if(12&s)l.links.type=Ut;else{const e=[];for(let t=i;t<=r;t++)e.push(yk(t));l.links.type=Ob(e)}a.push(l);const _=Ps(12);return _.typeParameters=o,_.outerTypeParameters=void 0,_.localTypeParameters=o,_.instantiations=new Map,_.instantiations.set(Yh(_.typeParameters),_),_.target=_,_.resolvedTypeArguments=_.typeParameters,_.thisType=As(),_.thisType.isThisType=!0,_.thisType.constraint=_,_.declaredProperties=a,_.declaredCallSignatures=u,_.declaredConstructSignatures=u,_.declaredIndexInfos=u,_.elementFlags=e,_.minLength=i,_.fixedLength=c,_.hasRestElement=!!(12&s),_.combinedFlags=s,_.readonly=t,_.labeledElementDeclarations=n,_}(e,t,n)),i}function eb(e,t){return 8&e.objectFlags?tb(e,t):cy(e,t)}function tb(e,t){var n,i,o,a;if(!(14&e.combinedFlags))return cy(e,t);if(8&e.combinedFlags){const n=T(t,(t,n)=>!!(8&e.elementFlags[n]&&1179648&t.flags));if(n>=0)return Ub(A(t,(t,n)=>8&e.elementFlags[n]?t:Ot))?CF(t[n],r=>tb(e,we(t,n,r))):Et}const s=[],c=[],l=[];let _=-1,u=-1,d=-1;for(let g=0;g<t.length;g++){const c=t[g],l=e.elementFlags[g];if(8&l)if(1&c.flags)m(c,4,null==(n=e.labeledElementDeclarations)?void 0:n[g]);else if(58982400&c.flags||Sp(c))m(c,8,null==(i=e.labeledElementDeclarations)?void 0:i[g]);else if(ow(c)){const e=Sb(c);if(e.length+s.length>=1e4)return Lo(r,Ef(r)?ma.Type_produces_a_tuple_type_that_is_too_large_to_represent:ma.Expression_produces_a_tuple_type_that_is_too_large_to_represent),Et;f(e,(e,t)=>{var n;return m(e,c.target.elementFlags[t],null==(n=c.target.labeledElementDeclarations)?void 0:n[t])})}else m(zC(c)&&Jm(c,Ut)||Et,4,null==(o=e.labeledElementDeclarations)?void 0:o[g]);else m(c,l,null==(a=e.labeledElementDeclarations)?void 0:a[g])}for(let r=0;r<_;r++)2&c[r]&&(c[r]=1);u>=0&&u<d&&(s[u]=Ob(O(s.slice(u,d+1),(e,t)=>8&c[u+t]?Lx(e,Ut):e)),s.splice(u+1,d-u),c.splice(u+1,d-u),l.splice(u+1,d-u));const p=Xv(c,e.readonly,l);return p===On?Dn:c.length?cy(p,s):p;function m(e,t,n){1&t&&(_=c.length),4&t&&u<0&&(u=c.length),6&t&&(d=c.length),s.push(2&t?pl(e,!0):e),c.push(t),l.push(n)}}function nb(e,t,n=0){const r=e.target,i=dy(e)-n;return t>r.fixedLength?function(e){const t=cw(e);return t&&Dv(t)}(e)||Gv(u):Gv(uy(e).slice(t,i),r.elementFlags.slice(t,i),!1,r.labeledElementDeclarations&&r.labeledElementDeclarations.slice(t,i))}function ab(e){return Ob(se(je(e.target.fixedLength,e=>hk(""+e)),tx(e.target.readonly?er:Yn)))}function lb(e,t){return e.elementFlags.length-C(e.elementFlags,e=>!(e&t))-1}function kb(e){return e.fixedLength+lb(e,3)}function Sb(e){const t=uy(e),n=dy(e);return t.length===n?t:t.slice(0,n)}function Tb(e){return e.id}function wb(e,t){return De(e,t,Tb,kt)>=0}function Db(e,t){const n=De(e,t,Tb,kt);return n<0&&(e.splice(~n,0,t),!0)}function Nb(e,t,n){const r=n.flags;if(!(131072&r))if(t|=473694207&r,465829888&r&&(t|=33554432),2097152&r&&67108864&xx(n)&&(t|=536870912),n===Nt&&(t|=8388608),Hc(n)&&(t|=1073741824),!$&&98304&r)65536&xx(n)||(t|=4194304);else{const t=e.length,r=t&&n.id>e[t-1].id?~t:De(e,n,Tb,kt);r<0&&e.splice(~r,0,n)}return t}function Fb(e,t,n){let r;for(const i of n)i!==r&&(t=1048576&i.flags?Fb(e,t|(Pb(i)?1048576:0),i.types):Nb(e,t,i),r=i);return t}function Eb(e,t){return 134217728&t.flags?yD(e,t):mD(e,t)}function Pb(e){return!!(1048576&e.flags&&(e.aliasSymbol||e.origin))}function Ab(e,t){for(const n of t)if(1048576&n.flags){const t=n.origin;n.aliasSymbol||t&&!(1048576&t.flags)?ue(e,n):t&&1048576&t.flags&&Ab(e,t.types)}}function Ib(e,t){const n=Ns(e);return n.types=t,n}function Ob(e,t=1,n,r,i){if(0===e.length)return _n;if(1===e.length)return e[0];if(2===e.length&&!i&&(1048576&e[0].flags||1048576&e[1].flags)){const i=0===t?"N":2===t?"S":"L",o=e[0].id<e[1].id?0:1,a=e[o].id+i+e[1-o].id+oy(n,r);let s=Ye.get(a);return s||(s=Lb(e,t,n,r,void 0),Ye.set(a,s)),s}return Lb(e,t,n,r,i)}function Lb(e,t,n,i,o){let a=[];const s=Fb(a,0,e);if(0!==t){if(3&s)return 1&s?8388608&s?Nt:1073741824&s?Et:wt:Ot;if(32768&s&&a.length>=2&&a[0]===Lt&&a[1]===Rt&&Wt(a,1),(402664352&s||16384&s&&32768&s)&&function(e,t,n){let r=e.length;for(;r>0;){r--;const i=e[r],o=i.flags;(402653312&o&&4&t||256&o&&8&t||2048&o&&64&t||8192&o&&4096&t||n&&32768&o&&16384&t||gk(i)&&wb(e,i.regularType))&&Wt(e,r)}}(a,s,!!(2&t)),128&s&&402653184&s&&function(e){const t=F(e,vx);if(t.length){let n=e.length;for(;n>0;){n--;const r=e[n];128&r.flags&&K(t,e=>Eb(r,e))&&Wt(e,n)}}}(a),536870912&s&&function(e){const t=[];for(const n of e)if(2097152&n.flags&&67108864&xx(n)){const e=8650752&n.types[0].flags?0:1;ue(t,n.types[e])}for(const n of t){const t=[];for(const r of e)if(2097152&r.flags&&67108864&xx(r)){const e=8650752&r.types[0].flags?0:1;r.types[e]===n&&Db(t,r.types[1-e])}if(gF(_f(n),e=>wb(t,e))){let r=e.length;for(;r>0;){r--;const i=e[r];if(2097152&i.flags&&67108864&xx(i)){const o=8650752&i.types[0].flags?0:1;i.types[o]===n&&wb(t,i.types[1-o])&&Wt(e,r)}}Db(e,n)}}}(a),2===t&&(a=function(e,t){var n;if(e.length<2)return e;const i=Yh(e),o=pt.get(i);if(o)return o;const a=t&&K(e,e=>!!(524288&e.flags)&&!Sp(e)&&GS(Cp(e))),s=e.length;let c=s,l=0;for(;c>0;){c--;const t=e[c];if(a||469499904&t.flags){if(262144&t.flags&&1048576&uf(t).flags){iT(t,Ob(A(e,e=>e===t?_n:e)),ho)&&Wt(e,c);continue}const i=61603840&t.flags?k(Fp(t),e=>XC(w_(e))):void 0,o=i&&mk(w_(i));for(const a of e)if(t!==a){if(1e5===l&&l/(s-c)*s>1e6)return null==(n=Xn)||n.instant(Xn.Phase.CheckTypes,"removeSubtypes_DepthLimit",{typeIds:e.map(e=>e.id)}),void Lo(r,ma.Expression_produces_a_union_type_that_is_too_complex_to_represent);if(l++,i&&61603840&a.flags){const e=Uc(a,i.escapedName);if(e&&XC(e)&&mk(e)!==o)continue}if(iT(t,a,ho)&&(!(1&xx(A_(t)))||!(1&xx(A_(a)))||AS(t,a))){Wt(e,c);break}}}}return pt.set(i,e),e}(a,!!(524288&s)),!a))return Et;if(0===a.length)return 65536&s?4194304&s?zt:qt:32768&s?4194304&s?Lt:jt:_n}if(!o&&1048576&s){const t=[];Ab(t,e);const r=[];for(const e of a)K(t,t=>wb(t.types,e))||r.push(e);if(!n&&1===t.length&&0===r.length)return t[0];if(Fe(t,(e,t)=>e+t.types.length,0)+r.length===a.length){for(const e of t)Db(r,e);o=Ib(1048576,r)}}return Rb(a,(36323331&s?0:32768)|(2097152&s?16777216:0),n,i,o)}function jb(e,t){return e.kind===t.kind&&e.parameterIndex===t.parameterIndex}function Rb(e,t,n,r,i){if(0===e.length)return _n;if(1===e.length)return e[0];const o=(i?1048576&i.flags?`|${Yh(i.types)}`:2097152&i.flags?`&${Yh(i.types)}`:`#${i.type.id}|${Yh(e)}`:Yh(e))+oy(n,r);let a=Ze.get(o);return a||(a=ws(1048576),a.objectFlags=t|ay(e,98304),a.types=e,a.origin=i,a.aliasSymbol=n,a.aliasTypeArguments=r,2===e.length&&512&e[0].flags&&512&e[1].flags&&(a.flags|=16,a.intrinsicName="boolean"),Ze.set(o,a)),a}function Mb(e,t,n){const r=n.flags;return 2097152&r?Bb(e,t,n.types):(ZS(n)?16777216&t||(t|=16777216,e.set(n.id.toString(),n)):(3&r?(n===Nt&&(t|=8388608),Hc(n)&&(t|=1073741824)):!$&&98304&r||(n===Rt&&(t|=262144,n=Lt),e.has(n.id.toString())||(109472&n.flags&&109472&t&&(t|=67108864),e.set(n.id.toString(),n))),t|=473694207&r),t)}function Bb(e,t,n){for(const r of n)t=Mb(e,t,mk(r));return t}function Jb(e,t){for(const n of e)if(!wb(n.types,t)){if(t===Rt)return wb(n.types,Lt);if(t===Lt)return wb(n.types,Rt);const e=128&t.flags?Vt:288&t.flags?Ut:2048&t.flags?$t:8192&t.flags?an:void 0;if(!e||!wb(n.types,e))return!1}return!0}function zb(e,t){for(let n=0;n<e.length;n++)e[n]=yF(e[n],e=>!(e.flags&t))}function qb(e,t=0,n,r){const i=new Map,o=Bb(i,0,e),a=Re(i.values());let s=0;if(131072&o)return w(a,un)?un:_n;if($&&98304&o&&84410368&o||67108864&o&&402783228&o||402653316&o&&67238776&o||296&o&&469891796&o||2112&o&&469889980&o||12288&o&&469879804&o||49152&o&&469842940&o)return _n;if(402653184&o&&128&o&&function(e){let t=e.length;const n=F(e,e=>!!(128&e.flags));for(;t>0;){t--;const r=e[t];if(402653184&r.flags)for(const i of n){if(FS(i,r)){Wt(e,t);break}if(vx(r))return!0}}return!1}(a))return _n;if(1&o)return 8388608&o?Nt:1073741824&o?Et:wt;if(!$&&98304&o)return 16777216&o?_n:32768&o?Lt:zt;if((4&o&&402653312&o||8&o&&256&o||64&o&&2048&o||4096&o&&8192&o||16384&o&&32768&o||16777216&o&&470302716&o)&&(1&t||function(e,t){let n=e.length;for(;n>0;){n--;const r=e[n];(4&r.flags&&402653312&t||8&r.flags&&256&t||64&r.flags&&2048&t||4096&r.flags&&8192&t||16384&r.flags&&32768&t||ZS(r)&&470302716&t)&&Wt(e,n)}}(a,o)),262144&o&&(a[a.indexOf(Lt)]=Rt),0===a.length)return Ot;if(1===a.length)return a[0];if(2===a.length&&!(2&t)){const e=8650752&a[0].flags?0:1,t=a[e],n=a[1-e];if(8650752&t.flags&&(469893116&n.flags&&!Sx(n)||16777216&o)){const e=_f(t);if(e&&gF(e,e=>!!(469893116&e.flags)||ZS(e))){if(ES(e,n))return t;if(!(1048576&e.flags&&dF(e,e=>ES(e,n))||ES(n,e)))return _n;s=67108864}}}const c=Yh(a)+(2&t?"*":oy(n,r));let l=tt.get(c);if(!l){if(1048576&o)if(function(e){let t;const n=T(e,e=>!!(32768&xx(e)));if(n<0)return!1;let r=n+1;for(;r<e.length;){const i=e[r];32768&xx(i)?((t||(t=[e[n]])).push(i),Wt(e,r)):r++}if(!t)return!1;const i=[],o=[];for(const a of t)for(const e of a.types)if(Db(i,e)&&Jb(t,e)){if(e===Lt&&o.length&&o[0]===Rt)continue;if(e===Rt&&o.length&&o[0]===Lt){o[0]=Rt;continue}Db(o,e)}return e[n]=Rb(o,32768),!0}(a))l=qb(a,t,n,r);else if(x(a,e=>!!(1048576&e.flags&&32768&e.types[0].flags))){const e=K(a,Cw)?Rt:Lt;zb(a,32768),l=Ob([qb(a,t),e],1,n,r)}else if(x(a,e=>!!(1048576&e.flags&&(65536&e.types[0].flags||65536&e.types[1].flags))))zb(a,65536),l=Ob([qb(a,t),zt],1,n,r);else if(a.length>=3&&e.length>2){const e=Math.floor(a.length/2);l=qb([qb(a.slice(0,e),t),qb(a.slice(e),t)],t,n,r)}else{if(!Ub(a))return Et;const e=function(e,t){const n=Vb(e),r=[];for(let i=0;i<n;i++){const n=e.slice();let o=i;for(let t=e.length-1;t>=0;t--)if(1048576&e[t].flags){const r=e[t].types,i=r.length;n[t]=r[o%i],o=Math.floor(o/i)}const a=qb(n,t);131072&a.flags||r.push(a)}return r}(a,t);l=Ob(e,1,n,r,K(e,e=>!!(2097152&e.flags))&&$b(e)>$b(a)?Ib(2097152,a):void 0)}else l=function(e,t,n,r){const i=ws(2097152);return i.objectFlags=t|ay(e,98304),i.types=e,i.aliasSymbol=n,i.aliasTypeArguments=r,i}(a,s,n,r);tt.set(c,l)}return l}function Vb(e){return Fe(e,(e,t)=>1048576&t.flags?e*t.types.length:131072&t.flags?0:e,1)}function Ub(e){var t;const n=Vb(e);return!(n>=1e5&&(null==(t=Xn)||t.instant(Xn.Phase.CheckTypes,"checkCrossProductUnion_DepthLimit",{typeIds:e.map(e=>e.id),size:n}),Lo(r,ma.Expression_produces_a_union_type_that_is_too_complex_to_represent),1))}function Wb(e){return 3145728&e.flags&&!e.aliasSymbol?1048576&e.flags&&e.origin?Wb(e.origin):$b(e.types):1}function $b(e){return Fe(e,(e,t)=>e+Wb(t),0)}function Hb(e,t){const n=ws(4194304);return n.type=e,n.indexFlags=t,n}function Kb(e,t){return 1&t?e.resolvedStringIndexType||(e.resolvedStringIndexType=Hb(e,1)):e.resolvedIndexType||(e.resolvedIndexType=Hb(e,0))}function Gb(e,t){const n=tp(e),r=rp(e),i=ip(e.target||e);if(!(i||2&t))return r;const o=[];if(wx(r)){if(cp(e))return Kb(e,t);tF(r,s)}else cp(e)?Gd(Sf(lp(e)),8576,!!(1&t),s):tF($d(r),s);const a=2&t?yF(Ob(o),e=>!(5&e.flags)):Ob(o);return 1048576&a.flags&&1048576&r.flags&&Yh(a.types)===Yh(r.types)?r:a;function s(t){const r=i?gS(i,iS(e.mapper,n,t)):t;o.push(r===Vt?gn:r)}}function Xb(e){if(nN(e))return _n;if(jD(e))return mk(IR(e));if(hN(e))return mk(YA(e));const t=Uh(e);return void 0!==t?hk(bc(t)):G_(e)?mk(IR(e)):_n}function Qb(e,t,n){if(n||!(6&lx(e))){let n=na(md(e)).nameType;if(!n){const t=Ec(e.valueDeclaration);n="default"===e.escapedName?hk("default"):t&&Xb(t)||(Gh(e)?void 0:hk(Sc(e)))}if(n&&n.flags&t)return n}return _n}function Zb(e,t){return!!(e.flags&t||2097152&e.flags&&K(e.types,e=>Zb(e,t)))}function Yb(e,t,n){const r=n&&(7&xx(e)||e.aliasSymbol)?function(e){const t=Ns(4194304);return t.type=e,t}(e):void 0;return Ob(X(A(Fp(e),e=>Qb(e,t)),A(Am(e),e=>e!==ui&&Zb(e.keyType,t)?e.keyType===Vt&&8&t?gn:e.keyType:_n)),1,void 0,void 0,r)}function ex(e,t=0){return!!(58982400&e.flags||aw(e)||Sp(e)&&(!function(e){const t=tp(e);return function e(n){return!!(470810623&n.flags)||(16777216&n.flags?n.root.isDistributive&&n.checkType===t:137363456&n.flags?x(n.types,e):8388608&n.flags?e(n.objectType)&&e(n.indexType):33554432&n.flags?e(n.baseType)&&e(n.constraint):!!(268435456&n.flags)&&e(n.type))}(ip(e)||t)}(e)||2===Tp(e))||1048576&e.flags&&!(4&t)&&Vf(e)||2097152&e.flags&&Hj(e,465829888)&&K(e.types,ZS))}function tx(e,t=0){return Ty(e=Nf(e))?ky(tx(e.baseType,t)):ex(e,t)?Kb(e,t):1048576&e.flags?qb(A(e.types,e=>tx(e,t))):2097152&e.flags?Ob(A(e.types,e=>tx(e,t))):32&xx(e)?Gb(e,t):e===Nt?Nt:2&e.flags?_n:131073&e.flags?hn:Yb(e,(2&t?128:402653316)|(1&t?0:12584),0===t)}function nx(e){const t=(zr||(zr=Wy("Extract",2,!0)||bt),zr===bt?void 0:zr);return t?gy(t,[e,Vt]):Vt}function rx(e,t){const n=T(t,e=>!!(1179648&e.flags));if(n>=0)return Ub(t)?CF(t[n],r=>rx(e,we(t,n,r))):Et;if(w(t,Nt))return Nt;const r=[],i=[];let o=e[0];if(!function e(t,n){for(let a=0;a<n.length;a++){const s=n[a];if(101248&s.flags)o+=ix(s)||"",o+=t[a+1];else if(134217728&s.flags){if(o+=s.texts[0],!e(s.texts,s.types))return!1;o+=t[a+1]}else{if(!wx(s)&&!yx(s))return!1;r.push(s),i.push(o),o=t[a+1]}}return!0}(e,t))return Vt;if(0===r.length)return hk(o);if(i.push(o),x(i,e=>""===e)){if(x(r,e=>!!(4&e.flags)))return Vt;if(1===r.length&&vx(r[0]))return r[0]}const a=`${Yh(r)}|${A(i,e=>e.length).join(",")}|${i.join("")}`;let s=_t.get(a);return s||_t.set(a,s=function(e,t){const n=ws(134217728);return n.texts=e,n.types=t,n}(i,r)),s}function ix(e){return 128&e.flags?e.value:256&e.flags?""+e.value:2048&e.flags?xT(e.value):98816&e.flags?e.intrinsicName:void 0}function ox(e,t){return 1179648&t.flags?CF(t,t=>ox(e,t)):128&t.flags?hk(ax(e,t.value)):134217728&t.flags?rx(...function(e,t,n){switch(eJ.get(e.escapedName)){case 0:return[t.map(e=>e.toUpperCase()),n.map(t=>ox(e,t))];case 1:return[t.map(e=>e.toLowerCase()),n.map(t=>ox(e,t))];case 2:return[""===t[0]?t:[t[0].charAt(0).toUpperCase()+t[0].slice(1),...t.slice(1)],""===t[0]?[ox(e,n[0]),...n.slice(1)]:n];case 3:return[""===t[0]?t:[t[0].charAt(0).toLowerCase()+t[0].slice(1),...t.slice(1)],""===t[0]?[ox(e,n[0]),...n.slice(1)]:n]}return[t,n]}(e,t.texts,t.types)):268435456&t.flags&&e===t.symbol?t:268435461&t.flags||wx(t)?sx(e,t):yx(t)?sx(e,rx(["",""],[t])):t}function ax(e,t){switch(eJ.get(e.escapedName)){case 0:return t.toUpperCase();case 1:return t.toLowerCase();case 2:return t.charAt(0).toUpperCase()+t.slice(1);case 3:return t.charAt(0).toLowerCase()+t.slice(1)}return t}function sx(e,t){const n=`${iJ(e)},${Tb(t)}`;let r=ut.get(n);return r||ut.set(n,r=function(e,t){const n=Ds(268435456,e);return n.type=t,n}(e,t)),r}function _x(e){if(te)return!1;if(4096&xx(e))return!0;if(1048576&e.flags)return x(e.types,_x);if(2097152&e.flags)return K(e.types,_x);if(465829888&e.flags){const t=mf(e);return t!==e&&_x(t)}return!1}function fx(e,t){return dC(e)?pC(e):t&&a_(t)?Uh(t):void 0}function mx(e,t){if(8208&t.flags){const n=gc(e.parent,e=>!Nx(e))||e.parent;return J_(n)?z_(n)&&tN(e)&&HD(n,e):x(t.declarations,e=>!c_(e)||qo(e))}return!0}function gx(e,t,n,r,i,o){var a;const s=i&&212===i.kind?i:void 0,c=i&&nN(i)?void 0:fx(n,i);if(void 0!==c){if(256&o)return pA(t,c)||wt;const e=Gf(t,c);if(e){if(64&o&&i&&e.declarations&&zo(e)&&mx(i,e)&&Vo(null!=(a=null==s?void 0:s.argumentExpression)?a:XN(i)?i.indexType:i,e.declarations,c),s){if(SO(e,s,TO(s.expression,t.symbol)),zj(s,e,eh(s)))return void Lo(s.argumentExpression,ma.Cannot_assign_to_0_because_it_is_a_read_only_property,nc(e));if(8&o&&(ra(i).resolvedSymbol=e),aO(s,e))return Dt}const n=4&o?S_(e):w_(e);return s&&1!==eh(s)?bE(s,n):i&&XN(i)&&Cw(n)?Ob([n,Lt]):n}if(gF(t,ow)&&WT(c)){const e=+c;if(i&&gF(t,e=>!(12&e.target.combinedFlags))&&!(16&o)){const n=hx(i);if(ow(t)){if(e<0)return Lo(n,ma.A_tuple_type_cannot_be_indexed_with_a_negative_value),Lt;Lo(n,ma.Tuple_type_0_of_length_1_has_no_element_at_index_2,oc(t),dy(t),bc(c))}else Lo(n,ma.Property_0_does_not_exist_on_type_1,bc(c),oc(t))}if(e>=0)return l(jm(t,Ut)),lw(t,e,1&o?Rt:void 0)}}if(!(98304&n.flags)&&Kj(n,402665900)){if(131073&t.flags)return t;const a=Um(t,n)||jm(t,Vt);if(a)return 2&o&&a.keyType!==Ut?void(s&&(4&o?Lo(s,ma.Type_0_is_generic_and_can_only_be_indexed_for_reading,oc(e)):Lo(s,ma.Type_0_cannot_be_used_to_index_type_1,oc(n),oc(e)))):i&&a.keyType===Vt&&!Kj(n,12)?(Lo(hx(i),ma.Type_0_cannot_be_used_as_an_index_type,oc(n)),1&o?Ob([a.type,Rt]):a.type):(l(a),1&o&&!(t.symbol&&384&t.symbol.flags&&n.symbol&&1024&n.flags&&gs(n.symbol)===t.symbol)?Ob([a.type,Rt]):a.type);if(131072&n.flags)return _n;if(_x(t))return wt;if(s&&!Xj(t)){if(SD(t)){if(te&&384&n.flags)return po.add(qp(s,ma.Property_0_does_not_exist_on_type_1,n.value,oc(t))),Lt;if(12&n.flags)return Ob(se(A(t.properties,e=>w_(e)),Lt))}if(t.symbol===Ne&&void 0!==c&&Ne.exports.has(c)&&418&Ne.exports.get(c).flags)Lo(s,ma.Property_0_does_not_exist_on_type_1,bc(c),oc(t));else if(te&&!(128&o))if(void 0!==c&&mO(c,t)){const e=oc(t);Lo(s,ma.Property_0_does_not_exist_on_type_1_Did_you_mean_to_access_the_static_member_2_instead,c,e,e+"["+ep(s.argumentExpression)+"]")}else if(Jm(t,Ut))Lo(s.argumentExpression,ma.Element_implicitly_has_an_any_type_because_index_expression_is_not_of_type_number);else{let e;if(void 0!==c&&(e=vO(c,t)))void 0!==e&&Lo(s.argumentExpression,ma.Property_0_does_not_exist_on_type_1_Did_you_mean_2,c,oc(t),e);else{const e=function(e,t,n){function r(t){const r=Dp(e,t);if(r){const e=qO(w_(r));return!!e&&oj(e)>=1&&PS(n,ej(e,0))}return!1}const i=th(t)?"set":"get";if(!r(i))return;let o=mb(t.expression);return void 0===o?o=i:o+="."+i,o}(t,s,n);if(void 0!==e)Lo(s,ma.Element_implicitly_has_an_any_type_because_type_0_has_no_index_signature_Did_you_mean_to_call_1,oc(t),e);else{let e;if(1024&n.flags)e=ik(void 0,ma.Property_0_does_not_exist_on_type_1,"["+oc(n)+"]",oc(t));else if(8192&n.flags){const r=Ha(n.symbol,s);e=ik(void 0,ma.Property_0_does_not_exist_on_type_1,"["+r+"]",oc(t))}else 128&n.flags||256&n.flags?e=ik(void 0,ma.Property_0_does_not_exist_on_type_1,n.value,oc(t)):12&n.flags&&(e=ik(void 0,ma.No_index_signature_with_a_parameter_of_type_0_was_found_on_type_1,oc(n),oc(t)));e=ik(e,ma.Element_implicitly_has_an_any_type_because_expression_of_type_0_can_t_be_used_to_index_type_1,oc(r),oc(t)),po.add(Wp(Sd(s),s,e))}}}return}}if(16&o&&SD(t))return Lt;if(_x(t))return wt;if(i){const e=hx(i);if(10!==e.kind&&384&n.flags)Lo(e,ma.Property_0_does_not_exist_on_type_1,""+n.value,oc(t));else if(12&n.flags)Lo(e,ma.Type_0_has_no_matching_index_signature_for_type_1,oc(t),oc(n));else{const t=10===e.kind?"bigint":oc(n);Lo(e,ma.Type_0_cannot_be_used_as_an_index_type,t)}}return $c(n)?n:void 0;function l(e){e&&e.isReadonly&&s&&(th(s)||uh(s))&&Lo(s,ma.Index_signature_in_type_0_only_permits_reading,oc(t))}}function hx(e){return 212===e.kind?e.argumentExpression:199===e.kind?e.indexType:167===e.kind?e.expression:e}function yx(e){if(2097152&e.flags){let t=!1;for(const n of e.types)if(101248&n.flags||yx(n))t=!0;else if(!(524288&n.flags))return!1;return t}return!!(77&e.flags)||vx(e)}function vx(e){return!!(134217728&e.flags)&&x(e.types,yx)||!!(268435456&e.flags)&&yx(e.type)}function Sx(e){return!!(402653184&e.flags)&&!vx(e)}function Tx(e){return!!Fx(e)}function Cx(e){return!!(4194304&Fx(e))}function wx(e){return!!(8388608&Fx(e))}function Fx(e){return 3145728&e.flags?(2097152&e.objectFlags||(e.objectFlags|=2097152|Fe(e.types,(e,t)=>e|Fx(t),0)),12582912&e.objectFlags):33554432&e.flags?(2097152&e.objectFlags||(e.objectFlags|=2097152|Fx(e.baseType)|Fx(e.constraint)),12582912&e.objectFlags):(58982400&e.flags||Sp(e)||aw(e)?4194304:0)|(63176704&e.flags||Sx(e)?8388608:0)}function Ex(e,t){return 8388608&e.flags?function(e,t){const n=t?"simplifiedForWriting":"simplifiedForReading";if(e[n])return e[n]===Rn?e:e[n];e[n]=Rn;const r=Ex(e.objectType,t),i=Ex(e.indexType,t),o=function(e,t,n){if(1048576&t.flags){const r=A(t.types,t=>Ex(Lx(e,t),n));return n?qb(r):Ob(r)}}(r,i,t);if(o)return e[n]=o;if(!(465829888&i.flags)){const o=Ax(r,i,t);if(o)return e[n]=o}if(aw(r)&&296&i.flags){const o=uw(r,8&i.flags?0:r.target.fixedLength,0,t);if(o)return e[n]=o}return Sp(r)&&2!==Tp(r)?e[n]=CF(Ox(r,e.indexType),e=>Ex(e,t)):e[n]=e}(e,t):16777216&e.flags?function(e,t){const n=e.checkType,r=e.extendsType,i=Wx(e),o=$x(e);if(131072&o.flags&&Jx(i)===Jx(n)){if(1&n.flags||PS(vS(n),vS(r)))return Ex(i,t);if(Ix(n,r))return _n}else if(131072&i.flags&&Jx(o)===Jx(n)){if(!(1&n.flags)&&PS(vS(n),vS(r)))return _n;if(1&n.flags||Ix(n,r))return Ex(o,t)}return e}(e,t):e}function Ax(e,t,n){if(1048576&e.flags||2097152&e.flags&&!ex(e)){const r=A(e.types,e=>Ex(Lx(e,t),n));return 2097152&e.flags||n?qb(r):Ob(r)}}function Ix(e,t){return!!(131072&Ob([Md(e,t),_n]).flags)}function Ox(e,t){const n=Vk([tp(e)],[t]),r=nS(e.mapper,n),i=gS(ap(e.target||e),r),o=vp(e)>0||(Tx(e)?kp(lp(e))>0:function(e,t){const n=_f(t);return!!n&&K(Fp(e),e=>!!(16777216&e.flags)&&PS(Qb(e,8576),n))}(e,t));return pl(i,!0,o)}function Lx(e,t,n=0,r,i,o){return Rx(e,t,n,r,i,o)||(r?Et:Ot)}function jx(e,t){return gF(e,e=>{if(384&e.flags){const n=pC(e);if(WT(n)){const e=+n;return e>=0&&e<t}}return!1})}function Rx(e,t,n=0,r,i,o){if(e===Nt||t===Nt)return Nt;if(!eT(e=Nf(e))||98304&t.flags||!Kj(t,12)||(t=Vt),I.noUncheckedIndexedAccess&&32&n&&(n|=1),wx(t)||(r&&199!==r.kind?aw(e)&&!jx(t,kb(e.target)):Cx(e)&&(!ow(e)||!jx(t,kb(e.target)))||Vf(e))){if(3&e.flags)return e;const r=1&n,a=e.id+","+t.id+","+r+oy(i,o);let s=lt.get(a);return s||lt.set(a,s=function(e,t,n,r,i){const o=ws(8388608);return o.objectType=e,o.indexType=t,o.accessFlags=n,o.aliasSymbol=r,o.aliasTypeArguments=i,o}(e,t,r,i,o)),s}const a=Tf(e);if(1048576&t.flags&&!(16&t.flags)){const s=[];let c=!1;for(const i of t.types){const o=gx(e,a,i,t,r,n|(c?128:0));if(o)s.push(o);else{if(!r)return;c=!0}}if(c)return;return 4&n?qb(s,0,i,o):Ob(s,1,i,o)}return gx(e,a,t,t,r,72|n)}function Mx(e){const t=ra(e);if(!t.resolvedType){const n=Pk(e.objectType),r=Pk(e.indexType),i=Yx(e);t.resolvedType=Lx(n,r,0,e,i,rk(i))}return t.resolvedType}function Bx(e){const t=ra(e);if(!t.resolvedType){const n=Ps(32,e.symbol);n.declaration=e,n.aliasSymbol=Yx(e),n.aliasTypeArguments=rk(n.aliasSymbol),t.resolvedType=n,rp(n)}return t.resolvedType}function Jx(e){return 33554432&e.flags?Jx(e.baseType):8388608&e.flags&&(33554432&e.objectType.flags||33554432&e.indexType.flags)?Lx(Jx(e.objectType),Jx(e.indexType)):e}function zx(e){return BN(e)&&p(e.elements)>0&&!K(e.elements,e=>zN(e)||qN(e)||JN(e)&&!(!e.questionToken&&!e.dotDotDotToken))}function Vx(e,t){return Tx(e)||t&&ow(e)&&K(Sb(e),Tx)}function Ux(e,t,n,i,o){let a,s,c=0;for(;;){if(1e3===c)return Lo(r,ma.Type_instantiation_is_excessively_deep_and_possibly_infinite),Et;const _=gS(Jx(e.checkType),t),u=gS(e.extendsType,t);if(_===Et||u===Et)return Et;if(_===Nt||u===Nt)return Nt;const d=lh(e.node.checkType),f=lh(e.node.extendsType),m=zx(d)&&zx(f)&&p(d.elements)===p(f.elements),g=Vx(_,m);let h;if(e.inferTypeParameters){const n=$w(e.inferTypeParameters,void 0,0);t&&(n.nonFixingMapper=nS(n.nonFixingMapper,t)),g||bD(n.inferences,_,u,1536),h=t?nS(n.mapper,t):n.mapper}const y=h?gS(e.extendsType,h):u;if(!g&&!Vx(y,m)){if(!(3&y.flags)&&(1&_.flags||!PS(yS(_),yS(y)))){(1&_.flags||n&&!(131072&y.flags)&&dF(yS(y),e=>PS(e,yS(_))))&&(s||(s=[])).push(gS(Pk(e.node.trueType),h||t));const r=Pk(e.node.falseType);if(16777216&r.flags){const n=r.root;if(n.node.parent===e.node&&(!n.isDistributive||n.checkType===e.checkType)){e=n;continue}if(l(r,t))continue}a=gS(r,t);break}if(3&y.flags||PS(vS(_),vS(y))){const n=Pk(e.node.trueType),r=h||t;if(l(n,r))continue;a=gS(n,r);break}}a=ws(16777216),a.root=e,a.checkType=gS(e.checkType,t),a.extendsType=gS(e.extendsType,t),a.mapper=t,a.combinedMapper=h,a.aliasSymbol=i||e.aliasSymbol,a.aliasTypeArguments=i?o:Rk(e.aliasTypeArguments,t);break}return s?Ob(se(s,a)):a;function l(n,r){if(16777216&n.flags&&r){const a=n.root;if(a.outerTypeParameters){const s=nS(n.mapper,r),l=A(a.outerTypeParameters,e=>$k(e,s)),_=Vk(a.outerTypeParameters,l),u=a.isDistributive?$k(a.checkType,_):void 0;if(!(u&&u!==a.checkType&&1179648&u.flags))return e=a,t=_,i=void 0,o=void 0,a.aliasSymbol&&c++,!0}}return!1}}function Wx(e){return e.resolvedTrueType||(e.resolvedTrueType=gS(Pk(e.root.node.trueType),e.mapper))}function $x(e){return e.resolvedFalseType||(e.resolvedFalseType=gS(Pk(e.root.node.falseType),e.mapper))}function Hx(e){let t;return e.locals&&e.locals.forEach(e=>{262144&e.flags&&(t=se(t,vu(e)))}),t}function Kx(e){return tN(e)?[e]:se(Kx(e.left),e.right)}function Gx(e){var t;const n=ra(e);if(!n.resolvedType){if(!gf(e))return Lo(e.argument,ma.String_literal_expected),n.resolvedSymbol=bt,n.resolvedType=Et;const r=e.isTypeOf?111551:16777216&e.flags?900095:788968,i=Qa(e,e.argument.literal);if(!i)return n.resolvedSymbol=bt,n.resolvedType=Et;const o=!!(null==(t=i.exports)?void 0:t.get("export=")),a=ts(i,!1);if(Pd(e.qualifier))a.flags&r?n.resolvedType=Qx(e,n,a,r):(Lo(e,111551===r?ma.Module_0_does_not_refer_to_a_value_but_is_used_as_a_value_here:ma.Module_0_does_not_refer_to_a_type_but_is_used_as_a_type_here_Did_you_mean_typeof_import_0,e.argument.literal.text),n.resolvedSymbol=bt,n.resolvedType=Et);else{const t=Kx(e.qualifier);let i,s=a;for(;i=t.shift();){const a=t.length?1920:r,c=ps(Ba(s)),l=e.isTypeOf||Om(e)&&o?Gf(w_(c),i.escapedText,!1,!0):void 0,_=e.isTypeOf?void 0:oa(ls(c),i.escapedText,a),u=null!=_?_:l;if(!u)return Lo(i,ma.Namespace_0_has_no_exported_member_1,Ha(s),jp(i)),n.resolvedType=Et;ra(i).resolvedSymbol=u,ra(i.parent).resolvedSymbol=u,s=u}n.resolvedType=Qx(e,n,s,r)}}return n.resolvedType}function Qx(e,t,n,r){const i=Ba(n);return t.resolvedSymbol=i,111551===r?qL(w_(n),e):xy(e,i)}function Zx(e){const t=ra(e);if(!t.resolvedType){const n=Yx(e);if(!e.symbol||0===fd(e.symbol).size&&!n)t.resolvedType=Pn;else{let r=Ps(16,e.symbol);r.aliasSymbol=n,r.aliasTypeArguments=rk(n),vP(e)&&e.isArrayType&&(r=Dv(r)),t.resolvedType=r}}return t.resolvedType}function Yx(e){let t=e.parent;for(;HN(t)||iP(t)||GN(t)&&148===t.operator;)t=t.parent;return Ig(t)?fs(t):void 0}function rk(e){return e?q_(e):void 0}function ak(e){return!!(524288&e.flags)&&!Sp(e)}function ck(e){return QS(e)||!!(474058748&e.flags)}function lk(e,t){if(!(1048576&e.flags))return e;if(x(e.types,ck))return k(e.types,QS)||Dn;const n=k(e.types,e=>!ck(e));return n?k(e.types,e=>e!==n&&!ck(e))?e:function(e){const n=Yu();for(const i of Fp(e))if(6&lx(i));else if(uk(i)){const e=65536&i.flags&&!(32768&i.flags),r=Wo(16777220,i.escapedName,Kd(i)|(t?8:0));r.links.type=e?Lt:pl(w_(i),!0),r.declarations=i.declarations,r.links.nameType=na(i).nameType,r.links.syntheticOrigin=i,n.set(i.escapedName,r)}const r=Js(e.symbol,n,u,u,Am(e));return r.objectFlags|=131200,r}(n):e}function _k(e,t,n,r,i){if(1&e.flags||1&t.flags)return wt;if(2&e.flags||2&t.flags)return Ot;if(131072&e.flags)return t;if(131072&t.flags)return e;if(1048576&(e=lk(e,i)).flags)return Ub([e,t])?CF(e,e=>_k(e,t,n,r,i)):Et;if(1048576&(t=lk(t,i)).flags)return Ub([e,t])?CF(t,t=>_k(e,t,n,r,i)):Et;if(473960444&t.flags)return e;if(Cx(e)||Cx(t)){if(QS(e))return t;if(2097152&e.flags){const o=e.types,a=o[o.length-1];if(ak(a)&&ak(t))return qb(X(o.slice(0,o.length-1),[_k(a,t,n,r,i)]))}return qb([e,t])}const o=Yu(),a=new Set,s=e===Dn?Am(t):Rd([e,t]);for(const l of Fp(t))6&lx(l)?a.add(l.escapedName):uk(l)&&o.set(l.escapedName,dk(l,i));for(const l of Fp(e))if(!a.has(l.escapedName)&&uk(l))if(o.has(l.escapedName)){const e=o.get(l.escapedName),t=w_(e);if(16777216&e.flags){const n=X(l.declarations,e.declarations),r=Wo(4|16777216&l.flags,l.escapedName),i=w_(l),a=ww(i),s=ww(t);r.links.type=a===s?i:Ob([i,s],2),r.links.leftSpread=l,r.links.rightSpread=e,r.declarations=n,r.links.nameType=na(l).nameType,o.set(l.escapedName,r)}}else o.set(l.escapedName,dk(l,i));const c=Js(n,o,u,u,O(s,e=>function(e,t){return e.isReadonly!==t?Ih(e.keyType,e.type,t,e.declaration,e.components):e}(e,i)));return c.objectFlags|=2228352|r,c}function uk(e){var t;return!(K(e.declarations,Yl)||106496&e.flags&&(null==(t=e.declarations)?void 0:t.some(e=>g_(e.parent))))}function dk(e,t){const n=65536&e.flags&&!(32768&e.flags);if(!n&&t===Jj(e))return e;const r=Wo(4|16777216&e.flags,e.escapedName,Kd(e)|(t?8:0));return r.links.type=n?Lt:w_(e),r.declarations=e.declarations,r.links.nameType=na(e).nameType,r.links.syntheticOrigin=e,r}function pk(e,t,n,r){const i=Ds(e,n);return i.value=t,i.regularType=r||i,i}function fk(e){if(2976&e.flags){if(!e.freshType){const t=pk(e.flags,e.value,e.symbol,e);t.freshType=t,e.freshType=t}return e.freshType}return e}function mk(e){return 2976&e.flags?e.regularType:1048576&e.flags?e.regularType||(e.regularType=CF(e,mk)):e}function gk(e){return!!(2976&e.flags)&&e.freshType===e}function hk(e){let t;return rt.get(e)||(rt.set(e,t=pk(128,e)),t)}function yk(e){let t;return at.get(e)||(at.set(e,t=pk(256,e)),t)}function vk(e){let t;const n=xT(e);return st.get(n)||(st.set(n,t=pk(2048,e)),t)}function bk(e,t,n){let r;const i=`${t}${"string"==typeof e?"@":"#"}${e}`,o=1024|("string"==typeof e?128:256);return ct.get(i)||(ct.set(i,r=pk(o,e,n)),r)}function xk(e){if(Om(e)&&iP(e)){const t=Kg(e);t&&(e=jg(t)||t)}if(Jf(e)){const t=Bf(e)?ms(e.left):ms(e);if(t){const e=na(t);return e.uniqueESSymbolType||(e.uniqueESSymbolType=function(e){const t=Ds(8192,e);return t.escapedName=`__@${t.symbol.escapedName}@${iJ(t.symbol)}`,t}(t))}}return an}function kk(e){const t=ra(e);return t.resolvedType||(t.resolvedType=function(e){const t=im(e,!1,!1),n=t&&t.parent;if(n&&(g_(n)||264===n.kind)&&!Iv(t)&&(!wN(t)||dh(e,t.body)))return su(fs(n)).thisType;if(n&&aF(n)&&kF(n.parent)&&6===og(n.parent))return su(ms(n.parent.left).parent).thisType;const r=16777216&e.flags?$g(e):void 0;return r&&fF(r)&&kF(r.parent)&&3===og(r.parent)?su(ms(r.parent.left).parent).thisType:CL(t)&&dh(e,t.body)?su(fs(t)).thisType:(Lo(e,ma.A_this_type_is_available_only_in_a_non_static_member_of_a_class_or_interface),Et)}(e)),t.resolvedType}function wk(e){return Pk(Ek(e.type)||e.type)}function Ek(e){switch(e.kind){case 196:return Ek(e.type);case 189:if(1===e.elements.length&&(191===(e=e.elements[0]).kind||202===e.kind&&e.dotDotDotToken))return Ek(e.type);break;case 188:return e.elementType}}function Pk(e){return function(e,t){let n,r=!0;for(;t&&!yu(t)&&320!==t.kind;){const i=t.parent;if(169===i.kind&&(r=!r),(r||8650752&e.flags)&&194===i.kind&&t===i.trueType){const t=Ey(e,i.checkType,i.extendsType);t&&(n=se(n,t))}else if(262144&e.flags&&200===i.kind&&!i.nameType&&t===i.type){const t=Pk(i);if(tp(t)===Jx(e)){const e=uS(t);if(e){const t=Bp(e);t&&gF(t,MC)&&(n=se(n,Ob([Ut,bn])))}}}t=i}return n?wy(e,qb(n)):e}(Lk(e),e)}function Lk(e){switch(e.kind){case 133:case 312:case 313:return wt;case 159:return Ot;case 154:return Vt;case 150:return Ut;case 163:return $t;case 136:return tn;case 155:return an;case 116:return cn;case 157:return Lt;case 106:return zt;case 146:return _n;case 151:return 524288&e.flags&&!te?wt:mn;case 141:return It;case 197:case 110:return kk(e);case 201:return function(e){if(106===e.literal.kind)return zt;const t=ra(e);return t.resolvedType||(t.resolvedType=mk(IR(e.literal))),t.resolvedType}(e);case 183:case 233:return jy(e);case 182:return e.assertsModifier?cn:tn;case 186:return Jy(e);case 188:case 189:return function(e){const t=ra(e);if(!t.resolvedType){const n=Vv(e);if(n===On)t.resolvedType=Dn;else if(189===e.kind&&K(e.elements,e=>!!(8&Nv(e)))||!$v(e)){const r=188===e.kind?[Pk(e.elementType)]:A(e.elements,Pk);t.resolvedType=eb(n,r)}else t.resolvedType=189===e.kind&&0===e.elements.length?n:_y(n,e,void 0)}return t.resolvedType}(e);case 190:return function(e){return pl(Pk(e.type),!0)}(e);case 192:return function(e){const t=ra(e);if(!t.resolvedType){const n=Yx(e);t.resolvedType=Ob(A(e.types,Pk),1,n,rk(n))}return t.resolvedType}(e);case 193:return function(e){const t=ra(e);if(!t.resolvedType){const n=Yx(e),r=A(e.types,Pk),i=2===r.length?r.indexOf(Pn):-1,o=i>=0?r[1-i]:Ot,a=!!(76&o.flags||134217728&o.flags&&vx(o));t.resolvedType=qb(r,a?1:0,n,rk(n))}return t.resolvedType}(e);case 314:return function(e){const t=Pk(e.type);return $?hw(t,65536):t}(e);case 316:return pl(Pk(e.type));case 202:return function(e){const t=ra(e);return t.resolvedType||(t.resolvedType=e.dotDotDotToken?wk(e):pl(Pk(e.type),!0,!!e.questionToken))}(e);case 196:case 315:case 309:return Pk(e.type);case 191:return wk(e);case 318:return function(e){const t=Pk(e.type),{parent:n}=e,r=e.parent.parent;if(iP(e.parent)&&OP(r)){const e=$g(r),n=TP(r.parent.parent);if(e||n){const i=xe(n?r.parent.parent.typeExpression.parameters:e.parameters),o=Vg(r);if(!i||o&&i.symbol===o&&Uu(i))return Dv(t)}}return vN(n)&&mP(n.parent)?Dv(t):pl(t)}(e);case 184:case 185:case 187:case 322:case 317:case 323:return Zx(e);case 198:return function(e){const t=ra(e);if(!t.resolvedType)switch(e.operator){case 143:t.resolvedType=tx(Pk(e.type));break;case 158:t.resolvedType=155===e.type.kind?xk(ah(e.parent)):Et;break;case 148:t.resolvedType=Pk(e.type);break;default:fn.assertNever(e.operator)}return t.resolvedType}(e);case 199:return Mx(e);case 200:return Bx(e);case 194:return function(e){const t=ra(e);if(!t.resolvedType){const n=Pk(e.checkType),r=Yx(e),i=rk(r),o=L_(e,!0),a=i?o:F(o,t=>_S(t,e)),s={node:e,checkType:n,extendsType:Pk(e.extendsType),isDistributive:!!(262144&n.flags),inferTypeParameters:Hx(e),outerTypeParameters:a,instantiations:void 0,aliasSymbol:r,aliasTypeArguments:i};t.resolvedType=Ux(s,void 0,!1),a&&(s.instantiations=new Map,s.instantiations.set(Yh(a),t.resolvedType))}return t.resolvedType}(e);case 195:return function(e){const t=ra(e);return t.resolvedType||(t.resolvedType=hu(fs(e.typeParameter))),t.resolvedType}(e);case 203:return function(e){const t=ra(e);return t.resolvedType||(t.resolvedType=rx([e.head.text,...A(e.templateSpans,e=>e.literal.text)],A(e.templateSpans,e=>Pk(e.type)))),t.resolvedType}(e);case 205:return Gx(e);case 80:case 166:case 211:const t=gz(e);return t?vu(t):Et;default:return Et}}function jk(e,t,n){if(e&&e.length)for(let r=0;r<e.length;r++){const i=e[r],o=n(i,t);if(i!==o){const i=0===r?[]:e.slice(0,r);for(i.push(o),r++;r<e.length;r++)i.push(n(e[r],t));return i}}return e}function Rk(e,t){return jk(e,t,gS)}function zk(e,t){return jk(e,t,sS)}function qk(e,t){return jk(e,t,bS)}function Vk(e,t){return 1===e.length?Kk(e[0],t?t[0]:wt):function(e,t){return fn.attachDebugPrototypeIfDebug({kind:1,sources:e,targets:t})}(e,t)}function $k(e,t){switch(t.kind){case 0:return e===t.source?t.target:e;case 1:{const n=t.sources,r=t.targets;for(let t=0;t<n.length;t++)if(e===n[t])return r?r[t]:wt;return e}case 2:{const n=t.sources,r=t.targets;for(let t=0;t<n.length;t++)if(e===n[t])return r[t]();return e}case 3:return t.func(e);case 4:case 5:const n=$k(e,t.mapper1);return n!==e&&4===t.kind?gS(n,t.mapper2):$k(n,t.mapper2)}}function Kk(e,t){return fn.attachDebugPrototypeIfDebug({kind:0,source:e,target:t})}function Gk(e,t){return fn.attachDebugPrototypeIfDebug({kind:3,func:e,debugInfo:fn.isDebugging?t:void 0})}function Xk(e,t){return fn.attachDebugPrototypeIfDebug({kind:2,sources:e,targets:t})}function Qk(e,t,n){return fn.attachDebugPrototypeIfDebug({kind:e,mapper1:t,mapper2:n})}function tS(e){return Vk(e,void 0)}function nS(e,t){return e?Qk(4,e,t):t}function rS(e,t,n){return n?Qk(5,Kk(e,t),n):Kk(e,t)}function iS(e,t,n){return e?Qk(5,e,Kk(t,n)):Kk(t,n)}function oS(e){const t=As(e.symbol);return t.target=e,t}function aS(e,t){return pg(e.kind,e.parameterName,e.parameterIndex,gS(e.type,t))}function sS(e,t,n){let r;if(e.typeParameters&&!n){r=A(e.typeParameters,oS),t=nS(Vk(e.typeParameters,r),t);for(const e of r)e.mapper=t}const i=bd(e.declaration,r,e.thisParameter&&cS(e.thisParameter,t),jk(e.parameters,t,cS),void 0,void 0,e.minArgumentCount,167&e.flags);return i.target=e,i.mapper=t,i}function cS(e,t){const n=na(e);if(n.type&&!nD(n.type)){if(!(65536&e.flags))return e;if(n.writeType&&!nD(n.writeType))return e}1&cx(e)&&(e=n.target,t=nS(n.mapper,t));const r=Wo(e.flags,e.escapedName,1|53256&cx(e));return r.declarations=e.declarations,r.parent=e.parent,r.links.target=e,r.links.mapper=t,e.valueDeclaration&&(r.valueDeclaration=e.valueDeclaration),n.nameType&&(r.links.nameType=n.nameType),r}function lS(e,t,n,r){const i=4&e.objectFlags||8388608&e.objectFlags?e.node:e.symbol.declarations[0],o=ra(i),a=4&e.objectFlags?o.resolvedType:64&e.objectFlags?e.target:e;let s=134217728&e.objectFlags?e.outerTypeParameters:o.outerTypeParameters;if(!s){let t=L_(i,!0);CL(i)&&(t=_e(t,tg(i))),s=t||u;const n=8388612&e.objectFlags?[i]:e.symbol.declarations;s=(8388612&a.objectFlags||8192&a.symbol.flags||2048&a.symbol.flags)&&!a.aliasTypeArguments?F(s,e=>K(n,t=>_S(e,t))):s,o.outerTypeParameters=s}if(s.length){const i=nS(e.mapper,t),o=A(s,e=>$k(e,i)),c=n||e.aliasSymbol,l=n?r:Rk(e.aliasTypeArguments,t),_=(134217728&e.objectFlags?"S":"")+Yh(o)+oy(c,l);a.instantiations||(a.instantiations=new Map,a.instantiations.set(Yh(s)+oy(a.aliasSymbol,a.aliasTypeArguments),a));let u=a.instantiations.get(_);if(!u){if(134217728&e.objectFlags)return u=fS(e,t),a.instantiations.set(_,u),u;const n=Vk(s,o);u=4&a.objectFlags?_y(e.target,e.node,n,c,l):32&a.objectFlags?function(e,t,n,r){const i=uS(e);if(i){const e=gS(i,t);if(i!==e)return EF(Nf(e),o,n,r)}return gS(rp(e),t)===Nt?Nt:fS(e,t,n,r);function o(n){if(61603843&n.flags&&n!==Nt&&!Hc(n)){if(!e.declaration.nameType){let r;if(jC(n)||1&n.flags&&Mc(i,4)<0&&(r=Bp(i))&&gF(r,MC))return function(e,t,n){const r=pS(t,Ut,!0,n);return Hc(r)?Et:Dv(r,dS(RC(e),fp(t)))}(n,e,rS(i,n,t));if(ow(n))return function(e,t,n,r){const i=e.target.elementFlags,o=e.target.fixedLength,a=o?rS(n,e,r):r,s=A(Sb(e),(e,s)=>{var c;const l=i[s];return s<o?pS(t,hk(""+s),!!(2&l),a):8&l?gS(t,rS(n,e,r)):null!=(c=JC(gS(t,rS(n,Dv(e),r))))?c:Ot}),c=fp(t),l=4&c?A(i,e=>1&e?2:e):8&c?A(i,e=>2&e?1:e):i,_=dS(e.target.readonly,fp(t));return w(s,Et)?Et:Gv(s,l,_,e.target.labeledElementDeclarations)}(n,e,i,t);if(xf(n))return qb(A(n.types,o))}return fS(e,rS(i,n,t))}return n}}(a,n,c,l):fS(a,n,c,l),a.instantiations.set(_,u);const r=xx(u);if(3899393&u.flags&&!(524288&r)){const e=K(o,nD);524288&xx(u)||(u.objectFlags|=52&r?524288|(e?1048576:0):e?0:524288)}}return u}return e}function _S(e,t){if(e.symbol&&e.symbol.declarations&&1===e.symbol.declarations.length){const r=e.symbol.declarations[0].parent;for(let e=t;e!==r;e=e.parent)if(!e||241===e.kind||194===e.kind&&KI(e.extendsType,n))return!0;return n(t)}return!0;function n(t){switch(t.kind){case 197:return!!e.isThisType;case 80:return!e.isThisType&&Ef(t)&&function(e){return!(183===e.parent.kind&&e.parent.typeArguments&&e===e.parent.typeName||205===e.parent.kind&&e.parent.typeArguments&&e===e.parent.qualifier)}(t)&&Lk(t)===e;case 186:const r=db(t.exprName);if(!pv(r)){const i=PD(r),o=e.symbol.declarations[0],a=168===o.kind?o.parent:e.isThisType?o:void 0;if(i.declarations&&a)return K(i.declarations,e=>dh(e,a))||K(t.typeArguments,n)}return!0;case 174:case 173:return!t.type&&!!t.body||K(t.typeParameters,n)||K(t.parameters,n)||!!t.type&&n(t.type)}return!!KI(t,n)}}function uS(e){const t=rp(e);if(4194304&t.flags){const e=Jx(t.type);if(262144&e.flags)return e}}function dS(e,t){return!!(1&t)||!(2&t)&&e}function pS(e,t,n,r){const i=iS(r,tp(e),t),o=gS(ap(e.target||e),i),a=fp(e);return $&&4&a&&!Hj(o,49152)?yw(o,!0):$&&8&a&&n?eN(o,524288):o}function fS(e,t,n,r){fn.assert(e.symbol,"anonymous type must have symbol to be instantiated");const i=Ps(-1572865&e.objectFlags|64,e.symbol);if(32&e.objectFlags){i.declaration=e.declaration;const n=tp(e),r=oS(n);i.typeParameter=r,t=nS(Kk(n,r),t),r.mapper=t}return 8388608&e.objectFlags&&(i.node=e.node),134217728&e.objectFlags&&(i.outerTypeParameters=e.outerTypeParameters),i.target=e,i.mapper=t,i.aliasSymbol=n||e.aliasSymbol,i.aliasTypeArguments=n?r:Rk(e.aliasTypeArguments,t),i.objectFlags|=i.aliasTypeArguments?ay(i.aliasTypeArguments):0,i}function mS(e,t,n,r,i){const o=e.root;if(o.outerTypeParameters){const e=A(o.outerTypeParameters,e=>$k(e,t)),a=(n?"C":"")+Yh(e)+oy(r,i);let s=o.instantiations.get(a);if(!s){const t=Vk(o.outerTypeParameters,e),c=o.checkType,l=o.isDistributive?Nf($k(c,t)):void 0;s=l&&c!==l&&1179648&l.flags?EF(l,e=>Ux(o,rS(c,e,t),n),r,i):Ux(o,t,n,r,i),o.instantiations.set(a,s)}return s}return e}function gS(e,t){return e&&t?hS(e,t,void 0,void 0):e}function hS(e,t,n,i){var o;if(!nD(e))return e;if(100===y||h>=5e6)return null==(o=Xn)||o.instant(Xn.Phase.CheckTypes,"instantiateType_DepthLimit",{typeId:e.id,instantiationDepth:y,instantiationCount:h}),Lo(r,ma.Type_instantiation_is_excessively_deep_and_possibly_infinite),Et;m++,h++,y++;const a=function(e,t,n,r){const i=e.flags;if(262144&i)return $k(e,t);if(524288&i){const i=e.objectFlags;if(52&i){if(4&i&&!e.node){const n=e.resolvedTypeArguments,r=Rk(n,t);return r!==n?eb(e.target,r):e}return 1024&i?function(e,t){const n=gS(e.mappedType,t);if(!(32&xx(n)))return e;const r=gS(e.constraintType,t);if(!(4194304&r.flags))return e;const i=oD(gS(e.source,t),n,r);return i||e}(e,t):lS(e,t,n,r)}return e}if(3145728&i){const o=1048576&e.flags?e.origin:void 0,a=o&&3145728&o.flags?o.types:e.types,s=Rk(a,t);if(s===a&&n===e.aliasSymbol)return e;const c=n||e.aliasSymbol,l=n?r:Rk(e.aliasTypeArguments,t);return 2097152&i||o&&2097152&o.flags?qb(s,0,c,l):Ob(s,1,c,l)}if(4194304&i)return tx(gS(e.type,t));if(134217728&i)return rx(e.texts,Rk(e.types,t));if(268435456&i)return ox(e.symbol,gS(e.type,t));if(8388608&i){const i=n||e.aliasSymbol,o=n?r:Rk(e.aliasTypeArguments,t);return Lx(gS(e.objectType,t),gS(e.indexType,t),e.accessFlags,void 0,i,o)}if(16777216&i)return mS(e,nS(e.mapper,t),!1,n,r);if(33554432&i){const n=gS(e.baseType,t);if(Ty(e))return ky(n);const r=gS(e.constraint,t);return 8650752&n.flags&&Tx(r)?wy(n,r):3&r.flags||PS(vS(n),vS(r))?n:8650752&n.flags?wy(n,r):qb([r,n])}return e}(e,t,n,i);return y--,a}function yS(e){return 402915327&e.flags?e:e.permissiveInstantiation||(e.permissiveInstantiation=gS(e,kn))}function vS(e){return 402915327&e.flags?e:(e.restrictiveInstantiation||(e.restrictiveInstantiation=gS(e,xn),e.restrictiveInstantiation.restrictiveInstantiation=e.restrictiveInstantiation),e.restrictiveInstantiation)}function bS(e,t){return Ih(e.keyType,gS(e.type,t),e.isReadonly,e.declaration,e.components)}function xS(e){switch(fn.assert(174!==e.kind||Uf(e)),e.kind){case 218:case 219:case 174:case 262:return kS(e);case 210:return K(e.properties,xS);case 209:return K(e.elements,xS);case 227:return xS(e.whenTrue)||xS(e.whenFalse);case 226:return(57===e.operatorToken.kind||61===e.operatorToken.kind)&&(xS(e.left)||xS(e.right));case 303:return xS(e.initializer);case 217:return xS(e.expression);case 292:return K(e.properties,xS)||ME(e.parent)&&K(e.parent.parent.children,xS);case 291:{const{initializer:t}=e;return!!t&&xS(t)}case 294:{const{expression:t}=e;return!!t&&xS(t)}}return!1}function kS(e){return JT(e)||function(e){return!(e.typeParameters||bv(e)||!e.body)&&(241!==e.body.kind?xS(e.body):!!Af(e.body,e=>!!e.expression&&xS(e.expression)))}(e)}function SS(e){return(VT(e)||Uf(e))&&kS(e)}function TS(e){if(524288&e.flags){const t=Cp(e);if(t.constructSignatures.length||t.callSignatures.length){const n=Ps(16,e.symbol);return n.members=t.members,n.properties=t.properties,n.callSignatures=u,n.constructSignatures=u,n.indexInfos=u,n}}else if(2097152&e.flags)return qb(A(e.types,TS));return e}function CS(e,t){return iT(e,t,bo)}function wS(e,t){return iT(e,t,bo)?-1:0}function DS(e,t){return iT(e,t,yo)?-1:0}function NS(e,t){return iT(e,t,go)?-1:0}function FS(e,t){return iT(e,t,go)}function ES(e,t){return iT(e,t,ho)}function PS(e,t){return iT(e,t,yo)}function AS(e,t){return 1048576&e.flags?x(e.types,e=>AS(e,t)):1048576&t.flags?K(t.types,t=>AS(e,t)):2097152&e.flags?K(e.types,e=>AS(e,t)):58982400&e.flags?AS(_f(e)||Ot,t):ZS(t)?!!(67633152&e.flags):t===Kn?!!(67633152&e.flags)&&!ZS(e):t===Gn?!!(524288&e.flags)&&XD(e):I_(e,A_(t))||jC(t)&&!RC(t)&&AS(e,er)}function IS(e,t){return iT(e,t,vo)}function OS(e,t){return IS(e,t)||IS(t,e)}function LS(e,t,n,r,i,o){return gT(e,t,yo,n,r,i,o)}function jS(e,t,n,r,i,o){return RS(e,t,yo,n,r,i,o,void 0)}function RS(e,t,n,r,i,o,a,s){return!!iT(e,t,n)||(!r||!BS(i,e,t,n,o,a,s))&&gT(e,t,n,r,o,a,s)}function MS(e){return!!(16777216&e.flags||2097152&e.flags&&K(e.types,MS))}function BS(e,t,n,r,i,o,a){if(!e||MS(n))return!1;if(!gT(t,n,r,void 0)&&function(e,t,n,r,i,o,a){const s=Qf(t,0),c=Qf(t,1);for(const l of[c,s])if(K(l,e=>{const t=zg(e);return!(131073&t.flags)&&gT(t,n,r,void 0)})){const r=a||{};return LS(t,n,e,i,o,r),uT(r.errors[r.errors.length-1],qp(e,l===c?ma.Did_you_mean_to_use_new_with_this_expression:ma.Did_you_mean_to_call_this_expression)),!0}return!1}(e,t,n,r,i,o,a))return!0;switch(e.kind){case 234:if(!kC(e))break;case 294:case 217:return BS(e.expression,t,n,r,i,o,a);case 226:switch(e.operatorToken.kind){case 64:case 28:return BS(e.right,t,n,r,i,o,a)}break;case 210:return function(e,t,n,r,i,o){return!(402915324&n.flags)&&qS(function*(e){if(p(e.properties))for(const t of e.properties){if(eP(t))continue;const e=Qb(fs(t),8576);if(e&&!(131072&e.flags))switch(t.kind){case 178:case 177:case 174:case 304:yield{errorNode:t.name,innerExpression:void 0,nameType:e};break;case 303:yield{errorNode:t.name,innerExpression:t.initializer,nameType:e,errorMessage:Mp(t.name)?ma.Type_of_computed_property_s_value_is_0_which_is_not_assignable_to_type_1:void 0};break;default:fn.assertNever(t)}}}(e),t,n,r,i,o)}(e,t,n,r,o,a);case 209:return function(e,t,n,r,i,o){if(402915324&n.flags)return!1;if($C(t))return qS(US(e,n),t,n,r,i,o);jA(e,n,!1);const a=XA(e,1,!0);return RA(),!!$C(a)&&qS(US(e,n),a,n,r,i,o)}(e,t,n,r,o,a);case 292:return function(e,t,n,r,i,o){let a,s=qS(function*(e){if(p(e.properties))for(const t of e.properties)WE(t)||cI(sC(t.name))||(yield{errorNode:t.name,innerExpression:t.initializer,nameType:hk(sC(t.name))})}(e),t,n,r,i,o);if(ME(e.parent)&&jE(e.parent.parent)){const a=e.parent.parent,l=kI(hI(e)),_=void 0===l?"children":bc(l),u=hk(_),d=Lx(n,u),f=py(a.children);if(!p(f))return s;const m=p(f)>1;let g,h;if(sv(!1)!==On){const e=wv(wt);g=yF(d,t=>PS(t,e)),h=yF(d,t=>!PS(t,e))}else g=yF(d,HC),h=yF(d,e=>!HC(e));if(m){if(g!==_n){const e=Gv(dI(a,0)),t=function*(e,t){if(!p(e.children))return;let n=0;for(let r=0;r<e.children.length;r++){const i=VS(e.children[r],yk(r-n),t);i?yield i:n++}}(a,c);s=function(e,t,n,r,i,o){const a=yF(n,HC),s=yF(n,e=>!HC(e)),c=s!==_n?mB(13,0,s,void 0):void 0;let l=!1;for(let _=e.next();!_.done;_=e.next()){const{errorNode:e,innerExpression:n,nameType:s,errorMessage:u}=_.value;let d=c;const p=a!==_n?JS(t,a,s):void 0;if(!p||8388608&p.flags||(d=c?Ob([c,p]):p),!d)continue;let f=Rx(t,s);if(!f)continue;const m=fx(s,void 0);if(!gT(f,d,r,void 0)&&(l=!0,!n||!BS(n,f,d,r,void 0,i,o))){const s=o||{},c=n?zS(n,f):f;if(oe&&kT(c,d)){const t=qp(e,ma.Type_0_is_not_assignable_to_type_1_with_exactOptionalPropertyTypes_Colon_true_Consider_adding_undefined_to_the_type_of_the_target,oc(c),oc(d));po.add(t),s.errors=[t]}else{const n=!!(m&&16777216&(Gf(a,m)||bt).flags),o=!!(m&&16777216&(Gf(t,m)||bt).flags);d=Tw(d,n),f=Tw(f,n&&o),gT(c,d,r,e,u,i,s)&&c!==f&&gT(f,d,r,e,u,i,s)}}}return l}(t,e,g,r,i,o)||s}else if(!iT(Lx(t,u),d,r)){s=!0;const e=Lo(a.openingElement.tagName,ma.This_JSX_tag_s_0_prop_expects_a_single_child_of_type_1_but_multiple_children_were_provided,_,oc(d));o&&o.skipLogging&&(o.errors||(o.errors=[])).push(e)}}else if(h!==_n){const e=VS(f[0],u,c);e&&(s=qS(function*(){yield e}(),t,n,r,i,o)||s)}else if(!iT(Lx(t,u),d,r)){s=!0;const e=Lo(a.openingElement.tagName,ma.This_JSX_tag_s_0_prop_expects_type_1_which_requires_multiple_children_but_only_a_single_child_was_provided,_,oc(d));o&&o.skipLogging&&(o.errors||(o.errors=[])).push(e)}}return s;function c(){if(!a){const t=ep(e.parent.tagName),r=kI(hI(e)),i=void 0===r?"children":bc(r),o=Lx(n,hk(i)),s=ma._0_components_don_t_accept_text_as_child_elements_Text_in_JSX_has_the_type_string_but_the_expected_type_of_1_is_2;a=__spreadProps(__spreadValues({},s),{key:"!!ALREADY FORMATTED!!",message:tk(s,t,i,oc(o))})}return a}}(e,t,n,r,o,a);case 219:return function(e,t,n,r,i,o){if(BF(e.body))return!1;if(K(e.parameters,Ou))return!1;const a=qO(t);if(!a)return!1;const s=Qf(n,0);if(!p(s))return!1;const c=e.body,l=zg(a),_=Ob(A(s,zg));if(!gT(l,_,r,void 0)){const t=c&&BS(c,l,_,r,void 0,i,o);if(t)return t;const a=o||{};if(gT(l,_,r,c,void 0,i,a),a.errors)return n.symbol&&p(n.symbol.declarations)&&uT(a.errors[a.errors.length-1],qp(n.symbol.declarations[0],ma.The_expected_type_comes_from_the_return_type_of_this_signature)),2&Mh(e)||Uc(l,"then")||!gT(wj(l),_,r,void 0)||uT(a.errors[a.errors.length-1],qp(e,ma.Did_you_mean_to_mark_this_function_as_async)),!0}return!1}(e,t,n,r,o,a)}return!1}function JS(e,t,n){const r=Rx(t,n);if(r)return r;if(1048576&t.flags){const r=NT(e,t);if(r)return Rx(r,n)}}function zS(e,t){jA(e,t,!1);const n=vR(e,1);return RA(),n}function qS(e,t,n,r,i,o){let a=!1;for(const s of e){const{errorNode:e,innerExpression:c,nameType:l,errorMessage:_}=s;let u=JS(t,n,l);if(!u||8388608&u.flags)continue;let d=Rx(t,l);if(!d)continue;const f=fx(l,void 0);if(!gT(d,u,r,void 0)&&(a=!0,!c||!BS(c,d,u,r,void 0,i,o))){const a=o||{},s=c?zS(c,d):d;if(oe&&kT(s,u)){const t=qp(e,ma.Type_0_is_not_assignable_to_type_1_with_exactOptionalPropertyTypes_Colon_true_Consider_adding_undefined_to_the_type_of_the_target,oc(s),oc(u));po.add(t),a.errors=[t]}else{const o=!!(f&&16777216&(Gf(n,f)||bt).flags),c=!!(f&&16777216&(Gf(t,f)||bt).flags);u=Tw(u,o),d=Tw(d,o&&c),gT(s,u,r,e,_,i,a)&&s!==d&&gT(d,u,r,e,_,i,a)}if(a.errors){const e=a.errors[a.errors.length-1],t=dC(l)?pC(l):void 0,r=void 0!==t?Gf(n,t):void 0;let i=!1;if(!r){const t=Um(n,l);t&&t.declaration&&!Sd(t.declaration).hasNoDefaultLib&&(i=!0,uT(e,qp(t.declaration,ma.The_expected_type_comes_from_this_index_signature)))}if(!i&&(r&&p(r.declarations)||n.symbol&&p(n.symbol.declarations))){const i=r&&p(r.declarations)?r.declarations[0]:n.symbol.declarations[0];Sd(i).hasNoDefaultLib||uT(e,qp(i,ma.The_expected_type_comes_from_property_0_which_is_declared_here_on_type_1,!t||8192&l.flags?oc(l):bc(t),oc(n)))}}}}return a}function VS(e,t,n){switch(e.kind){case 294:return{errorNode:e,innerExpression:e.expression,nameType:t};case 12:if(e.containsOnlyTriviaWhiteSpaces)break;return{errorNode:e,innerExpression:void 0,nameType:t,errorMessage:n()};case 284:case 285:case 288:return{errorNode:e,innerExpression:e,nameType:t};default:return fn.assertNever(e,"Found invalid jsx child")}}function*US(e,t){const n=p(e.elements);if(n)for(let r=0;r<n;r++){if($C(t)&&!Gf(t,""+r))continue;const n=e.elements[r];if(NF(n))continue;const i=yk(r),o=ZO(n);yield{errorNode:o,innerExpression:o,nameType:i}}}function WS(e,t,n,r,i){return gT(e,t,vo,n,r,i)}function $S(e){if(!e.typeParameters&&(!e.thisParameter||$c(HL(e.thisParameter)))&&1===e.parameters.length&&_J(e)){const t=HL(e.parameters[0]);return!!(131073&(jC(t)?uy(t)[0]:t).flags&&3&zg(e).flags)}return!1}function HS(e,t,n,r,i,o,a,s){if(e===t)return-1;if(!(16&n&&$S(e))&&$S(t))return-1;if(16&n&&$S(e)&&!$S(t))return 0;const c=ij(t);if(!aj(t)&&(8&n?aj(e)||ij(e)>c:oj(e)>c))return!r||8&n||i(ma.Target_signature_provides_too_few_arguments_Expected_0_or_more_but_got_1,oj(e),c),0;e.typeParameters&&e.typeParameters!==t.typeParameters&&(e=WO(e,t=Ch(t),void 0,a));const l=ij(e),_=cj(e),u=cj(t);(_||u)&&gS(_||u,s);const d=t.declaration?t.declaration.kind:0,p=!(3&n)&&H&&174!==d&&173!==d&&176!==d;let f=-1;const m=Lg(e);if(m&&m!==cn){const e=Lg(t);if(e){const t=!p&&a(m,e,!1)||a(e,m,r);if(!t)return r&&i(ma.The_this_types_of_each_signature_are_incompatible),0;f&=t}}const g=_||u?Math.min(l,c):Math.max(l,c),h=_||u?g-1:-1;for(let y=0;y<g;y++){const c=y===h?rj(e,y):tj(e,y),l=y===h?rj(t,y):tj(t,y);if(c&&l&&(c!==l||8&n)){const _=3&n||zO(e,y)?void 0:qO(vw(c)),u=3&n||zO(t,y)?void 0:qO(vw(l));let d=_&&u&&!Rg(_)&&!Rg(u)&&QD(c,50331648)===QD(l,50331648)?HS(u,_,8&n|(p?2:1),r,i,o,a,s):!(3&n)&&!p&&a(c,l,!1)||a(l,c,r);if(d&&8&n&&y>=oj(e)&&y<oj(t)&&a(c,l,!1)&&(d=0),!d)return r&&i(ma.Types_of_parameters_0_and_1_are_incompatible,bc(XL(e,y)),bc(XL(t,y))),0;f&=d}}if(!(4&n)){const s=Qg(t)?wt:t.declaration&&CL(t.declaration)?su(ps(t.declaration.symbol)):zg(t);if(s===cn||s===wt)return f;const c=Qg(e)?wt:e.declaration&&CL(e.declaration)?su(ps(e.declaration.symbol)):zg(e),l=Rg(t);if(l){const t=Rg(e);if(t)f&=function(e,t,n,r,i){if(e.kind!==t.kind)return n&&(r(ma.A_this_based_type_guard_is_not_compatible_with_a_parameter_based_type_guard),r(ma.Type_predicate_0_is_not_assignable_to_1,hc(e),hc(t))),0;if((1===e.kind||3===e.kind)&&e.parameterIndex!==t.parameterIndex)return n&&(r(ma.Parameter_0_is_not_in_the_same_position_as_parameter_1,e.parameterName,t.parameterName),r(ma.Type_predicate_0_is_not_assignable_to_1,hc(e),hc(t))),0;const o=e.type===t.type?-1:e.type&&t.type?i(e.type,t.type,n):0;return 0===o&&n&&r(ma.Type_predicate_0_is_not_assignable_to_1,hc(e),hc(t)),o}(t,l,r,i,a);else if($f(l)||Hf(l))return r&&i(ma.Signature_0_must_be_a_type_predicate,rc(e)),0}else f&=1&n&&a(s,c,!1)||a(c,s,r),!f&&r&&o&&o(c,s)}return f}function KS(e,t){const n=gh(e),r=gh(t),i=zg(n),o=zg(r);return!(o!==cn&&!iT(o,i,yo)&&!iT(i,o,yo))&&0!==HS(n,r,4,!1,void 0,void 0,DS,void 0)}function GS(e){return e!==Ln&&0===e.properties.length&&0===e.callSignatures.length&&0===e.constructSignatures.length&&0===e.indexInfos.length}function QS(e){return 524288&e.flags?!Sp(e)&&GS(Cp(e)):!!(67108864&e.flags)||(1048576&e.flags?K(e.types,QS):!!(2097152&e.flags)&&x(e.types,QS))}function ZS(e){return!!(16&xx(e)&&(e.members&&GS(e)||e.symbol&&2048&e.symbol.flags&&0===fd(e.symbol).size))}function YS(e){return!!(32768&(1048576&e.flags?e.types[0]:e).flags)}function eT(e){return 524288&e.flags&&!Sp(e)&&0===Fp(e).length&&1===Am(e).length&&!!jm(e,Vt)||3145728&e.flags&&x(e.types,eT)||!1}function tT(e,t,n){const r=8&e.flags?gs(e):e,i=8&t.flags?gs(t):t;if(r===i)return!0;if(!(r.escapedName===i.escapedName&&256&r.flags&&256&i.flags))return!1;const o=iJ(r)+","+iJ(i),a=xo.get(o);if(void 0!==a&&!(2&a&&n))return!!(1&a);const s=w_(i);for(const c of Fp(w_(r)))if(8&c.flags){const e=Gf(s,c.escapedName);if(!(e&&8&e.flags))return n&&n(ma.Property_0_is_missing_in_type_1,Sc(c),oc(vu(i),void 0,64)),xo.set(o,2),!1;const t=zz(Qu(c,306)).value,r=zz(Qu(e,306)).value;if(t!==r){const a="string"==typeof t,s="string"==typeof r;if(void 0!==t&&void 0!==r){if(n){const o=a?`"${Cy(t)}"`:t,c=s?`"${Cy(r)}"`:r;n(ma.Each_declaration_of_0_1_differs_in_its_value_where_2_was_expected_but_3_was_given,Sc(i),Sc(e),c,o)}return xo.set(o,2),!1}if(a||s){if(n){const o=null!=t?t:r;fn.assert("string"==typeof o);const a=`"${Cy(o)}"`;n(ma.One_value_of_0_1_is_the_string_2_and_the_other_is_assumed_to_be_an_unknown_numeric_value,Sc(i),Sc(e),a)}return xo.set(o,2),!1}}}return xo.set(o,1),!0}function nT(e,t,n,r){const i=e.flags,o=t.flags;if(1&o||131072&i||e===Nt)return!0;if(2&o&&!(n===ho&&1&i))return!0;if(131072&o)return!1;if(402653316&i&&4&o)return!0;if(128&i&&1024&i&&128&o&&!(1024&o)&&e.value===t.value)return!0;if(296&i&&8&o)return!0;if(256&i&&1024&i&&256&o&&!(1024&o)&&e.value===t.value)return!0;if(2112&i&&64&o)return!0;if(528&i&&16&o)return!0;if(12288&i&&4096&o)return!0;if(32&i&&32&o&&e.symbol.escapedName===t.symbol.escapedName&&tT(e.symbol,t.symbol,r))return!0;if(1024&i&&1024&o){if(1048576&i&&1048576&o&&tT(e.symbol,t.symbol,r))return!0;if(2944&i&&2944&o&&e.value===t.value&&tT(e.symbol,t.symbol,r))return!0}if(32768&i&&(!$&&!(3145728&o)||49152&o))return!0;if(65536&i&&(!$&&!(3145728&o)||65536&o))return!0;if(524288&i&&67108864&o&&(n!==ho||!ZS(e)||8192&xx(e)))return!0;if(n===yo||n===vo){if(1&i)return!0;if(8&i&&(32&o||256&o&&1024&o))return!0;if(256&i&&!(1024&i)&&(32&o||256&o&&1024&o&&e.value===t.value))return!0;if(function(e){if($&&1048576&e.flags){if(!(33554432&e.objectFlags)){const t=e.types;e.objectFlags|=33554432|(t.length>=3&&32768&t[0].flags&&65536&t[1].flags&&K(t,ZS)?67108864:0)}return!!(67108864&e.objectFlags)}return!1}(t))return!0}return!1}function iT(e,t,n){if(gk(e)&&(e=e.regularType),gk(t)&&(t=t.regularType),e===t)return!0;if(n!==bo){if(n===vo&&!(131072&t.flags)&&nT(t,e,n)||nT(e,t,n))return!0}else if(!(61865984&(e.flags|t.flags))){if(e.flags!==t.flags)return!1;if(67358815&e.flags)return!0}if(524288&e.flags&&524288&t.flags){const r=n.get(cC(e,t,0,n,!1));if(void 0!==r)return!!(1&r)}return!!(469499904&e.flags||469499904&t.flags)&&gT(e,t,n,void 0)}function oT(e,t){return 2048&xx(e)&&cI(t.escapedName)}function cT(e,t){for(;;){const n=gk(e)?e.regularType:aw(e)?_T(e,t):4&xx(e)?e.node?cy(e.target,uy(e)):VC(e)||e:3145728&e.flags?lT(e,t):33554432&e.flags?t?e.baseType:Ny(e):25165824&e.flags?Ex(e,t):e;if(n===e)return n;e=n}}function lT(e,t){const n=Nf(e);if(n!==e)return n;if(2097152&e.flags&&function(e){let t=!1,n=!1;for(const r of e.types)if(t||(t=!!(465829888&r.flags)),n||(n=!!(98304&r.flags)||ZS(r)),t&&n)return!0;return!1}(e)){const n=O(e.types,e=>cT(e,t));if(n!==e.types)return qb(n)}return e}function _T(e,t){const n=Sb(e),r=O(n,e=>25165824&e.flags?Ex(e,t):e);return n!==r?tb(e.target,r):e}function gT(e,t,n,i,o,a,s){var c;let l,_,d,f,m,g,h,y,v=0,b=0,x=0,k=0,S=!1,C=0,D=0,N=16e6-n.size>>3;fn.assert(n!==bo||!i,"no error reporting in identity checking");const F=V(e,t,3,!!i,o);if(y&&j(),S){const o=cC(e,t,0,n,!1);n.set(o,2|(N<=0?32:64)),null==(c=Xn)||c.instant(Xn.Phase.CheckTypes,"checkTypeRelatedTo_DepthLimit",{sourceId:e.id,targetId:t.id,depth:b,targetDepth:x});const a=N<=0?ma.Excessive_complexity_comparing_types_0_and_1:ma.Excessive_stack_depth_comparing_types_0_and_1,l=Lo(i||r,a,oc(e),oc(t));s&&(s.errors||(s.errors=[])).push(l)}else if(l){if(a){const e=a();e&&(ok(e,l),l=e)}let r;if(o&&i&&!F&&e.symbol){const i=na(e.symbol);i.originatingImport&&!ff(i.originatingImport)&&gT(w_(i.target),t,n,void 0)&&(r=se(r,qp(i.originatingImport,ma.Type_originates_at_this_import_A_namespace_style_import_cannot_be_called_or_constructed_and_will_cause_a_failure_at_runtime_Consider_using_a_default_import_or_import_require_here_instead)))}const c=Wp(Sd(i),i,l,r);_&&uT(c,..._),s&&(s.errors||(s.errors=[])).push(c),s&&s.skipLogging||po.add(c)}return i&&s&&s.skipLogging&&0===F&&fn.assert(!!s.errors,"missed opportunity to interact with error."),0!==F;function E(e){l=e.errorInfo,h=e.lastSkippedInfo,y=e.incompatibleStack,C=e.overrideNextErrorInfo,D=e.skipParentCounter,_=e.relatedInfo}function P(){return{errorInfo:l,lastSkippedInfo:h,incompatibleStack:null==y?void 0:y.slice(),overrideNextErrorInfo:C,skipParentCounter:D,relatedInfo:null==_?void 0:_.slice()}}function L(e,...t){C++,h=void 0,(y||(y=[])).push([e,...t])}function j(){const e=y||[];y=void 0;const t=h;if(h=void 0,1===e.length)return R(...e[0]),void(t&&J(void 0,...t));let n="";const r=[];for(;e.length;){const[t,...i]=e.pop();switch(t.code){case ma.Types_of_property_0_are_incompatible.code:{0===n.indexOf("new ")&&(n=`(${n})`);const e=""+i[0];n=0===n.length?`${e}`:bs(e,Sk(I))?`${n}.${e}`:"["===e[0]&&"]"===e[e.length-1]?`${n}${e}`:`${n}[${e}]`;break}case ma.Call_signature_return_types_0_and_1_are_incompatible.code:case ma.Construct_signature_return_types_0_and_1_are_incompatible.code:case ma.Call_signatures_with_no_arguments_have_incompatible_return_types_0_and_1.code:case ma.Construct_signatures_with_no_arguments_have_incompatible_return_types_0_and_1.code:if(0===n.length){let e=t;t.code===ma.Call_signatures_with_no_arguments_have_incompatible_return_types_0_and_1.code?e=ma.Call_signature_return_types_0_and_1_are_incompatible:t.code===ma.Construct_signatures_with_no_arguments_have_incompatible_return_types_0_and_1.code&&(e=ma.Construct_signature_return_types_0_and_1_are_incompatible),r.unshift([e,i[0],i[1]])}else n=`${t.code===ma.Construct_signature_return_types_0_and_1_are_incompatible.code||t.code===ma.Construct_signatures_with_no_arguments_have_incompatible_return_types_0_and_1.code?"new ":""}${n}(${t.code===ma.Call_signatures_with_no_arguments_have_incompatible_return_types_0_and_1.code||t.code===ma.Construct_signatures_with_no_arguments_have_incompatible_return_types_0_and_1.code?"":"..."})`;break;case ma.Type_at_position_0_in_source_is_not_compatible_with_type_at_position_1_in_target.code:r.unshift([ma.Type_at_position_0_in_source_is_not_compatible_with_type_at_position_1_in_target,i[0],i[1]]);break;case ma.Type_at_positions_0_through_1_in_source_is_not_compatible_with_type_at_position_2_in_target.code:r.unshift([ma.Type_at_positions_0_through_1_in_source_is_not_compatible_with_type_at_position_2_in_target,i[0],i[1],i[2]]);break;default:return fn.fail(`Unhandled Diagnostic: ${t.code}`)}}n?R(")"===n[n.length-1]?ma.The_types_returned_by_0_are_incompatible_between_these_types:ma.The_types_of_0_are_incompatible_between_these_types,n):r.shift();for(const[i,...o]of r){const e=i.elidedInCompatabilityPyramid;i.elidedInCompatabilityPyramid=!1,R(i,...o),i.elidedInCompatabilityPyramid=e}t&&J(void 0,...t)}function R(e,...t){fn.assert(!!i),y&&j(),e.elidedInCompatabilityPyramid||(0===D?l=ik(l,e,...t):D--)}function M(e,...t){R(e,...t),D++}function B(e){fn.assert(!!l),_?_.push(e):_=[e]}function J(e,t,r){y&&j();const[i,o]=ac(t,r);let a=t,s=i;if(131072&r.flags||!ZC(t)||hT(r)||(a=YC(t),fn.assert(!PS(a,r),"generalized source shouldn't be assignable"),s=cc(a)),262144&(8388608&r.flags&&!(8388608&t.flags)?r.objectType.flags:r.flags)&&r!==qn&&r!==Vn){const e=_f(r);let n;e&&(PS(a,e)||(n=PS(t,e)))?R(ma._0_is_assignable_to_the_constraint_of_type_1_but_1_could_be_instantiated_with_a_different_subtype_of_constraint_2,n?i:s,o,oc(e)):(l=void 0,R(ma._0_could_be_instantiated_with_an_arbitrary_type_which_could_be_unrelated_to_1,o,s))}if(e)e===ma.Argument_of_type_0_is_not_assignable_to_parameter_of_type_1&&oe&&vT(t,r).length&&(e=ma.Argument_of_type_0_is_not_assignable_to_parameter_of_type_1_with_exactOptionalPropertyTypes_Colon_true_Consider_adding_undefined_to_the_types_of_the_target_s_properties);else if(n===vo)e=ma.Type_0_is_not_comparable_to_type_1;else if(i===o)e=ma.Type_0_is_not_assignable_to_type_1_Two_different_types_with_this_name_exist_but_they_are_unrelated;else if(oe&&vT(t,r).length)e=ma.Type_0_is_not_assignable_to_type_1_with_exactOptionalPropertyTypes_Colon_true_Consider_adding_undefined_to_the_types_of_the_target_s_properties;else{if(128&t.flags&&1048576&r.flags){const e=function(e,t){const n=t.types.filter(e=>!!(128&e.flags));return Mt(e.value,n,e=>e.value)}(t,r);if(e)return void R(ma.Type_0_is_not_assignable_to_type_1_Did_you_mean_2,s,o,oc(e))}e=ma.Type_0_is_not_assignable_to_type_1}R(e,s,o)}function z(e,t,n){return ow(e)?e.target.readonly&&BC(t)?(n&&R(ma.The_type_0_is_readonly_and_cannot_be_assigned_to_the_mutable_type_1,oc(e),oc(t)),!1):MC(t):RC(e)&&BC(t)?(n&&R(ma.The_type_0_is_readonly_and_cannot_be_assigned_to_the_mutable_type_1,oc(e),oc(t)),!1):!ow(t)||jC(e)}function q(e,t,n){return V(e,t,3,n)}function V(e,t,r=3,o=!1,a,s=0){if(e===t)return-1;if(524288&e.flags&&402784252&t.flags)return n===vo&&!(131072&t.flags)&&nT(t,e,n)||nT(e,t,n,o?R:void 0)?-1:(o&&U(e,t,e,t,a),0);const c=cT(e,!1);let l=cT(t,!0);if(c===l)return-1;if(n===bo)return c.flags!==l.flags?0:67358815&c.flags?-1:(W(c,l),ee(c,l,!1,0,r));if(262144&c.flags&&Ap(c)===l)return-1;if(470302716&c.flags&&1048576&l.flags){const e=l.types,t=2===e.length&&98304&e[0].flags?e[1]:3===e.length&&98304&e[0].flags&&98304&e[1].flags?e[2]:void 0;if(t&&!(98304&t.flags)&&(l=cT(t,!0),c===l))return-1}if(n===vo&&!(131072&l.flags)&&nT(l,c,n)||nT(c,l,n,o?R:void 0))return-1;if(469499904&c.flags||469499904&l.flags){if(!(2&s)&&SD(c)&&8192&xx(c)&&function(e,t,r){var o;if(!OI(t)||!te&&4096&xx(t))return!1;const a=!!(2048&xx(e));if((n===yo||n===vo)&&(eF(Kn,t)||!a&&QS(t)))return!1;let s,c=t;1048576&t.flags&&(c=Jq(e,t,V)||function(e){if(Hj(e,67108864)){const t=yF(e,e=>!(402784252&e.flags));if(!(131072&t.flags))return t}return e}(t),s=1048576&c.flags?c.types:[c]);for(const n of Fp(e))if(G(n,e.symbol)&&!oT(e,n)){if(!II(c,n.escapedName,a)){if(r){const t=yF(c,OI);if(!i)return fn.fail();if(UE(i)||Cu(i)||Cu(i.parent)){n.valueDeclaration&&VE(n.valueDeclaration)&&Sd(i)===Sd(n.valueDeclaration.name)&&(i=n.valueDeclaration.name);const e=nc(n),r=yO(e,t),o=r?nc(r):void 0;o?R(ma.Property_0_does_not_exist_on_type_1_Did_you_mean_2,e,oc(t),o):R(ma.Property_0_does_not_exist_on_type_1,e,oc(t))}else{const r=(null==(o=e.symbol)?void 0:o.declarations)&&he(e.symbol.declarations);let a;if(n.valueDeclaration&&gc(n.valueDeclaration,e=>e===r)&&Sd(r)===Sd(i)){const e=n.valueDeclaration;fn.assertNode(e,T_);const r=e.name;i=r,tN(r)&&(a=vO(r,t))}void 0!==a?M(ma.Object_literal_may_only_specify_known_properties_but_0_does_not_exist_in_type_1_Did_you_mean_to_write_2,nc(n),oc(t),a):M(ma.Object_literal_may_only_specify_known_properties_and_0_does_not_exist_in_type_1,nc(n),oc(t))}}return!0}if(s&&!V(w_(n),H(s,n.escapedName),3,r))return r&&L(ma.Types_of_property_0_are_incompatible,nc(n)),!0}return!1}(c,l,o))return o&&J(a,c,t.aliasSymbol?t:l),0;const _=(n!==vo||XC(c))&&!(2&s)&&405405692&c.flags&&c!==Kn&&2621440&l.flags&&PT(l)&&(Fp(c).length>0||Sz(c)),u=!!(2048&xx(c));if(_&&!function(e,t,n){for(const r of Fp(e))if(II(t,r.escapedName,n))return!0;return!1}(c,l,u)){if(o){const n=oc(e.aliasSymbol?e:c),r=oc(t.aliasSymbol?t:l),i=Qf(c,0),o=Qf(c,1);i.length>0&&V(zg(i[0]),l,1,!1)||o.length>0&&V(zg(o[0]),l,1,!1)?R(ma.Value_of_type_0_has_no_properties_in_common_with_type_1_Did_you_mean_to_call_it,n,r):R(ma.Type_0_has_no_properties_in_common_with_type_1,n,r)}return 0}W(c,l);const d=1048576&c.flags&&c.types.length<4&&!(1048576&l.flags)||1048576&l.flags&&l.types.length<4&&!(469499904&c.flags)?X(c,l,o,s):ee(c,l,o,s,r);if(d)return d}return o&&U(e,t,c,l,a),0}function U(e,t,n,r,o){var a,s;const c=!!VC(e),_=!!VC(t);n=e.aliasSymbol||c?e:n,r=t.aliasSymbol||_?t:r;let u=C>0;if(u&&C--,524288&n.flags&&524288&r.flags){const e=l;z(n,r,!0),l!==e&&(u=!!l)}if(524288&n.flags&&402784252&r.flags)!function(e,t){const n=_c(e.symbol)?oc(e,e.symbol.valueDeclaration):oc(e),r=_c(t.symbol)?oc(t,t.symbol.valueDeclaration):oc(t);(tr===e&&Vt===t||nr===e&&Ut===t||rr===e&&tn===t||tv()===e&&an===t)&&R(ma._0_is_a_primitive_but_1_is_a_wrapper_object_Prefer_using_0_when_possible,r,n)}(n,r);else if(n.symbol&&524288&n.flags&&Kn===n)R(ma.The_Object_type_is_assignable_to_very_few_other_types_Did_you_mean_to_use_the_any_type_instead);else if(2048&xx(n)&&2097152&r.flags){const e=r.types,t=fI(JB.IntrinsicAttributes,i),n=fI(JB.IntrinsicClassAttributes,i);if(!Hc(t)&&!Hc(n)&&(w(e,t)||w(e,n)))return}else l=Kf(l,t);if(!o&&u){const e=P();let t;return J(o,n,r),l&&l!==e.errorInfo&&(t={code:l.code,messageText:l.messageText}),E(e),t&&l&&(l.canonicalHead=t),void(h=[n,r])}if(J(o,n,r),262144&n.flags&&(null==(s=null==(a=n.symbol)?void 0:a.declarations)?void 0:s[0])&&!Ap(n)){const e=oS(n);if(e.constraint=gS(r,Kk(n,e)),df(e)){const e=oc(r,n.symbol.declarations[0]);B(qp(n.symbol.declarations[0],ma.This_type_parameter_might_need_an_extends_0_constraint,e))}}}function W(e,t){if(Xn&&3145728&e.flags&&3145728&t.flags){const n=e,r=t;if(n.objectFlags&r.objectFlags&32768)return;const o=n.types.length,a=r.types.length;o*a>1e6&&Xn.instant(Xn.Phase.CheckTypes,"traceUnionsOrIntersectionsTooLarge_DepthLimit",{sourceId:e.id,sourceSize:o,targetId:t.id,targetSize:a,pos:null==i?void 0:i.pos,end:null==i?void 0:i.end})}}function H(e,t){return Ob(Fe(e,(e,n)=>{var r;const i=3145728&(n=Sf(n)).flags?Df(n,t):Dp(n,t);return se(e,i&&w_(i)||(null==(r=$m(n,t))?void 0:r.type)||Lt)},void 0)||u)}function G(e,t){return e.valueDeclaration&&t.valueDeclaration&&e.valueDeclaration.parent===t.valueDeclaration}function X(e,t,r,i){if(1048576&e.flags){if(1048576&t.flags){const n=e.origin;if(n&&2097152&n.flags&&t.aliasSymbol&&w(n.types,t))return-1;const r=t.origin;if(r&&1048576&r.flags&&e.aliasSymbol&&w(r.types,e))return-1}return n===vo?Y(e,t,r&&!(402784252&e.flags),i):function(e,t,n,r){let i=-1;const o=e.types,a=function(e,t){return 1048576&e.flags&&1048576&t.flags&&!(32768&e.types[0].flags)&&32768&t.types[0].flags?PF(t,-32769):t}(e,t);for(let s=0;s<o.length;s++){const e=o[s];if(1048576&a.flags&&o.length>=a.types.length&&o.length%a.types.length===0){const t=V(e,a.types[s%a.types.length],3,!1,void 0,r);if(t){i&=t;continue}}const c=V(e,t,1,n,void 0,r);if(!c)return 0;i&=c}return i}(e,t,r&&!(402784252&e.flags),i)}if(1048576&t.flags)return Z(Aw(e),t,r&&!(402784252&e.flags)&&!(402784252&t.flags),i);if(2097152&t.flags)return function(e,t,n,r){let i=-1;const o=t.types;for(const a of o){const t=V(e,a,2,n,void 0,r);if(!t)return 0;i&=t}return i}(e,t,r,2);if(n===vo&&402784252&t.flags){const n=O(e.types,e=>465829888&e.flags?_f(e)||Ot:e);if(n!==e.types){if(131072&(e=qb(n)).flags)return 0;if(!(2097152&e.flags))return V(e,t,1,!1)||V(t,e,1,!1)}}return Y(e,t,!1,1)}function Q(e,t){let n=-1;const r=e.types;for(const i of r){const e=Z(i,t,!1,0);if(!e)return 0;n&=e}return n}function Z(e,t,r,i){const o=t.types;if(1048576&t.flags){if(wb(o,e))return-1;if(n!==vo&&32768&xx(t)&&!(1024&e.flags)&&(2688&e.flags||(n===go||n===ho)&&256&e.flags)){const t=e===e.regularType?e.freshType:e.regularType,n=128&e.flags?Vt:256&e.flags?Ut:2048&e.flags?$t:void 0;return n&&wb(o,n)||t&&wb(o,t)?-1:0}const r=WD(t,e);if(r){const t=V(e,r,2,!1,void 0,i);if(t)return t}}for(const n of o){const t=V(e,n,2,!1,void 0,i);if(t)return t}if(r){const n=NT(e,t,V);n&&V(e,n,2,!0,void 0,i)}return 0}function Y(e,t,n,r){const i=e.types;if(1048576&e.flags&&wb(i,t))return-1;const o=i.length;for(let a=0;a<o;a++){const e=V(i[a],t,1,n&&a===o-1,void 0,r);if(e)return e}return 0}function ee(e,t,r,i,o){var a,s,c;if(S)return 0;const _=cC(e,t,i,n,!1),p=n.get(_);if(void 0!==p&&(!(r&&2&p)||96&p)){if(en){const t=24&p;8&t&&gS(e,wn),16&t&&gS(e,Cn)}return r&&96&p&&(R(32&p?ma.Excessive_complexity_comparing_types_0_and_1:ma.Excessive_stack_depth_comparing_types_0_and_1,oc(e),oc(t)),C++),1&p?-1:0}if(N<=0)return S=!0,0;if(d){if(f.has(_))return 3;const r=_.startsWith("*")?cC(e,t,i,n,!0):void 0;if(r&&f.has(r))return 3;if(100===b||100===x)return S=!0,0}else d=[],f=new Set,m=[],g=[];const h=v;d[v]=_,f.add(_),v++;const y=k;let T;1&o&&(m[b]=e,b++,1&k||!CC(e,m,b)||(k|=1)),2&o&&(g[x]=t,x++,2&k||!CC(t,g,x)||(k|=2));let w,D=0;return en&&(T=en,en=e=>(D|=e?16:8,T(e))),3===k?(null==(a=Xn)||a.instant(Xn.Phase.CheckTypes,"recursiveTypeRelatedTo_DepthLimit",{sourceId:e.id,sourceIdStack:m.map(e=>e.id),targetId:t.id,targetIdStack:g.map(e=>e.id),depth:b,targetDepth:x}),w=3):(null==(s=Xn)||s.push(Xn.Phase.CheckTypes,"structuredTypeRelatedTo",{sourceId:e.id,targetId:t.id}),w=function(e,t,r,i){const o=P();let a=function(e,t,r,i,o){let a,s,c=!1,_=e.flags;const d=t.flags;if(n===bo){if(3145728&_){let n=Q(e,t);return n&&(n&=Q(t,e)),n}if(4194304&_)return V(e.type,t.type,3,!1);if(8388608&_&&(a=V(e.objectType,t.objectType,3,!1))&&(a&=V(e.indexType,t.indexType,3,!1)))return a;if(16777216&_&&e.root.isDistributive===t.root.isDistributive&&(a=V(e.checkType,t.checkType,3,!1))&&(a&=V(e.extendsType,t.extendsType,3,!1))&&(a&=V(Wx(e),Wx(t),3,!1))&&(a&=V($x(e),$x(t),3,!1)))return a;if(33554432&_&&(a=V(e.baseType,t.baseType,3,!1))&&(a&=V(e.constraint,t.constraint,3,!1)))return a;if(!(524288&_))return 0}else if(3145728&_||3145728&d){if(a=X(e,t,r,i))return a;if(!(465829888&_||524288&_&&1048576&d||2097152&_&&467402752&d))return 0}if(17301504&_&&e.aliasSymbol&&e.aliasTypeArguments&&e.aliasSymbol===t.aliasSymbol&&!BT(e)&&!BT(t)){const n=LT(e.aliasSymbol);if(n===u)return 1;const r=na(e.aliasSymbol).typeParameters,o=yg(r),a=y(bg(e.aliasTypeArguments,r,o,Om(e.aliasSymbol.valueDeclaration)),bg(t.aliasTypeArguments,r,o,Om(e.aliasSymbol.valueDeclaration)),n,i);if(void 0!==a)return a}if(sw(e)&&!e.target.readonly&&(a=V(uy(e)[0],t,1))||sw(t)&&(t.target.readonly||BC(_f(e)||e))&&(a=V(e,uy(t)[0],2)))return a;if(262144&d){if(32&xx(e)&&!e.declaration.nameType&&V(tx(t),rp(e),3)&&!(4&fp(e))){const n=ap(e),i=Lx(t,tp(e));if(a=V(n,i,3,r))return a}if(n===vo&&262144&_){let n=Bp(e);if(n)for(;n&&dF(n,e=>!!(262144&e.flags));){if(a=V(n,t,1,!1))return a;n=Bp(n)}return 0}}else if(4194304&d){const n=t.type;if(4194304&_&&(a=V(n,e.type,3,!1)))return a;if(ow(n)){if(a=V(e,ab(n),2,r))return a}else{const i=Hp(n);if(i){if(-1===V(e,tx(i,4|t.indexFlags),2,r))return-1}else if(Sp(n)){const t=ip(n),i=rp(n);let o;if(o=t&&cp(n)?Ob([ne(t,n),t]):t||i,-1===V(e,o,2,r))return-1}}}else if(8388608&d){if(8388608&_){if((a=V(e.objectType,t.objectType,3,r))&&(a&=V(e.indexType,t.indexType,3,r)),a)return a;r&&(s=l)}if(n===yo||n===vo){const n=t.objectType,c=t.indexType,_=_f(n)||n,u=_f(c)||c;if(!Cx(_)&&!wx(u)){const t=Rx(_,u,4|(_!==n?2:0));if(t){if(r&&s&&E(o),a=V(e,t,2,r,void 0,i))return a;r&&s&&l&&(l=h([s])<=h([l])?s:l)}}}r&&(s=void 0)}else if(Sp(t)&&n!==bo){const n=!!t.declaration.nameType,i=ap(t),c=fp(t);if(!(8&c)){if(!n&&8388608&i.flags&&i.objectType===e&&i.indexType===tp(t))return-1;if(!Sp(e)){const i=n?ip(t):rp(t),_=tx(e,2),u=4&c,d=u?Md(i,_):void 0;if(u?!(131072&d.flags):V(i,_,3)){const o=ap(t),s=tp(t),c=PF(o,-98305);if(!n&&8388608&c.flags&&c.indexType===s){if(a=V(e,c.objectType,2,r))return a}else{const t=Lx(e,n?d||i:d?qb([d,s]):s);if(a=V(t,o,3,r))return a}}s=l,E(o)}}}else if(16777216&d){if(CC(t,g,x,10))return 3;const n=t;if(!(n.root.inferTypeParameters||(p=n.root,p.isDistributive&&(_S(p.checkType,p.node.trueType)||_S(p.checkType,p.node.falseType)))||16777216&e.flags&&e.root===n.root)){const t=!PS(yS(n.checkType),yS(n.extendsType)),r=!t&&PS(vS(n.checkType),vS(n.extendsType));if((a=t?-1:V(e,Wx(n),2,!1,void 0,i))&&(a&=r?-1:V(e,$x(n),2,!1,void 0,i),a))return a}}else if(134217728&d){if(134217728&_){if(n===vo)return function(e,t){const n=e.texts[0],r=t.texts[0],i=e.texts[e.texts.length-1],o=t.texts[t.texts.length-1],a=Math.min(n.length,r.length),s=Math.min(i.length,o.length);return n.slice(0,a)!==r.slice(0,a)||i.slice(i.length-s)!==o.slice(o.length-s)}(e,t)?0:-1;gS(e,Cn)}if(yD(e,t))return-1}else if(268435456&t.flags&&!(268435456&e.flags)&&mD(e,t))return-1;var p,f;if(8650752&_){if(!(8388608&_&&8388608&d)){const n=Ap(e)||Ot;if(a=V(n,t,1,!1,void 0,i))return a;if(a=V(yd(n,e),t,1,r&&n!==Ot&&!(d&_&262144),void 0,i))return a;if(kf(e)){const n=Ap(e.indexType);if(n&&(a=V(Lx(e.objectType,n),t,1,r)))return a}}}else if(4194304&_){const n=ex(e.type,e.indexFlags)&&32&xx(e.type);if(a=V(hn,t,1,r&&!n))return a;if(n){const n=e.type,i=ip(n),o=i&&cp(n)?ne(i,n):i||rp(n);if(a=V(o,t,1,r))return a}}else if(134217728&_&&!(524288&d)){if(!(134217728&d)){const n=_f(e);if(n&&n!==e&&(a=V(n,t,1,r)))return a}}else if(268435456&_)if(268435456&d){if(e.symbol!==t.symbol)return 0;if(a=V(e.type,t.type,3,r))return a}else{const n=_f(e);if(n&&(a=V(n,t,1,r)))return a}else if(16777216&_){if(CC(e,m,b,10))return 3;if(16777216&d){const n=e.root.inferTypeParameters;let i,o=e.extendsType;if(n){const e=$w(n,void 0,0,q);bD(e.inferences,t.extendsType,o,1536),o=gS(o,e.mapper),i=e.mapper}if(CS(o,t.extendsType)&&(V(e.checkType,t.checkType,3)||V(t.checkType,e.checkType,3))&&((a=V(gS(Wx(e),i),Wx(t),3,r))&&(a&=V($x(e),$x(t),3,r)),a))return a}const n=Kp(e);if(n&&(a=V(n,t,1,r)))return a;const i=16777216&d||!df(e)?void 0:Qp(e);if(i&&(E(o),a=V(i,t,1,r)))return a}else{if(n!==go&&n!==ho&&32&xx(f=t)&&4&fp(f)&&QS(e))return-1;if(Sp(t))return Sp(e)&&(a=function(e,t,r){const i=n===vo||(n===bo?fp(e)===fp(t):kp(e)<=kp(t));if(i){let n;if(n=V(rp(t),gS(rp(e),kp(e)<0?wn:Cn),3,r)){const i=Vk([tp(e)],[tp(t)]);if(gS(ip(e),i)===gS(ip(t),i))return n&V(gS(ap(e),i),ap(t),3,r)}}return 0}(e,t,r))?a:0;const p=!!(402784252&_);if(n!==bo)_=(e=Sf(e)).flags;else if(Sp(e))return 0;if(4&xx(e)&&4&xx(t)&&e.target===t.target&&!ow(e)&&!BT(e)&&!BT(t)){if(WC(e))return-1;const n=OT(e.target);if(n===u)return 1;const r=y(uy(e),uy(t),n,i);if(void 0!==r)return r}else{if(RC(t)?gF(e,MC):jC(t)&&gF(e,e=>ow(e)&&!e.target.readonly))return n!==bo?V(Jm(e,Ut)||wt,Jm(t,Ut)||wt,3,r):0;if(aw(e)&&ow(t)&&!aw(t)){const n=uf(e);if(n!==e)return V(n,t,1,r)}else if((n===go||n===ho)&&QS(t)&&8192&xx(t)&&!QS(e))return 0}if(2621440&_&&524288&d){const n=r&&l===o.errorInfo&&!p;if(a=ae(e,t,n,void 0,!1,i),a&&(a&=ce(e,t,0,n,i),a&&(a&=ce(e,t,1,n,i),a&&(a&=fe(e,t,p,n,i)))),c&&a)l=s||l||o.errorInfo;else if(a)return a}if(2621440&_&&1048576&d){const r=PF(t,36175872);if(1048576&r.flags){const t=function(e,t){var r;const i=Fp(e),o=qD(i,t);if(!o)return 0;let a=1;for(const n of o)if(a*=TF(F_(n)),a>25)return null==(r=Xn)||r.instant(Xn.Phase.CheckTypes,"typeRelatedToDiscriminatedType_DepthLimit",{sourceId:e.id,targetId:t.id,numCombinations:a}),0;const s=new Array(o.length),c=new Set;for(let n=0;n<o.length;n++){const e=o[n],t=F_(e);s[n]=1048576&t.flags?t.types:[t],c.add(e.escapedName)}const l=ln(s),_=[];for(const d of l){let r=!1;e:for(const i of t.types){for(let r=0;r<o.length;r++){const a=o[r],s=Gf(i,a.escapedName);if(!s)continue e;if(a!==s&&!ie(e,t,a,s,e=>d[r],!1,0,$||n===vo))continue e}ue(_,i,yt),r=!0}if(!r)return 0}let u=-1;for(const n of _)if(u&=ae(e,n,!1,c,!1,0),u&&(u&=ce(e,n,0,!1,0),u&&(u&=ce(e,n,1,!1,0),!u||ow(e)&&ow(n)||(u&=fe(e,n,!1,!1,0)))),!u)return u;return u}(e,r);if(t)return t}}}return 0;function h(e){return e?Fe(e,(e,t)=>e+1+h(t.next),0):0}function y(e,t,i,_){if(a=function(e=u,t=u,r=u,i,o){if(e.length!==t.length&&n===bo)return 0;const a=e.length<=t.length?e.length:t.length;let s=-1;for(let c=0;c<a;c++){const a=c<r.length?r[c]:1,l=7&a;if(4!==l){const r=e[c],_=t[c];let u=-1;if(8&a?u=n===bo?V(r,_,3,!1):wS(r,_):1===l?u=V(r,_,3,i,void 0,o):2===l?u=V(_,r,3,i,void 0,o):3===l?(u=V(_,r,3,!1),u||(u=V(r,_,3,i,void 0,o))):(u=V(r,_,3,i,void 0,o),u&&(u&=V(_,r,3,i,void 0,o))),!u)return 0;s&=u}}return s}(e,t,i,r,_))return a;if(K(i,e=>!!(24&e)))return s=void 0,void E(o);const d=t&&function(e,t){for(let n=0;n<t.length;n++)if(1==(7&t[n])&&16384&e[n].flags)return!0;return!1}(t,i);if(c=!d,i!==u&&!d){if(c&&(!r||!K(i,e=>!(7&e))))return 0;s=l,E(o)}}}(e,t,r,i,o);if(n!==bo){if(!a&&(2097152&e.flags||262144&e.flags&&1048576&t.flags)){const n=function(e,t){let n,r=!1;for(const i of e)if(465829888&i.flags){let e=Ap(i);for(;e&&21233664&e.flags;)e=Ap(e);e&&(n=se(n,e),t&&(n=se(n,i)))}else(469892092&i.flags||ZS(i))&&(r=!0);if(n&&(t||r)){if(r)for(const t of e)(469892092&t.flags||ZS(t))&&(n=se(n,t));return cT(qb(n,2),!1)}}(2097152&e.flags?e.types:[e],!!(1048576&t.flags));n&&gF(n,t=>t!==e)&&(a=V(n,t,1,!1,void 0,i))}a&&!(2&i)&&2097152&t.flags&&!Cx(t)&&2621440&e.flags?(a&=ae(e,t,r,void 0,!1,0),a&&SD(e)&&8192&xx(e)&&(a&=fe(e,t,!1,r,0))):a&&ak(t)&&!MC(t)&&2097152&e.flags&&3670016&Sf(e).flags&&!K(e.types,e=>e===t||!!(262144&xx(e)))&&(a&=ae(e,t,r,void 0,!0,i))}return a&&E(o),a}(e,t,r,i),null==(c=Xn)||c.pop()),en&&(en=T),1&o&&b--,2&o&&x--,k=y,w?(-1===w||0===b&&0===x)&&F(-1===w||3===w):(n.set(_,2|D),N--,F(!1)),w;function F(e){for(let t=h;t<v;t++)f.delete(d[t]),e&&(n.set(d[t],1|D),N--);v=h}}function ne(e,t){const n=Sf(lp(t)),r=[];return Gd(n,8576,!1,n=>{r.push(gS(e,iS(t.mapper,tp(t),n)))}),Ob(r)}function re(e,t){if(!t||0===e.length)return e;let n;for(let r=0;r<e.length;r++)t.has(e[r].escapedName)?n||(n=e.slice(0,r)):n&&n.push(e[r]);return n||e}function ie(e,t,r,i,o,a,s,c){const l=lx(r),_=lx(i);if(2&l||2&_){if(r.valueDeclaration!==i.valueDeclaration)return a&&(2&l&&2&_?R(ma.Types_have_separate_declarations_of_a_private_property_0,nc(i)):R(ma.Property_0_is_private_in_type_1_but_not_in_type_2,nc(i),oc(2&l?e:t),oc(2&l?t:e))),0}else if(4&_){if(!function(e,t){return!_C(t,t=>{return!!(4&lx(t))&&(n=e,r=gC(t),!_C(n,e=>{const t=gC(e);return!!t&&I_(t,r)}));var n,r})}(r,i))return a&&R(ma.Property_0_is_protected_but_type_1_is_not_a_class_derived_from_2,nc(i),oc(gC(r)||e),oc(gC(i)||t)),0}else if(4&l)return a&&R(ma.Property_0_is_protected_in_type_1_but_public_in_type_2,nc(i),oc(e),oc(t)),0;if(n===ho&&Jj(r)&&!Jj(i))return 0;const u=function(e,t,n,r,i){const o=$&&!!(48&cx(t)),a=pl(F_(t),!1,o);return V(n(e),a,3,r,void 0,i)}(r,i,o,a,s);return u?!c&&16777216&r.flags&&106500&i.flags&&!(16777216&i.flags)?(a&&R(ma.Property_0_is_optional_in_type_1_but_required_in_type_2,nc(i),oc(e),oc(t)),0):u:(a&&L(ma.Types_of_property_0_are_incompatible,nc(i)),0)}function ae(e,t,r,i,a,s){if(n===bo)return function(e,t,n){if(!(524288&e.flags&&524288&t.flags))return 0;const r=re(wp(e),n),i=re(wp(t),n);if(r.length!==i.length)return 0;let o=-1;for(const a of r){const e=Dp(t,a.escapedName);if(!e)return 0;const n=AC(a,e,V);if(!n)return 0;o&=n}return o}(e,t,i);let c=-1;if(ow(t)){if(MC(e)){if(!t.target.readonly&&(RC(e)||ow(e)&&e.target.readonly))return 0;const n=dy(e),o=dy(t),a=ow(e)?4&e.target.combinedFlags:4,l=!!(12&t.target.combinedFlags),_=ow(e)?e.target.minLength:0,u=t.target.minLength;if(!a&&n<u)return r&&R(ma.Source_has_0_element_s_but_target_requires_1,n,u),0;if(!l&&o<_)return r&&R(ma.Source_has_0_element_s_but_target_allows_only_1,_,o),0;if(!l&&(a||o<n))return r&&(_<u?R(ma.Target_requires_0_element_s_but_source_may_have_fewer,u):R(ma.Target_allows_only_0_element_s_but_source_may_have_more,o)),0;const d=uy(e),p=uy(t),f=function(e,t){const n=T(e.elementFlags,e=>!(e&t));return n>=0?n:e.elementFlags.length}(t.target,11),m=lb(t.target,11);let g=!!i;for(let h=0;h<n;h++){const a=ow(e)?e.target.elementFlags[h]:4,_=n-1-h,u=l&&h>=f?o-1-Math.min(_,m):h,y=t.target.elementFlags[u];if(8&y&&!(8&a))return r&&R(ma.Source_provides_no_match_for_variadic_element_at_position_0_in_target,u),0;if(8&a&&!(12&y))return r&&R(ma.Variadic_element_at_position_0_in_source_does_not_match_element_at_position_1_in_target,h,u),0;if(1&y&&!(1&a))return r&&R(ma.Source_provides_no_match_for_required_element_at_position_0_in_target,u),0;if(g&&((12&a||12&y)&&(g=!1),g&&(null==i?void 0:i.has(""+h))))continue;const v=Tw(d[h],!!(a&y&2)),b=p[u],x=V(v,8&a&&4&y?Dv(b):Tw(b,!!(2&y)),3,r,void 0,s);if(!x)return r&&(o>1||n>1)&&(l&&h>=f&&_>=m&&f!==n-m-1?L(ma.Type_at_positions_0_through_1_in_source_is_not_compatible_with_type_at_position_2_in_target,f,n-m-1,u):L(ma.Type_at_position_0_in_source_is_not_compatible_with_type_at_position_1_in_target,h,u)),0;c&=x}return c}if(12&t.target.combinedFlags)return 0}const _=!(n!==go&&n!==ho||SD(e)||WC(e)||ow(e)),u=lD(e,t,_,!1);if(u)return r&&function(e,t){const n=Xf(e,0),r=Xf(e,1),i=wp(e);return!((n.length||r.length)&&!i.length&&!(Qf(t,0).length&&n.length||Qf(t,1).length&&r.length))}(e,t)&&function(e,t,n,r){let i=!1;if(n.valueDeclaration&&Nc(n.valueDeclaration)&&nN(n.valueDeclaration.name)&&e.symbol&&32&e.symbol.flags){const r=n.valueDeclaration.name.escapedText,i=Kh(e.symbol,r);if(i&&Gf(e,i)){const n=_w.getDeclarationName(e.symbol.valueDeclaration),i=_w.getDeclarationName(t.symbol.valueDeclaration);return void R(ma.Property_0_in_type_1_refers_to_a_different_member_that_cannot_be_accessed_from_within_type_2,da(r),da(""===n.escapedText?UB:n),da(""===i.escapedText?UB:i))}}const a=Re(cD(e,t,r,!1));if((!o||o.code!==ma.Class_0_incorrectly_implements_interface_1.code&&o.code!==ma.Class_0_incorrectly_implements_class_1_Did_you_mean_to_extend_1_and_inherit_its_members_as_a_subclass.code)&&(i=!0),1===a.length){const r=nc(n,void 0,0,20);R(ma.Property_0_is_missing_in_type_1_but_required_in_type_2,r,...ac(e,t)),p(n.declarations)&&B(qp(n.declarations[0],ma._0_is_declared_here,r)),i&&l&&C++}else z(e,t,!1)&&(a.length>5?R(ma.Type_0_is_missing_the_following_properties_from_type_1_Colon_2_and_3_more,oc(e),oc(t),A(a.slice(0,4),e=>nc(e)).join(", "),a.length-4):R(ma.Type_0_is_missing_the_following_properties_from_type_1_Colon_2,oc(e),oc(t),A(a,e=>nc(e)).join(", ")),i&&l&&C++)}(e,t,u,_),0;if(SD(t))for(const n of re(Fp(e),i))if(!(Dp(t,n.escapedName)||32768&w_(n).flags))return r&&R(ma.Property_0_does_not_exist_on_type_1,nc(n),oc(t)),0;const d=Fp(t),f=ow(e)&&ow(t);for(const o of re(d,i)){const i=o.escapedName;if(!(4194304&o.flags)&&(!f||WT(i)||"length"===i)&&(!a||16777216&o.flags)){const a=Gf(e,i);if(a&&a!==o){const i=ie(e,t,a,o,F_,r,s,n===vo);if(!i)return 0;c&=i}}}return c}function ce(e,t,r,i,o){var a,s;if(n===bo)return function(e,t,n){const r=Qf(e,n),i=Qf(t,n);if(r.length!==i.length)return 0;let o=-1;for(let a=0;a<r.length;a++){const e=IC(r[a],i[a],!1,!1,!1,V);if(!e)return 0;o&=e}return o}(e,t,r);if(t===Ln||e===Ln)return-1;const c=e.symbol&&CL(e.symbol.valueDeclaration),l=t.symbol&&CL(t.symbol.valueDeclaration),_=Qf(e,c&&1===r?0:r),u=Qf(t,l&&1===r?0:r);if(1===r&&_.length&&u.length){const e=!!(4&_[0].flags),t=!!(4&u[0].flags);if(e&&!t)return i&&R(ma.Cannot_assign_an_abstract_constructor_type_to_a_non_abstract_constructor_type),0;if(!function(e,t,n){if(!e.declaration||!t.declaration)return!0;const r=zv(e.declaration,6),i=zv(t.declaration,6);return 2===i||4===i&&2!==r||4!==i&&!r||(n&&R(ma.Cannot_assign_a_0_constructor_type_to_a_1_constructor_type,Tc(r),Tc(i)),!1)}(_[0],u[0],i))return 0}let d=-1;const p=1===r?_e:le,f=xx(e),m=xx(t);if(64&f&&64&m&&e.symbol===t.symbol||4&f&&4&m&&e.target===t.target){fn.assertEqual(_.length,u.length);for(let e=0;e<u.length;e++){const t=de(_[e],u[e],!0,i,o,p(_[e],u[e]));if(!t)return 0;d&=t}}else if(1===_.length&&1===u.length){const e=n===vo,t=ve(_),c=ve(u);if(d=de(t,c,e,i,o,p(t,c)),!d&&i&&1===r&&f&m&&(176===(null==(a=c.declaration)?void 0:a.kind)||176===(null==(s=t.declaration)?void 0:s.kind))){const e=e=>rc(e,void 0,262144,r);return R(ma.Type_0_is_not_assignable_to_type_1,e(t),e(c)),R(ma.Types_of_construct_signatures_are_incompatible),d}}else e:for(const n of u){const t=P();let a=i;for(const e of _){const r=de(e,n,!0,a,o,p(e,n));if(r){d&=r,E(t);continue e}a=!1}return a&&R(ma.Type_0_provides_no_match_for_the_signature_1,oc(e),rc(n,void 0,void 0,r)),0}return d}function le(e,t){return 0===e.parameters.length&&0===t.parameters.length?(e,t)=>L(ma.Call_signatures_with_no_arguments_have_incompatible_return_types_0_and_1,oc(e),oc(t)):(e,t)=>L(ma.Call_signature_return_types_0_and_1_are_incompatible,oc(e),oc(t))}function _e(e,t){return 0===e.parameters.length&&0===t.parameters.length?(e,t)=>L(ma.Construct_signatures_with_no_arguments_have_incompatible_return_types_0_and_1,oc(e),oc(t)):(e,t)=>L(ma.Construct_signature_return_types_0_and_1_are_incompatible,oc(e),oc(t))}function de(e,t,r,i,o,a){const s=n===go?16:n===ho?24:0;return HS(r?gh(e):e,r?gh(t):t,s,i,R,a,function(e,t,n){return V(e,t,3,n,void 0,o)},Cn)}function pe(e,t,n,r){const i=V(e.type,t.type,3,n,void 0,r);return!i&&n&&(e.keyType===t.keyType?R(ma._0_index_signatures_are_incompatible,oc(e.keyType)):R(ma._0_and_1_index_signatures_are_incompatible,oc(e.keyType),oc(t.keyType))),i}function fe(e,t,r,i,o){if(n===bo)return function(e,t){const n=Am(e),r=Am(t);if(n.length!==r.length)return 0;for(const i of r){const t=jm(e,i.keyType);if(!t||!V(t.type,i.type,3)||t.isReadonly!==i.isReadonly)return 0}return-1}(e,t);const a=Am(t),s=K(a,e=>e.keyType===Vt);let c=-1;for(const l of a){const t=n!==ho&&!r&&s&&1&l.type.flags?-1:Sp(e)&&s?V(ap(e),l.type,3,i):me(e,l,i,o);if(!t)return 0;c&=t}return c}function me(e,t,r,i){const o=Um(e,t.keyType);return o?pe(o,t,r,i):1&i||!(n!==ho||8192&xx(e))||!Nw(e)?(r&&R(ma.Index_signature_for_type_0_is_missing_in_type_1,oc(t.keyType),oc(e)),0):function(e,t,n,r){let i=-1;const o=t.keyType,a=2097152&e.flags?Np(e):wp(e);for(const s of a)if(!oT(e,s)&&vm(Qb(s,8576),o)){const e=F_(s),a=V(oe||32768&e.flags||o===Ut||!(16777216&s.flags)?e:eN(e,524288),t.type,3,n,void 0,r);if(!a)return n&&R(ma.Property_0_is_incompatible_with_index_signature,nc(s)),0;i&=a}for(const s of Am(e))if(vm(s.keyType,o)){const e=pe(s,t,n,r);if(!e)return 0;i&=e}return i}(e,t,r,i)}}function hT(e){if(16&e.flags)return!1;if(3145728&e.flags)return!!f(e.types,hT);if(465829888&e.flags){const t=Ap(e);if(t&&t!==e)return hT(t)}return XC(e)||!!(134217728&e.flags)||!!(268435456&e.flags)}function vT(e,t){return ow(e)&&ow(t)?u:Fp(t).filter(t=>kT(Uc(e,t.escapedName),w_(t)))}function kT(e,t){return!!e&&!!t&&Hj(e,32768)&&!!Cw(t)}function NT(e,t,n=DS){return Jq(e,t,n)||function(e,t){const n=xx(e);if(20&n&&1048576&t.flags)return k(t.types,t=>{if(524288&t.flags){const r=n&xx(t);if(4&r)return e.target===t.target;if(16&r)return!!e.aliasSymbol&&e.aliasSymbol===t.aliasSymbol}return!1})}(e,t)||function(e,t){if(128&xx(e)&&dF(t,zC))return k(t.types,e=>!zC(e))}(e,t)||function(e,t){let n=0;const r=Qf(e,n).length>0||(n=1,Qf(e,n).length>0);if(r)return k(t.types,e=>Qf(e,n).length>0)}(e,t)||function(e,t){let n;if(!(406978556&e.flags)){let r=0;for(const i of t.types)if(!(406978556&i.flags)){const t=qb([tx(e),tx(i)]);if(4194304&t.flags)return i;if(XC(t)||1048576&t.flags){const e=1048576&t.flags?N(t.types,XC):1;e>=r&&(n=i,r=e)}}}return n}(e,t)}function FT(e,t,n){const r=e.types,i=r.map(e=>402784252&e.flags?0:-1);for(const[a,s]of t){let e=!1;for(let t=0;t<r.length;t++)if(i[t]){const o=Wc(r[t],s);o&&dF(a(),e=>!!n(e,o))?e=!0:i[t]=3}for(let t=0;t<r.length;t++)3===i[t]&&(i[t]=e?0:-1)}const o=w(i,0)?Ob(r.filter((e,t)=>i[t]),0):e;return 131072&o.flags?e:o}function PT(e){if(524288&e.flags){const t=Cp(e);return 0===t.callSignatures.length&&0===t.constructSignatures.length&&0===t.indexInfos.length&&t.properties.length>0&&x(t.properties,e=>!!(16777216&e.flags))}return 33554432&e.flags?PT(e.baseType):!!(2097152&e.flags)&&x(e.types,PT)}function OT(e){return e===Yn||e===er||8&e.objectFlags?E:jT(e.symbol,e.typeParameters)}function LT(e){return jT(e,na(e).typeParameters)}function jT(e,t=u){var n,r;const i=na(e);if(!i.variances){null==(n=Xn)||n.push(Xn.Phase.CheckTypes,"getVariancesWorker",{arity:t.length,id:Tb(vu(e))});const o=Vi,a=qi;Vi||(Vi=!0,qi=Bi.length),i.variances=u;const s=[];for(const n of t){const t=UT(n);let r=16384&t?8192&t?0:1:8192&t?2:void 0;if(void 0===r){let t=!1,i=!1;const o=en;en=e=>e?i=!0:t=!0;const a=MT(e,n,Bn),s=MT(e,n,Jn);r=(PS(s,a)?1:0)|(PS(a,s)?2:0),3===r&&PS(MT(e,n,zn),a)&&(r=4),en=o,(t||i)&&(t&&(r|=8),i&&(r|=16))}s.push(r)}o||(Vi=!1,qi=a),i.variances=s,null==(r=Xn)||r.pop({variances:s.map(fn.formatVariance)})}return i.variances}function MT(e,t,n){const r=Kk(t,n),i=vu(e);if(Hc(i))return i;const o=524288&e.flags?gy(e,Rk(na(e).typeParameters,r)):cy(i,Rk(i.typeParameters,r));return vt.add(Tb(o)),o}function BT(e){return vt.has(Tb(e))}function UT(e){var t;return 28672&Fe(null==(t=e.symbol)?void 0:t.declarations,(e,t)=>e|Uv(t),0)}function KT(e){return 262144&e.flags&&!Bp(e)}function YT(e){return function(e){return!!(4&xx(e))&&!e.node}(e)&&K(uy(e),e=>!!(262144&e.flags)||YT(e))}function cC(e,t,n,r,i){if(r===bo&&e.id>t.id){const n=e;e=t,t=n}const o=n?":"+n:"";return YT(e)&&YT(t)?function(e,t,n,r){const i=[];let o="";const a=c(e,0),s=c(t,0);return`${o}${a},${s}${n}`;function c(e,t=0){let n=""+e.target.id;for(const a of uy(e)){if(262144&a.flags){if(r||KT(a)){let e=i.indexOf(a);e<0&&(e=i.length,i.push(a)),n+="="+e;continue}o="*"}else if(t<4&&YT(a)){n+="<"+c(a,t+1)+">";continue}n+="-"+a.id}return n}}(e,t,o,i):`${e.id},${t.id}${o}`}function _C(e,t){if(!(6&cx(e)))return t(e);for(const n of e.links.containingType.types){const r=Gf(n,e.escapedName),i=r&&_C(r,t);if(i)return i}}function gC(e){return e.parent&&32&e.parent.flags?vu(gs(e)):void 0}function hC(e){const t=gC(e),n=t&&iu(t)[0];return n&&Uc(n,e.escapedName)}function vC(e,t,n){return _C(t,t=>!!(4&lx(t,n))&&!I_(e,gC(t)))?void 0:e}function CC(e,t,n,r=3){if(n>=r){if(96&~xx(e)||(e=wC(e)),2097152&e.flags)return K(e.types,e=>CC(e,t,n,r));const i=EC(e);let o=0,a=0;for(let e=0;e<n;e++){const n=t[e];if(FC(n,i)){if(n.id>=a&&(o++,o>=r))return!0;a=n.id}}}return!1}function wC(e){let t;for(;!(96&~xx(e))&&(t=lp(e))&&(t.symbol||2097152&t.flags&&K(t.types,e=>!!e.symbol));)e=t;return e}function FC(e,t){return 96&~xx(e)||(e=wC(e)),2097152&e.flags?K(e.types,e=>FC(e,t)):EC(e)===t}function EC(e){if(524288&e.flags&&!TD(e)){if(4&xx(e)&&e.node)return e.node;if(e.symbol&&!(16&xx(e)&&32&e.symbol.flags))return e.symbol;if(ow(e))return e.target}if(262144&e.flags)return e.symbol;if(8388608&e.flags){do{e=e.objectType}while(8388608&e.flags);return e}return 16777216&e.flags?e.root:e}function PC(e,t){return 0!==AC(e,t,wS)}function AC(e,t,n){if(e===t)return-1;const r=6&lx(e);if(r!==(6&lx(t)))return 0;if(r){if(TJ(e)!==TJ(t))return 0}else if((16777216&e.flags)!=(16777216&t.flags))return 0;return Jj(e)!==Jj(t)?0:n(w_(e),w_(t))}function IC(e,t,n,r,i,o){if(e===t)return-1;if(!function(e,t,n){const r=ij(e),i=ij(t),o=oj(e),a=oj(t),s=aj(e),c=aj(t);return r===i&&o===a&&s===c||!!(n&&o<=a)}(e,t,n))return 0;if(p(e.typeParameters)!==p(t.typeParameters))return 0;if(t.typeParameters){const n=Vk(e.typeParameters,t.typeParameters);for(let r=0;r<t.typeParameters.length;r++){const i=e.typeParameters[r],a=t.typeParameters[r];if(!(i===a||o(gS(Xh(i),n)||Ot,Xh(a)||Ot)&&o(gS(yf(i),n)||Ot,yf(a)||Ot)))return 0}e=sS(e,n,!0)}let a=-1;if(!r){const n=Lg(e);if(n){const e=Lg(t);if(e){const t=o(n,e);if(!t)return 0;a&=t}}}const s=ij(t);for(let c=0;c<s;c++){const n=ej(e,c),r=o(ej(t,c),n);if(!r)return 0;a&=r}if(!i){const n=Rg(e),r=Rg(t);a&=n||r?function(e,t,n){return e&&t&&jb(e,t)?e.type===t.type?-1:e.type&&t.type?n(e.type,t.type):0:0}(n,r,o):o(zg(e),zg(t))}return a}function OC(e){return Fe(e,(e,t)=>e|(1048576&t.flags?OC(t.types):t.flags),0)}function LC(e){if(1===e.length)return e[0];const t=$?O(e,e=>yF(e,e=>!(98304&e.flags))):e,n=function(e){let t;for(const n of e)if(!(131072&n.flags)){const e=YC(n);if(null!=t||(t=e),e===n||e!==t)return!1}return!0}(t)?Ob(t):Fe(t,(e,t)=>FS(e,t)?t:e);return t===e?n:hw(n,98304&OC(e))}function jC(e){return!!(4&xx(e))&&(e.target===Yn||e.target===er)}function RC(e){return!!(4&xx(e))&&e.target===er}function MC(e){return jC(e)||ow(e)}function BC(e){return jC(e)&&!RC(e)||ow(e)&&!e.target.readonly}function JC(e){return jC(e)?uy(e)[0]:void 0}function zC(e){return jC(e)||!(98304&e.flags)&&PS(e,_r)}function qC(e){return BC(e)||!(98305&e.flags)&&PS(e,cr)}function VC(e){if(!(4&xx(e)&&3&xx(e.target)))return;if(33554432&xx(e))return 67108864&xx(e)?e.cachedEquivalentBaseType:void 0;e.objectFlags|=33554432;const t=e.target;if(1&xx(t)){const e=$_(t);if(e&&80!==e.expression.kind&&211!==e.expression.kind)return}const n=iu(t);if(1!==n.length)return;if(fd(e.symbol).size)return;let r=p(t.typeParameters)?gS(n[0],Vk(t.typeParameters,uy(e).slice(0,t.typeParameters.length))):n[0];return p(uy(e))>p(t.typeParameters)&&(r=yd(r,ke(uy(e)))),e.objectFlags|=67108864,e.cachedEquivalentBaseType=r}function UC(e){return $?e===dn:e===jt}function WC(e){const t=JC(e);return!!t&&UC(t)}function $C(e){let t;return ow(e)||!!Gf(e,"0")||zC(e)&&!!(t=Uc(e,"length"))&&gF(t,e=>!!(256&e.flags))}function HC(e){return zC(e)||$C(e)}function KC(e,t){const n=Uc(e,""+t);return n||(gF(e,ow)?lw(e,t,I.noUncheckedIndexedAccess?Lt:void 0):void 0)}function GC(e){return!(240544&e.flags)}function XC(e){return!!(109472&e.flags)}function QC(e){const t=uf(e);return 2097152&t.flags?K(t.types,XC):XC(t)}function ZC(e){return!!(16&e.flags)||(1048576&e.flags?!!(1024&e.flags)||x(e.types,XC):XC(e))}function YC(e){return 1056&e.flags?lu(e):402653312&e.flags?Vt:256&e.flags?Ut:2048&e.flags?$t:512&e.flags?tn:1048576&e.flags?function(e){var t;const n=`B${Tb(e)}`;return null!=(t=Co(n))?t:Fo(n,CF(e,YC))}(e):e}function ew(e){return 402653312&e.flags?Vt:288&e.flags?Ut:2048&e.flags?$t:512&e.flags?tn:1048576&e.flags?CF(e,ew):e}function tw(e){return 1056&e.flags&&gk(e)?lu(e):128&e.flags&&gk(e)?Vt:256&e.flags&&gk(e)?Ut:2048&e.flags&&gk(e)?$t:512&e.flags&&gk(e)?tn:1048576&e.flags?CF(e,tw):e}function nw(e){return 8192&e.flags?an:1048576&e.flags?CF(e,nw):e}function rw(e,t){return hR(e,t)||(e=nw(tw(e))),mk(e)}function iw(e,t,n,r){return e&&XC(e)&&(e=rw(e,t?jB(n,t,r):void 0)),e}function ow(e){return!!(4&xx(e)&&8&e.target.objectFlags)}function aw(e){return ow(e)&&!!(8&e.target.combinedFlags)}function sw(e){return aw(e)&&1===e.target.elementFlags.length}function cw(e){return uw(e,e.target.fixedLength)}function lw(e,t,n){return CF(e,e=>{const r=e,i=cw(r);return i?n&&t>=kb(r.target)?Ob([i,n]):i:Lt})}function uw(e,t,n=0,r=!1,i=!1){const o=dy(e)-n;if(t<o){const n=uy(e),a=[];for(let r=t;r<o;r++){const t=n[r];a.push(8&e.target.elementFlags[r]?Lx(t,Ut):t)}return r?qb(a):Ob(a,i?0:1)}}function pw({value:e}){return"0"===e.base10Value}function fw(e){return yF(e,e=>ZD(e,4194304))}function mw(e){return 4&e.flags?ji:8&e.flags?Ri:64&e.flags?Mi:e===Kt||e===Ht||114691&e.flags||128&e.flags&&""===e.value||256&e.flags&&0===e.value||2048&e.flags&&pw(e)?e:_n}function hw(e,t){const n=t&~e.flags&98304;return 0===n?e:Ob(32768===n?[e,Lt]:65536===n?[e,zt]:[e,Lt,zt])}function yw(e,t=!1){fn.assert($);const n=t?Bt:Lt;return e===n||1048576&e.flags&&e.types[0]===n?e:Ob([e,n])}function vw(e){return $?rN(e,2097152):e}function bw(e){return $?Ob([e,Jt]):e}function xw(e){return $?xF(e,Jt):e}function kw(e,t,n){return n?Cl(t)?yw(e):bw(e):e}function Sw(e,t){return Tl(t)?vw(e):kl(t)?xw(e):e}function Tw(e,t){return oe&&t?xF(e,Rt):e}function Cw(e){return e===Rt||!!(1048576&e.flags)&&e.types[0]===Rt}function ww(e){return oe?xF(e,Rt):eN(e,524288)}function Nw(e){const t=xx(e);return 2097152&e.flags?x(e.types,Nw):!(!(e.symbol&&7040&e.symbol.flags)||32&e.symbol.flags||Sz(e))||!!(4194304&t)||!!(1024&t&&Nw(e.source))}function Pw(e,t){const n=Wo(e.flags,e.escapedName,8&cx(e));n.declarations=e.declarations,n.parent=e.parent,n.links.type=t,n.links.target=e,e.valueDeclaration&&(n.valueDeclaration=e.valueDeclaration);const r=na(e).nameType;return r&&(n.links.nameType=r),n}function Aw(e){if(!(SD(e)&&8192&xx(e)))return e;const t=e.regularType;if(t)return t;const n=e,r=function(e,t){const n=Yu();for(const r of wp(e)){const e=w_(r),i=t(e);n.set(r.escapedName,i===e?r:Pw(r,i))}return n}(e,Aw),i=Js(n.symbol,r,n.callSignatures,n.constructSignatures,n.indexInfos);return i.flags=n.flags,i.objectFlags|=-8193&n.objectFlags,e.regularType=i,i}function Ow(e,t,n){return{parent:e,propertyName:t,siblings:n,resolvedProperties:void 0}}function Lw(e){if(!e.siblings){const t=[];for(const n of Lw(e.parent))if(SD(n)){const r=Dp(n,e.propertyName);r&&tF(w_(r),e=>{t.push(e)})}e.siblings=t}return e.siblings}function jw(e){if(!e.resolvedProperties){const t=new Map;for(const n of Lw(e))if(SD(n)&&!(2097152&xx(n)))for(const e of Fp(n))t.set(e.escapedName,e);e.resolvedProperties=Re(t.values())}return e.resolvedProperties}function Rw(e,t){if(!(4&e.flags))return e;const n=w_(e),r=Jw(n,t&&Ow(t,e.escapedName,void 0));return r===n?e:Pw(e,r)}function Mw(e){const t=ht.get(e.escapedName);if(t)return t;const n=Pw(e,Bt);return n.flags|=16777216,ht.set(e.escapedName,n),n}function Bw(e){return Jw(e,void 0)}function Jw(e,t){if(196608&xx(e)){if(void 0===t&&e.widened)return e.widened;let n;if(98305&e.flags)n=wt;else if(SD(e))n=function(e,t){const n=Yu();for(const i of wp(e))n.set(i.escapedName,Rw(i,t));if(t)for(const i of jw(t))n.has(i.escapedName)||n.set(i.escapedName,Mw(i));const r=Js(e.symbol,n,u,u,O(Am(e),e=>Ih(e.keyType,Bw(e.type),e.isReadonly,e.declaration,e.components)));return r.objectFlags|=266240&xx(e),r}(e,t);else if(1048576&e.flags){const r=t||Ow(void 0,void 0,e.types),i=O(e.types,e=>98304&e.flags?e:Jw(e,r));n=Ob(i,K(i,QS)?2:1)}else 2097152&e.flags?n=qb(O(e.types,Bw)):MC(e)&&(n=cy(e.target,O(uy(e),Bw)));return n&&void 0===t&&(e.widened=n),n||e}return e}function zw(e){var t;let n=!1;if(65536&xx(e))if(1048576&e.flags)if(K(e.types,QS))n=!0;else for(const r of e.types)n||(n=zw(r));else if(MC(e))for(const r of uy(e))n||(n=zw(r));else if(SD(e))for(const r of wp(e)){const i=w_(r);if(65536&xx(i)&&(n=zw(i),!n)){const o=null==(t=r.declarations)?void 0:t.find(t=>{var n;return(null==(n=t.symbol.valueDeclaration)?void 0:n.parent)===e.symbol.valueDeclaration});o&&(Lo(o,ma.Object_literal_s_property_0_implicitly_has_an_1_type,nc(r),oc(Bw(i))),n=!0)}}return n}function qw(e,t,n){const r=oc(Bw(t));if(Om(e)&&!sT(Sd(e),I))return;let i;switch(e.kind){case 226:case 172:case 171:i=te?ma.Member_0_implicitly_has_an_1_type:ma.Member_0_implicitly_has_an_1_type_but_a_better_type_may_be_inferred_from_usage;break;case 169:const t=e;if(tN(t.name)){const n=kc(t.name);if((FN(t.parent)||SN(t.parent)||ON(t.parent))&&t.parent.parameters.includes(t)&&(ze(t,t.name.escapedText,788968,void 0,!0)||n&&Dx(n))){const n="arg"+t.parent.parameters.indexOf(t),r=jp(t.name)+(t.dotDotDotToken?"[]":"");return void Mo(te,e,ma.Parameter_has_a_name_but_no_type_Did_you_mean_0_Colon_1,n,r)}}i=e.dotDotDotToken?te?ma.Rest_parameter_0_implicitly_has_an_any_type:ma.Rest_parameter_0_implicitly_has_an_any_type_but_a_better_type_may_be_inferred_from_usage:te?ma.Parameter_0_implicitly_has_an_1_type:ma.Parameter_0_implicitly_has_an_1_type_but_a_better_type_may_be_inferred_from_usage;break;case 208:if(i=ma.Binding_element_0_implicitly_has_an_1_type,!te)return;break;case 317:return void Lo(e,ma.Function_type_which_lacks_return_type_annotation_implicitly_has_an_0_return_type,r);case 323:return void(te&&EP(e.parent)&&Lo(e.parent.tagName,ma.This_overload_implicitly_returns_the_type_0_because_it_lacks_a_return_type_annotation,r));case 262:case 174:case 173:case 177:case 178:case 218:case 219:if(te&&!e.name)return void Lo(e,3===n?ma.Generator_implicitly_has_yield_type_0_Consider_supplying_a_return_type_annotation:ma.Function_expression_which_lacks_return_type_annotation_implicitly_has_an_0_return_type,r);i=te?3===n?ma._0_which_lacks_return_type_annotation_implicitly_has_an_1_yield_type:ma._0_which_lacks_return_type_annotation_implicitly_has_an_1_return_type:ma._0_implicitly_has_an_1_return_type_but_a_better_type_may_be_inferred_from_usage;break;case 200:return void(te&&Lo(e,ma.Mapped_object_type_implicitly_has_an_any_template_type));default:i=te?ma.Variable_0_implicitly_has_an_1_type:ma.Variable_0_implicitly_has_an_1_type_but_a_better_type_may_be_inferred_from_usage}Mo(te,e,i,jp(Ec(e)),r)}function Vw(e,t,n){a(()=>{te&&65536&xx(t)&&(!n||__(e)&&function(e,t){var n,r;const i=$A(e);if(!i)return!0;let o=zg(i);const a=Mh(e);switch(t){case 1:return 1&a?o=null!=(n=jB(1,o,!!(2&a)))?n:o:2&a&&(o=null!=(r=fM(o))?r:o),Tx(o);case 3:const e=jB(0,o,!!(2&a));return!!e&&Tx(e);case 2:const t=jB(2,o,!!(2&a));return!!t&&Tx(t)}return!1}(e,n))&&(zw(t)||qw(e,t,n))})}function Uw(e,t,n){const r=ij(e),i=ij(t),o=sj(e),a=sj(t),s=a?i-1:i,c=o?s:Math.min(r,s),l=Lg(e);if(l){const e=Lg(t);e&&n(l,e)}for(let _=0;_<c;_++)n(ej(e,_),ej(t,_));a&&n(nj(e,c,Up(a)&&!dF(a,qC)),a)}function Ww(e,t,n){const r=Rg(t);if(r){const t=Rg(e);if(t&&jb(t,r)&&t.type&&r.type)return void n(t.type,r.type)}const i=zg(t);nD(i)&&n(zg(e),i)}function $w(e,t,n,r){return Gw(e.map(Yw),t,n,r||DS)}function Gw(e,t,n,r){const i={inferences:e,signature:t,flags:n,compareTypes:r,mapper:wn,nonFixingMapper:wn};return i.mapper=function(e){return Xk(A(e.inferences,e=>e.typeParameter),A(e.inferences,(t,n)=>()=>(t.isFixed||(function(e){if(e.intraExpressionInferenceSites){for(const{node:t,type:n}of e.intraExpressionInferenceSites){const r=174===t.kind?TA(t,2):OA(t,2);r&&bD(e.inferences,n,r)}e.intraExpressionInferenceSites=void 0}}(e),Xw(e.inferences),t.isFixed=!0),DD(e,n))))}(i),i.nonFixingMapper=function(e){return Xk(A(e.inferences,e=>e.typeParameter),A(e.inferences,(t,n)=>()=>DD(e,n)))}(i),i}function Xw(e){for(const t of e)t.isFixed||(t.inferredType=void 0)}function Qw(e,t,n){var r;(null!=(r=e.intraExpressionInferenceSites)?r:e.intraExpressionInferenceSites=[]).push({node:t,type:n})}function Yw(e){return{typeParameter:e,candidates:void 0,contraCandidates:void 0,inferredType:void 0,priority:void 0,topLevel:!0,isFixed:!1,impliedArity:void 0}}function eD(e){return{typeParameter:e.typeParameter,candidates:e.candidates&&e.candidates.slice(),contraCandidates:e.contraCandidates&&e.contraCandidates.slice(),inferredType:e.inferredType,priority:e.priority,topLevel:e.topLevel,isFixed:e.isFixed,impliedArity:e.impliedArity}}function tD(e){return e&&e.mapper}function nD(e){const t=xx(e);if(524288&t)return!!(1048576&t);const n=!!(465829888&e.flags||524288&e.flags&&!rD(e)&&(4&t&&(e.node||K(uy(e),nD))||134217728&t&&p(e.outerTypeParameters)||16&t&&e.symbol&&14384&e.symbol.flags&&e.symbol.declarations||12583968&t)||3145728&e.flags&&!(1024&e.flags)&&!rD(e)&&K(e.types,nD));return 3899393&e.flags&&(e.objectFlags|=524288|(n?1048576:0)),n}function rD(e){if(e.aliasSymbol&&!e.aliasTypeArguments){const t=Qu(e.aliasSymbol,265);return!(!t||!gc(t.parent,e=>307===e.kind||267!==e.kind&&"quit"))}return!1}function iD(e,t,n=0){return!!(e===t||3145728&e.flags&&K(e.types,e=>iD(e,t,n))||n<3&&16777216&e.flags&&(iD(Wx(e),t,n+1)||iD($x(e),t,n+1)))}function oD(e,t,n){const r=e.id+","+t.id+","+n.id;if(bi.has(r))return bi.get(r);const i=function(e,t,n){if(!(jm(e,Vt)||0!==Fp(e).length&&aD(e)))return;if(jC(e)){const r=sD(uy(e)[0],t,n);if(!r)return;return Dv(r,RC(e))}if(ow(e)){const r=A(Sb(e),e=>sD(e,t,n));if(!x(r,e=>!!e))return;return Gv(r,4&fp(t)?O(e.target.elementFlags,e=>2&e?1:e):e.target.elementFlags,e.target.readonly,e.target.labeledElementDeclarations)}const r=Ps(1040,void 0);return r.source=e,r.mappedType=t,r.constraintType=n,r}(e,t,n);return bi.set(r,i),i}function aD(e){return!(262144&xx(e))||SD(e)&&K(Fp(e),e=>aD(w_(e)))||ow(e)&&K(Sb(e),aD)}function sD(e,t,n){const r=e.id+","+t.id+","+n.id;if(vi.has(r))return vi.get(r)||Ot;lo.push(e),_o.push(t);const i=uo;let o;return CC(e,lo,lo.length,2)&&(uo|=1),CC(t,_o,_o.length,2)&&(uo|=2),3!==uo&&(o=function(e,t,n){const r=Lx(n.type,tp(t)),i=ap(t),o=Yw(r);return bD([o],e,i),_D(o)||Ot}(e,t,n)),lo.pop(),_o.pop(),uo=i,vi.set(r,o),o}function*cD(e,t,n,r){const i=Fp(t);for(const o of i)if(!Ru(o)&&(n||!(16777216&o.flags||48&cx(o)))){const t=Gf(e,o.escapedName);if(t){if(r){const e=w_(o);if(109472&e.flags){const n=w_(t);1&n.flags||mk(n)===mk(e)||(yield o)}}}else yield o}}function lD(e,t,n,r){return ye(cD(e,t,n,r))}function _D(e){return e.candidates?Ob(e.candidates,2):e.contraCandidates?qb(e.contraCandidates):void 0}function uD(e){return!!ra(e).skipDirectInference}function dD(e){return!(!e.symbol||!K(e.symbol.declarations,uD))}function pD(e,t){if(""===e)return!1;const n=+e;return isFinite(n)&&(!t||""+n===e)}function fD(e){return vk(ST(e))}function mD(e,t){if(1&t.flags)return!0;if(134217732&t.flags)return PS(e,t);if(268435456&t.flags){const n=[];for(;268435456&t.flags;)n.unshift(t.symbol),t=t.type;return Fe(n,(e,t)=>ox(t,e),e)===e&&mD(e,t)}return!1}function gD(e,t){if(2097152&t.flags)return x(t.types,t=>t===Pn||gD(e,t));if(4&t.flags||PS(e,t))return!0;if(128&e.flags){const n=e.value;return!!(8&t.flags&&pD(n,!1)||64&t.flags&&TT(n,!1)||98816&t.flags&&n===t.intrinsicName||268435456&t.flags&&mD(hk(n),t)||134217728&t.flags&&yD(e,t))}if(134217728&e.flags){const n=e.texts;return 2===n.length&&""===n[0]&&""===n[1]&&PS(e.types[0],t)}return!1}function hD(e,t){return 128&e.flags?vD([e.value],u,t):134217728&e.flags?ie(e.texts,t.texts)?A(e.types,(e,n)=>{return PS(uf(e),uf(t.types[n]))?e:402653317&(r=e).flags?r:rx(["",""],[r]);var r}):vD(e.texts,e.types,t):void 0}function yD(e,t){const n=hD(e,t);return!!n&&x(n,(e,n)=>gD(e,t.types[n]))}function vD(e,t,n){const r=e.length-1,i=e[0],o=e[r],a=n.texts,s=a.length-1,c=a[0],l=a[s];if(0===r&&i.length<c.length+l.length||!i.startsWith(c)||!o.endsWith(l))return;const _=o.slice(0,o.length-l.length),u=[];let d=0,p=c.length;for(let g=1;g<s;g++){const t=a[g];if(t.length>0){let n=d,r=p;for(;r=f(n).indexOf(t,r),!(r>=0);){if(n++,n===e.length)return;r=0}m(n,r),p+=t.length}else if(p<f(d).length)m(d,p+1);else{if(!(d<r))return;m(d+1,0)}}return m(r,f(r).length),u;function f(t){return t<r?e[t]:_}function m(n,r){const i=n===d?hk(f(n).slice(p,r)):rx([e[d].slice(p),...e.slice(d+1,n),f(n).slice(0,r)],t.slice(d,n));u.push(i),d=n,p=r}}function bD(e,t,n,r=0,i=!1){let o,a,s,c,l=!1,_=2048,d=0;function p(t,a){if(nD(a)&&!Ty(a)){if(t===Nt||t===Ft){const e=o;return o=t,p(a,a),void(o=e)}if(t.aliasSymbol&&t.aliasSymbol===a.aliasSymbol){if(t.aliasTypeArguments){const e=na(t.aliasSymbol).typeParameters,n=yg(e);h(bg(t.aliasTypeArguments,e,n,Om(t.aliasSymbol.valueDeclaration)),bg(a.aliasTypeArguments,e,n,Om(t.aliasSymbol.valueDeclaration)),LT(t.aliasSymbol))}}else if(t===a&&3145728&t.flags)for(const e of t.types)p(e,e);else{if(1048576&a.flags){const[e,n]=g(1048576&t.flags?t.types:[t],a.types,xD),[r,i]=g(e,n,kD);if(0===i.length)return;if(a=Ob(i),0===r.length)return void f(t,a,1);t=Ob(r)}else if(2097152&a.flags&&!x(a.types,ak)&&!(1048576&t.flags)){const[e,n]=g(2097152&t.flags?t.types:[t],a.types,CS);if(0===e.length||0===n.length)return;t=qb(e),a=qb(n)}if(41943040&a.flags){if(Ty(a))return;a=Jx(a)}if(8650752&a.flags){if(dD(t))return;const u=b(a);if(u){if(262144&xx(t)||t===At)return;if(!u.isFixed){const _=o||t;if(_===Ft)return;if((void 0===u.priority||r<u.priority)&&(u.candidates=void 0,u.contraCandidates=void 0,u.topLevel=!0,u.priority=r),r===u.priority){if(s=u.typeParameter,ow(c=_)&&KC(c,0)===Lx(s,yk(0))&&!Uc(c,"1"))return;i&&!l?w(u.contraCandidates,_)||(u.contraCandidates=se(u.contraCandidates,_),Xw(e)):w(u.candidates,_)||(u.candidates=se(u.candidates,_),Xw(e))}!(128&r)&&262144&a.flags&&u.topLevel&&!iD(n,a)&&(u.topLevel=!1,Xw(e))}return void(_=Math.min(_,r))}const d=Ex(a,!1);if(d!==a)p(t,d);else if(8388608&a.flags){const e=Ex(a.indexType,!1);if(465829888&e.flags){const n=Ax(Ex(a.objectType,!1),e,!1);n&&n!==a&&p(t,n)}}}var s,c;if(!(4&xx(t)&&4&xx(a)&&(t.target===a.target||jC(t)&&jC(a)))||t.node&&a.node)if(4194304&t.flags&&4194304&a.flags)y(t.type,a.type);else if((ZC(t)||4&t.flags)&&4194304&a.flags){const e=function(e){const t=Yu();tF(e,e=>{if(!(128&e.flags))return;const n=vc(e.value),r=Wo(4,n);r.links.type=wt,e.symbol&&(r.declarations=e.symbol.declarations,r.valueDeclaration=e.symbol.valueDeclaration),t.set(n,r)});const n=4&e.flags?[Ih(Vt,Dn,!1)]:u;return Js(void 0,t,u,u,n)}(t);!function(e,t,n){const i=r;r|=n,y(e,t),r=i}(e,a.type,256)}else if(8388608&t.flags&&8388608&a.flags)p(t.objectType,a.objectType),p(t.indexType,a.indexType);else if(268435456&t.flags&&268435456&a.flags)t.symbol===a.symbol&&p(t.type,a.type);else if(33554432&t.flags)p(t.baseType,a),f(Ny(t),a,4);else if(16777216&a.flags)m(t,a,C);else if(3145728&a.flags)S(t,a.types,a.flags);else if(1048576&t.flags){const e=t.types;for(const t of e)p(t,a)}else if(134217728&a.flags)!function(e,t){const n=hD(e,t),r=t.types;if(n||x(t.texts,e=>0===e.length))for(let i=0;i<r.length;i++){const e=n?n[i]:_n,t=r[i];if(128&e.flags&&8650752&t.flags){const n=b(t),r=n?_f(n.typeParameter):void 0;if(r&&!$c(r)){const n=1048576&r.flags?r.types:[r];let i=Fe(n,(e,t)=>e|t.flags,0);if(!(4&i)){const r=e.value;296&i&&!pD(r,!0)&&(i&=-297),2112&i&&!TT(r,!0)&&(i&=-2113);const o=Fe(n,(t,n)=>n.flags&i?4&t.flags?t:4&n.flags?e:134217728&t.flags?t:134217728&n.flags&&yD(e,n)?e:268435456&t.flags?t:268435456&n.flags&&r===ax(n.symbol,r)?e:128&t.flags?t:128&n.flags&&n.value===r?n:8&t.flags?t:8&n.flags?yk(+r):32&t.flags?t:32&n.flags?yk(+r):256&t.flags?t:256&n.flags&&n.value===+r?n:64&t.flags?t:64&n.flags?fD(r):2048&t.flags?t:2048&n.flags&&xT(n.value)===r?n:16&t.flags?t:16&n.flags?"true"===r?Gt:"false"===r?Ht:tn:512&t.flags?t:512&n.flags&&n.intrinsicName===r?n:32768&t.flags?t:32768&n.flags&&n.intrinsicName===r?n:65536&t.flags?t:65536&n.flags&&n.intrinsicName===r?n:t:t,_n);if(!(131072&o.flags)){p(o,t);continue}}}}p(e,t)}}(t,a);else{if(Sp(t=Nf(t))&&Sp(a)&&m(t,a,D),!(512&r&&467927040&t.flags)){const e=Sf(t);if(e!==t&&!(2621440&e.flags))return p(e,a);t=e}2621440&t.flags&&m(t,a,N)}else h(uy(t),uy(a),OT(t.target))}}}function f(e,t,n){const i=r;r|=n,p(e,t),r=i}function m(e,t,n){const r=e.id+","+t.id,i=a&&a.get(r);if(void 0!==i)return void(_=Math.min(_,i));(a||(a=new Map)).set(r,-1);const o=_;_=2048;const l=d;(null!=s?s:s=[]).push(e),(null!=c?c:c=[]).push(t),CC(e,s,s.length,2)&&(d|=1),CC(t,c,c.length,2)&&(d|=2),3!==d?n(e,t):_=-1,c.pop(),s.pop(),d=l,a.set(r,_),_=Math.min(_,o)}function g(e,t,n){let r,i;for(const o of t)for(const t of e)n(t,o)&&(p(t,o),r=de(r,t),i=de(i,o));return[r?F(e,e=>!w(r,e)):e,i?F(t,e=>!w(i,e)):t]}function h(e,t,n){const r=e.length<t.length?e.length:t.length;for(let i=0;i<r;i++)i<n.length&&2==(7&n[i])?y(e[i],t[i]):p(e[i],t[i])}function y(e,t){i=!i,p(e,t),i=!i}function v(e,t){H||1024&r?y(e,t):p(e,t)}function b(t){if(8650752&t.flags)for(const n of e)if(t===n.typeParameter)return n}function S(e,t,n){let i=0;if(1048576&n){let n;const o=1048576&e.flags?e.types:[e],a=new Array(o.length);let s=!1;for(const e of t)if(b(e))n=e,i++;else for(let t=0;t<o.length;t++){const n=_;_=2048,p(o[t],e),_===r&&(a[t]=!0),s=s||-1===_,_=Math.min(_,n)}if(0===i){const n=function(e){let t;for(const n of e){const e=2097152&n.flags&&k(n.types,e=>!!b(e));if(!e||t&&e!==t)return;t=e}return t}(t);return void(n&&f(e,n,1))}if(1===i&&!s){const e=j(o,(e,t)=>a[t]?void 0:e);if(e.length)return void p(Ob(e),n)}}else for(const r of t)b(r)?i++:p(e,r);if(2097152&n?1===i:i>0)for(const r of t)b(r)&&f(e,r,1)}function T(e,t,n){if(1048576&n.flags||2097152&n.flags){let r=!1;for(const i of n.types)r=T(e,t,i)||r;return r}if(4194304&n.flags){const r=b(n.type);if(r&&!r.isFixed&&!dD(e)){const i=oD(e,t,n);i&&f(i,r.typeParameter,262144&xx(e)?16:8)}return!0}if(262144&n.flags){f(tx(e,e.pattern?2:0),n,32);const r=Ap(n);return r&&T(e,t,r)||p(Ob(X(A(Fp(e),w_),A(Am(e),e=>e!==ui?e.type:_n))),ap(t)),!0}return!1}function C(e,t){16777216&e.flags?(p(e.checkType,t.checkType),p(e.extendsType,t.extendsType),p(Wx(e),Wx(t)),p($x(e),$x(t))):function(e,t,n,i){const o=r;r|=i,S(e,t,n),r=o}(e,[Wx(t),$x(t)],t.flags,i?64:0)}function D(e,t){p(rp(e),rp(t)),p(ap(e),ap(t));const n=ip(e),r=ip(t);n&&r&&p(n,r)}function N(e,t){var n,r;if(4&xx(e)&&4&xx(t)&&(e.target===t.target||jC(e)&&jC(t)))h(uy(e),uy(t),OT(e.target));else{if(Sp(e)&&Sp(t)&&D(e,t),32&xx(t)&&!t.declaration.nameType&&T(e,t,rp(t)))return;if(!function(e,t){return ow(e)&&ow(t)?function(e,t){return!(8&t.target.combinedFlags)&&t.target.minLength>e.target.minLength||!(12&t.target.combinedFlags)&&(!!(12&e.target.combinedFlags)||t.target.fixedLength<e.target.fixedLength)}(e,t):!!lD(e,t,!1,!0)&&!!lD(t,e,!1,!1)}(e,t)){if(MC(e)){if(ow(t)){const a=dy(e),s=dy(t),c=uy(t),l=t.target.elementFlags;if(ow(e)&&(o=t,dy(i=e)===dy(o)&&x(i.target.elementFlags,(e,t)=>(12&e)==(12&o.target.elementFlags[t])))){for(let t=0;t<s;t++)p(uy(e)[t],c[t]);return}const _=ow(e)?Math.min(e.target.fixedLength,t.target.fixedLength):0,u=Math.min(ow(e)?lb(e.target,3):0,12&t.target.combinedFlags?lb(t.target,3):0);for(let t=0;t<_;t++)p(uy(e)[t],c[t]);if(!ow(e)||a-_-u===1&&4&e.target.elementFlags[_]){const t=uy(e)[_];for(let e=_;e<s-u;e++)p(8&l[e]?Dv(t):t,c[e])}else{const i=s-_-u;if(2===i){if(l[_]&l[_+1]&8){const t=b(c[_]);t&&void 0!==t.impliedArity&&(p(nb(e,_,u+a-t.impliedArity),c[_]),p(nb(e,_+t.impliedArity,u),c[_+1]))}else if(8&l[_]&&4&l[_+1]){const t=null==(n=b(c[_]))?void 0:n.typeParameter,r=t&&_f(t);if(r&&ow(r)&&!(12&r.target.combinedFlags)){const t=r.target.fixedLength;p(nb(e,_,a-(_+t)),c[_]),p(uw(e,_+t,u),c[_+1])}}else if(4&l[_]&&8&l[_+1]){const n=null==(r=b(c[_+1]))?void 0:r.typeParameter,i=n&&_f(n);if(i&&ow(i)&&!(12&i.target.combinedFlags)){const n=i.target.fixedLength,r=a-lb(t.target,3),o=r-n,s=Gv(uy(e).slice(o,r),e.target.elementFlags.slice(o,r),!1,e.target.labeledElementDeclarations&&e.target.labeledElementDeclarations.slice(o,r));p(uw(e,_,u+n),c[_]),p(s,c[_+1])}}}else if(1===i&&8&l[_]){const n=2&t.target.elementFlags[s-1];f(nb(e,_,u),c[_],n?2:0)}else if(1===i&&4&l[_]){const t=uw(e,_,u);t&&p(t,c[_])}}for(let t=0;t<u;t++)p(uy(e)[a-t-1],c[s-t-1]);return}if(jC(t))return void I(e,t)}!function(e,t){const n=wp(t);for(const r of n){const t=Gf(e,r.escapedName);t&&!K(t.declarations,uD)&&p(Tw(w_(t),!!(16777216&t.flags)),Tw(w_(r),!!(16777216&r.flags)))}}(e,t),E(e,t,0),E(e,t,1),I(e,t)}var i,o}}function E(e,t,n){const r=Qf(e,n),i=r.length;if(i>0){const e=Qf(t,n),o=e.length;for(let t=0;t<o;t++)P(Fh(r[Math.max(i-o+t,0)]),gh(e[t]))}}function P(e,t){if(!(64&e.flags)){const n=l,r=t.declaration?t.declaration.kind:0;l=l||174===r||173===r||176===r,Uw(e,t,v),l=n}Ww(e,t,p)}function I(e,t){const n=xx(e)&xx(t)&32?8:0,r=Am(t);if(Nw(e))for(const i of r){const t=[];for(const n of Fp(e))if(vm(Qb(n,8576),i.keyType)){const e=w_(n);t.push(16777216&n.flags?ww(e):e)}for(const n of Am(e))vm(n.keyType,i.keyType)&&t.push(n.type);t.length&&f(Ob(t),i.type,n)}for(const i of r){const t=Um(e,i.keyType);t&&f(t.type,i.type,n)}}p(t,n)}function xD(e,t){return t===Rt?e===t:CS(e,t)||!!(4&t.flags&&128&e.flags||8&t.flags&&256&e.flags)}function kD(e,t){return!!(524288&e.flags&&524288&t.flags&&e.symbol&&e.symbol===t.symbol||e.aliasSymbol&&e.aliasTypeArguments&&e.aliasSymbol===t.aliasSymbol)}function SD(e){return!!(128&xx(e))}function TD(e){return!!(16512&xx(e))}function CD(e){return 416&e.priority?qb(e.contraCandidates):Fe(e.contraCandidates,(e,t)=>FS(t,e)?t:e)}function wD(e,t){const n=function(e){if(e.length>1){const t=F(e,TD);if(t.length){const n=Ob(t,2);return X(F(e,e=>!TD(e)),[n])}}return e}(e.candidates),r=function(e){const t=Bp(e);return!!t&&Hj(16777216&t.flags?Kp(t):t,406978556)}(e.typeParameter)||Up(e.typeParameter),i=!r&&e.topLevel&&(e.isFixed||!function(e,t){const n=Rg(e);return n?!!n.type&&iD(n.type,t):iD(zg(e),t)}(t,e.typeParameter)),o=r?O(n,mk):i?O(n,tw):n;return Bw(416&e.priority?Ob(o,2):LC(o))}function DD(e,t){const n=e.inferences[t];if(!n.inferredType){let o,a;if(e.signature){const s=n.candidates?wD(n,e.signature):void 0,c=n.contraCandidates?CD(n):void 0;if(s||c){const t=s&&(!c||!(131073&s.flags)&&K(n.contraCandidates,e=>PS(s,e))&&x(e.inferences,e=>e!==n&&Bp(e.typeParameter)!==n.typeParameter||x(e.candidates,e=>PS(e,s))));o=t?s:c,a=t?c:s}else if(1&e.flags)o=un;else{const a=yf(n.typeParameter);a&&(o=gS(a,(r=function(e,t){const n=e.inferences.slice(t);return Vk(A(n,e=>e.typeParameter),A(n,()=>Ot))}(e,t),i=e.nonFixingMapper,r?Qk(5,r,i):i)))}}else o=_D(n);n.inferredType=o||ND(!!(2&e.flags));const s=Bp(n.typeParameter);if(s){const t=gS(s,e.nonFixingMapper);o&&e.compareTypes(o,yd(t,o))||(n.inferredType=a&&e.compareTypes(a,yd(t,a))?a:t)}}var r,i;return n.inferredType}function ND(e){return e?wt:Ot}function FD(e){const t=[];for(let n=0;n<e.inferences.length;n++)t.push(DD(e,n));return t}function ED(e){switch(e.escapedText){case"document":case"console":return ma.Cannot_find_name_0_Do_you_need_to_change_your_target_library_Try_changing_the_lib_compiler_option_to_include_dom;case"$":return I.types?ma.Cannot_find_name_0_Do_you_need_to_install_type_definitions_for_jQuery_Try_npm_i_save_dev_types_Slashjquery_and_then_add_jquery_to_the_types_field_in_your_tsconfig:ma.Cannot_find_name_0_Do_you_need_to_install_type_definitions_for_jQuery_Try_npm_i_save_dev_types_Slashjquery;case"describe":case"suite":case"it":case"test":return I.types?ma.Cannot_find_name_0_Do_you_need_to_install_type_definitions_for_a_test_runner_Try_npm_i_save_dev_types_Slashjest_or_npm_i_save_dev_types_Slashmocha_and_then_add_jest_or_mocha_to_the_types_field_in_your_tsconfig:ma.Cannot_find_name_0_Do_you_need_to_install_type_definitions_for_a_test_runner_Try_npm_i_save_dev_types_Slashjest_or_npm_i_save_dev_types_Slashmocha;case"process":case"require":case"Buffer":case"module":return I.types?ma.Cannot_find_name_0_Do_you_need_to_install_type_definitions_for_node_Try_npm_i_save_dev_types_Slashnode_and_then_add_node_to_the_types_field_in_your_tsconfig:ma.Cannot_find_name_0_Do_you_need_to_install_type_definitions_for_node_Try_npm_i_save_dev_types_Slashnode;case"Bun":return I.types?ma.Cannot_find_name_0_Do_you_need_to_install_type_definitions_for_Bun_Try_npm_i_save_dev_types_Slashbun_and_then_add_bun_to_the_types_field_in_your_tsconfig:ma.Cannot_find_name_0_Do_you_need_to_install_type_definitions_for_Bun_Try_npm_i_save_dev_types_Slashbun;case"Map":case"Set":case"Promise":case"Symbol":case"WeakMap":case"WeakSet":case"Iterator":case"AsyncIterator":case"SharedArrayBuffer":case"Atomics":case"AsyncIterable":case"AsyncIterableIterator":case"AsyncGenerator":case"AsyncGeneratorFunction":case"BigInt":case"Reflect":case"BigInt64Array":case"BigUint64Array":return ma.Cannot_find_name_0_Do_you_need_to_change_your_target_library_Try_changing_the_lib_compiler_option_to_1_or_later;case"await":if(lF(e.parent))return ma.Cannot_find_name_0_Did_you_mean_to_write_this_in_an_async_function;default:return 304===e.parent.kind?ma.No_value_exists_in_scope_for_the_shorthand_property_0_Either_declare_one_or_provide_an_initializer:ma.Cannot_find_name_0}}function PD(e){const t=ra(e);return t.resolvedSymbol||(t.resolvedSymbol=!Pd(e)&&ze(e,e,1160127,ED(e),!dx(e),!1)||bt),t.resolvedSymbol}function AD(e){return!!(33554432&e.flags||gc(e,e=>cE(e)||lE(e)||RN(e)))}function ID(e,t,n,r){switch(e.kind){case 80:if(!mv(e)){const i=PD(e);return i!==bt?`${r?rJ(r):"-1"}|${Tb(t)}|${Tb(n)}|${iJ(i)}`:void 0}case 110:return`0|${r?rJ(r):"-1"}|${Tb(t)}|${Tb(n)}`;case 235:case 217:return ID(e.expression,t,n,r);case 166:const i=ID(e.left,t,n,r);return i&&`${i}.${e.right.escapedText}`;case 211:case 212:const o=LD(e);if(void 0!==o){const i=ID(e.expression,t,n,r);return i&&`${i}.${o}`}if(cF(e)&&tN(e.argumentExpression)){const i=PD(e.argumentExpression);if(BE(i)||qE(i)&&!SE(i)){const o=ID(e.expression,t,n,r);return o&&`${o}.@${iJ(i)}`}}break;case 206:case 207:case 262:case 218:case 219:case 174:return`${rJ(e)}#${Tb(t)}`}}function OD(e,t){switch(t.kind){case 217:case 235:return OD(e,t.expression);case 226:return cb(t)&&OD(e,t.left)||kF(t)&&28===t.operatorToken.kind&&OD(e,t.right)}switch(e.kind){case 236:return 236===t.kind&&e.keywordToken===t.keywordToken&&e.name.escapedText===t.name.escapedText;case 80:case 81:return mv(e)?110===t.kind:80===t.kind&&PD(e)===PD(t)||(iE(t)||iF(t))&&Ts(PD(e))===fs(t);case 110:return 110===t.kind;case 108:return 108===t.kind;case 235:case 217:case 238:return OD(e.expression,t);case 211:case 212:const n=LD(e);if(void 0!==n){const r=Nx(t)?LD(t):void 0;if(void 0!==r)return r===n&&OD(e.expression,t.expression)}if(cF(e)&&cF(t)&&tN(e.argumentExpression)&&tN(t.argumentExpression)){const n=PD(e.argumentExpression);if(n===PD(t.argumentExpression)&&(BE(n)||qE(n)&&!SE(n)))return OD(e.expression,t.expression)}break;case 166:return Nx(t)&&e.right.escapedText===LD(t)&&OD(e.left,t.expression);case 226:return kF(e)&&28===e.operatorToken.kind&&OD(e.right,t)}return!1}function LD(e){if(sF(e))return e.name.escapedText;if(cF(e))return Jh((t=e).argumentExpression)?vc(t.argumentExpression.text):ub(t.argumentExpression)?function(e){const t=Ka(e,111551,!0);if(!t||!(BE(t)||8&t.flags))return;const n=t.valueDeclaration;if(void 0===n)return;const r=Gl(n);if(r){const e=RD(r);if(void 0!==e)return e}if(ju(n)&&aa(n,e)){const e=Km(n);if(e){const t=D_(n.parent)?ol(n):ER(e);return t&&RD(t)}if(tP(n))return Jp(n.name)}}(t.argumentExpression):void 0;var t;if(iF(e)){const t=rl(e);return t?vc(t):void 0}return vN(e)?""+e.parent.parameters.indexOf(e):void 0}function RD(e){return 8192&e.flags?e.escapedName:384&e.flags?vc(""+e.value):void 0}function BD(e,t){for(;Nx(e);)if(OD(e=e.expression,t))return!0;return!1}function JD(e,t){for(;kl(e);)if(OD(e=e.expression,t))return!0;return!1}function zD(e,t){if(e&&1048576&e.flags){const n=wf(e,t);if(n&&2&cx(n))return void 0===n.links.isDiscriminantProperty&&(n.links.isDiscriminantProperty=!(192&~n.links.checkFlags||Tx(w_(n)))),!!n.links.isDiscriminantProperty}return!1}function qD(e,t){let n;for(const r of e)if(zD(t,r.escapedName)){if(n){n.push(r);continue}n=[r]}return n}function VD(e){const t=e.types;if(!(t.length<10||32768&xx(e)||N(t,e=>!!(59506688&e.flags))<10)){if(void 0===e.keyPropertyName){const n=f(t,e=>59506688&e.flags?f(Fp(e),e=>XC(w_(e))?e.escapedName:void 0):void 0),r=n&&function(e,t){const n=new Map;let r=0;for(const i of e)if(61603840&i.flags){const e=Uc(i,t);if(e){if(!ZC(e))return;let t=!1;tF(e,e=>{const r=Tb(mk(e)),o=n.get(r);o?o!==Ot&&(n.set(r,Ot),t=!0):n.set(r,i)}),t||r++}}return r>=10&&2*r>=e.length?n:void 0}(t,n);e.keyPropertyName=r?n:"",e.constituentMap=r}return e.keyPropertyName.length?e.keyPropertyName:void 0}}function UD(e,t){var n;const r=null==(n=e.constituentMap)?void 0:n.get(Tb(mk(t)));return r!==Ot?r:void 0}function WD(e,t){const n=VD(e),r=n&&Uc(t,n);return r&&UD(e,r)}function $D(e,t){return OD(e,t)||BD(e,t)}function HD(e,t){if(e.arguments)for(const n of e.arguments)if($D(t,n)||JD(n,t))return!0;return!(211!==e.expression.kind||!$D(t,e.expression.expression))}function KD(e){return e.id<=0&&(e.id=KB,KB++),e.id}function GD(e,t){var n;if(e===t)return e;if(131072&t.flags)return t;const r=`A${Tb(e)},${Tb(t)}`;return null!=(n=Co(r))?n:Fo(r,function(e,t){const n=yF(e,e=>function(e,t){if(!(1048576&e.flags))return PS(e,t);for(const n of e.types)if(PS(n,t))return!0;return!1}(t,e)),r=512&t.flags&&gk(t)?CF(n,fk):n;return PS(t,r)?r:e}(e,t))}function XD(e){if(256&xx(e))return!1;const t=Cp(e);return!!(t.callSignatures.length||t.constructSignatures.length||t.members.get("bind")&&FS(e,Gn))}function QD(e,t){return YD(e,t)&t}function ZD(e,t){return 0!==QD(e,t)}function YD(e,t){467927040&e.flags&&(e=_f(e)||Ot);const n=e.flags;if(268435460&n)return $?16317953:16776705;if(134217856&n){const t=128&n&&""===e.value;return $?t?12123649:7929345:t?12582401:16776705}if(40&n)return $?16317698:16776450;if(256&n){const t=0===e.value;return $?t?12123394:7929090:t?12582146:16776450}if(64&n)return $?16317188:16775940;if(2048&n){const t=pw(e);return $?t?12122884:7928580:t?12581636:16775940}return 16&n?$?16316168:16774920:528&n?$?e===Ht||e===Kt?12121864:7927560:e===Ht||e===Kt?12580616:16774920:524288&n?t&($?83427327:83886079)?16&xx(e)&&QS(e)?$?83427327:83886079:XD(e)?$?7880640:16728e3:$?7888800:16736160:0:16384&n?9830144:32768&n?26607360:65536&n?42917664:12288&n?$?7925520:16772880:67108864&n?$?7888800:16736160:131072&n?0:1048576&n?Fe(e.types,(e,n)=>e|YD(n,t),0):2097152&n?function(e,t){const n=Hj(e,402784252);let r=0,i=134217727;for(const o of e.types)if(!(n&&524288&o.flags)){const e=YD(o,t);r|=e,i&=e}return 8256&r|134209471&i}(e,t):83886079}function eN(e,t){return yF(e,e=>ZD(e,t))}function rN(e,t){const n=oN(eN($&&2&e.flags?In:e,t));if($)switch(t){case 524288:return iN(n,65536,131072,33554432,zt);case 1048576:return iN(n,131072,65536,16777216,Lt);case 2097152:case 4194304:return CF(n,e=>ZD(e,262144)?function(e){return ur||(ur=$y("NonNullable",524288,void 0)||bt),ur!==bt?gy(ur,[e]):qb([e,Dn])}(e):e)}return n}function iN(e,t,n,r,i){const o=QD(e,50528256);if(!(o&t))return e;const a=Ob([Dn,i]);return CF(e,e=>ZD(e,t)?qb([e,o&r||!ZD(e,n)?Dn:a]):e)}function oN(e){return e===In?Ot:e}function aN(e,t){return t?Ob([Qc(e),ER(t)]):e}function sN(e,t){var n;const r=Xb(t);if(!dC(r))return Et;const i=pC(r);return Uc(e,i)||lN(null==(n=$m(e,i))?void 0:n.type)||Et}function cN(e,t){return gF(e,$C)&&KC(e,t)||lN(pB(65,e,Lt,void 0))||Et}function lN(e){return e&&I.noUncheckedIndexedAccess?Ob([e,Rt]):e}function _N(e){return Dv(pB(65,e,Lt,void 0)||Et)}function uN(e){return 226===e.parent.kind&&e.parent.left===e||250===e.parent.kind&&e.parent.initializer===e}function dN(e){return sN(pN(e.parent),e.name)}function pN(e){const{parent:t}=e;switch(t.kind){case 249:return Vt;case 250:return dB(t)||Et;case 226:return function(e){return 209===e.parent.kind&&uN(e.parent)||303===e.parent.kind&&uN(e.parent.parent)?aN(pN(e),e.right):ER(e.right)}(t);case 220:return Lt;case 209:return function(e,t){return cN(pN(e),e.elements.indexOf(t))}(t,e);case 230:return function(e){return _N(pN(e.parent))}(t);case 303:return dN(t);case 304:return function(e){return aN(dN(e),e.objectAssignmentInitializer)}(t)}return Et}function mN(e){return ra(e).resolvedType||ER(e)}function MN(e){return 260===e.kind?function(e){return e.initializer?mN(e.initializer):249===e.parent.parent.kind?Vt:250===e.parent.parent.kind&&dB(e.parent.parent)||Et}(e):function(e){const t=e.parent,n=MN(t.parent);return aN(206===t.kind?sN(n,e.propertyName||e.name):e.dotDotDotToken?_N(n):cN(n,t.elements.indexOf(e)),e.initializer)}(e)}function VN(e){switch(e.kind){case 217:return VN(e.expression);case 226:switch(e.operatorToken.kind){case 64:case 76:case 77:case 78:return VN(e.left);case 28:return VN(e.right)}}return e}function UN(e){const{parent:t}=e;return 217===t.kind||226===t.kind&&64===t.operatorToken.kind&&t.left===e||226===t.kind&&28===t.operatorToken.kind&&t.right===e?UN(t):e}function $N(e){return 296===e.kind?mk(ER(e.expression)):_n}function KN(e){const t=ra(e);if(!t.switchTypes){t.switchTypes=[];for(const n of e.caseBlock.clauses)t.switchTypes.push($N(n))}return t.switchTypes}function QN(e){if(K(e.caseBlock.clauses,e=>296===e.kind&&!zu(e.expression)))return;const t=[];for(const n of e.caseBlock.clauses){const e=296===n.kind?n.expression.text:void 0;t.push(e&&!w(t,e)?e:void 0)}return t}function eF(e,t){return!!(e===t||131072&e.flags||1048576&t.flags&&function(e,t){if(1048576&e.flags){for(const n of e.types)if(!wb(t.types,n))return!1;return!0}return!!(1056&e.flags&&lu(e)===t)||wb(t.types,e)}(e,t))}function tF(e,t){return 1048576&e.flags?f(e.types,t):t(e)}function dF(e,t){return 1048576&e.flags?K(e.types,t):t(e)}function gF(e,t){return 1048576&e.flags?x(e.types,t):t(e)}function yF(e,t){if(1048576&e.flags){const n=e.types,r=F(n,t);if(r===n)return e;const i=e.origin;let o;if(i&&1048576&i.flags){const e=i.types,a=F(e,e=>!!(1048576&e.flags)||t(e));if(e.length-a.length===n.length-r.length){if(1===a.length)return a[0];o=Ib(1048576,a)}}return Rb(r,16809984&e.objectFlags,void 0,void 0,o)}return 131072&e.flags||t(e)?e:_n}function xF(e,t){return yF(e,e=>e!==t)}function TF(e){return 1048576&e.flags?e.types.length:1}function CF(e,t,n){if(131072&e.flags)return e;if(!(1048576&e.flags))return t(e);const r=e.origin,i=r&&1048576&r.flags?r.types:e.types;let o,a=!1;for(const s of i){const e=1048576&s.flags?CF(s,t,n):t(s);a||(a=s!==e),e&&(o?o.push(e):o=[e])}return a?o&&Ob(o,n?0:1):e}function EF(e,t,n,r){return 1048576&e.flags&&n?Ob(A(e.types,t),1,n,r):CF(e,t)}function PF(e,t){return yF(e,e=>0!==(e.flags&t))}function OF(e,t){return Hj(e,134217804)&&Hj(t,402655616)?CF(e,e=>4&e.flags?PF(t,402653316):vx(e)&&!Hj(t,402653188)?PF(t,128):8&e.flags?PF(t,264):64&e.flags?PF(t,2112):e):e}function LF(e){return 0===e.flags}function jF(e){return 0===e.flags?e.type:e}function MF(e,t){return t?{flags:0,type:131072&e.flags?un:e}:e}function zF(e){return gt[e.id]||(gt[e.id]=function(e){const t=Ps(256);return t.elementType=e,t}(e))}function UF(e,t){const n=Aw(YC(AR(t)));return eF(n,e.elementType)?e:zF(Ob([e.elementType,n]))}function WF(e){return e.finalArrayType||(e.finalArrayType=131072&(t=e.elementType).flags?lr:Dv(1048576&t.flags?Ob(t.types,2):t));var t}function GF(e){return 256&xx(e)?WF(e):e}function XF(e){return 256&xx(e)?e.elementType:_n}function QF(e){const t=UN(e),n=t.parent,r=sF(n)&&("length"===n.name.escapedText||213===n.parent.kind&&tN(n.name)&&ey(n.name)),i=212===n.kind&&n.expression===t&&226===n.parent.kind&&64===n.parent.operatorToken.kind&&n.parent.left===n&&!th(n.parent)&&Kj(ER(n.argumentExpression),296);return r||i}function ZF(e,t){if(8752&(e=Ba(e)).flags)return w_(e);if(7&e.flags){if(262144&cx(e)){const t=e.links.syntheticOrigin;if(t&&ZF(t))return w_(e)}const r=e.valueDeclaration;if(r){if((iE(n=r)||kN(n)||xN(n)||vN(n))&&(yv(n)||Om(n)&&Lu(n)&&n.initializer&&VT(n.initializer)&&bv(n.initializer)))return w_(e);if(iE(r)&&250===r.parent.parent.kind){const e=r.parent.parent,t=YF(e.expression,void 0);if(t)return pB(e.awaitModifier?15:13,t,Lt,void 0)}t&&uT(t,qp(r,ma._0_needs_an_explicit_type_annotation,nc(e)))}}var n}function YF(e,t){if(!(67108864&e.flags))switch(e.kind){case 80:return ZF(Ts(PD(e)),t);case 110:return function(e){const t=im(e,!1,!1);if(c_(t)){const e=Sg(t);if(e.thisParameter)return ZF(e.thisParameter)}if(g_(t.parent)){const e=fs(t.parent);return Iv(t)?w_(e):vu(e).thisType}}(e);case 108:return GP(e);case 211:{const n=YF(e.expression,t);if(n){const r=e.name;let i;if(nN(r)){if(!n.symbol)return;i=Gf(n,Kh(n.symbol,r.escapedText))}else i=Gf(n,r.escapedText);return i&&ZF(i,t)}return}case 217:return YF(e.expression,t)}}function eE(e){const t=ra(e);let n=t.effectsSignature;if(void 0===n){let r;kF(e)?r=Zj(zI(e.right)):244===e.parent.kind?r=YF(e.expression,void 0):108!==e.expression.kind&&(r=kl(e)?HI(Sw(IR(e.expression),e.expression),e.expression):zI(e.expression));const i=Qf(r&&Sf(r)||Ot,0),o=1!==i.length||i[0].typeParameters?K(i,tE)?TL(e):void 0:i[0];n=t.effectsSignature=o&&tE(o)?o:ci}return n===ci?void 0:n}function tE(e){return!!(Rg(e)||e.declaration&&131072&(qg(e.declaration)||Ot).flags)}function nE(e){const t=pE(e,!1);return ti=e,ni=t,t}function rE(e){const t=_h(e,!0);return 97===t.kind||226===t.kind&&(56===t.operatorToken.kind&&(rE(t.left)||rE(t.right))||57===t.operatorToken.kind&&rE(t.left)&&rE(t.right))}function pE(e,t){for(;;){if(e===ti)return ni;const n=e.flags;if(4096&n){if(!t){const t=KD(e),n=to[t];return void 0!==n?n:to[t]=pE(e,!0)}t=!1}if(368&n)e=e.antecedent;else if(512&n){const t=eE(e.node);if(t){const n=Rg(t);if(n&&3===n.kind&&!n.type){const t=e.node.arguments[n.parameterIndex];if(t&&rE(t))return!1}if(131072&zg(t).flags)return!1}e=e.antecedent}else{if(4&n)return K(e.antecedent,e=>pE(e,!1));if(8&n){const t=e.antecedent;if(void 0===t||0===t.length)return!1;e=t[0]}else{if(!(128&n)){if(1024&n){ti=void 0;const t=e.node.target,n=t.antecedent;t.antecedent=e.node.antecedents;const r=pE(e.antecedent,!1);return t.antecedent=n,r}return!(1&n)}{const t=e.node;if(t.clauseStart===t.clauseEnd&&Ij(t.switchStatement))return!1;e=e.antecedent}}}}}function yE(e,t){for(;;){const n=e.flags;if(4096&n){if(!t){const t=KD(e),n=no[t];return void 0!==n?n:no[t]=yE(e,!0)}t=!1}if(496&n)e=e.antecedent;else if(512&n){if(108===e.node.expression.kind)return!0;e=e.antecedent}else{if(4&n)return x(e.antecedent,e=>yE(e,!1));if(!(8&n)){if(1024&n){const t=e.node.target,n=t.antecedent;t.antecedent=e.node.antecedents;const r=yE(e.antecedent,!1);return t.antecedent=n,r}return!!(1&n)}e=e.antecedent[0]}}}function vE(e){switch(e.kind){case 110:return!0;case 80:if(!mv(e)){const t=PD(e);return BE(t)||qE(t)&&!SE(t)||!!t.valueDeclaration&&fF(t.valueDeclaration)}break;case 211:case 212:return vE(e.expression)&&Jj(ra(e).resolvedSymbol||bt);case 206:case 207:const t=ny(e.parent);return vN(t)||qT(t)?!PE(t):iE(t)&&Uq(t)}return!1}function bE(e,t,n=t,r,i=(t=>null==(t=it(e,Mg))?void 0:t.flowNode)()){let o,a=!1,s=0;if(Ci)return Et;if(!i)return t;wi++;const c=Ti,l=jF(d(i));Ti=c;const _=256&xx(l)&&QF(e)?lr:GF(l);return _===pn||e.parent&&235===e.parent.kind&&!(131072&_.flags)&&131072&eN(_,2097152).flags?t:_;function u(){return a?o:(a=!0,o=ID(e,t,n,r))}function d(i){var o;if(2e3===s)return null==(o=Xn)||o.instant(Xn.Phase.CheckTypes,"getTypeAtFlowNode_DepthLimit",{flowId:i.id}),Ci=!0,function(e){const t=gc(e,f_),n=Sd(e),r=Yp(n,t.statements.pos);po.add(ek(n,r.start,r.length,ma.The_containing_function_or_module_body_is_too_large_for_control_flow_analysis))}(e),Et;let a;for(s++;;){const o=i.flags;if(4096&o){for(let e=c;e<Ti;e++)if(Yi[e]===i)return s--,eo[e];a=i}let l;if(16&o){if(l=f(i),!l){i=i.antecedent;continue}}else if(512&o){if(l=g(i),!l){i=i.antecedent;continue}}else if(96&o)l=y(i);else if(128&o)l=b(i);else if(12&o){if(1===i.antecedent.length){i=i.antecedent[0];continue}l=4&o?S(i):C(i)}else if(256&o){if(l=h(i),!l){i=i.antecedent;continue}}else if(1024&o){const e=i.node.target,t=e.antecedent;e.antecedent=i.node.antecedents,l=d(i.antecedent),e.antecedent=t}else if(2&o){const t=i.node;if(t&&t!==r&&211!==e.kind&&212!==e.kind&&(110!==e.kind||219===t.kind)){i=t.flowNode;continue}l=n}else l=XM(t);return a&&(Yi[Ti]=a,eo[Ti]=l,Ti++),s--,l}}function p(t){const n=t.node;return sP(260===n.kind||208===n.kind?MN(n):pN(n),e)}function f(n){const r=n.node;if(OD(e,r)){if(!nE(n))return pn;if(2===eh(r)){const e=d(n.antecedent);return MF(YC(jF(e)),LF(e))}if(t===Dt||t===lr){if(function(e){return 260===e.kind&&e.initializer&&ul(e.initializer)||208!==e.kind&&226===e.parent.kind&&ul(e.parent.right)}(r))return zF(_n);const e=tw(p(n));return PS(e,t)?e:cr}const e=nh(r)?YC(t):t;return 1048576&e.flags?GD(e,p(n)):e}if(BD(e,r)){if(!nE(n))return pn;if(iE(r)&&(Om(r)||Uq(r))){const e=Gm(r);if(e&&(218===e.kind||219===e.kind))return d(n.antecedent)}return t}if(iE(r)&&249===r.parent.parent.kind&&(OD(e,r.parent.parent.expression)||JD(r.parent.parent.expression,e)))return VI(GF(jF(d(n.antecedent))))}function m(e,t){const n=_h(t,!0);if(97===n.kind)return pn;if(226===n.kind){if(56===n.operatorToken.kind)return m(m(e,n.left),n.right);if(57===n.operatorToken.kind)return Ob([m(e,n.left),m(e,n.right)])}return Z(e,n,!0)}function g(e){const t=eE(e.node);if(t){const n=Rg(t);if(n&&(2===n.kind||3===n.kind)){const t=d(e.antecedent),r=GF(jF(t)),i=n.type?Q(r,n,e.node,!0):3===n.kind&&n.parameterIndex>=0&&n.parameterIndex<e.node.arguments.length?m(r,e.node.arguments[n.parameterIndex]):r;return i===r?t:MF(i,LF(t))}if(131072&zg(t).flags)return pn}}function h(n){if(t===Dt||t===lr){const t=n.node,r=213===t.kind?t.expression.expression:t.left.expression;if(OD(e,VN(r))){const e=d(n.antecedent),r=jF(e);if(256&xx(r)){let n=r;if(213===t.kind)for(const e of t.arguments)n=UF(n,e);else Kj(AR(t.left.argumentExpression),296)&&(n=UF(n,t.right));return n===r?e:MF(n,LF(e))}return e}}}function y(e){const t=d(e.antecedent),n=jF(t);if(131072&n.flags)return t;const r=!!(32&e.flags),i=GF(n),o=Z(i,e.node,r);return o===i?t:MF(o,LF(t))}function b(t){const n=_h(t.node.switchStatement.expression),r=d(t.antecedent);let i=jF(r);if(OD(e,n))i=V(i,t.node);else if(221===n.kind&&OD(e,n.expression))i=function(e,{switchStatement:t,clauseStart:n,clauseEnd:r}){const i=QN(t);if(!i)return e;const o=T(t.caseBlock.clauses,e=>297===e.kind);if(n===r||o>=n&&o<r){const t=Aj(n,r,i);return yF(e,e=>QD(e,t)===t)}return Ob(A(i.slice(n,r),t=>t?U(e,t):_n))}(i,t.node);else if(112===n.kind)i=function(e,{switchStatement:t,clauseStart:n,clauseEnd:r}){const i=T(t.caseBlock.clauses,e=>297===e.kind),o=n===r||i>=n&&i<r;for(let a=0;a<n;a++){const n=t.caseBlock.clauses[a];296===n.kind&&(e=Z(e,n.expression,!1))}if(o){for(let n=r;n<t.caseBlock.clauses.length;n++){const r=t.caseBlock.clauses[n];296===r.kind&&(e=Z(e,r.expression,!1))}return e}return Ob(A(t.caseBlock.clauses.slice(n,r),t=>296===t.kind?Z(e,t.expression,!0):_n))}(i,t.node);else{$&&(JD(n,e)?i=q(i,t.node,e=>!(163840&e.flags)):221===n.kind&&JD(n.expression,e)&&(i=q(i,t.node,e=>!(131072&e.flags||128&e.flags&&"undefined"===e.value))));const r=N(n,i);r&&(i=function(e,t,n){if(n.clauseStart<n.clauseEnd&&1048576&e.flags&&VD(e)===LD(t)){const t=Ob(A(KN(n.switchStatement).slice(n.clauseStart,n.clauseEnd),t=>UD(e,t)||Ot));if(t!==Ot)return t}return F(e,t,e=>V(e,n))}(i,r,t.node))}return MF(i,LF(r))}function S(e){const r=[];let i,o=!1,a=!1;for(const s of e.antecedent){if(!i&&128&s.flags&&s.node.clauseStart===s.node.clauseEnd){i=s;continue}const e=d(s),c=jF(e);if(c===t&&t===n)return c;ue(r,c),eF(c,n)||(o=!0),LF(e)&&(a=!0)}if(i){const e=d(i),s=jF(e);if(!(131072&s.flags||w(r,s)||Ij(i.node.switchStatement))){if(s===t&&t===n)return s;r.push(s),eF(s,n)||(o=!0),LF(e)&&(a=!0)}}return MF(D(r,o?2:1),a)}function C(e){const r=KD(e),i=Gi[r]||(Gi[r]=new Map),o=u();if(!o)return t;const a=i.get(o);if(a)return a;for(let t=ki;t<Si;t++)if(Xi[t]===e&&Qi[t]===o&&Zi[t].length)return MF(D(Zi[t],1),!0);const s=[];let c,l=!1;for(const u of e.antecedent){let r;if(c){Xi[Si]=e,Qi[Si]=o,Zi[Si]=s,Si++;const t=ri;ri=void 0,r=d(u),ri=t,Si--;const n=i.get(o);if(n)return n}else r=c=d(u);const a=jF(r);if(ue(s,a),eF(a,n)||(l=!0),a===t)break}const _=D(s,l?2:1);return LF(c)?MF(_,!0):(i.set(o,_),_)}function D(e,n){if(function(e){let t=!1;for(const n of e)if(!(131072&n.flags)){if(!(256&xx(n)))return!1;t=!0}return t}(e))return zF(Ob(A(e,XF)));const r=oN(Ob(O(e,GF),n));return r!==t&&r.flags&t.flags&1048576&&ie(r.types,t.types)?t:r}function N(n,r){if(1048576&t.flags||1048576&r.flags){const i=function(t){if(D_(e)||VT(e)||Uf(e)){if(tN(t)){const n=PD(t).valueDeclaration;if(n&&(iF(n)||vN(n))&&e===n.parent&&!n.initializer&&!n.dotDotDotToken)return n}}else if(Nx(t)){if(OD(e,t.expression))return t}else if(tN(t)){const n=PD(t);if(BE(n)){const t=n.valueDeclaration;if(iE(t)&&!t.type&&t.initializer&&Nx(t.initializer)&&OD(e,t.initializer.expression))return t.initializer;if(iF(t)&&!t.initializer){const n=t.parent.parent;if(iE(n)&&!n.type&&n.initializer&&(tN(n.initializer)||Nx(n.initializer))&&OD(e,n.initializer))return t}}}}(n);if(i){const e=LD(i);if(e&&zD(1048576&t.flags&&eF(r,t)?t:r,e))return i}}}function F(e,t,n){const r=LD(t);if(void 0===r)return e;const i=kl(t),o=$&&(i||nC(t))&&Hj(e,98304);let a=Uc(o?eN(e,2097152):e,r);if(!a)return e;a=o&&i?yw(a):a;const s=n(a);return yF(e,e=>{const t=Wc(e,r)||Ot;return!(131072&t.flags)&&!(131072&s.flags)&&OS(s,t)})}function E(e,t,n,r,i){if((37===n||38===n)&&1048576&e.flags){const o=VD(e);if(o&&o===LD(t)){const t=UD(e,ER(r));if(t)return n===(i?37:38)?t:XC(Uc(t,o)||Ot)?xF(e,t):e}}return F(e,t,e=>B(e,n,r,i))}function P(t,n,r){if(OD(e,n))return rN(t,r?4194304:8388608);$&&r&&JD(n,e)&&(t=rN(t,2097152));const i=N(n,t);return i?F(t,i,e=>eN(e,r?4194304:8388608)):t}function I(e,t,n){const r=Gf(e,t);return r?!!(16777216&r.flags||48&cx(r))||n:!!$m(e,t)||!n}function L(e,t,n){const r=pC(t);if(dF(e,e=>I(e,r,!0)))return yF(e,e=>I(e,r,n));if(n){const n=($r||($r=Wy("Record",2,!0)||bt),$r===bt?void 0:$r);if(n)return qb([e,gy(n,[t,Ot])])}return e}function j(e,t,n,r,i){return Z(e,t,i=i!==(112===n.kind)!=(38!==r&&36!==r))}function R(t,n,r){switch(n.operatorToken.kind){case 64:case 76:case 77:case 78:return P(Z(t,n.right,r),n.left,r);case 35:case 36:case 37:case 38:const i=n.operatorToken.kind,o=VN(n.left),a=VN(n.right);if(221===o.kind&&zu(a))return J(t,o,i,a,r);if(221===a.kind&&zu(o))return J(t,a,i,o,r);if(OD(e,o))return B(t,i,a,r);if(OD(e,a))return B(t,i,o,r);$&&(JD(o,e)?t=M(t,i,a,r):JD(a,e)&&(t=M(t,i,o,r)));const s=N(o,t);if(s)return E(t,s,i,a,r);const c=N(a,t);if(c)return E(t,c,i,o,r);if(H(o))return K(t,i,a,r);if(H(a))return K(t,i,o,r);if(u_(a)&&!Nx(o))return j(t,o,a,i,r);if(u_(o)&&!Nx(a))return j(t,a,o,i,r);break;case 104:return function(t,n,r){const i=VN(n.left);if(!OD(e,i))return r&&$&&JD(i,e)?rN(t,2097152):t;const o=n.right,a=ER(o);if(!AS(a,Kn))return t;const s=eE(n),c=s&&Rg(s);if(c&&1===c.kind&&0===c.parameterIndex)return X(t,c.type,r,!0);if(!AS(a,Gn))return t;const l=CF(a,G);return(!$c(t)||l!==Kn&&l!==Gn)&&(r||524288&l.flags&&!ZS(l))?X(t,l,r,!0):t}(t,n,r);case 103:if(nN(n.left))return function(t,n,r){const i=VN(n.right);if(!OD(e,i))return t;fn.assertNode(n.left,nN);const o=iO(n.left);if(void 0===o)return t;const a=o.parent,s=Ov(fn.checkDefined(o.valueDeclaration,"should always have a declaration"))?w_(a):vu(a);return X(t,s,r,!0)}(t,n,r);const l=VN(n.right);if(Cw(t)&&Nx(e)&&OD(e.expression,l)){const i=ER(n.left);if(dC(i)&&LD(e)===pC(i))return eN(t,r?524288:65536)}if(OD(e,l)){const e=ER(n.left);if(dC(e))return L(t,e,r)}break;case 28:return Z(t,n.right,r);case 56:return r?Z(Z(t,n.left,!0),n.right,!0):Ob([Z(t,n.left,!1),Z(t,n.right,!1)]);case 57:return r?Ob([Z(t,n.left,!0),Z(t,n.right,!0)]):Z(Z(t,n.left,!1),n.right,!1)}return t}function M(e,t,n,r){const i=35===t||37===t,o=35===t||36===t?98304:32768,a=ER(n);return i!==r&&gF(a,e=>!!(e.flags&o))||i===r&&gF(a,e=>!(e.flags&(3|o)))?rN(e,2097152):e}function B(e,t,n,r){if(1&e.flags)return e;36!==t&&38!==t||(r=!r);const i=ER(n),o=35===t||36===t;if(98304&i.flags)return $?rN(e,o?r?262144:2097152:65536&i.flags?r?131072:1048576:r?65536:524288):e;if(r){if(!o&&(2&e.flags||dF(e,ZS))){if(469893116&i.flags||ZS(i))return i;if(524288&i.flags)return mn}return OF(yF(e,e=>{return OS(e,i)||o&&(t=i,!!(524&e.flags)&&!!(28&t.flags));var t}),i)}return XC(i)?yF(e,e=>!(QC(e)&&OS(e,i))):e}function J(t,n,r,i,o){36!==r&&38!==r||(o=!o);const a=VN(n.expression);if(!OD(e,a)){$&&JD(a,e)&&o===("undefined"!==i.text)&&(t=rN(t,2097152));const n=N(a,t);return n?F(t,n,e=>z(e,i,o)):t}return z(t,i,o)}function z(e,t,n){return n?U(e,t.text):rN(e,XB.get(t.text)||32768)}function q(e,{switchStatement:t,clauseStart:n,clauseEnd:r},i){return n!==r&&x(KN(t).slice(n,r),i)?eN(e,2097152):e}function V(e,{switchStatement:t,clauseStart:n,clauseEnd:r}){const i=KN(t);if(!i.length)return e;const o=i.slice(n,r),a=n===r||w(o,_n);if(2&e.flags&&!a){let t;for(let n=0;n<o.length;n+=1){const r=o[n];if(469893116&r.flags)void 0!==t&&t.push(r);else{if(!(524288&r.flags))return e;void 0===t&&(t=o.slice(0,n)),t.push(mn)}}return Ob(void 0===t?o:t)}const s=Ob(o),c=131072&s.flags?_n:OF(yF(e,e=>OS(s,e)),s);if(!a)return c;const l=yF(e,e=>!(QC(e)&&w(i,32768&e.flags?Lt:mk(function(e){return 2097152&e.flags&&k(e.types,XC)||e}(e)))));return 131072&c.flags?l:Ob([c,l])}function U(e,t){switch(t){case"string":return W(e,Vt,1);case"number":return W(e,Ut,2);case"bigint":return W(e,$t,4);case"boolean":return W(e,tn,8);case"symbol":return W(e,an,16);case"object":return 1&e.flags?e:Ob([W(e,mn,32),W(e,zt,131072)]);case"function":return 1&e.flags?e:W(e,Gn,64);case"undefined":return W(e,Lt,65536)}return W(e,mn,128)}function W(e,t,n){return CF(e,e=>iT(e,t,ho)?ZD(e,n)?e:_n:FS(t,e)?t:ZD(e,n)?qb([e,t]):_n)}function H(t){return(sF(t)&&"constructor"===xc(t.name)||cF(t)&&zu(t.argumentExpression)&&"constructor"===t.argumentExpression.text)&&OD(e,t.expression)}function K(e,t,n,r){if(r?35!==t&&37!==t:36!==t&&38!==t)return e;const i=ER(n);if(!Uz(i)&&!W_(i))return e;const o=Gf(i,"prototype");if(!o)return e;const a=w_(o),s=$c(a)?void 0:a;return s&&s!==Kn&&s!==Gn?$c(e)?s:yF(e,e=>{return n=s,524288&(t=e).flags&&1&xx(t)||524288&n.flags&&1&xx(n)?t.symbol===n.symbol:FS(t,n);var t,n}):e}function G(e){const t=Uc(e,"prototype");if(t&&!$c(t))return t;const n=Qf(e,1);return n.length?Ob(A(n,e=>zg(gh(e)))):Dn}function X(e,t,n,r){var i;const o=1048576&e.flags?`N${Tb(e)},${Tb(t)},${(n?1:0)|(r?2:0)}`:void 0;return null!=(i=Co(o))?i:Fo(o,function(e,t,n,r){if(!n){if(e===t)return _n;if(r)return yF(e,e=>!AS(e,t));const n=X(e=2&e.flags?In:e,t,!0,!1);return oN(yF(e,e=>!eF(e,n)))}if(3&e.flags)return t;if(e===t)return t;const i=r?AS:FS,o=1048576&e.flags?VD(e):void 0,a=CF(t,t=>{const n=o&&Uc(t,o),a=CF(n&&UD(e,n)||e,r?e=>AS(e,t)?e:AS(t,e)?t:_n:e=>ES(e,t)?e:ES(t,e)?t:FS(e,t)?e:FS(t,e)?t:_n);return 131072&a.flags?CF(e,e=>Hj(e,465829888)&&i(t,_f(e)||Ot)?qb([e,t]):_n):a});return 131072&a.flags?FS(t,e)?t:PS(e,t)?e:PS(t,e)?t:qb([e,t]):a}(e,t,n,r))}function Q(t,n,r,i){if(n.type&&(!$c(t)||n.type!==Kn&&n.type!==Gn)){const o=function(e,t){if(1===e.kind||3===e.kind)return t.arguments[e.parameterIndex];const n=_h(t.expression);return Nx(n)?_h(n.expression):void 0}(n,r);if(o){if(OD(e,o))return X(t,n.type,i,!1);$&&JD(o,e)&&(i&&!ZD(n.type,65536)||!i&&gF(n.type,qI))&&(t=rN(t,2097152));const r=N(o,t);if(r)return F(t,r,e=>X(e,n.type,i,!1))}}return t}function Z(t,n,r){if(Tl(n)||kF(n.parent)&&(61===n.parent.operatorToken.kind||78===n.parent.operatorToken.kind)&&n.parent.left===n)return function(t,n,r){if(OD(e,n))return rN(t,r?2097152:262144);const i=N(n,t);return i?F(t,i,e=>eN(e,r?2097152:262144)):t}(t,n,r);switch(n.kind){case 80:if(!OD(e,n)&&v<5){const i=PD(n);if(BE(i)){const n=i.valueDeclaration;if(n&&iE(n)&&!n.type&&n.initializer&&vE(e)){v++;const e=Z(t,n.initializer,r);return v--,e}}}case 110:case 108:case 211:case 212:return P(t,n,r);case 213:return function(t,n,r){if(HD(n,e)){const e=r||!xl(n)?eE(n):void 0,i=e&&Rg(e);if(i&&(0===i.kind||1===i.kind))return Q(t,i,n,r)}if(Cw(t)&&Nx(e)&&sF(n.expression)){const i=n.expression;if(OD(e.expression,VN(i.expression))&&tN(i.name)&&"hasOwnProperty"===i.name.escapedText&&1===n.arguments.length){const i=n.arguments[0];if(zu(i)&&LD(e)===vc(i.text))return eN(t,r?524288:65536)}}return t}(t,n,r);case 217:case 235:case 238:return Z(t,n.expression,r);case 226:return R(t,n,r);case 224:if(54===n.operator)return Z(t,n.operand,!r)}return t}}function kE(e){return gc(e.parent,e=>c_(e)&&!lm(e)||268===e.kind||307===e.kind||172===e.kind)}function SE(e){return!CE(e,void 0)}function CE(e,t){const n=gc(e.valueDeclaration,IE);if(!n)return!1;const r=ra(n);return 131072&r.flags||(r.flags|=131072,gc(n.parent,e=>IE(e)&&!!(131072&ra(e).flags))||OE(n)),!e.lastAssignmentPos||t&&Math.abs(e.lastAssignmentPos)<t.pos}function PE(e){return fn.assert(iE(e)||vN(e)),AE(e.name)}function AE(e){return 80===e.kind?SE(fs(e.parent)):K(e.elements,e=>232!==e.kind&&AE(e.name))}function IE(e){return __(e)||nP(e)}function OE(e){switch(e.kind){case 80:const t=eh(e);if(0!==t){const n=PD(e),r=1===t||void 0!==n.lastAssignmentPos&&n.lastAssignmentPos<0;if(qE(n)){if(void 0===n.lastAssignmentPos||Math.abs(n.lastAssignmentPos)!==Number.MAX_VALUE){const t=gc(e,IE),r=gc(n.valueDeclaration,IE);n.lastAssignmentPos=t===r?function(e,t){let n=e.pos;for(;e&&e.pos>t.pos;){switch(e.kind){case 243:case 244:case 245:case 246:case 247:case 248:case 249:case 250:case 254:case 255:case 258:case 263:n=e.end}e=e.parent}return n}(e,n.valueDeclaration):Number.MAX_VALUE}r&&n.lastAssignmentPos>0&&(n.lastAssignmentPos*=-1)}}return;case 281:const n=e.parent.parent,r=e.propertyName||e.name;if(!e.isTypeOnly&&!n.isTypeOnly&&!n.moduleSpecifier&&11!==r.kind){const e=Ka(r,111551,!0,!0);if(e&&qE(e)){const t=void 0!==e.lastAssignmentPos&&e.lastAssignmentPos<0?-1:1;e.lastAssignmentPos=t*Number.MAX_VALUE}}return;case 264:case 265:case 266:return}C_(e)||KI(e,OE)}function BE(e){return 3&e.flags&&!!(6&jI(e))}function qE(e){const t=e.valueDeclaration&&ny(e.valueDeclaration);return!!t&&(vN(t)||iE(t)&&(QE(t.parent)||$E(t)))}function $E(e){return!!(1&e.parent.flags)&&!(32&lc(e)||243===e.parent.parent.kind&&nf(e.parent.parent.parent))}function KE(e,t){const n=$&&169===t.kind&&t.initializer&&ZD(e,16777216)&&!function(e){const t=ra(e);if(void 0===t.parameterInitializerContainsUndefined){if(!Rc(e,8))return x_(e.symbol),!0;const n=!!ZD(pR(e,0),16777216);if(!zc())return x_(e.symbol),!0;null!=t.parameterInitializerContainsUndefined||(t.parameterInitializerContainsUndefined=n)}return t.parameterInitializerContainsUndefined}(t);return n?eN(e,524288):e}function GE(e){return 2097152&e.flags?K(e.types,GE):!!(465829888&e.flags&&1146880&uf(e).flags)}function rP(e){return 2097152&e.flags?K(e.types,rP):!(!(465829888&e.flags)||Hj(uf(e),98304))}function sP(e,t,n){Ty(e)&&(e=e.baseType);const r=!(n&&2&n)&&dF(e,GE)&&(function(e,t){const n=t.parent;return 211===n.kind||166===n.kind||213===n.kind&&n.expression===t||214===n.kind&&n.expression===t||212===n.kind&&n.expression===t&&!(dF(e,rP)&&wx(ER(n.argumentExpression)))}(e,t)||function(e,t){const n=(tN(e)||sF(e)||cF(e))&&!((ME(e.parent)||RE(e.parent))&&e.parent.tagName===e)&&OA(e,t&&32&t?8:void 0);return n&&!Tx(n)}(t,n));return r?CF(e,uf):e}function cP(e){return!!gc(e,e=>{const t=e.parent;return void 0===t?"quit":DE(t)?t.expression===e&&ub(e):!!EE(t)&&(t.name===e||t.propertyName===e)})}function lP(e,t,n,r){if(Me&&(!(33554432&e.flags)||xN(e)||kN(e)))switch(t){case 1:return _P(e);case 2:return uP(e,n,r);case 3:return fP(e);case 4:return hP(e);case 5:return yP(e);case 6:return kP(e);case 7:return SP(e);case 8:return CP(e);case 0:if(tN(e)&&(Tm(e)||YE(e.parent)||mE(e.parent)&&e.parent.moduleReference===e)&&LP(e)){if(M_(e.parent)&&(sF(e.parent)?e.parent.expression:e.parent.left)!==e)return;return void _P(e)}if(M_(e)){let t=e;for(;M_(t);){if(Ef(t))return;t=t.parent}return uP(e)}if(DE(e))return fP(e);if(Cu(e)||zE(e))return hP(e);if(mE(e))return Pm(e)||RJ(e)?kP(e):void 0;if(EE(e))return SP(e);if((__(e)||SN(e))&&yP(e),!I.emitDecoratorMetadata)return;if(!(xI(e)&&Jv(e)&&e.modifiers&&gm(B,e,e.parent,e.parent.parent)))return;return CP(e);default:fn.assertNever(t,`Unhandled reference hint: ${t}`)}}function _P(e){const t=PD(e);t&&t!==Ie&&t!==bt&&!mv(e)&&wP(t,e)}function uP(e,t,n){const r=sF(e)?e.expression:e.left;if(pv(r)||!tN(r))return;const i=PD(r);if(!i||i===bt)return;if(Dk(I)||Ok(I)&&cP(e))return void wP(i,e);const o=n||uR(r);if($c(o)||o===un)return void wP(i,e);let a=t;if(!a&&!n){const t=sF(e)?e.name:e.right,n=nN(t)&&nO(t.escapedText,t),r=Sf(0!==eh(e)||eO(e)?Bw(o):o);a=nN(t)?n&&oO(r,n)||void 0:Gf(r,t.escapedText)}a&&(Iz(a)||8&a.flags&&306===e.parent.kind)||wP(i,e)}function fP(e){if(tN(e.expression)){const t=e.expression,n=Ts(Ka(t,-1,!0,!0,e));n&&wP(n,t)}}function hP(e){if(!gI(e)){const t=po&&2===I.jsx?ma.This_JSX_tag_requires_0_to_be_in_scope_but_it_could_not_be_found:void 0,n=Eo(e),r=Cu(e)?e.tagName:e,i=1!==I.jsx&&3!==I.jsx;let o;if(zE(e)&&"null"===n||(o=ze(r,n,i?111551:111167,t,!0)),o&&(o.isReferenced=-1,Me&&2097152&o.flags&&!Ua(o)&&DP(o)),zE(e)){const n=nq(Sd(e));if(n){const e=db(n).escapedText;ze(r,e,i?111551:111167,t,!0)}}}}function yP(e){if(R<2&&2&Mh(e)){const n=bv(e);FP((t=n)&&fm(t),!1)}var t}function kP(e){Av(e,32)&&NP(e)}function SP(e){if(!e.parent.parent.moduleSpecifier&&!e.isTypeOnly&&!e.parent.parent.isTypeOnly){const t=e.propertyName||e.name;if(11===t.kind)return;const n=ze(t,t.escapedText,2998271,void 0,!0);if(n&&(n===Ce||n===Ne||n.declarations&&nf(qc(n.declarations[0]))));else{const r=n&&(2097152&n.flags?Ja(n):n);(!r||111551&za(r))&&(NP(e),_P(t))}return}}function CP(e){if(I.emitDecoratorMetadata){const t=k(e.modifiers,bN);if(!t)return;switch(aq(t,16),e.kind){case 263:const t=cv(e);if(t)for(const e of t.parameters)PP(kM(e));break;case 177:case 178:const n=177===e.kind?178:177,r=Qu(fs(e),n);PP(Zl(e)||r&&Zl(r));break;case 174:for(const o of e.parameters)PP(kM(o));PP(bv(e));break;case 172:PP(yv(e));break;case 169:PP(kM(e));const i=e.parent;for(const e of i.parameters)PP(kM(e));PP(bv(i))}}}function wP(e,t){if(Me&&Ma(e,111551)&&!fv(t)){const n=Ja(e);1160127&za(e,!0)&&(Dk(I)||Ok(I)&&cP(t)||!Iz(Ts(n)))&&DP(e)}}function DP(e){fn.assert(Me);const t=na(e);if(!t.referenced){t.referenced=!0;const n=ba(e);if(!n)return fn.fail();Pm(n)&&111551&za(Ba(e))&&_P(db(n.moduleReference))}}function NP(e){const t=fs(e),n=Ja(t);n&&(n===bt||111551&za(t,!0)&&!Iz(n))&&DP(t)}function FP(e,t){if(!e)return;const n=db(e),r=2097152|(80===e.kind?788968:1920),i=ze(n,n.escapedText,r,void 0,!0);if(i&&2097152&i.flags)if(Me&&Cs(i)&&!Iz(Ja(i))&&!Ua(i))DP(i);else if(t&&Dk(I)&&Tk(I)>=5&&!Cs(i)&&!K(i.declarations,$l)){const t=Lo(e,ma.A_type_referenced_in_a_decorated_signature_must_be_imported_with_import_type_or_a_namespace_import_when_isolatedModules_and_emitDecoratorMetadata_are_enabled),r=k(i.declarations||u,xa);r&&uT(t,qp(r,ma._0_was_imported_here,xc(n)))}}function PP(e){const t=bM(e);t&&o_(t)&&FP(t,!0)}function AP(e,t){if(mv(e))return;if(t===Ie){if(dO(e))return void Lo(e,ma.arguments_cannot_be_referenced_in_property_initializers);let t=Zf(e);if(t)for(R<2&&(219===t.kind?Lo(e,ma.The_arguments_object_cannot_be_referenced_in_an_arrow_function_in_ES5_Consider_using_a_standard_function_expression):Av(t,1024)&&Lo(e,ma.The_arguments_object_cannot_be_referenced_in_an_async_function_or_method_in_ES5_Consider_using_a_standard_function_or_method)),ra(t).flags|=512;t&&mF(t);)t=Zf(t),t&&(ra(t).flags|=512);return}const n=Ts(t),r=JJ(n,e);zo(r)&&mx(e,r)&&r.declarations&&Vo(e,r.declarations,e.escapedText);const i=n.valueDeclaration;if(i&&32&n.flags&&g_(i)&&i.name!==e){let t=im(e,!1,!1);for(;307!==t.kind&&t.parent!==i;)t=im(t,!1,!1);307!==t.kind&&(ra(i).flags|=262144,ra(t).flags|=262144,ra(e).flags|=536870912)}!function(e,t){if(R>=2||!(34&t.flags)||!t.valueDeclaration||nP(t.valueDeclaration)||299===t.valueDeclaration.parent.kind)return;const n=Op(t.valueDeclaration),r=function(e,t){return!!gc(e,e=>e===t?"quit":c_(e)||e.parent&&kN(e.parent)&&!Ov(e.parent)&&e.parent.initializer===e)}(e,n),i=RP(n);if(i){if(r){let r=!0;if($F(n)){const i=Nh(t.valueDeclaration,261);if(i&&i.parent===n){const i=function(e,t){return gc(e,e=>e===t?"quit":e===t.initializer||e===t.condition||e===t.incrementor||e===t.statement)}(e.parent,n);if(i){const e=ra(i);e.flags|=8192,ue(e.capturedBlockScopeBindings||(e.capturedBlockScopeBindings=[]),t),i===n.initializer&&(r=!1)}}}r&&(ra(i).flags|=4096)}if($F(n)){const r=Nh(t.valueDeclaration,261);r&&r.parent===n&&function(e,t){let n=e;for(;217===n.parent.kind;)n=n.parent;let r=!1;if(th(n))r=!0;else if(224===n.parent.kind||225===n.parent.kind){const e=n.parent;r=46===e.operator||47===e.operator}return!!r&&!!gc(n,e=>e===t?"quit":e===t.statement)}(e,n)&&(ra(t.valueDeclaration).flags|=65536)}ra(t.valueDeclaration).flags|=32768}r&&(ra(t.valueDeclaration).flags|=16384)}(e,t)}function IP(e,t){if(mv(e))return HP(e);const n=PD(e);if(n===bt)return Et;if(AP(e,n),n===Ie)return dO(e)?Et:w_(n);LP(e)&&lP(e,1);const r=Ts(n);let i=r.valueDeclaration;const o=i;if(i&&208===i.kind&&w(Ai,i.parent)&&gc(e,e=>e===i.parent))return At;let a=function(e,t){var n;const r=w_(e),i=e.valueDeclaration;if(i){if(iF(i)&&!i.initializer&&!i.dotDotDotToken&&i.parent.elements.length>=2){const e=i.parent.parent,n=ny(e);if(260===n.kind&&6&Vq(n)||169===n.kind){const r=ra(e);if(!(4194304&r.flags)){r.flags|=4194304;const o=Kc(e,0),a=o&&CF(o,uf);if(r.flags&=-4194305,a&&1048576&a.flags&&(169!==n.kind||!PE(n))){const e=bE(i.parent,a,a,void 0,t.flowNode);return 131072&e.flags?_n:cl(i,e,!0)}}}}if(vN(i)&&!i.type&&!i.initializer&&!i.dotDotDotToken){const e=i.parent;if(e.parameters.length>=2&&SS(e)){const r=HA(e);if(r&&1===r.parameters.length&&_J(r)){const o=Tf(gS(w_(r.parameters[0]),null==(n=BA(e))?void 0:n.nonFixingMapper));if(1048576&o.flags&&gF(o,ow)&&!K(e.parameters,PE))return Lx(bE(e,o,o,void 0,t.flowNode),yk(e.parameters.indexOf(i)-(uv(e)?1:0)))}}}}return r}(r,e);const s=eh(e);if(s){if(!(3&r.flags||Om(e)&&512&r.flags))return Lo(e,384&r.flags?ma.Cannot_assign_to_0_because_it_is_an_enum:32&r.flags?ma.Cannot_assign_to_0_because_it_is_a_class:1536&r.flags?ma.Cannot_assign_to_0_because_it_is_a_namespace:16&r.flags?ma.Cannot_assign_to_0_because_it_is_a_function:2097152&r.flags?ma.Cannot_assign_to_0_because_it_is_an_import:ma.Cannot_assign_to_0_because_it_is_not_a_variable,nc(n)),Et;if(Jj(r))return 3&r.flags?Lo(e,ma.Cannot_assign_to_0_because_it_is_a_constant,nc(n)):Lo(e,ma.Cannot_assign_to_0_because_it_is_a_read_only_property,nc(n)),Et}const c=2097152&r.flags;if(3&r.flags){if(1===s)return nh(e)?YC(a):a}else{if(!c)return a;i=ba(n)}if(!i)return a;a=sP(a,e,t);const l=169===ny(i).kind,_=kE(i);let u=kE(e);const d=u!==_,p=e.parent&&e.parent.parent&&eP(e.parent)&&uN(e.parent.parent),f=134217728&n.flags,m=a===Dt||a===lr,g=m&&235===e.parent.kind;for(;u!==_&&(218===u.kind||219===u.kind||Wf(u))&&(BE(r)&&a!==lr||qE(r)&&CE(r,e));)u=kE(u);const h=o&&iE(o)&&!o.initializer&&!o.exclamationToken&&$E(o)&&!function(e){return(void 0!==e.lastAssignmentPos||SE(e)&&void 0!==e.lastAssignmentPos)&&e.lastAssignmentPos<0}(n),y=l||c||d&&!h||p||f||function(e,t){if(iF(t)){const n=gc(e,iF);return n&&ny(n)===ny(t)}}(e,i)||a!==Dt&&a!==lr&&(!$||!!(16387&a.flags)||fv(e)||AD(e)||281===e.parent.kind)||235===e.parent.kind||260===i.kind&&i.exclamationToken||33554432&i.flags,v=g?Lt:y?l?KE(a,i):a:m?Lt:yw(a),b=g?vw(bE(e,a,v,u)):bE(e,a,v,u);if(QF(e)||a!==Dt&&a!==lr){if(!y&&!YS(a)&&YS(b))return Lo(e,ma.Variable_0_is_used_before_being_assigned,nc(n)),a}else if(b===Dt||b===lr)return te&&(Lo(Ec(i),ma.Variable_0_implicitly_has_type_1_in_some_locations_where_its_type_cannot_be_determined,nc(n),oc(b)),Lo(e,ma.Variable_0_implicitly_has_an_1_type,nc(n),oc(b))),XM(b);return s?YC(b):b}function LP(e){var t;const n=e.parent;if(n){if(sF(n)&&n.expression===e)return!1;if(EE(n)&&n.isTypeOnly)return!1;const r=null==(t=n.parent)?void 0:t.parent;if(r&&NE(r)&&r.isTypeOnly)return!1}return!0}function RP(e){return gc(e,e=>!e||ry(e)?"quit":Q_(e,!1))}function JP(e,t){ra(e).flags|=2,172===t.kind||176===t.kind?ra(t.parent).flags|=4:ra(t).flags|=4}function qP(e){return pf(e)?e:c_(e)?void 0:KI(e,qP)}function UP(e){return Z_(vu(fs(e)))===qt}function $P(e,t,n){const r=t.parent;Sh(r)&&!UP(r)&&Mg(e)&&e.flowNode&&!yE(e.flowNode,!1)&&Lo(e,n)}function HP(e){const t=fv(e);let n=im(e,!0,!0),r=!1,i=!1;for(176===n.kind&&$P(e,n,ma.super_must_be_called_before_accessing_this_in_the_constructor_of_a_derived_class);219===n.kind&&(n=im(n,!1,!i),r=!0),167===n.kind;)n=im(n,!r,!1),i=!0;if(function(e,t){kN(t)&&Ov(t)&&B&&t.initializer&&Rs(t.initializer,e.pos)&&Jv(t.parent)&&Lo(e,ma.Cannot_use_this_in_a_static_property_initializer_of_a_decorated_class)}(e,n),i)Lo(e,ma.this_cannot_be_referenced_in_a_computed_property_name);else switch(n.kind){case 267:Lo(e,ma.this_cannot_be_referenced_in_a_module_or_namespace_body);break;case 266:Lo(e,ma.this_cannot_be_referenced_in_current_location)}!t&&r&&R<2&&JP(e,n);const o=KP(e,!0,n);if(ne){const t=w_(Ne);if(o===t&&r)Lo(e,ma.The_containing_arrow_function_captures_the_global_value_of_this);else if(!o){const r=Lo(e,ma.this_implicitly_has_type_any_because_it_does_not_have_a_type_annotation);if(!nP(n)){const e=KP(n);e&&e!==t&&uT(r,qp(n,ma.An_outer_value_of_this_is_shadowed_by_this_container))}}}return o||wt}function KP(e,t=!0,n=im(e,!1,!1)){const r=Om(e);if(c_(n)&&(!iA(e)||uv(n))){let t=Lg(Sg(n))||r&&function(e){const t=nl(e);if(t&&t.typeExpression)return Pk(t.typeExpression);const n=Tg(e);return n?Lg(n):void 0}(n);if(!t){const e=function(e){return 218===e.kind&&kF(e.parent)&&3===og(e.parent)?e.parent.left.expression.expression:174===e.kind&&210===e.parent.kind&&kF(e.parent.parent)&&6===og(e.parent.parent)?e.parent.parent.left.expression:218===e.kind&&303===e.parent.kind&&210===e.parent.parent.kind&&kF(e.parent.parent.parent)&&6===og(e.parent.parent.parent)?e.parent.parent.parent.left.expression:218===e.kind&&ZE(e.parent)&&tN(e.parent.name)&&("value"===e.parent.name.escapedText||"get"===e.parent.name.escapedText||"set"===e.parent.name.escapedText)&&aF(e.parent.parent)&&lF(e.parent.parent.parent)&&e.parent.parent.parent.arguments[2]===e.parent.parent&&9===og(e.parent.parent.parent)?e.parent.parent.parent.arguments[0].expression:TN(e)&&tN(e.name)&&("value"===e.name.escapedText||"get"===e.name.escapedText||"set"===e.name.escapedText)&&aF(e.parent)&&lF(e.parent.parent)&&e.parent.parent.arguments[2]===e.parent&&9===og(e.parent.parent)?e.parent.parent.arguments[0].expression:void 0}(n);if(r&&e){const n=IR(e).symbol;n&&n.members&&16&n.flags&&(t=vu(n).thisType)}else CL(n)&&(t=vu(ps(n.symbol)).thisType);t||(t=tA(n))}if(t)return bE(e,t)}if(g_(n.parent)){const t=fs(n.parent);return bE(e,Iv(n)?w_(t):vu(t).thisType)}if(nP(n)){if(n.commonJsModuleIndicator){const e=fs(n);return e&&w_(e)}if(n.externalModuleIndicator)return Lt;if(t)return w_(Ne)}}function GP(e){const t=213===e.parent.kind&&e.parent.expression===e,n=cm(e,!0);let r=n,i=!1,o=!1;if(!t){for(;r&&219===r.kind;)Av(r,1024)&&(o=!0),r=cm(r,!0),i=R<2;r&&Av(r,1024)&&(o=!0)}let a=0;if(!r||(s=r,!(t?176===s.kind:(g_(s.parent)||210===s.parent.kind)&&(Iv(s)?174===s.kind||173===s.kind||177===s.kind||178===s.kind||172===s.kind||175===s.kind:174===s.kind||173===s.kind||177===s.kind||178===s.kind||172===s.kind||171===s.kind||176===s.kind)))){const n=gc(e,e=>e===r?"quit":167===e.kind);return n&&167===n.kind?Lo(e,ma.super_cannot_be_referenced_in_a_computed_property_name):t?Lo(e,ma.Super_calls_are_not_permitted_outside_constructors_or_in_nested_functions_inside_constructors):r&&r.parent&&(g_(r.parent)||210===r.parent.kind)?Lo(e,ma.super_property_access_is_permitted_only_in_a_constructor_member_function_or_member_accessor_of_a_derived_class):Lo(e,ma.super_can_only_be_referenced_in_members_of_derived_classes_or_object_literal_expressions),Et}var s;if(t||176!==n.kind||$P(e,r,ma.super_must_be_called_before_accessing_a_property_of_super_in_the_constructor_of_a_derived_class),Iv(r)||t?(a=32,!t&&R>=2&&R<=8&&(kN(r)||CN(r))&&Lp(e.parent,e=>{nP(e)&&!rf(e)||(ra(e).flags|=2097152)})):a=16,ra(e).flags|=a,174===r.kind&&o&&(_m(e.parent)&&th(e.parent)?ra(r).flags|=256:ra(r).flags|=128),i&&JP(e.parent,r),210===r.parent.kind)return R<2?(Lo(e,ma.super_is_only_allowed_in_members_of_object_literal_expressions_when_option_target_is_ES2015_or_higher),Et):wt;const c=r.parent;if(!Sh(c))return Lo(e,ma.super_can_only_be_referenced_in_a_derived_class),Et;if(UP(c))return t?Et:qt;const l=vu(fs(c)),_=l&&iu(l)[0];return _?176===r.kind&&function(e,t){return!!gc(e,e=>__(e)?"quit":169===e.kind&&e.parent===t)}(e,r)?(Lo(e,ma.super_cannot_be_referenced_in_constructor_arguments),Et):32===a?Z_(l):yd(_,l.thisType):Et}function XP(e){return 174!==e.kind&&177!==e.kind&&178!==e.kind||210!==e.parent.kind?218===e.kind&&303===e.parent.kind?e.parent.parent:void 0:e.parent}function QP(e){return 4&xx(e)&&e.target===sr?uy(e)[0]:void 0}function ZP(e){return CF(e,e=>2097152&e.flags?f(e.types,QP):QP(e))}function eA(e,t){let n=e,r=t;for(;r;){const e=ZP(r);if(e)return e;if(303!==n.parent.kind)break;n=n.parent.parent,r=PA(n,void 0)}}function tA(e){if(219===e.kind)return;if(SS(e)){const t=HA(e);if(t){const e=t.thisParameter;if(e)return w_(e)}}const t=Om(e);if(ne||t){const n=XP(e);if(n){const e=PA(n,void 0),t=eA(n,e);return t?gS(t,tD(BA(n))):Bw(e?vw(e):uR(n))}const r=sh(e.parent);if(cb(r)){const e=r.left;if(Nx(e)){const{expression:n}=e;if(t&&tN(n)){const e=Sd(r);if(e.commonJsModuleIndicator&&PD(n)===e.symbol)return}return Bw(uR(n))}}}}function nA(e){const t=e.parent;if(!SS(t))return;const n=lm(t);if(n&&n.arguments){const r=nL(n),i=t.parameters.indexOf(e);if(e.dotDotDotToken)return GO(r,i,r.length,wt,void 0,0);const o=ra(n),a=o.resolvedSignature;o.resolvedSignature=si;const s=i<r.length?tw(IR(r[i])):e.initializer?void 0:jt;return o.resolvedSignature=a,s}const r=HA(t);if(r){const n=t.parameters.indexOf(e)-(uv(t)?1:0);return e.dotDotDotToken&&xe(t.parameters)===e?nj(r,n):tj(r,n)}}function rA(e,t){const n=yv(e)||(Om(e)?oC(e):void 0);if(n)return Pk(n);switch(e.kind){case 169:return nA(e);case 208:return function(e,t){const n=e.parent.parent,r=e.propertyName||e.name,i=rA(n,t)||208!==n.kind&&n.initializer&&pR(n,e.dotDotDotToken?32:0);if(!i||D_(r)||Mp(r))return;if(207===n.name.kind){const t=np(e.parent.elements,e);if(t<0)return;return wA(i,t)}const o=Xb(r);return dC(o)?Uc(i,pC(o)):void 0}(e,t);case 172:if(Iv(e))return function(e,t){const n=G_(e.parent)&&OA(e.parent,t);return n?pA(n,fs(e).escapedName):void 0}(e,t)}}function iA(e){let t=!1;for(;e.parent&&!c_(e.parent);){if(vN(e.parent)&&(t||e.parent.initializer===e))return!0;iF(e.parent)&&e.parent.initializer===e&&(t=!0),e=e.parent}return!1}function oA(e,t){const n=!!(2&Mh(t)),r=aA(t,void 0);if(r)return jB(e,r,n)||void 0}function aA(e,t){const n=qg(e);if(n)return n;const r=$A(e);if(r&&!Qg(r)){const t=zg(r),n=Mh(e);return 1&n?yF(t,e=>!!(58998787&e.flags)||MR(e,n,void 0)):2&n?yF(t,e=>!!(58998787&e.flags)||!!oM(e)):t}const i=lm(e);return i?OA(i,t):void 0}function sA(e,t){const n=nL(e).indexOf(t);return-1===n?void 0:cA(e,n)}function cA(e,t){if(ff(e))return 0===t?Vt:1===t?Qy(!1):wt;const n=ra(e).resolvedSignature===li?li:TL(e);if(Cu(e)&&0===t)return JA(n,e);const r=n.parameters.length-1;return _J(n)&&t>=r?Lx(w_(n.parameters[r]),yk(t-r),256):ej(n,t)}function lA(e,t){const n=e.parent,{left:r,operatorToken:i,right:o}=n;switch(i.kind){case 64:case 77:case 76:case 78:return e===o?function(e){var t,n;const r=og(e);switch(r){case 0:case 4:const i=function(e){if(uu(e)&&e.symbol)return e.symbol;if(tN(e))return PD(e);if(sF(e)){const n=ER(e.expression);return nN(e.name)?t(n,e.name):Gf(n,e.name.escapedText)}if(cF(e)){const t=uR(e.argumentExpression);if(!dC(t))return;return Gf(ER(e.expression),pC(t))}return;function t(e,t){const n=nO(t.escapedText,t);return n&&oO(e,n)}}(e.left),o=i&&i.valueDeclaration;if(o&&(kN(o)||xN(o))){const t=yv(o);return t&&gS(Pk(t),na(i).mapper)||(kN(o)?o.initializer&&ER(e.left):void 0)}return 0===r?ER(e.left):uA(e);case 5:if(_A(e,r))return uA(e);if(uu(e.left)&&e.left.symbol){const t=e.left.symbol.valueDeclaration;if(!t)return;const n=ot(e.left,Nx),r=yv(t);if(r)return Pk(r);if(tN(n.expression)){const e=n.expression,t=ze(e,e.escapedText,111551,void 0,!0);if(t){const e=t.valueDeclaration&&yv(t.valueDeclaration);if(e){const t=fg(n);if(void 0!==t)return pA(Pk(e),t)}return}}return Om(t)||t===e.left?void 0:ER(e.left)}return ER(e.left);case 1:case 6:case 3:case 2:let a;2!==r&&(a=uu(e.left)?null==(t=e.left.symbol)?void 0:t.valueDeclaration:void 0),a||(a=null==(n=e.symbol)?void 0:n.valueDeclaration);const s=a&&yv(a);return s?Pk(s):void 0;case 7:case 8:case 9:return fn.fail("Does not apply");default:return fn.assertNever(r)}}(n):void 0;case 57:case 61:const i=OA(n,t);return e===o&&(i&&i.pattern||!i&&!Zm(n))?ER(r):i;case 56:case 28:return e===o?OA(n,t):void 0;default:return}}function _A(e,t=og(e)){if(4===t)return!0;if(!Om(e)||5!==t||!tN(e.left.expression))return!1;const n=e.left.expression.escapedText,r=ze(e.left,n,111551,void 0,!0,!0);return dm(null==r?void 0:r.valueDeclaration)}function uA(e){if(!e.symbol)return ER(e.left);if(e.symbol.valueDeclaration){const t=yv(e.symbol.valueDeclaration);if(t){const e=Pk(t);if(e)return e}}const t=ot(e.left,Nx);if(!Uf(im(t.expression,!1,!1)))return;const n=HP(t.expression),r=fg(t);return void 0!==r&&pA(n,r)||void 0}function dA(e,t){if(16777216&e.flags){const n=e;return!!(131072&Nf(Wx(n)).flags)&&Jx($x(n))===Jx(n.checkType)&&PS(t,n.extendsType)}return!!(2097152&e.flags)&&K(e.types,e=>dA(e,t))}function pA(e,t,n){return CF(e,e=>{var r;if(2097152&e.flags){let r,i,o=!1;for(const a of e.types){if(!(524288&a.flags))continue;if(Sp(a)&&2!==Tp(a)){r=fA(r,gA(a,t,n));continue}const e=hA(a,t);e?(o=!0,i=void 0,r=fA(r,e)):o||(i=se(i,a))}if(i)for(const e of i)r=fA(r,xA(e,t,n));if(!r)return;return 1===r.length?r[0]:qb(r)}if(524288&e.flags)return Sp(e)&&2!==Tp(e)?gA(e,t,n):null!=(r=hA(e,t))?r:xA(e,t,n)},!0)}function fA(e,t){return t?se(e,1&t.flags?Ot:t):e}function gA(e,t,n){const r=n||hk(bc(t)),i=rp(e);if(!(e.nameType&&dA(e.nameType,r)||dA(i,r)))return PS(r,_f(i)||i)?Ox(e,r):void 0}function hA(e,t){const n=Gf(e,t);var r;if(n&&!(262144&cx(r=n)&&!r.links.type&&Mc(r,0)>=0))return Tw(w_(n),!!(16777216&n.flags))}function xA(e,t,n){var r;if(ow(e)&&WT(t)&&+t>=0){const t=uw(e,e.target.fixedLength,0,!1,!0);if(t)return t}return null==(r=ym(km(e),n||hk(bc(t))))?void 0:r.type}function TA(e,t){if(fn.assert(Uf(e)),!(67108864&e.flags))return CA(e,t)}function CA(e,t){const n=e.parent,r=ZE(e)&&rA(e,t);if(r)return r;const i=PA(n,t);if(i){if(od(e)){const t=fs(e);return pA(i,t.escapedName,na(t).nameType)}if(qh(e)){const t=Ec(e);if(t&&hN(t)){const e=IR(t.expression),n=dC(e)&&pA(i,pC(e));if(n)return n}}if(e.name){const t=Xb(e.name);return CF(i,e=>{var n;return null==(n=ym(km(e),t))?void 0:n.type},!0)}}}function wA(e,t,n,r,i){return e&&CF(e,e=>{if(ow(e)){if((void 0===r||t<r)&&t<e.target.fixedLength)return Tw(uy(e)[t],!!e.target.elementFlags[t]);const o=void 0!==n&&(void 0===i||t>i)?n-t:0,a=o>0&&12&e.target.combinedFlags?lb(e.target,3):0;return o>0&&o<=a?uy(e)[dy(e)-o]:uw(e,void 0===r?e.target.fixedLength:Math.min(e.target.fixedLength,r),void 0===n||void 0===i?a:Math.min(a,n-i),!1,!0)}return(!r||t<r)&&pA(e,""+t)||fB(1,e,Lt,void 0,!1)},!0)}function DA(e,t){const n=e.parent;return Su(n)?OA(e,t):jE(n)?function(e,t,n){const r=PA(e.openingElement.attributes,n),i=kI(hI(e));if(!r||$c(r)||!i||""===i)return;const o=py(e.children),a=o.indexOf(t),s=pA(r,i);return s&&(1===o.length?s:CF(s,e=>zC(e)?Lx(e,yk(a)):e,!0))}(n,e,t):void 0}function NA(e,t){if(VE(e)){const n=PA(e.parent,t);if(!n||$c(n))return;return pA(n,aC(e.name))}return OA(e.parent,t)}function FA(e){switch(e.kind){case 11:case 9:case 10:case 15:case 228:case 112:case 97:case 106:case 80:case 157:return!0;case 211:case 217:return FA(e.expression);case 294:return!e.expression||FA(e.expression)}return!1}function EA(e,t){var n,r;const i=`D${rJ(e)},${Tb(t)}`;return null!=(r=Co(i))?r:Fo(i,null!=(n=function(e,t){const n=VD(e),r=n&&k(t.properties,e=>e.symbol&&303===e.kind&&e.symbol.escapedName===n&&FA(e.initializer)),i=r&&AR(r.initializer);return i&&UD(e,i)}(t,e))?n:FT(t,X(A(F(e.properties,e=>!!e.symbol&&(303===e.kind?FA(e.initializer)&&zD(t,e.symbol.escapedName):304===e.kind&&zD(t,e.symbol.escapedName))),e=>[()=>AR(303===e.kind?e.initializer:e.name),e.symbol.escapedName]),A(F(Fp(t),n=>{var r;return!!(16777216&n.flags)&&!!(null==(r=null==e?void 0:e.symbol)?void 0:r.members)&&!e.symbol.members.has(n.escapedName)&&zD(t,n.escapedName)}),e=>[()=>Lt,e.escapedName])),PS))}function PA(e,t){const n=AA(Uf(e)?TA(e,t):OA(e,t),e,t);if(n&&!(t&&2&t&&8650752&n.flags)){const t=CF(n,e=>32&xx(e)?e:Sf(e),!0);return 1048576&t.flags&&aF(e)?EA(e,t):1048576&t.flags&&UE(e)?function(e,t){const n=`D${rJ(e)},${Tb(t)}`,r=Co(n);if(r)return r;const i=kI(hI(e));return Fo(n,FT(t,X(A(F(e.properties,e=>!!e.symbol&&291===e.kind&&zD(t,e.symbol.escapedName)&&(!e.initializer||FA(e.initializer))),e=>[e.initializer?()=>AR(e.initializer):()=>Gt,e.symbol.escapedName]),A(F(Fp(t),n=>{var r;if(!(16777216&n.flags&&(null==(r=null==e?void 0:e.symbol)?void 0:r.members)))return!1;const o=e.parent.parent;return(n.escapedName!==i||!jE(o)||!py(o.children).length)&&!e.symbol.members.has(n.escapedName)&&zD(t,n.escapedName)}),e=>[()=>Lt,e.escapedName])),PS))}(e,t):t}}function AA(e,t,n){if(e&&Hj(e,465829888)){const r=BA(t);if(r&&1&n&&K(r.inferences,CR))return IA(e,r.nonFixingMapper);if(null==r?void 0:r.returnMapper){const t=IA(e,r.returnMapper);return 1048576&t.flags&&wb(t.types,Kt)&&wb(t.types,Xt)?yF(t,e=>e!==Kt&&e!==Xt):t}}return e}function IA(e,t){return 465829888&e.flags?gS(e,t):1048576&e.flags?Ob(A(e.types,e=>IA(e,t)),0):2097152&e.flags?qb(A(e.types,e=>IA(e,t))):e}function OA(e,t){var n,r;if(67108864&e.flags)return;const i=MA(e,!t);if(i>=0)return Ni[i];const{parent:o}=e;switch(o.kind){case 260:case 169:case 172:case 171:case 208:return function(e,t){const n=e.parent;if(Lu(n)&&e===n.initializer){const e=rA(n,t);if(e)return e;if(!(8&t)&&D_(n.name)&&n.name.elements.length>0)return Rl(n.name,!0,!1)}}(e,t);case 219:case 253:return function(e,t){const n=Zf(e);if(n){let e=aA(n,t);if(e){const t=Mh(n);if(1&t){const n=!!(2&t);1048576&e.flags&&(e=yF(e,e=>!!jB(1,e,n)));const r=jB(1,e,!!(2&t));if(!r)return;e=r}if(2&t){const t=CF(e,fM);return t&&Ob([t,Dj(t)])}return e}}}(e,t);case 229:return function(e,t){var n,r,i;const o=Zf(e);if(o){const a=Mh(o);let s=aA(o,t);if(s){const o=!!(2&a);if(!e.asteriskToken&&1048576&s.flags&&(s=yF(s,e=>!!jB(1,e,o))),e.asteriskToken){const a=RB(s,o),c=null!=(n=null==a?void 0:a.yieldType)?n:un,l=null!=(r=OA(e,t))?r:un,_=null!=(i=null==a?void 0:a.nextType)?i:Ot,u=Ej(c,l,_,!1);return o?Ob([u,Ej(c,l,_,!0)]):u}return jB(0,s,o)}}}(o,t);case 223:return function(e,t){const n=OA(e,t);if(n){const e=fM(n);return e&&Ob([e,Dj(e)])}}(o,t);case 213:case 214:return sA(o,e);case 170:return function(e){const t=Cj(e);return t?Eh(t):void 0}(o);case 216:case 234:return Dl(o.type)?OA(o,t):Pk(o.type);case 226:return lA(e,t);case 303:case 304:return CA(o,t);case 305:return OA(o.parent,t);case 209:{const i=o,a=PA(i,t),s=np(i.elements,e),c=null!=(n=(r=ra(i)).spreadIndices)?n:r.spreadIndices=function(e){let t,n;for(let r=0;r<e.length;r++)wF(e[r])&&(null!=t||(t=r),n=r);return{first:t,last:n}}(i.elements);return wA(a,s,i.elements.length,c.first,c.last)}case 227:return function(e,t){const n=e.parent;return e===n.whenTrue||e===n.whenFalse?OA(n,t):void 0}(e,t);case 239:return fn.assert(228===o.parent.kind),function(e,t){if(215===e.parent.kind)return sA(e.parent,t)}(o.parent,e);case 217:if(Om(o)){if(rC(o))return Pk(iC(o));const e=al(o);if(e&&!Dl(e.typeExpression.type))return Pk(e.typeExpression.type)}return OA(o,t);case 235:return OA(o,t);case 238:return Pk(o.type);case 277:return Gl(o);case 294:return DA(o,t);case 291:case 293:return NA(o,t);case 286:case 285:return function(e,t){if(ME(e)&&4!==t){const n=MA(e.parent,!t);if(n>=0)return Ni[n]}return cA(e,0)}(o,t);case 301:return function(e){return pA(Zy(!1),yC(e))}(o)}}function LA(e){jA(e,OA(e,void 0),!0)}function jA(e,t,n){Di[Ei]=e,Ni[Ei]=t,Fi[Ei]=n,Ei++}function RA(){Ei--}function MA(e,t){for(let n=Ei-1;n>=0;n--)if(e===Di[n]&&(t||!Fi[n]))return n;return-1}function BA(e){for(let t=Li-1;t>=0;t--)if(dh(e,Ii[t]))return Oi[t]}function JA(e,t){return zE(t)||0!==QO(t)?function(e,t){let n=_j(e,Ot);n=VA(t,hI(t),n);const r=fI(JB.IntrinsicAttributes,t);return Hc(r)||(n=Md(r,n)),n}(e,t):function(e,t){const n=hI(t),r=(i=n,yI(JB.ElementAttributesPropertyNameContainer,i));var i;let o=void 0===r?_j(e,Ot):""===r?zg(e):function(e,t){if(e.compositeSignatures){const n=[];for(const r of e.compositeSignatures){const e=zg(r);if($c(e))return e;const i=Uc(e,t);if(!i)return;n.push(i)}return qb(n)}const n=zg(e);return $c(n)?n:Uc(n,t)}(e,r);if(!o)return r&&p(t.attributes.properties)&&Lo(t,ma.JSX_element_class_does_not_support_attributes_because_it_does_not_have_a_0_property,bc(r)),Ot;if(o=VA(t,n,o),$c(o))return o;{let n=o;const r=fI(JB.IntrinsicClassAttributes,t);if(!Hc(r)){const i=q_(r.symbol),o=zg(e);let a;a=i?gS(r,Vk(i,bg([o],i,yg(i),Om(t)))):r,n=Md(a,n)}const i=fI(JB.IntrinsicAttributes,t);return Hc(i)||(n=Md(i,n)),n}}(e,t)}function VA(e,t,n){const r=(i=t)&&oa(i.exports,JB.LibraryManagedAttributes,788968);var i;if(r){const t=function(e){if(zE(e))return xL(e);if(lI(e.tagName))return Eh(bL(e,wI(e)));const t=uR(e.tagName);if(128&t.flags){const n=CI(t,e);return n?Eh(bL(e,n)):Et}return t}(e),i=PI(r,Om(e),t,n);if(i)return i}return n}function UA(e){return Wk(I,"noImplicitAny")?Fe(e,(e,t)=>e!==t&&e?Ld(e.typeParameters,t.typeParameters)?function(e,t){const n=e.typeParameters||t.typeParameters;let r;e.typeParameters&&t.typeParameters&&(r=Vk(t.typeParameters,e.typeParameters));let i=166&(e.flags|t.flags);const o=e.declaration,a=function(e,t,n){const r=ij(e),i=ij(t),o=r>=i?e:t,a=o===e?t:e,s=o===e?r:i,c=aj(e)||aj(t),l=c&&!aj(o),_=new Array(s+(l?1:0));for(let u=0;u<s;u++){let d=tj(o,u);o===t&&(d=gS(d,n));let p=tj(a,u)||Ot;a===t&&(p=gS(p,n));const f=Ob([d,p]),m=c&&!l&&u===s-1,g=u>=oj(o)&&u>=oj(a),h=u>=r?void 0:XL(e,u),y=u>=i?void 0:XL(t,u),v=Wo(1|(g&&!m?16777216:0),(h===y?h:h?y?void 0:h:y)||`arg${u}`,m?32768:g?16384:0);v.links.type=m?Dv(f):f,_[u]=v}if(l){const e=Wo(1,"args",32768);e.links.type=Dv(ej(a,s)),a===t&&(e.links.type=gS(e.links.type,n)),_[s]=e}return _}(e,t,r),s=xe(a);s&&32768&cx(s)&&(i|=1);const c=function(e,t,n){if(!e||!t)return e||t;const r=Ob([w_(e),gS(w_(t),n)]);return Pw(e,r)}(e.thisParameter,t.thisParameter,r),l=Math.max(e.minArgumentCount,t.minArgumentCount),_=bd(o,n,c,a,void 0,void 0,l,i);return _.compositeKind=2097152,_.compositeSignatures=X(2097152===e.compositeKind&&e.compositeSignatures||[e],[t]),r&&(_.mapper=2097152===e.compositeKind&&e.mapper&&e.compositeSignatures?nS(e.mapper,r):r),_}(e,t):void 0:e):void 0}function WA(e,t){const n=F(Qf(e,0),e=>!function(e,t){let n=0;for(;n<t.parameters.length;n++){const e=t.parameters[n];if(e.initializer||e.questionToken||e.dotDotDotToken||eC(e))break}return t.parameters.length&&dv(t.parameters[0])&&n--,!aj(e)&&ij(e)<n}(e,t));return 1===n.length?n[0]:UA(n)}function $A(e){return VT(e)||Uf(e)?HA(e):void 0}function HA(e){fn.assert(174!==e.kind||Uf(e));const t=Tg(e);if(t)return t;const n=PA(e,1);if(!n)return;if(!(1048576&n.flags))return WA(n,e);let r;const i=n.types;for(const o of i){const t=WA(o,e);if(t)if(r){if(!IC(r[0],t,!1,!0,!0,wS))return;r.push(t)}else r=[t]}return r?1===r.length?r[0]:Dd(r[0],r):void 0}function KA(e){const t=ra(e);return 1&t.flags||(t.flags|=1,a(()=>function(e){const t=Sd(e);if(!Pq(t)&&!e.isUnterminated){let r;null!=n||(n=xs(99,!0)),n.setScriptTarget(t.languageVersion),n.setLanguageVariant(t.languageVariant),n.setOnError((e,i,o)=>{const a=n.getTokenEnd();if(3===e.category&&r&&a===r.start&&i===r.length){const n=Xx(t.fileName,t.text,a,i,e,o);uT(r,n)}else r&&a===r.start||(r=ek(t,a,i,e,o),po.add(r))}),n.setText(t.text,e.pos,e.end-e.pos);try{return n.scan(),fn.assert(14===n.reScanSlashToken(!0),"Expected scanner to rescan RegularExpressionLiteral"),!!r}finally{n.setText(""),n.setOnError(void 0)}}return!1}(e))),ar}function GA(e){return 208===e.kind&&!!e.initializer||303===e.kind&&GA(e.initializer)||304===e.kind&&!!e.objectAssignmentInitializer||226===e.kind&&64===e.operatorToken.kind}function XA(e,t,n){const r=e.elements,i=r.length,o=[],a=[];LA(e);const s=th(e),c=yR(e),l=PA(e,void 0),_=function(e){const t=sh(e.parent);return wF(t)&&z_(t.parent)}(e)||!!l&&dF(l,e=>$C(e)||Sp(e)&&!e.nameType&&!!uS(e.target||e));let u=!1;for(let d=0;d<i;d++){const i=r[d];if(230===i.kind){R<Pi.SpreadElements&&aq(i,I.downlevelIteration?1536:1024);const e=IR(i.expression,t,n);if(zC(e))o.push(e),a.push(8);else if(s){const t=Jm(e,Ut)||fB(65,e,Lt,void 0,!1)||Ot;o.push(t),a.push(4)}else o.push(pB(33,e,Lt,i.expression)),a.push(4)}else if(oe&&232===i.kind)u=!0,o.push(Bt),a.push(2);else{const r=vR(i,t,n);if(o.push(pl(r,!0,u)),a.push(u?2:1),_&&t&&2&t&&!(4&t)&&xS(i)){const t=BA(e);fn.assert(t),Qw(t,i,r)}}}return RA(),s?Gv(o,a):QA(n||c||_?Gv(o,a,c&&!(l&&dF(l,qC))):Dv(o.length?Ob(O(o,(e,t)=>8&a[t]?Rx(e,Ut)||wt:e),2):$?dn:jt,c))}function QA(e){if(!(4&xx(e)))return e;let t=e.literalType;return t||(t=e.literalType=ly(e),t.objectFlags|=147456),t}function ZA(e){switch(e.kind){case 167:return function(e){return Kj(YA(e),296)}(e);case 80:return WT(e.escapedText);case 9:case 11:return WT(e.text);default:return!1}}function YA(e){const t=ra(e.expression);if(!t.resolvedType){if((RN(e.parent.parent)||g_(e.parent.parent)||cE(e.parent.parent))&&kF(e.expression)&&103===e.expression.operatorToken.kind&&177!==e.parent.kind&&178!==e.parent.kind)return t.resolvedType=Et;if(t.resolvedType=IR(e.expression),kN(e.parent)&&!Ov(e.parent)&&DF(e.parent.parent)){const t=RP(Op(e.parent.parent));t&&(ra(t).flags|=4096,ra(e).flags|=32768,ra(e.parent.parent).flags|=32768)}(98304&t.resolvedType.flags||!Kj(t.resolvedType,402665900)&&!PS(t.resolvedType,hn))&&Lo(e,ma.A_computed_property_name_must_be_of_type_string_number_symbol_or_any)}return t.resolvedType}function eI(e){var t;const n=null==(t=e.declarations)?void 0:t[0];return WT(e.escapedName)||n&&Nc(n)&&ZA(n.name)}function tI(e){var t;const n=null==(t=e.declarations)?void 0:t[0];return Gh(e)||n&&Nc(n)&&hN(n.name)&&Kj(YA(n.name),4096)}function nI(e){var t;const n=null==(t=e.declarations)?void 0:t[0];return n&&Nc(n)&&hN(n.name)}function rI(e,t,n,r){var i;const o=[];let a;for(let s=t;s<n.length;s++){const e=n[s];(r===Vt&&!tI(e)||r===Ut&&eI(e)||r===an&&tI(e))&&(o.push(w_(n[s])),nI(n[s])&&(a=se(a,null==(i=n[s].declarations)?void 0:i[0])))}return Ih(r,o.length?Ob(o,2):Lt,e,void 0,a)}function iI(e){fn.assert(!!(2097152&e.flags),"Should only get Alias here.");const t=na(e);if(!t.immediateTarget){const n=ba(e);if(!n)return fn.fail();t.immediateTarget=Ra(n,!0)}return t.immediateTarget}function aI(e,t=0){const n=th(e);!function(e,t){const n=new Map;for(const r of e.properties){if(305===r.kind){if(t){const e=_h(r.expression);if(oF(e)||aF(e))return Oq(r.expression,ma.A_rest_element_cannot_contain_a_binding_pattern)}continue}const e=r.name;if(167===e.kind&&hq(e),304===r.kind&&!t&&r.objectAssignmentInitializer&&Oq(r.equalsToken,ma.Did_you_mean_to_use_a_Colon_An_can_only_follow_a_property_name_when_the_containing_object_literal_is_part_of_a_destructuring_pattern),81===e.kind&&Oq(e,ma.Private_identifiers_are_not_allowed_outside_class_bodies),bI(r)&&r.modifiers)for(const t of r.modifiers)!i_(t)||134===t.kind&&174===r.kind||Oq(t,ma._0_modifier_cannot_be_used_here,ep(t));else if(qA(r)&&r.modifiers)for(const t of r.modifiers)i_(t)&&Oq(t,ma._0_modifier_cannot_be_used_here,ep(t));let i;switch(r.kind){case 304:case 303:bq(r.exclamationToken,ma.A_definite_assignment_assertion_is_not_permitted_in_this_context),vq(r.questionToken,ma.An_object_member_cannot_be_declared_optional),9===e.kind&&Mq(e),10===e.kind&&Ro(!0,qp(e,ma.A_bigint_literal_cannot_be_used_as_a_property_name)),i=4;break;case 174:i=8;break;case 177:i=1;break;case 178:i=2;break;default:fn.assertNever(r,"Unexpected syntax kind:"+r.kind)}if(!t){const t=zq(e);if(void 0===t)continue;const r=n.get(t);if(r)if(8&i&&8&r)Oq(e,ma.Duplicate_identifier_0,ep(e));else if(4&i&&4&r)Oq(e,ma.An_object_literal_cannot_have_multiple_properties_with_the_same_name,ep(e));else{if(!(3&i&&3&r))return Oq(e,ma.An_object_literal_cannot_have_property_and_accessor_with_the_same_name);if(3===r||i===r)return Oq(e,ma.An_object_literal_cannot_have_multiple_get_Slashset_accessors_with_the_same_name);n.set(t,i|r)}else n.set(t,i)}}}(e,n);const r=$?Yu():void 0;let i=Yu(),o=[],a=Dn;LA(e);const s=PA(e,void 0),c=s&&s.pattern&&(206===s.pattern.kind||210===s.pattern.kind),l=yR(e),_=l?8:0,d=Om(e)&&!Lm(e),p=d?tl(e):void 0,f=!s&&d&&!p;let m=8192,g=!1,h=!1,y=!1,v=!1;for(const u of e.properties)u.name&&hN(u.name)&&YA(u.name);let b=0;for(const u of e.properties){let f=fs(u);const k=u.name&&167===u.name.kind?YA(u.name):void 0;if(303===u.kind||304===u.kind||Uf(u)){let i=303===u.kind?bR(u,t):304===u.kind?vR(!n&&u.objectAssignmentInitializer?u.objectAssignmentInitializer:u.name,t):xR(u,t);if(d){const e=ll(u);e?(LS(i,e,u),i=e):p&&p.typeExpression&&LS(i,Pk(p.typeExpression),u)}m|=458752&xx(i);const o=k&&dC(k)?k:void 0,a=o?Wo(4|f.flags,pC(o),4096|_):Wo(4|f.flags,f.escapedName,_);if(o&&(a.links.nameType=o),n&&GA(u))a.flags|=16777216;else if(c&&!(512&xx(s))){const e=Gf(s,f.escapedName);e?a.flags|=16777216&e.flags:jm(s,Vt)||Lo(u.name,ma.Object_literal_may_only_specify_known_properties_and_0_does_not_exist_in_type_1,nc(f),oc(s))}if(a.declarations=f.declarations,a.parent=f.parent,f.valueDeclaration&&(a.valueDeclaration=f.valueDeclaration),a.links.type=i,a.links.target=f,f=a,null==r||r.set(a.escapedName,a),s&&2&t&&!(4&t)&&(303===u.kind||174===u.kind)&&xS(u)){const t=BA(e);fn.assert(t),Qw(t,303===u.kind?u.initializer:u,i)}}else{if(305===u.kind){R<Pi.ObjectAssign&&aq(u,2),o.length>0&&(a=_k(a,x(),e.symbol,m,l),o=[],i=Yu(),h=!1,y=!1,v=!1);const n=Nf(IR(u.expression,2&t));if(sI(n)){const t=lk(n,l);if(r&&pI(t,r,u),b=o.length,Hc(a))continue;a=_k(a,t,e.symbol,m,l)}else Lo(u,ma.Spread_types_may_only_be_created_from_object_types),a=Et;continue}fn.assert(177===u.kind||178===u.kind),ZJ(u)}!k||8576&k.flags?i.set(f.escapedName,f):PS(k,hn)&&(PS(k,Ut)?y=!0:PS(k,an)?v=!0:h=!0,n&&(g=!0)),o.push(f)}return RA(),Hc(a)?Et:a!==Dn?(o.length>0&&(a=_k(a,x(),e.symbol,m,l),o=[],i=Yu(),h=!1,y=!1),CF(a,e=>e===Dn?x():e)):x();function x(){const t=[],r=yR(e);h&&t.push(rI(r,b,o,Vt)),y&&t.push(rI(r,b,o,Ut)),v&&t.push(rI(r,b,o,an));const a=Js(e.symbol,i,u,u,t);return a.objectFlags|=131200|m,f&&(a.objectFlags|=4096),g&&(a.objectFlags|=512),n&&(a.pattern=e),a}}function sI(e){const t=fw(CF(e,uf));return!!(126615553&t.flags||3145728&t.flags&&x(t.types,sI))}function cI(e){return e.includes("-")}function lI(e){return tN(e)&&Oy(e.escapedText)||HE(e)}function _I(e,t){return e.initializer?vR(e.initializer,t):Gt}function uI(e,t=0){const n=$?Yu():void 0;let r,i=Yu(),o=Nn,a=!1,s=!1,c=2048;const l=kI(hI(e));let _,d=e;if(!zE(e)){const u=e.attributes;_=u.symbol,d=u;const p=OA(u,0);for(const e of u.properties){const _=e.symbol;if(VE(e)){const r=_I(e,t);c|=458752&xx(r);const o=Wo(4|_.flags,_.escapedName);if(o.declarations=_.declarations,o.parent=_.parent,_.valueDeclaration&&(o.valueDeclaration=_.valueDeclaration),o.links.type=r,o.links.target=_,i.set(o.escapedName,o),null==n||n.set(o.escapedName,o),aC(e.name)===l&&(s=!0),p){const t=Gf(p,_.escapedName);t&&t.declarations&&zo(t)&&tN(e.name)&&Vo(e.name,t.declarations,e.name.escapedText)}if(p&&2&t&&!(4&t)&&xS(e)){const t=BA(u);fn.assert(t),Qw(t,e.initializer.expression,r)}}else{fn.assert(293===e.kind),i.size>0&&(o=_k(o,f(),u.symbol,c,!1),i=Yu());const s=Nf(IR(e.expression,2&t));$c(s)&&(a=!0),sI(s)?(o=_k(o,s,u.symbol,c,!1),n&&pI(s,n,e)):(Lo(e.expression,ma.Spread_types_may_only_be_created_from_object_types),r=r?qb([r,s]):s)}}a||i.size>0&&(o=_k(o,f(),u.symbol,c,!1))}const p=e.parent;if((jE(p)&&p.openingElement===e||JE(p)&&p.openingFragment===e)&&py(p.children).length>0){const n=dI(p,t);if(!a&&l&&""!==l){s&&Lo(d,ma._0_are_specified_twice_The_attribute_named_0_will_be_overwritten,bc(l));const t=ME(e)?PA(e.attributes,void 0):void 0,r=t&&pA(t,l),i=Wo(4,l);i.links.type=1===n.length?n[0]:r&&dF(r,$C)?Gv(n):Dv(Ob(n)),i.valueDeclaration=_w.createPropertySignature(void 0,bc(l),void 0,void 0),IT(i.valueDeclaration,d),i.valueDeclaration.symbol=i;const a=Yu();a.set(l,i),o=_k(o,Js(_,a,u,u,u),_,c,!1)}}return a?wt:r&&o!==Nn?qb([r,o]):r||(o===Nn?f():o);function f(){return c|=8192,function(e,t,n){const r=Js(t,n,u,u,u);return r.objectFlags|=139392|e,r}(c,_,i)}}function dI(e,t){const n=[];for(const r of e.children)if(12===r.kind)r.containsOnlyTriviaWhiteSpaces||n.push(Vt);else{if(294===r.kind&&!r.expression)continue;n.push(vR(r,t))}return n}function pI(e,t,n){for(const r of Fp(e))if(!(16777216&r.flags)){const e=t.get(r.escapedName);e&&uT(Lo(e.valueDeclaration,ma._0_is_specified_more_than_once_so_this_usage_will_be_overwritten,bc(e.escapedName)),qp(n,ma.This_spread_always_overwrites_this_property))}}function fI(e,t){const n=hI(t),r=n&&ls(n),i=r&&oa(r,e,788968);return i?vu(i):Et}function mI(e){const t=ra(e);if(!t.resolvedSymbol){const n=fI(JB.IntrinsicElements,e);if(Hc(n))return te&&Lo(e,ma.JSX_element_implicitly_has_type_any_because_no_interface_JSX_0_exists,bc(JB.IntrinsicElements)),t.resolvedSymbol=bt;{if(!tN(e.tagName)&&!HE(e.tagName))return fn.fail();const r=HE(e.tagName)?lC(e.tagName):e.tagName.escapedText,i=Gf(n,r);if(i)return t.jsxFlags|=1,t.resolvedSymbol=i;const o=pz(n,hk(bc(r)));return o?(t.jsxFlags|=2,t.resolvedSymbol=o):Wc(n,r)?(t.jsxFlags|=2,t.resolvedSymbol=n.symbol):(Lo(e,ma.Property_0_does_not_exist_on_type_1,uC(e.tagName),"JSX."+JB.IntrinsicElements),t.resolvedSymbol=bt)}}return t.resolvedSymbol}function gI(e){const t=e&&Sd(e),n=t&&ra(t);if(n&&!1===n.jsxImplicitImportContainer)return;if(n&&n.jsxImplicitImportContainer)return n.jsxImplicitImportContainer;const r=eS(Yk(I,t),I);if(!r)return;const i=1===Ck(I)?ma.Cannot_find_module_0_Did_you_mean_to_set_the_moduleResolution_option_to_nodenext_or_to_add_aliases_to_the_paths_option:ma.This_JSX_tag_requires_the_module_path_0_to_exist_but_none_could_be_found_Make_sure_you_have_types_for_the_appropriate_package_installed,o=function(e,t){const n=I.importHelpers?1:0,r=null==e?void 0:e.imports[n];return r&&fn.assert(iy(r)&&r.text===t,`Expected sourceFile.imports[${n}] to be the synthesized JSX runtime import`),r}(t,r),a=Ya(o||e,r,i,e),s=a&&a!==bt?ps(Ba(a)):void 0;return n&&(n.jsxImplicitImportContainer=s||!1),s}function hI(e){const t=e&&ra(e);if(t&&t.jsxNamespace)return t.jsxNamespace;if(!t||!1!==t.jsxNamespace){let n=gI(e);if(!n||n===bt){const t=Eo(e);n=ze(e,t,1920,void 0,!1)}if(n){const e=Ba(oa(ls(Ba(n)),JB.JSX,1920));if(e&&e!==bt)return t&&(t.jsxNamespace=e),e}t&&(t.jsxNamespace=!1)}const n=Ba($y(JB.JSX,1920,void 0));return n!==bt?n:void 0}function yI(e,t){const n=t&&oa(t.exports,e,788968),r=n&&vu(n),i=r&&Fp(r);if(i){if(0===i.length)return"";if(1===i.length)return i[0].escapedName;i.length>1&&n.declarations&&Lo(n.declarations[0],ma.The_global_type_JSX_0_may_not_have_more_than_one_property,bc(e))}}function kI(e){return 4===I.jsx||5===I.jsx?"children":yI(JB.ElementChildrenAttributeNameContainer,e)}function TI(e,t){if(4&e.flags)return[si];if(128&e.flags){const n=CI(e,t);return n?[bL(t,n)]:(Lo(t,ma.Property_0_does_not_exist_on_type_1,e.value,"JSX."+JB.IntrinsicElements),u)}const n=Sf(e);let r=Qf(n,1);return 0===r.length&&(r=Qf(n,0)),0===r.length&&1048576&n.flags&&(r=Od(A(n.types,e=>TI(e,t)))),r}function CI(e,t){const n=fI(JB.IntrinsicElements,t);if(!Hc(n)){const t=Gf(n,vc(e.value));if(t)return w_(t);const r=Jm(n,Vt);return r||void 0}return wt}function wI(e){var t;fn.assert(lI(e.tagName));const n=ra(e);if(!n.resolvedJsxElementAttributesType){const r=mI(e);if(1&n.jsxFlags)return n.resolvedJsxElementAttributesType=w_(r)||Et;if(2&n.jsxFlags){const r=HE(e.tagName)?lC(e.tagName):e.tagName.escapedText;return n.resolvedJsxElementAttributesType=(null==(t=$m(fI(JB.IntrinsicElements,e),r))?void 0:t.type)||Et}return n.resolvedJsxElementAttributesType=Et}return n.resolvedJsxElementAttributesType}function DI(e){const t=fI(JB.ElementClass,e);if(!Hc(t))return t}function NI(e){return fI(JB.Element,e)}function FI(e){const t=NI(e);if(t)return Ob([t,zt])}function EI(e){const t=hI(e);if(!t)return;const n=(r=t)&&oa(r.exports,JB.ElementType,788968);var r;if(!n)return;const i=PI(n,Om(e));return i&&!Hc(i)?i:void 0}function PI(e,t,...n){const r=vu(e);if(524288&e.flags){const i=na(e).typeParameters;if(p(i)>=n.length){const o=bg(n,i,n.length,t);return 0===p(o)?r:gy(e,o)}}if(p(r.typeParameters)>=n.length)return cy(r,bg(n,r.typeParameters,n.length,t))}function AI(e){const t=Cu(e);var n;t&&function(e){(function(e){if(sF(e)&&HE(e.expression))return Oq(e.expression,ma.JSX_property_access_expressions_cannot_include_JSX_namespace_names);HE(e)&&Zk(I)&&!Oy(e.namespace.escapedText)&&Oq(e,ma.React_components_cannot_include_JSX_namespace_names)})(e.tagName),fq(e,e.typeArguments);const t=new Map;for(const n of e.attributes.properties){if(293===n.kind)continue;const{name:e,initializer:r}=n,i=aC(e);if(t.get(i))return Oq(e,ma.JSX_elements_cannot_have_multiple_attributes_with_the_same_name);if(t.set(i,!0),r&&294===r.kind&&!r.expression)return Oq(r,ma.JSX_attributes_must_only_be_assigned_a_non_empty_expression)}}(e),n=e,0===(I.jsx||0)&&Lo(n,ma.Cannot_use_JSX_unless_the_jsx_flag_is_provided),void 0===NI(n)&&te&&Lo(n,ma.JSX_element_implicitly_has_type_any_because_the_global_type_JSX_Element_does_not_exist),hP(e);const r=TL(e);if(NL(r,e),t){const t=e,n=EI(t);if(void 0!==n){const e=t.tagName;gT(lI(e)?hk(uC(e)):IR(e),n,yo,e,ma.Its_type_0_is_not_a_valid_JSX_element_type,()=>{const t=ep(e);return ik(void 0,ma._0_cannot_be_used_as_a_JSX_component,t)})}else!function(e,t,n){if(1===e){const e=FI(n);e&&gT(t,e,yo,n.tagName,ma.Its_return_type_0_is_not_a_valid_JSX_element,r)}else if(0===e){const e=DI(n);e&&gT(t,e,yo,n.tagName,ma.Its_instance_type_0_is_not_a_valid_JSX_element,r)}else{const e=FI(n),i=DI(n);if(!e||!i)return;gT(t,Ob([e,i]),yo,n.tagName,ma.Its_element_type_0_is_not_a_valid_JSX_element,r)}function r(){const e=ep(n.tagName);return ik(void 0,ma._0_cannot_be_used_as_a_JSX_component,e)}}(QO(t),zg(r),t)}}function II(e,t,n){if(524288&e.flags&&(Dp(e,t)||$m(e,t)||nd(t)&&jm(e,Vt)||n&&cI(t)))return!0;if(33554432&e.flags)return II(e.baseType,t,n);if(3145728&e.flags&&OI(e))for(const r of e.types)if(II(r,t,n))return!0;return!1}function OI(e){return!!(524288&e.flags&&!(512&xx(e))||67108864&e.flags||33554432&e.flags&&OI(e.baseType)||1048576&e.flags&&K(e.types,OI)||2097152&e.flags&&x(e.types,OI))}function LI(e,t){if(function(e){e.expression&&yA(e.expression)&&Oq(e.expression,ma.JSX_expressions_may_not_use_the_comma_operator_Did_you_mean_to_write_an_array)}(e),e.expression){const n=IR(e.expression,t);return e.dotDotDotToken&&n!==wt&&!jC(n)&&Lo(e,ma.JSX_spread_child_must_be_an_array_type),n}return Et}function jI(e){return e.valueDeclaration?Vq(e.valueDeclaration):0}function RI(e){if(8192&e.flags||4&cx(e))return!0;if(Om(e.valueDeclaration)){const t=e.valueDeclaration.parent;return t&&kF(t)&&3===og(t)}}function MI(e,t,n,r,i,o=!0){return BI(e,t,n,r,i,o?166===e.kind?e.right:205===e.kind?e:208===e.kind&&e.propertyName?e.propertyName:e.name:void 0)}function BI(e,t,n,r,i,o){var a;const s=lx(i,n);if(t){if(R<2&&JI(i))return o&&Lo(o,ma.Only_public_and_protected_methods_of_the_base_class_are_accessible_via_the_super_keyword),!1;if(64&s)return o&&Lo(o,ma.Abstract_method_0_in_class_1_cannot_be_accessed_via_super_expression,nc(i),oc(gC(i))),!1;if(!(256&s)&&(null==(a=i.declarations)?void 0:a.some(v_)))return o&&Lo(o,ma.Class_field_0_defined_by_the_parent_class_is_not_accessible_in_the_child_class_via_super,nc(i)),!1}if(64&s&&JI(i)&&(um(e)||pm(e)||nF(e.parent)&&dm(e.parent.parent))){const t=bx(gs(i));if(t&&gc(e,e=>!!(wN(e)&&Ad(e.body)||kN(e))||!(!g_(e)&&!__(e))&&"quit"))return o&&Lo(o,ma.Abstract_property_0_in_class_1_cannot_be_accessed_in_the_constructor,nc(i),$h(t.name)),!1}if(!(6&s))return!0;if(2&s)return!!_z(e,bx(gs(i)))||(o&&Lo(o,ma.Property_0_is_private_and_only_accessible_within_class_1,nc(i),oc(gC(i))),!1);if(t)return!0;let c=lz(e,e=>vC(vu(fs(e)),i,n));return!c&&(c=function(e){const t=function(e){const t=im(e,!1,!1);return t&&c_(t)?uv(t):void 0}(e);let n=(null==t?void 0:t.type)&&Pk(t.type);if(n)262144&n.flags&&(n=Bp(n));else{const t=im(e,!1,!1);c_(t)&&(n=tA(t))}if(n&&7&xx(n))return A_(n)}(e),c=c&&vC(c,i,n),256&s||!c)?(o&&Lo(o,ma.Property_0_is_protected_and_only_accessible_within_class_1_and_its_subclasses,nc(i),oc(gC(i)||r)),!1):!!(256&s)||(262144&r.flags&&(r=r.isThisType?Bp(r):_f(r)),!(!r||!I_(r,c))||(o&&Lo(o,ma.Property_0_is_protected_and_only_accessible_through_an_instance_of_class_1_This_is_an_instance_of_class_2,nc(i),oc(c),oc(r)),!1))}function JI(e){return!!_C(e,e=>!(8192&e.flags))}function zI(e){return HI(IR(e),e)}function qI(e){return ZD(e,50331648)}function VI(e){return qI(e)?vw(e):e}function UI(e,t){const n=ub(e)?zp(e):void 0;if(106!==e.kind)if(void 0!==n&&n.length<100){if(tN(e)&&"undefined"===n)return void Lo(e,ma.The_value_0_cannot_be_used_here,"undefined");Lo(e,16777216&t?33554432&t?ma._0_is_possibly_null_or_undefined:ma._0_is_possibly_undefined:ma._0_is_possibly_null,n)}else Lo(e,16777216&t?33554432&t?ma.Object_is_possibly_null_or_undefined:ma.Object_is_possibly_undefined:ma.Object_is_possibly_null);else Lo(e,ma.The_value_0_cannot_be_used_here,"null")}function WI(e,t){Lo(e,16777216&t?33554432&t?ma.Cannot_invoke_an_object_which_is_possibly_null_or_undefined:ma.Cannot_invoke_an_object_which_is_possibly_undefined:ma.Cannot_invoke_an_object_which_is_possibly_null)}function $I(e,t,n){if($&&2&e.flags){if(ub(t)){const e=zp(t);if(e.length<100)return Lo(t,ma._0_is_of_type_unknown,e),Et}return Lo(t,ma.Object_is_of_type_unknown),Et}const r=QD(e,50331648);if(50331648&r){n(t,r);const i=vw(e);return 229376&i.flags?Et:i}return e}function HI(e,t){return $I(e,t,UI)}function XI(e,t){const n=HI(e,t);if(16384&n.flags){if(ub(t)){const e=zp(t);if(tN(t)&&"undefined"===e)return Lo(t,ma.The_value_0_cannot_be_used_here,e),n;if(e.length<100)return Lo(t,ma._0_is_possibly_undefined,e),n}Lo(t,ma.Object_is_possibly_undefined)}return n}function QI(e,t,n){return 64&e.flags?function(e,t){const n=IR(e.expression),r=Sw(n,e.expression);return kw(sO(e,e.expression,HI(r,e.expression),e.name,t),e,r!==n)}(e,t):sO(e,e.expression,zI(e.expression),e.name,t,n)}function ZI(e,t){const n=wm(e)&&pv(e.left)?HI(HP(e.left),e.left):zI(e.left);return sO(e,e.left,n,e.right,t)}function eO(e){for(;217===e.parent.kind;)e=e.parent;return z_(e.parent)&&e.parent.expression===e}function nO(e,t){for(let n=rm(t);n;n=em(n)){const{symbol:t}=n,r=Kh(t,e),i=t.members&&t.members.get(r)||t.exports&&t.exports.get(r);if(i)return i}}function rO(e){!function(e){if(!em(e))return Oq(e,ma.Private_identifiers_are_not_allowed_outside_class_bodies);if(!HF(e.parent)){if(!Tm(e))return Oq(e,ma.Private_identifiers_are_only_allowed_in_class_bodies_and_may_only_be_used_as_part_of_a_class_member_declaration_property_access_or_on_the_left_hand_side_of_an_in_expression);const t=kF(e.parent)&&103===e.parent.operatorToken.kind;iO(e)||t||Oq(e,ma.Cannot_find_name_0,xc(e))}}(e);const t=iO(e);return t&&SO(t,void 0,!1),wt}function iO(e){if(!Tm(e))return;const t=ra(e);return void 0===t.resolvedSymbol&&(t.resolvedSymbol=nO(e.escapedText,e)),t.resolvedSymbol}function oO(e,t){return Gf(e,t.escapedName)}function aO(e,t){return(vl(t)||um(e)&&bl(t))&&im(e,!0,!1)===wl(t)}function sO(e,t,n,r,i,o){const a=ra(t).resolvedSymbol,s=eh(e),c=Sf(0!==s||eO(e)?Bw(n):n),l=$c(c)||c===un;let _,u;if(nN(r)){(R<Pi.PrivateNamesAndClassStaticBlocks||R<Pi.ClassAndClassElementDecorators||!J)&&(0!==s&&aq(e,1048576),1!==s&&aq(e,524288));const t=nO(r.escapedText,r);if(s&&t&&t.valueDeclaration&&TN(t.valueDeclaration)&&Oq(r,ma.Cannot_assign_to_private_method_0_Private_methods_are_not_writable,xc(r)),l){if(t)return Hc(c)?Et:c;if(void 0===rm(r))return Oq(r,ma.Private_identifiers_are_not_allowed_outside_class_bodies),wt}if(_=t&&oO(n,t),void 0===_){if(function(e,t,n){let r;const i=Fp(e);i&&f(i,e=>{const n=e.valueDeclaration;if(n&&Nc(n)&&nN(n.name)&&n.name.escapedText===t.escapedText)return r=e,!0});const o=da(t);if(r){const i=fn.checkDefined(r.valueDeclaration),a=fn.checkDefined(em(i));if(null==n?void 0:n.valueDeclaration){const r=n.valueDeclaration,s=em(r);if(fn.assert(!!s),gc(s,e=>a===e))return uT(Lo(t,ma.The_property_0_cannot_be_accessed_on_type_1_within_this_class_because_it_is_shadowed_by_another_private_identifier_with_the_same_spelling,o,oc(e)),qp(r,ma.The_shadowing_declaration_of_0_is_defined_here,o),qp(i,ma.The_declaration_of_0_that_you_probably_intended_to_use_is_defined_here,o)),!0}return Lo(t,ma.Property_0_is_not_accessible_outside_class_1_because_it_has_a_private_identifier,o,da(a.name||UB)),!0}return!1}(n,r,t))return Et;const e=rm(r);e&&Cd(Sd(e),I.checkJs)&&Oq(r,ma.Private_field_0_must_be_declared_in_an_enclosing_class,xc(r))}else 65536&_.flags&&!(32768&_.flags)&&1!==s&&Lo(e,ma.Private_accessor_was_defined_without_a_getter)}else{if(l)return tN(t)&&a&&lP(e,2,void 0,n),Hc(c)?Et:c;_=Gf(c,r.escapedText,Xj(c),166===e.kind)}if(lP(e,2,_,n),_){const n=JJ(_,r);if(zo(n)&&mx(e,n)&&n.declarations&&Vo(r,n.declarations,r.escapedText),function(e,t,n){const{valueDeclaration:r}=e;if(!r||Sd(t).isDeclarationFile)return;let i;const o=xc(n);!dO(t)||function(e){return kN(e)&&!Mv(e)&&e.questionToken}(r)||Nx(t)&&Nx(t.expression)||aa(r,n)||TN(r)&&256&qq(r)||!J&&function(e){if(!(32&e.parent.flags))return!1;let t=w_(e.parent);for(;;){if(t=t.symbol&&pO(t),!t)return!1;const n=Gf(t,e.escapedName);if(n&&n.valueDeclaration)return!0}}(e)?263!==r.kind||183===t.parent.kind||33554432&r.flags||aa(r,n)||(i=Lo(n,ma.Class_0_used_before_its_declaration,o)):i=Lo(n,ma.Property_0_is_used_before_its_initialization,o),i&&uT(i,qp(r,ma._0_is_declared_here,o))}(_,e,r),SO(_,e,TO(t,a)),ra(e).resolvedSymbol=_,MI(e,108===t.kind,px(e),c,_),zj(e,_,s))return Lo(r,ma.Cannot_assign_to_0_because_it_is_a_read_only_property,xc(r)),Et;u=aO(e,_)?Dt:o||dx(e)?S_(_):w_(_)}else{const t=nN(r)||0!==s&&Cx(n)&&!HT(n)?void 0:$m(c,r.escapedText);if(!t||!t.type){const t=cO(e,n.symbol,!0);return!t&&_x(n)?wt:n.symbol===Ne?(Ne.exports.has(r.escapedText)&&418&Ne.exports.get(r.escapedText).flags?Lo(r,ma.Property_0_does_not_exist_on_type_1,bc(r.escapedText),oc(n)):te&&Lo(r,ma.Element_implicitly_has_an_any_type_because_type_0_has_no_index_signature,oc(n)),wt):(r.escapedText&&!fa(e)&&fO(r,HT(n)?c:n,t),Et)}t.isReadonly&&(th(e)||uh(e))&&Lo(e,ma.Index_signature_in_type_0_only_permits_reading,oc(c)),u=t.type,I.noUncheckedIndexedAccess&&1!==eh(e)&&(u=Ob([u,Rt])),I.noPropertyAccessFromIndexSignature&&sF(e)&&Lo(r,ma.Property_0_comes_from_an_index_signature_so_it_must_be_accessed_with_0,bc(r.escapedText)),t.declaration&&qo(t.declaration)&&Vo(r,[t.declaration],r.escapedText)}return uO(e,_,u,r,i)}function cO(e,t,n){var r;const i=Sd(e);if(i&&void 0===I.checkJs&&void 0===i.checkJsDirective&&(1===i.scriptKind||2===i.scriptKind)){const o=f(null==t?void 0:t.declarations,Sd),a=!(null==t?void 0:t.valueDeclaration)||!g_(t.valueDeclaration)||(null==(r=t.valueDeclaration.heritageClauses)?void 0:r.length)||bm(!1,t.valueDeclaration);return!(i!==o&&o&&nf(o)||n&&t&&32&t.flags&&a||e&&n&&sF(e)&&110===e.expression.kind&&a)}return!1}function uO(e,t,n,r,i){const o=eh(e);if(1===o)return Tw(n,!!(t&&16777216&t.flags));if(t&&!(98311&t.flags)&&!(8192&t.flags&&1048576&n.flags)&&!KJ(t.declarations))return n;if(n===Dt)return Fl(e,t);n=sP(n,e,i);let a=!1;if($&&Q&&Nx(e)&&110===e.expression.kind){const n=t&&t.valueDeclaration;if(n&&wJ(n)&&!Iv(n)){const t=kE(e);176!==t.kind||t.parent!==n.parent||33554432&n.flags||(a=!0)}}else $&&t&&t.valueDeclaration&&sF(t.valueDeclaration)&&mg(t.valueDeclaration)&&kE(e)===kE(t.valueDeclaration)&&(a=!0);const s=bE(e,n,a?yw(n):n);return a&&!YS(n)&&YS(s)?(Lo(r,ma.Property_0_is_used_before_being_assigned,nc(t)),n):o?YC(s):s}function dO(e){return!!gc(e,e=>{switch(e.kind){case 172:return!0;case 303:case 174:case 177:case 178:case 305:case 167:case 239:case 294:case 291:case 292:case 293:case 286:case 233:case 298:return!1;case 219:case 244:return!(!BF(e.parent)||!CN(e.parent.parent))||"quit";default:return!Tm(e)&&"quit"}})}function pO(e){const t=iu(e);if(0!==t.length)return qb(t)}function fO(e,t,n){const r=ra(e),i=r.nonExistentPropCheckCache||(r.nonExistentPropCheckCache=new Set),o=`${Tb(t)}|${n}`;if(i.has(o))return;let a,s;if(i.add(o),!nN(e)&&1048576&t.flags&&!(402784252&t.flags))for(const l of t.types)if(!Gf(l,e.escapedText)&&!$m(l,e.escapedText)){a=ik(a,ma.Property_0_does_not_exist_on_type_1,jp(e),oc(l));break}if(mO(e.escapedText,t)){const n=jp(e),r=oc(t);a=ik(a,ma.Property_0_does_not_exist_on_type_1_Did_you_mean_to_access_the_static_member_2_instead,n,r,r+"."+n)}else{const r=aM(t);if(r&&Gf(r,e.escapedText))a=ik(a,ma.Property_0_does_not_exist_on_type_1,jp(e),oc(t)),s=qp(e,ma.Did_you_forget_to_use_await);else{const r=jp(e),i=oc(t),o=function(e,t){const n=Sf(t).symbol;if(!n)return;const r=Sc(n),i=op().get(r);if(i)for(const[o,a]of i)if(w(a,e))return o}(r,t);if(void 0!==o)a=ik(a,ma.Property_0_does_not_exist_on_type_1_Do_you_need_to_change_your_target_library_Try_changing_the_lib_compiler_option_to_2_or_later,r,i,o);else{const o=hO(e,t);if(void 0!==o){const e=Sc(o);a=ik(a,n?ma.Property_0_may_not_exist_on_type_1_Did_you_mean_2:ma.Property_0_does_not_exist_on_type_1_Did_you_mean_2,r,i,e),s=o.valueDeclaration&&qp(o.valueDeclaration,ma._0_is_declared_here,e)}else{const e=function(e){return I.lib&&!I.lib.includes("dom")&&(n=e=>e.symbol&&/^(?:EventTarget|Node|(?:HTML[a-zA-Z]*)?Element)$/.test(bc(e.symbol.escapedName)),3145728&(t=e).flags?x(t.types,n):n(t))&&QS(e);var t,n}(t)?ma.Property_0_does_not_exist_on_type_1_Try_changing_the_lib_compiler_option_to_include_dom:ma.Property_0_does_not_exist_on_type_1;a=ik(Kf(a,t),e,r,i)}}}}const c=Wp(Sd(e),e,a);s&&uT(c,s),Ro(!n||a.code!==ma.Property_0_may_not_exist_on_type_1_Did_you_mean_2.code,c)}function mO(e,t){const n=t.symbol&&Gf(w_(t.symbol),e);return void 0!==n&&!!n.valueDeclaration&&Iv(n.valueDeclaration)}function gO(e,t){return kO(e,Fp(t),106500)}function hO(e,t){let n=Fp(t);if("string"!=typeof e){const r=e.parent;sF(r)&&(n=F(n,e=>CO(r,t,e))),e=xc(e)}return kO(e,n,111551)}function yO(e,t){const n=nt(e)?e:xc(e),r=Fp(t),i="for"===n?k(r,e=>"htmlFor"===Sc(e)):"class"===n?k(r,e=>"className"===Sc(e)):void 0;return null!=i?i:kO(n,r,111551)}function vO(e,t){const n=hO(e,t);return n&&Sc(n)}function bO(e,t,n){return fn.assert(void 0!==t,"outername should always be defined"),Ue(e,t,n,void 0,!1,!1)}function xO(e,t){return t.exports&&kO(xc(e),as(t),2623475)}function kO(e,t,n){return Mt(e,t,function(e){const t=Sc(e);if(!Zt(t,'"')){if(e.flags&n)return t;if(2097152&e.flags){const r=function(e){if(na(e).aliasTarget!==xt)return Ja(e)}(e);if(r&&r.flags&n)return t}}})}function SO(e,t,n){const r=e&&106500&e.flags&&e.valueDeclaration;if(!r)return;const i=Pv(r,2),o=e.valueDeclaration&&Nc(e.valueDeclaration)&&nN(e.valueDeclaration.name);if((i||o)&&(!t||!dx(t)||65536&e.flags)){if(n){const n=gc(t,__);if(n&&n.symbol===e)return}(1&cx(e)?na(e).target:e).isReferenced=-1}}function TO(e,t){return 110===e.kind||!!t&&ub(e)&&t===PD(db(e))}function CO(e,t,n){return DO(e,211===e.kind&&108===e.expression.kind,!1,t,n)}function wO(e,t,n,r){if($c(r))return!0;const i=Gf(r,n);return!!i&&DO(e,t,!1,r,i)}function DO(e,t,n,r,i){if($c(r))return!0;if(i.valueDeclaration&&Yl(i.valueDeclaration)){const t=em(i.valueDeclaration);return!kl(e)&&!!gc(e,e=>e===t)}return BI(e,t,n,r,i)}function NO(e){const t=e.initializer;if(261===t.kind){const e=t.declarations[0];if(e&&!D_(e.name))return fs(e)}else if(80===t.kind)return PD(t)}function FO(e){return 1===Am(e).length&&!!jm(e,Ut)}function EO(e,t){return 64&e.flags?function(e,t){const n=IR(e.expression),r=Sw(n,e.expression);return kw(PO(e,HI(r,e.expression),t),e,r!==n)}(e,t):PO(e,zI(e.expression),t)}function PO(e,t,n){const r=0!==eh(e)||eO(e)?Bw(t):t,i=e.argumentExpression,o=IR(i);if(Hc(r)||r===un)return r;if(Xj(r)&&!zu(i))return Lo(i,ma.A_const_enum_member_can_only_be_accessed_using_a_string_literal),Et;const a=function(e){const t=_h(e);if(80===t.kind){const n=PD(t);if(3&n.flags){let t=e,r=e.parent;for(;r;){if(249===r.kind&&t===r.statement&&NO(r)===n&&FO(ER(r.expression)))return!0;t=r,r=r.parent}}}return!1}(i)?Ut:o,s=eh(e);let c;0===s?c=32:(c=4|(Cx(r)&&!HT(r)?2:0),2===s&&(c|=32));const l=Rx(r,a,c,e)||Et;return ZR(uO(e,ra(e).resolvedSymbol,l,i,n),e)}function AO(e){return z_(e)||uF(e)||Cu(e)}function IO(e){return AO(e)&&f(e.typeArguments,GJ),215===e.kind?IR(e.template):Cu(e)?IR(e.attributes):kF(e)?IR(e.left):z_(e)&&f(e.arguments,e=>{IR(e)}),si}function OO(e){return IO(e),ci}function LO(e){return!!e&&(230===e.kind||237===e.kind&&e.isSpread)}function jO(e){return T(e,LO)}function RO(e){return!!(16384&e.flags)}function MO(e){return!!(49155&e.flags)}function BO(e,t,n,r=!1){if(zE(e))return!0;let i,o=!1,a=ij(n),s=oj(n);if(215===e.kind)if(i=t.length,228===e.template.kind){const t=ke(e.template.templateSpans);o=Pd(t.literal)||!!t.literal.isUnterminated}else{const t=e.template;fn.assert(15===t.kind),o=!!t.isUnterminated}else if(170===e.kind)i=rL(e,n);else if(226===e.kind)i=1;else if(Cu(e)){if(o=e.attributes.end===e.end,o)return!0;i=0===s?t.length:1,a=0===t.length?a:1,s=Math.min(s,1)}else{if(!e.arguments)return fn.assert(214===e.kind),0===oj(n);{i=r?t.length+1:t.length,o=e.arguments.end===e.end;const a=jO(t);if(a>=0)return a>=oj(n)&&(aj(n)||a<ij(n))}}if(!aj(n)&&i>a)return!1;if(o||i>=s)return!0;for(let c=i;c<s;c++)if(131072&yF(ej(n,c),Om(e)&&!$?MO:RO).flags)return!1;return!0}function JO(e,t){const n=p(e.typeParameters),r=yg(e.typeParameters);return!K(t)||t.length>=r&&t.length<=n}function zO(e,t){let n;return!!(e.target&&(n=tj(e.target,t))&&Tx(n))}function qO(e){return UO(e,0,!1)}function VO(e){return UO(e,0,!1)||UO(e,1,!1)}function UO(e,t,n){if(524288&e.flags){const r=Cp(e);if(n||0===r.properties.length&&0===r.indexInfos.length){if(0===t&&1===r.callSignatures.length&&0===r.constructSignatures.length)return r.callSignatures[0];if(1===t&&1===r.constructSignatures.length&&0===r.callSignatures.length)return r.constructSignatures[0]}}}function WO(e,t,n,r){const i=$w(fh(e),e,0,r),o=sj(t),a=n&&(o&&262144&o.flags?n.nonFixingMapper:n.mapper);return Uw(a?sS(t,a):t,e,(e,t)=>{bD(i.inferences,e,t)}),n||Ww(t,e,(e,t)=>{bD(i.inferences,e,t,128)}),Yg(e,FD(i),Om(t.declaration))}function $O(e){if(!e)return cn;const t=IR(e);return xb(e)?t:Sl(e.parent)?vw(t):kl(e.parent)?xw(t):t}function HO(e,t,n,r,i){if(Cu(e))return function(e,t,n,r){const i=JA(t,e),o=_R(e.attributes,i,r,n);return bD(r.inferences,o,i),FD(r)}(e,t,r,i);if(170!==e.kind&&226!==e.kind){const n=x(t.typeParameters,e=>!!yf(e)),r=OA(e,n?8:0);if(r){const o=zg(t);if(nD(o)){const a=BA(e);if(n||OA(e,8)===r){const e=tD(function(e,t=0){return e&&Gw(A(e.inferences,eD),e.signature,e.flags|t,e.compareTypes)}(a,1)),t=gS(r,e),n=qO(t),s=n&&n.typeParameters?Eh(rh(n,n.typeParameters)):t;bD(i.inferences,s,o,128)}const s=$w(t.typeParameters,t,i.flags),c=gS(r,a&&a.returnMapper);bD(s.inferences,c,o),i.returnMapper=K(s.inferences,TR)?tD(function(e){const t=F(e.inferences,TR);return t.length?Gw(A(t,eD),e.signature,e.flags,e.compareTypes):void 0}(s)):void 0}}}const o=cj(t),a=o?Math.min(ij(t)-1,n.length):n.length;if(o&&262144&o.flags){const e=k(i.inferences,e=>e.typeParameter===o);e&&(e.impliedArity=T(n,LO,a)<0?n.length-a:void 0)}const s=Lg(t);if(s&&nD(s)){const t=eL(e);bD(i.inferences,$O(t),s)}for(let c=0;c<a;c++){const e=n[c];if(232!==e.kind){const n=ej(t,c);if(nD(n)){const t=_R(e,n,i,r);bD(i.inferences,t,n)}}}if(o&&nD(o)){const e=GO(n,a,n.length,o,i,r);bD(i.inferences,e,o)}return FD(i)}function KO(e){return 1048576&e.flags?CF(e,KO):1&e.flags||BC(_f(e)||e)?e:ow(e)?Gv(Sb(e),e.target.elementFlags,!1,e.target.labeledElementDeclarations):Gv([e],[8])}function GO(e,t,n,r,i,o){const a=Up(r);if(t>=n-1){const t=e[n-1];if(LO(t)){const e=237===t.kind?t.type:_R(t.expression,r,i,o);return zC(e)?KO(e):Dv(pB(33,e,Lt,230===t.kind?t.expression:t),a)}}const s=[],c=[],l=[];for(let _=t;_<n;_++){const u=e[_];if(LO(u)){const e=237===u.kind?u.type:IR(u.expression);zC(e)?(s.push(e),c.push(8)):(s.push(pB(33,e,Lt,230===u.kind?u.expression:u)),c.push(4))}else{const e=ow(r)?wA(r,_-t,n-t)||Ot:Lx(r,yk(_-t),256),l=_R(u,e,i,o),d=a||Hj(e,406978556);s.push(d?mk(l):tw(l)),c.push(1)}237===u.kind&&u.tupleNameSource?l.push(u.tupleNameSource):l.push(void 0)}return Gv(s,c,a&&!dF(r,qC),l)}function XO(e,t,n,r){const i=Om(e.declaration),o=e.typeParameters,a=bg(A(t,Pk),o,yg(o),i);let s;for(let c=0;c<t.length;c++){fn.assert(void 0!==o[c],"Should not call checkTypeArguments with too many type arguments");const e=Bp(o[c]);if(e){const i=n&&r?()=>ik(void 0,ma.Type_0_does_not_satisfy_the_constraint_1):void 0,l=r||ma.Type_0_does_not_satisfy_the_constraint_1;s||(s=Vk(o,a));const _=a[c];if(!LS(_,yd(gS(e,s),_),n?t[c]:void 0,l,i))return}}return a}function QO(e){if(lI(e.tagName))return 2;const t=Sf(IR(e.tagName));return p(Qf(t,1))?0:p(Qf(t,0))?1:2}function ZO(e){return kA(e,Om(e)?-2147483615:33)}function YO(e,t,n,r,i,o,a,s){const c={errors:void 0,skipLogging:!0};if(wu(e))return function(e,t,n,r,i,o,a){const s=JA(t,e),c=zE(e)?uI(e):_R(e.attributes,s,void 0,r),l=4&r?Aw(c):c;return function(){var t;if(gI(e))return!0;const n=!ME(e)&&!RE(e)||lI(e.tagName)||HE(e.tagName)?void 0:IR(e.tagName);if(!n)return!0;const r=Qf(n,0);if(!p(r))return!0;const o=nq(e);if(!o)return!0;const s=Ka(o,111551,!0,!1,e);if(!s)return!0;const c=Qf(w_(s),0);if(!p(c))return!0;let l=!1,_=0;for(const e of c){const t=Qf(ej(e,0),0);if(p(t))for(const e of t){if(l=!0,aj(e))return!0;const t=ij(e);t>_&&(_=t)}}if(!l)return!0;let u=1/0;for(const e of r){const t=oj(e);t<u&&(u=t)}if(u<=_)return!0;if(i){const n=e.tagName,r=qp(n,ma.Tag_0_expects_at_least_1_arguments_but_the_JSX_factory_2_provides_at_most_3,zp(n),u,zp(o),_),i=null==(t=gz(n))?void 0:t.valueDeclaration;i&&uT(r,qp(i,ma._0_is_declared_here,zp(n))),a&&a.skipLogging&&(a.errors||(a.errors=[])).push(r),a.skipLogging||po.add(r)}return!1}()&&RS(l,s,n,i?zE(e)?e:e.tagName:void 0,zE(e)?void 0:e.attributes,void 0,o,a)}(e,n,r,i,o,a,c)?void 0:(fn.assert(!o||!!c.errors,"jsx should have errors when reporting errors"),c.errors||u);const l=Lg(n);if(l&&l!==cn&&!(_F(e)||lF(e)&&_m(e.expression))){const t=eL(e),n=$O(t),i=o?t||e:void 0,s=ma.The_this_context_of_type_0_is_not_assignable_to_method_s_this_of_type_1;if(!gT(n,l,r,i,s,a,c))return fn.assert(!o||!!c.errors,"this parameter should have errors when reporting errors"),c.errors||u}const _=ma.Argument_of_type_0_is_not_assignable_to_parameter_of_type_1,d=cj(n),f=d?Math.min(ij(n)-1,t.length):t.length;for(let p=0;p<f;p++){const e=t[p];if(232!==e.kind){const t=ej(n,p),l=_R(e,t,void 0,i),d=4&i?Aw(l):l,f=s?gS(d,s.nonFixingMapper):d,g=ZO(e);if(!RS(f,t,r,o?g:void 0,g,_,a,c))return fn.assert(!o||!!c.errors,"parameter should have errors when reporting errors"),m(e,f,t),c.errors||u}}if(d){const n=GO(t,f,t.length,d,void 0,i),a=t.length-f,s=o?0===a?e:1===a?ZO(t[f]):ET(tL(e,n),t[f].pos,t[t.length-1].end):void 0;if(!gT(n,d,r,s,_,void 0,c))return fn.assert(!o||!!c.errors,"rest parameter should have errors when reporting errors"),m(s,n,d),c.errors||u}return;function m(e,t,n){if(e&&o&&c.errors&&c.errors.length){if(oM(n))return;const i=oM(t);i&&iT(i,n,r)&&uT(c.errors[0],qp(e,ma.Did_you_forget_to_use_await))}}}function eL(e){if(226===e.kind)return e.right;const t=213===e.kind?e.expression:215===e.kind?e.tag:170!==e.kind||B?void 0:e.expression;if(t){const e=kA(t);if(Nx(e))return e.expression}}function tL(e,t,n,r){const i=SI.createSyntheticExpression(t,n,r);return vI(i,e),IT(i,e),i}function nL(e){if(zE(e))return[tL(e,Fn)];if(215===e.kind){const t=e.template,n=[tL(t,Or||(Or=Hy("TemplateStringsArray",0,!0)||Dn))];return 228===t.kind&&f(t.templateSpans,e=>{n.push(e.expression)}),n}if(170===e.kind)return function(e){const t=e.expression,n=Cj(e);if(n){const e=[];for(const r of n.parameters){const n=w_(r);e.push(tL(t,n))}return e}return fn.fail()}(e);if(226===e.kind)return[e.left];if(Cu(e))return e.attributes.properties.length>0||ME(e)&&e.parent.children.length>0?[e.attributes]:u;const t=e.arguments||u,n=jO(t);if(n>=0){const e=t.slice(0,n);for(let r=n;r<t.length;r++){const n=t[r],i=230===n.kind&&(Si?IR(n.expression):uR(n.expression));i&&ow(i)?f(Sb(i),(t,r)=>{var o;const a=i.target.elementFlags[r],s=tL(n,4&a?Dv(t):t,!!(12&a),null==(o=i.target.labeledElementDeclarations)?void 0:o[r]);e.push(s)}):e.push(n)}return e}return t}function rL(e,t){return I.experimentalDecorators?function(e,t){switch(e.parent.kind){case 263:case 231:return 1;case 172:return Mv(e.parent)?3:2;case 174:case 177:case 178:return t.parameters.length<=2?2:3;case 169:return 3;default:return fn.fail()}}(e,t):Math.min(Math.max(ij(t),1),2)}function iL(e){const t=Sd(e),{start:n,length:r}=tf(t,sF(e.expression)?e.expression.name:e.expression);return{start:n,length:r,sourceFile:t}}function oL(e,t,...n){if(lF(e)){const{sourceFile:r,start:i,length:o}=iL(e);return"message"in t?ek(r,i,o,t,...n):Gp(r,t)}return"message"in t?qp(e,t,...n):Wp(Sd(e),e,t)}function aL(e,t,n,r){var i;const o=jO(n);if(o>-1)return qp(n[o],ma.A_spread_argument_must_either_have_a_tuple_type_or_be_passed_to_a_rest_parameter);let a,s=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY,_=Number.POSITIVE_INFINITY;for(const m of t){const e=oj(m),t=ij(m);e<s&&(s=e,a=m),c=Math.max(c,t),e<n.length&&e>l&&(l=e),n.length<t&&t<_&&(_=t)}const u=K(t,aj),d=u?s:s<c?s+"-"+c:s,p=!u&&1===d&&0===n.length&&function(e){if(!lF(e)||!tN(e.expression))return!1;const t=ze(e.expression,e.expression.escapedText,111551,void 0,!1),n=null==t?void 0:t.valueDeclaration;if(!(n&&vN(n)&&VT(n.parent)&&_F(n.parent.parent)&&tN(n.parent.parent.expression)))return!1;const r=iv(!1);return!!r&&gz(n.parent.parent.expression,!0)===r}(e);if(p&&Om(e))return oL(e,ma.Expected_1_argument_but_got_0_new_Promise_needs_a_JSDoc_hint_to_produce_a_resolve_that_can_be_called_without_arguments);const f=bN(e)?u?ma.The_runtime_will_invoke_the_decorator_with_1_arguments_but_the_decorator_expects_at_least_0:ma.The_runtime_will_invoke_the_decorator_with_1_arguments_but_the_decorator_expects_0:u?ma.Expected_at_least_0_arguments_but_got_1:p?ma.Expected_0_arguments_but_got_1_Did_you_forget_to_include_void_in_your_type_argument_to_Promise:ma.Expected_0_arguments_but_got_1;if(s<n.length&&n.length<c){if(r){let t=ik(void 0,ma.No_overload_expects_0_arguments_but_overloads_do_exist_that_expect_either_1_or_2_arguments,n.length,l,_);return t=ik(t,r),oL(e,t)}return oL(e,ma.No_overload_expects_0_arguments_but_overloads_do_exist_that_expect_either_1_or_2_arguments,n.length,l,_)}if(n.length<s){let t;if(r){let i=ik(void 0,f,d,n.length);i=ik(i,r),t=oL(e,i)}else t=oL(e,f,d,n.length);const o=null==(i=null==a?void 0:a.declaration)?void 0:i.parameters[a.thisParameter?n.length+1:n.length];return o?uT(t,qp(o,...D_(o.name)?[ma.An_argument_matching_this_binding_pattern_was_not_provided]:Uu(o)?[ma.Arguments_for_the_rest_parameter_0_were_not_provided,xc(db(o.name))]:[ma.An_argument_for_0_was_not_provided,o.name?xc(db(o.name)):n.length])):t}{const t=_w.createNodeArray(n.slice(c)),i=ve(t).pos;let o=ke(t).end;if(o===i&&o++,ET(t,i,o),r){let i=ik(void 0,f,d,n.length);return i=ik(i,r),$p(Sd(e),t,i)}return Vp(Sd(e),t,f,d,n.length)}}function sL(e,t,n,r,i,o){const a=215===e.kind,s=170===e.kind,c=Cu(e),l=zE(e),_=226===e.kind,d=!b&&!n;let m,g,h,y,v,S=0,T=[];s||_||pf(e)||l||(v=e.typeArguments,(a||c||108!==e.expression.kind)&&f(v,GJ)),T=n||[],function(e,t,n){let r,i,o,a,s=0,c=-1;fn.assert(!t.length);for(const l of e){const e=l.declaration&&fs(l.declaration),_=l.declaration&&l.declaration.parent;i&&e!==i?(o=s=t.length,r=_):r&&_===r?o+=1:(r=_,o=s),i=e,uJ(l)?(c++,a=c,s++):a=o,t.splice(a,0,n?Nd(l,n):l)}}(t,T,i),l||fn.assert(T.length,"Revert #54442 and add a testcase with whatever triggered this");const C=nL(e),w=1===T.length&&!T[0].typeParameters;s||w||!K(C,xS)||(S=4);const D=!!(16&r)&&213===e.kind&&e.arguments.hasTrailingComma;T.length>1&&(y=I(T,go,w,D)),y||(y=I(T,yo,w,D));const N=ra(e);if(N.resolvedSignature!==li&&!n)return fn.assert(N.resolvedSignature),N.resolvedSignature;if(y)return y;if(y=function(e,t,n,r,i){return fn.assert(t.length>0),ZJ(e),r||1===t.length||t.some(e=>!!e.typeParameters)?function(e,t,n,r){const i=function(e,t){let n=-1,r=-1;for(let i=0;i<e.length;i++){const o=e[i],a=ij(o);if(aj(o)||a>=t)return i;a>r&&(r=a,n=i)}return n}(t,void 0===Ee?n.length:Ee),o=t[i],{typeParameters:a}=o;if(!a)return o;const s=AO(e)?e.typeArguments:void 0,c=s?oh(o,function(e,t,n){const r=e.map(hz);for(;r.length>t.length;)r.pop();for(;r.length<t.length;)r.push(yf(t[r.length])||Bp(t[r.length])||ND(n));return r}(s,a,Om(e))):function(e,t,n,r,i){const o=$w(t,n,Om(e)?2:0),a=HO(e,n,r,12|i,o);return oh(n,a)}(e,a,o,n,r);return t[i]=c,c}(e,t,n,i):function(e){const t=z(e,e=>e.thisParameter);let n;t.length&&(n=lL(t,t.map(HL)));const{min:r,max:i}=dT(e,cL),o=[];for(let c=0;c<i;c++){const t=z(e,e=>_J(e)?c<e.parameters.length-1?e.parameters[c]:ke(e.parameters):c<e.parameters.length?e.parameters[c]:void 0);fn.assert(0!==t.length),o.push(lL(t,z(e,e=>tj(e,c))))}const a=z(e,e=>_J(e)?ke(e.parameters):void 0);let s=128;if(0!==a.length){const t=Dv(Ob(z(e,Zg),2));o.push(_L(a,t)),s|=1}return e.some(uJ)&&(s|=2),bd(e[0].declaration,void 0,n,o,qb(e.map(zg)),void 0,r,s)}(t)}(e,T,C,!!n,r),N.resolvedSignature=y,d)if(!o&&_&&(o=ma.The_left_hand_side_of_an_instanceof_expression_must_be_assignable_to_the_first_argument_of_the_right_hand_side_s_Symbol_hasInstance_method),m)if(1===m.length||m.length>3){const t=m[m.length-1];let n;m.length>3&&(n=ik(n,ma.The_last_overload_gave_the_following_error),n=ik(n,ma.No_overload_matches_this_call)),o&&(n=ik(n,o));const r=YO(e,C,t,yo,0,!0,()=>n,void 0);if(r)for(const e of r)t.declaration&&m.length>3&&uT(e,qp(t.declaration,ma.The_last_overload_is_declared_here)),P(t,e),po.add(e);else fn.fail("No error for last overload signature")}else{const t=[];let n=0,r=Number.MAX_VALUE,i=0,a=0;for(const o of m){const s=YO(e,C,o,yo,0,!0,()=>ik(void 0,ma.Overload_0_of_1_2_gave_the_following_error,a+1,T.length,rc(o)),void 0);s?(s.length<=r&&(r=s.length,i=a),n=Math.max(n,s.length),t.push(s)):fn.fail("No error for 3 or fewer overload signatures"),a++}const s=n>1?t[i]:L(t);fn.assert(s.length>0,"No errors reported for 3 or fewer overload signatures");let c=ik(A(s,Xp),ma.No_overload_matches_this_call);o&&(c=ik(c,o));const l=[...j(s,e=>e.relatedInformation)];let _;if(x(s,e=>e.start===s[0].start&&e.length===s[0].length&&e.file===s[0].file)){const{file:e,start:t,length:n}=s[0];_={file:e,start:t,length:n,code:c.code,category:c.category,messageText:c,relatedInformation:l}}else _=Wp(Sd(e),z_(E=e)?sF(E.expression)?E.expression.name:E.expression:uF(E)?sF(E.tag)?E.tag.name:E.tag:Cu(E)?E.tagName:E,c,l);P(m[0],_),po.add(_)}else if(g)po.add(aL(e,[g],C,o));else if(h)XO(h,e.typeArguments,!0,o);else if(!l){const n=F(t,e=>JO(e,v));0===n.length?po.add(function(e,t,n,r){const i=n.length;if(1===t.length){const o=t[0],a=yg(o.typeParameters),s=p(o.typeParameters);if(r){let t=ik(void 0,ma.Expected_0_type_arguments_but_got_1,a<s?a+"-"+s:a,i);return t=ik(t,r),$p(Sd(e),n,t)}return Vp(Sd(e),n,ma.Expected_0_type_arguments_but_got_1,a<s?a+"-"+s:a,i)}let o=-1/0,a=1/0;for(const s of t){const e=yg(s.typeParameters),t=p(s.typeParameters);e>i?a=Math.min(a,e):t<i&&(o=Math.max(o,t))}if(o!==-1/0&&a!==1/0){if(r){let t=ik(void 0,ma.No_overload_expects_0_type_arguments_but_overloads_do_exist_that_expect_either_1_or_2_type_arguments,i,o,a);return t=ik(t,r),$p(Sd(e),n,t)}return Vp(Sd(e),n,ma.No_overload_expects_0_type_arguments_but_overloads_do_exist_that_expect_either_1_or_2_type_arguments,i,o,a)}if(r){let t=ik(void 0,ma.Expected_0_type_arguments_but_got_1,o===-1/0?a:o,i);return t=ik(t,r),$p(Sd(e),n,t)}return Vp(Sd(e),n,ma.Expected_0_type_arguments_but_got_1,o===-1/0?a:o,i)}(e,t,v,o)):po.add(aL(e,n,C,o))}var E;return y;function P(e,t){var n,r;const i=m,o=g,a=h,s=(null==(r=null==(n=e.declaration)?void 0:n.symbol)?void 0:r.declarations)||u,c=s.length>1?k(s,e=>__(e)&&Ad(e.body)):void 0;if(c){const e=Sg(c),n=!e.typeParameters;I([e],yo,n)&&uT(t,qp(c,ma.The_call_would_have_succeeded_against_this_implementation_but_implementation_signatures_of_overloads_are_not_externally_visible))}m=i,g=o,h=a}function I(t,n,r,i=!1){var o,a;if(m=void 0,g=void 0,h=void 0,r){const r=t[0];if(K(v)||!BO(e,C,r,i))return;return YO(e,C,r,n,0,!1,void 0,void 0)?void(m=[r]):r}for(let s=0;s<t.length;s++){let r,c,l=t[s];if(JO(l,v)&&BO(e,C,l,i)){if(l.typeParameters){const t=(null==(a=null==(o=l.typeParameters[0].symbol.declarations)?void 0:o[0])?void 0:a.parent)||(l.declaration&&wN(l.declaration)?l.declaration.parent:l.declaration);let n;if(t&&gc(e,e=>e===t)&&(l=Dh(l)),K(v)){if(n=XO(l,v,!1),!n){h=l;continue}}else c=$w(l.typeParameters,l,Om(e)?2:0),n=Rk(HO(e,l,C,8|S,c),c.nonFixingMapper),S|=4&c.flags?8:0;if(r=Yg(l,n,Om(l.declaration),c&&c.inferredTypeParameters),cj(l)&&!BO(e,C,r,i)){g=r;continue}}else r=l;if(!YO(e,C,r,n,S,!1,void 0,c)){if(S){if(S=0,c&&(r=Yg(l,Rk(HO(e,l,C,S,c),c.mapper),Om(l.declaration),c.inferredTypeParameters),cj(l)&&!BO(e,C,r,i))){g=r;continue}if(YO(e,C,r,n,S,!1,void 0,c)){(m||(m=[])).push(r);continue}}return t[s]=r,r}(m||(m=[])).push(r)}}}}function cL(e){const t=e.parameters.length;return _J(e)?t-1:t}function lL(e,t){return _L(e,Ob(t,2))}function _L(e,t){return Pw(ve(e),t)}function uL(e){return!(!e.typeParameters||!Uz(zg(e)))}function dL(e,t,n,r){return $c(e)||$c(t)&&!!(262144&e.flags)||!n&&!r&&!(1048576&t.flags)&&!(131072&Nf(t).flags)&&PS(e,Gn)}function pL(e,t,n){let r=zI(e.expression);if(r===un)return _i;if(r=Sf(r),Hc(r))return OO(e);if($c(r))return e.typeArguments&&Lo(e,ma.Untyped_function_calls_may_not_accept_type_arguments),IO(e);const i=Qf(r,1);if(i.length){if(!function(e,t){if(!t||!t.declaration)return!0;const n=t.declaration,r=zv(n,6);if(!r||176!==n.kind)return!0;const i=bx(n.parent.symbol),o=vu(n.parent.symbol);if(!_z(e,i)){const t=em(e);if(t&&4&r){const e=hz(t);if(mL(n.parent.symbol,e))return!0}return 2&r&&Lo(e,ma.Constructor_of_class_0_is_private_and_only_accessible_within_the_class_declaration,oc(o)),4&r&&Lo(e,ma.Constructor_of_class_0_is_protected_and_only_accessible_within_the_class_declaration,oc(o)),!1}return!0}(e,i[0]))return OO(e);if(fL(i,e=>!!(4&e.flags)))return Lo(e,ma.Cannot_create_an_instance_of_an_abstract_class),OO(e);const o=r.symbol&&bx(r.symbol);return o&&Av(o,64)?(Lo(e,ma.Cannot_create_an_instance_of_an_abstract_class),OO(e)):sL(e,i,t,n,0)}const o=Qf(r,0);if(o.length){const r=sL(e,o,t,n,0);return te||(r.declaration&&!CL(r.declaration)&&zg(r)!==cn&&Lo(e,ma.Only_a_void_function_can_be_called_with_the_new_keyword),Lg(r)===cn&&Lo(e,ma.A_function_that_is_called_with_the_new_keyword_cannot_have_a_this_type_that_is_void)),r}return hL(e.expression,r,1),OO(e)}function fL(e,t){return et(e)?K(e,e=>fL(e,t)):1048576===e.compositeKind?K(e.compositeSignatures,t):t(e)}function mL(e,t){const n=iu(t);if(!p(n))return!1;const r=n[0];if(2097152&r.flags){const t=Bd(r.types);let n=0;for(const i of r.types){if(!t[n]&&3&xx(i)){if(i.symbol===e)return!0;if(mL(e,i))return!0}n++}return!1}return r.symbol===e||mL(e,r)}function gL(e,t,n){let r;const i=0===n,o=pM(t),a=o&&Qf(o,n).length>0;if(1048576&t.flags){const e=t.types;let o=!1;for(const a of e)if(0!==Qf(a,n).length){if(o=!0,r)break}else if(r||(r=ik(r,i?ma.Type_0_has_no_call_signatures:ma.Type_0_has_no_construct_signatures,oc(a)),r=ik(r,i?ma.Not_all_constituents_of_type_0_are_callable:ma.Not_all_constituents_of_type_0_are_constructable,oc(t))),o)break;o||(r=ik(void 0,i?ma.No_constituent_of_type_0_is_callable:ma.No_constituent_of_type_0_is_constructable,oc(t))),r||(r=ik(r,i?ma.Each_member_of_the_union_type_0_has_signatures_but_none_of_those_signatures_are_compatible_with_each_other:ma.Each_member_of_the_union_type_0_has_construct_signatures_but_none_of_those_signatures_are_compatible_with_each_other,oc(t)))}else r=ik(r,i?ma.Type_0_has_no_call_signatures:ma.Type_0_has_no_construct_signatures,oc(t));let s=i?ma.This_expression_is_not_callable:ma.This_expression_is_not_constructable;if(lF(e.parent)&&0===e.parent.arguments.length){const{resolvedSymbol:t}=ra(e);t&&32768&t.flags&&(s=ma.This_expression_is_not_callable_because_it_is_a_get_accessor_Did_you_mean_to_use_it_without)}return{messageChain:ik(r,s),relatedMessage:a?ma.Did_you_forget_to_use_await:void 0}}function hL(e,t,n,r){const{messageChain:i,relatedMessage:o}=gL(e,t,n),a=Wp(Sd(e),e,i);if(o&&uT(a,qp(e,o)),lF(e.parent)){const{start:t,length:n}=iL(e.parent);a.start=t,a.length=n}po.add(a),yL(t,n,r?uT(a,r):a)}function yL(e,t,n){if(!e.symbol)return;const r=na(e.symbol).originatingImport;if(r&&!ff(r)){const i=Qf(w_(na(e.symbol).target),t);if(!i||!i.length)return;uT(n,qp(r,ma.Type_originates_at_this_import_A_namespace_style_import_cannot_be_called_or_constructed_and_will_cause_a_failure_at_runtime_Consider_using_a_default_import_or_import_require_here_instead))}}function vL(e,t,n){const r=IR(e.expression),i=Sf(r);if(Hc(i))return OO(e);const o=Qf(i,0),a=Qf(i,1).length;if(dL(r,i,o.length,a))return IO(e);if(s=e,(c=o).length&&x(c,e=>0===e.minArgumentCount&&!_J(e)&&e.parameters.length<rL(s,e))&&!pF(e.expression)){const t=ep(e.expression,!1);return Lo(e,ma._0_accepts_too_few_arguments_to_be_used_as_a_decorator_here_Did_you_mean_to_call_it_first_and_write_0,t),OO(e)}var s,c;const l=function(e){switch(e.parent.kind){case 263:case 231:return ma.Unable_to_resolve_signature_of_class_decorator_when_called_as_an_expression;case 169:return ma.Unable_to_resolve_signature_of_parameter_decorator_when_called_as_an_expression;case 172:return ma.Unable_to_resolve_signature_of_property_decorator_when_called_as_an_expression;case 174:case 177:case 178:return ma.Unable_to_resolve_signature_of_method_decorator_when_called_as_an_expression;default:return fn.fail()}}(e);if(!o.length){const t=gL(e.expression,i,0),n=ik(t.messageChain,l),r=Wp(Sd(e.expression),e.expression,n);return t.relatedMessage&&uT(r,qp(e.expression,t.relatedMessage)),po.add(r),yL(i,0,r),OO(e)}return sL(e,o,t,n,0,l)}function bL(e,t){const n=hI(e),r=n&&ls(n),i=r&&oa(r,JB.Element,788968),o=i&&fe.symbolToEntityName(i,788968,e),a=_w.createFunctionTypeNode(void 0,[_w.createParameterDeclaration(void 0,void 0,"props",void 0,fe.typeToTypeNode(t,e))],o?_w.createTypeReferenceNode(o,void 0):_w.createKeywordTypeNode(133)),s=Wo(1,"props");return s.links.type=t,bd(a,void 0,void 0,[s],i?vu(i):Et,void 0,1,0)}function xL(e){var t;const n=ra(Sd(e));if(void 0!==n.jsxFragmentType)return n.jsxFragmentType;const r=Eo(e);if(2!==I.jsx&&void 0===I.jsxFragmentFactory||"null"===r)return n.jsxFragmentType=wt;const i=1!==I.jsx&&3!==I.jsx,o=po?ma.Using_JSX_fragments_requires_fragment_factory_0_to_be_in_scope_but_it_could_not_be_found:void 0,a=null!=(t=gI(e))?t:ze(e,r,i?111551:111167,o,!0);if(void 0===a)return n.jsxFragmentType=Et;if(a.escapedName===qB.Fragment)return n.jsxFragmentType=w_(a);const s=2097152&a.flags?Ja(a):a,c=a&&ls(s),l=c&&oa(c,qB.Fragment,2),_=l&&w_(l);return n.jsxFragmentType=void 0===_?Et:_}function kL(e,t,n){const r=zE(e);let i;if(r)i=xL(e);else{if(lI(e.tagName)){const t=wI(e),n=bL(e,t);return jS(_R(e.attributes,JA(n,e),void 0,0),t,e.tagName,e.attributes),p(e.typeArguments)&&(f(e.typeArguments,GJ),po.add(Vp(Sd(e),e.typeArguments,ma.Expected_0_type_arguments_but_got_1,0,p(e.typeArguments)))),n}i=IR(e.tagName)}const o=Sf(i);if(Hc(o))return OO(e);const a=TI(i,e);return dL(i,o,a.length,0)?IO(e):0===a.length?(r?Lo(e,ma.JSX_element_type_0_does_not_have_any_construct_or_call_signatures,ep(e)):Lo(e.tagName,ma.JSX_element_type_0_does_not_have_any_construct_or_call_signatures,ep(e.tagName)),OO(e)):sL(e,a,t,n,0)}function SL(e,t,n){switch(e.kind){case 213:return function(e,t,n){if(108===e.expression.kind){const r=GP(e.expression);if($c(r)){for(const t of e.arguments)IR(t);return si}if(!Hc(r)){const i=kh(em(e));if(i)return sL(e,K_(r,i.typeArguments,i),t,n,0)}return IO(e)}let r,i=IR(e.expression);if(xl(e)){const t=Sw(i,e.expression);r=t===i?0:Cl(e)?16:8,i=t}else r=0;if(i=$I(i,e.expression,WI),i===un)return _i;const o=Sf(i);if(Hc(o))return OO(e);const a=Qf(o,0),s=Qf(o,1).length;if(dL(i,o,a.length,s))return!Hc(i)&&e.typeArguments&&Lo(e,ma.Untyped_function_calls_may_not_accept_type_arguments),IO(e);if(!a.length){if(s)Lo(e,ma.Value_of_type_0_is_not_callable_Did_you_mean_to_include_new,oc(i));else{let t;if(1===e.arguments.length){const n=Sd(e).text;Ga(n.charCodeAt(ns(n,e.expression.end,!0)-1))&&(t=qp(e.expression,ma.Are_you_missing_a_semicolon))}hL(e.expression,o,0,t)}return OO(e)}return 8&n&&!e.typeArguments&&a.some(uL)?(SR(e,n),li):a.some(e=>Om(e.declaration)&&!!Vc(e.declaration))?(Lo(e,ma.Value_of_type_0_is_not_callable_Did_you_mean_to_include_new,oc(i)),OO(e)):sL(e,a,t,n,r)}(e,t,n);case 214:return pL(e,t,n);case 215:return function(e,t,n){const r=IR(e.tag),i=Sf(r);if(Hc(i))return OO(e);const o=Qf(i,0),a=Qf(i,1).length;if(dL(r,i,o.length,a))return IO(e);if(!o.length){if(oF(e.parent)){const t=qp(e.tag,ma.It_is_likely_that_you_are_missing_a_comma_to_separate_these_two_template_expressions_They_form_a_tagged_template_expression_which_cannot_be_invoked);return po.add(t),OO(e)}return hL(e.tag,i,0),OO(e)}return sL(e,o,t,n,0)}(e,t,n);case 170:return vL(e,t,n);case 289:case 286:case 285:return kL(e,t,n);case 226:return function(e,t,n){const r=IR(e.right);if(!$c(r)){const i=Zj(r);if(i){const r=Sf(i);if(Hc(r))return OO(e);const o=Qf(r,0),a=Qf(r,1);if(dL(i,r,o.length,a.length))return IO(e);if(o.length)return sL(e,o,t,n,0)}else if(!Sz(r)&&!FS(r,Gn))return Lo(e.right,ma.The_right_hand_side_of_an_instanceof_expression_must_be_either_of_type_any_a_class_function_or_other_type_assignable_to_the_Function_interface_type_or_an_object_type_with_a_Symbol_hasInstance_method),OO(e)}return si}(e,t,n)}fn.assertNever(e,"Branch in 'resolveSignature' should be unreachable.")}function TL(e,t,n){const r=ra(e),i=r.resolvedSignature;if(i&&i!==li&&!t)return i;const o=qi;i||(qi=Bi.length),r.resolvedSignature=li;const a=SL(e,t,n||0);return qi=o,a!==li&&(r.resolvedSignature=ki===Si?a:i),a}function CL(e){var t;if(!e||!Om(e))return!1;const n=aE(e)||fF(e)?e:(iE(e)||ZE(e))&&e.initializer&&fF(e.initializer)?e.initializer:void 0;if(n){if(Vc(e))return!0;if(ZE(sh(n.parent)))return!1;const r=fs(n);return!!(null==(t=null==r?void 0:r.members)?void 0:t.size)}return!1}function wL(e,t){var n,r;if(t){const i=na(t);if(!i.inferredClassSymbol||!i.inferredClassSymbol.has(iJ(e))){const o=ed(e)?e:Xo(e);return o.exports=o.exports||Yu(),o.members=o.members||Yu(),o.flags|=32&t.flags,(null==(n=t.exports)?void 0:n.size)&&ea(o.exports,t.exports),(null==(r=t.members)?void 0:r.size)&&ea(o.members,t.members),(i.inferredClassSymbol||(i.inferredClassSymbol=new Map)).set(iJ(o),o),o}return i.inferredClassSymbol.get(iJ(e))}}function DL(e,t){if(!e.parent)return;let n,r;if(iE(e.parent)&&e.parent.initializer===e){if(!(Om(e)||Uq(e.parent)&&__(e)))return;n=e.parent.name,r=e.parent}else if(kF(e.parent)){const i=e.parent,o=e.parent.operatorToken.kind;if(64!==o||!t&&i.right!==e){if(!(57!==o&&61!==o||(iE(i.parent)&&i.parent.initializer===i?(n=i.parent.name,r=i.parent):kF(i.parent)&&64===i.parent.operatorToken.kind&&(t||i.parent.right===i)&&(n=i.parent.left,r=n),n&&ug(n)&&eg(n,i.left))))return}else n=i.left,r=n}else t&&aE(e)&&(n=e.name,r=e);return r&&n&&(t||Qm(e,gb(n)))?ms(r):void 0}function NL(e,t){var n,r,i,o;if(!(128&e.flags)&&e.declaration&&536870912&e.declaration.flags){const a=FL(t),s=mb(mm(t));n=a,r=e.declaration,i=s,o=rc(e),Jo(r,i?qp(n,ma.The_signature_0_of_1_is_deprecated,o,i):qp(n,ma._0_is_deprecated,o))}}function FL(e){switch((e=_h(e)).kind){case 213:case 170:case 214:return FL(e.expression);case 215:return FL(e.tag);case 286:case 285:return FL(e.tagName);case 212:return e.argumentExpression;case 211:return e.name;case 183:const t=e;return gN(t.typeName)?t.typeName.right:t;default:return e}}function EL(e){if(!lF(e))return!1;let t=e.expression;if(sF(t)&&"for"===t.name.escapedText&&(t=t.expression),!tN(t)||"Symbol"!==t.escapedText)return!1;const n=Yy(!1);return!!n&&n===ze(t,"Symbol",111551,void 0,!1)}function PL(e){if(function(e){if(I.verbatimModuleSyntax&&1===M)return Oq(e,ma.ESM_syntax_is_not_allowed_in_a_CommonJS_module_when_verbatimModuleSyntax_is_enabled);if(5===M)return Oq(e,ma.Dynamic_imports_are_only_supported_when_the_module_flag_is_set_to_es2020_es2022_esnext_commonjs_amd_system_umd_node16_node18_or_nodenext);if(e.typeArguments)return Oq(e,ma.This_use_of_import_is_invalid_import_calls_can_be_written_but_they_must_have_parentheses_and_cannot_have_type_arguments);const t=e.arguments;if(!(100<=M&&M<=199)&&99!==M&&200!==M&&(_q(t),t.length>1))return Oq(t[1],ma.Dynamic_imports_only_support_a_second_argument_when_the_module_option_is_set_to_esnext_node16_node18_nodenext_or_preserve);if(0===t.length||t.length>2)return Oq(e,ma.Dynamic_imports_can_only_accept_a_module_specifier_and_an_optional_set_of_attributes_as_arguments);const n=k(t,wF);n&&Oq(n,ma.Argument_of_dynamic_import_cannot_be_spread_element)}(e),0===e.arguments.length)return Nj(e,wt);const t=e.arguments[0],n=uR(t),r=e.arguments.length>1?uR(e.arguments[1]):void 0;for(let o=2;o<e.arguments.length;++o)uR(e.arguments[o]);if((32768&n.flags||65536&n.flags||!PS(n,Vt))&&Lo(t,ma.Dynamic_import_s_specifier_must_be_of_type_string_but_here_has_type_0,oc(n)),r){const t=Qy(!0);t!==Dn&&LS(r,hw(t,32768),e.arguments[1])}const i=Qa(e,t);if(i){const n=rs(i,t,!0,!1);if(n)return Nj(e,IL(w_(n),n,i,t)||OL(w_(n),n,i,t))}return Nj(e,wt)}function AL(e,t,n){const r=Yu(),i=Wo(2097152,"default");return i.parent=t,i.links.nameType=hk("default"),i.links.aliasTarget=Ba(e),r.set("default",i),Js(n,r,u,u,u)}function IL(e,t,n,r){if(Da(r)&&e&&!Hc(e)){const r=e;if(!r.defaultOnlyType){const e=AL(t,n);r.defaultOnlyType=e}return r.defaultOnlyType}}function OL(e,t,n,r){var i;if(W&&e&&!Hc(e)){const o=e;if(!o.syntheticType)if(Na(null==(i=n.declarations)?void 0:i.find(nP),n,!1,r)){const r=Wo(2048,"__type"),i=AL(t,n,r);r.links.type=i,o.syntheticType=sI(e)?_k(e,i,r,0,!1):i}else o.syntheticType=e;return o.syntheticType}return e}function LL(e){if(!Bm(e,!0))return!1;if(!tN(e.expression))return fn.fail();const t=ze(e.expression,e.expression.escapedText,111551,void 0,!0);if(t===Oe)return!0;if(2097152&t.flags)return!1;const n=16&t.flags?262:3&t.flags?260:0;if(0!==n){const e=Qu(t,n);return!!e&&!!(33554432&e.flags)}return!1}function jL(e){(function(e){return!!(e.questionDotToken||64&e.flags)&&Oq(e.template,ma.Tagged_template_expressions_are_not_permitted_in_an_optional_chain)})(e)||fq(e,e.typeArguments),R<Pi.TaggedTemplates&&aq(e,262144);const t=TL(e);return NL(t,e),zg(t)}function RL(e){switch(e.kind){case 11:case 15:case 9:case 10:case 112:case 97:case 209:case 210:case 228:return!0;case 217:return RL(e.expression);case 224:const t=e.operator,n=e.operand;return 41===t&&(9===n.kind||10===n.kind)||40===t&&9===n.kind;case 211:case 212:const r=_h(e.expression),i=ub(r)?Ka(r,111551,!0):void 0;return!!(i&&384&i.flags)}return!1}function ML(e,t){const{type:n,expression:r}=BL(e),i=IR(r,t);return Dl(n)?(RL(r)||Lo(r,ma.A_const_assertions_can_only_be_applied_to_references_to_enum_members_or_string_number_boolean_array_or_object_literals),mk(i)):(ra(e).assertionExpressionType=i,GJ(n),ZJ(e),Pk(n))}function BL(e){let t,n;switch(e.kind){case 234:case 216:t=e.type,n=e.expression;break;case 217:t=bA(e),n=e.expression}return{type:t,expression:n}}function JL(e){return 64&e.flags?function(e){const t=IR(e.expression),n=Sw(t,e.expression);return kw(vw(n),e,n!==t)}(e):vw(IR(e.expression))}function zL(e){if(gq(e),f(e.typeArguments,GJ),233===e.kind){const t=sh(e.parent);226===t.kind&&104===t.operatorToken.kind&&dh(e,t.right)&&Lo(e,ma.The_right_hand_side_of_an_instanceof_expression_must_not_be_an_instantiation_expression)}return qL(233===e.kind?IR(e.expression):pv(e.exprName)?HP(e.exprName):IR(e.exprName),e)}function qL(e,t){const n=t.typeArguments;if(e===un||Hc(e)||!K(n))return e;const r=ra(t);if(r.instantiationExpressionTypes||(r.instantiationExpressionTypes=new Map),r.instantiationExpressionTypes.has(e.id))return r.instantiationExpressionTypes.get(e.id);let i,o=!1;const a=function e(n){let r=!1,a=!1;const s=l(n);return o||(o=a),r&&!a&&(null!=i||(i=n)),s;function l(n){if(524288&n.flags){const e=Cp(n),i=c(e.callSignatures),o=c(e.constructSignatures);if(r||(r=0!==e.callSignatures.length||0!==e.constructSignatures.length),a||(a=0!==i.length||0!==o.length),i!==e.callSignatures||o!==e.constructSignatures){const n=Js(Wo(0,"__instantiationExpression"),e.members,i,o,e.indexInfos);return n.objectFlags|=8388608,n.node=t,n}}else if(58982400&n.flags){const e=_f(n);if(e){const t=l(e);if(t!==e)return t}}else{if(1048576&n.flags)return CF(n,e);if(2097152&n.flags)return qb(O(n.types,l))}return n}}(e);r.instantiationExpressionTypes.set(e.id,a);const s=o?i:e;return s&&po.add(Vp(Sd(t),n,ma.Type_0_has_no_signatures_for_which_the_type_argument_list_is_applicable,oc(s))),a;function c(e){return O(F(e,e=>!!e.typeParameters&&JO(e,n)),e=>{const t=XO(e,n,!0);return t?Yg(e,t,Om(e.declaration)):e})}}function VL(e,t,n){const r=IR(e,n),i=Pk(t);return Hc(i)?i:(jS(r,i,gc(t.parent,e=>238===e.kind||350===e.kind),e,ma.Type_0_does_not_satisfy_the_expected_type_1),r)}function UL(e){return function(e){const t=e.name.escapedText;switch(e.keywordToken){case 105:if("target"!==t)return Oq(e.name,ma._0_is_not_a_valid_meta_property_for_keyword_1_Did_you_mean_2,bc(e.name.escapedText),Oa(e.keywordToken),"target");break;case 102:"meta"!==t&&Oq(e.name,ma._0_is_not_a_valid_meta_property_for_keyword_1_Did_you_mean_2,bc(e.name.escapedText),Oa(e.keywordToken),"meta")}}(e),105===e.keywordToken?$L(e):102===e.keywordToken?function(e){100<=M&&M<=199?99!==Sd(e).impliedNodeFormat&&Lo(e,ma.The_import_meta_meta_property_is_not_allowed_in_files_which_will_build_into_CommonJS_output):M<6&&4!==M&&Lo(e,ma.The_import_meta_meta_property_is_only_allowed_when_the_module_option_is_es2020_es2022_esnext_system_node16_node18_or_nodenext);const t=Sd(e);return fn.assert(!!(8388608&t.flags),"Containing file is missing import meta node flag."),"meta"===e.name.escapedText?Gy():Et}(e):fn.assertNever(e.keywordToken)}function WL(e){switch(e.keywordToken){case 102:return Xy();case 105:const t=$L(e);return Hc(t)?Et:function(e){const t=Wo(0,"NewTargetExpression"),n=Wo(4,"target",8);n.parent=t,n.links.type=e;const r=Yu([n]);return t.members=r,Js(t,r,u,u,u)}(t);default:fn.assertNever(e.keywordToken)}}function $L(e){const t=sm(e);return t?176===t.kind?w_(fs(t.parent)):w_(fs(t)):(Lo(e,ma.Meta_property_0_is_only_allowed_in_the_body_of_a_function_declaration_function_expression_or_constructor,"new.target"),Et)}function HL(e){const t=e.valueDeclaration;return pl(w_(e),!1,!!t&&(Lu(t)||tC(t)))}function KL(e,t,n){switch(e.name.kind){case 80:{const r=e.name.escapedText;return e.dotDotDotToken?12&n?r:`${r}_${t}`:3&n?r:`${r}_n`}case 207:if(e.dotDotDotToken){const r=e.name.elements,i=it(xe(r),iF),o=r.length-((null==i?void 0:i.dotDotDotToken)?1:0);if(t<o){const e=r[t];if(iF(e))return KL(e,t,n)}else if(null==i?void 0:i.dotDotDotToken)return KL(i,t-o,n)}}return`arg_${t}`}function GL(e,t=0,n=3,r){var i;if(!e){const e=it(null==r?void 0:r.valueDeclaration,vN);return e?KL(e,t,n):`${null!=(i=null==r?void 0:r.escapedName)?i:"arg"}_${t}`}return fn.assert(tN(e.name)),e.name.escapedText}function XL(e,t,n){var r;const i=e.parameters.length-(_J(e)?1:0);if(t<i)return e.parameters[t].escapedName;const o=e.parameters[i]||bt,a=n||w_(o);if(ow(a)){const e=a.target,n=t-i;return GL(null==(r=e.labeledElementDeclarations)?void 0:r[n],n,e.elementFlags[n],o)}return o.escapedName}function QL(e){return e.valueDeclaration&&vN(e.valueDeclaration)&&tN(e.valueDeclaration.name)&&e.valueDeclaration.name}function ZL(e){return 202===e.kind||vN(e)&&e.name&&tN(e.name)}function YL(e,t){const n=e.parameters.length-(_J(e)?1:0);if(t<n){const n=e.parameters[t].valueDeclaration;return n&&ZL(n)?n:void 0}const r=e.parameters[n]||bt,i=w_(r);if(ow(i)){const e=i.target.labeledElementDeclarations;return e&&e[t-n]}return r.valueDeclaration&&ZL(r.valueDeclaration)?r.valueDeclaration:void 0}function ej(e,t){return tj(e,t)||wt}function tj(e,t){const n=e.parameters.length-(_J(e)?1:0);if(t<n)return HL(e.parameters[t]);if(_J(e)){const r=w_(e.parameters[n]),i=t-n;if(!ow(r)||12&r.target.combinedFlags||i<r.target.fixedLength)return Lx(r,yk(i))}}function nj(e,t,n){const r=ij(e),i=oj(e),o=sj(e);if(o&&t>=r-1)return t===r-1?o:Dv(Lx(o,Ut));const a=[],s=[],c=[];for(let l=t;l<r;l++)!o||l<r-1?(a.push(ej(e,l)),s.push(l<i?1:2)):(a.push(o),s.push(8)),c.push(YL(e,l));return Gv(a,s,n,c)}function rj(e,t){const n=nj(e,t),r=n&&JC(n);return r&&$c(r)?wt:n}function ij(e){const t=e.parameters.length;if(_J(e)){const n=w_(e.parameters[t-1]);if(ow(n))return t+n.target.fixedLength-(12&n.target.combinedFlags?0:1)}return t}function oj(e,t){const n=1&t,r=2&t;if(r||void 0===e.resolvedMinArgumentCount){let t;if(_J(e)){const n=w_(e.parameters[e.parameters.length-1]);if(ow(n)){const r=T(n.target.elementFlags,e=>!(1&e)),i=r<0?n.target.fixedLength:r;i>0&&(t=e.parameters.length-1+i)}}if(void 0===t){if(!n&&32&e.flags)return 0;t=e.minArgumentCount}if(r)return t;for(let n=t-1;n>=0&&!(131072&yF(ej(e,n),RO).flags);n--)t=n;e.resolvedMinArgumentCount=t}return e.resolvedMinArgumentCount}function aj(e){if(_J(e)){const t=w_(e.parameters[e.parameters.length-1]);return!ow(t)||!!(12&t.target.combinedFlags)}return!1}function sj(e){if(_J(e)){const t=w_(e.parameters[e.parameters.length-1]);if(!ow(t))return $c(t)?cr:t;if(12&t.target.combinedFlags)return nb(t,t.target.fixedLength)}}function cj(e){const t=sj(e);return!t||jC(t)||$c(t)?void 0:t}function lj(e){return _j(e,_n)}function _j(e,t){return e.parameters.length>0?ej(e,0):t}function uj(e,t,n){const r=e.parameters.length-(_J(e)?1:0);for(let i=0;i<r;i++){const r=e.parameters[i].valueDeclaration,o=yv(r);if(o){const e=pl(Pk(o),!1,tC(r)),a=ej(t,i);bD(n.inferences,e,a)}}}function dj(e,t){const n=na(e);if(n.type)t&&fn.assertEqual(n.type,t,"Parameter symbol already has a cached type which differs from newly assigned type");else{const r=e.valueDeclaration;n.type=pl(t||(r?Jl(r,!0):w_(e)),!1,!!r&&!r.initializer&&tC(r)),r&&80!==r.name.kind&&(n.type===Ot&&(n.type=Rl(r.name)),pj(r.name,n.type))}}function pj(e,t){for(const n of e.elements)if(!NF(n)){const e=cl(n,t,!1);80===n.name.kind?na(fs(n)).type=e:pj(n.name,e)}}function fj(e){return sy((t=!0,null!=(n=null!=Hr?Hr:Hr=Hy("ClassDecoratorContext",1,t))?n:On),[e]);var t,n}function mj(e,t){return sy((n=!0,null!=(r=null!=Kr?Kr:Kr=Hy("ClassMethodDecoratorContext",2,n))?r:On),[e,t]);var n,r}function gj(e,t){return sy((n=!0,null!=(r=null!=Gr?Gr:Gr=Hy("ClassGetterDecoratorContext",2,n))?r:On),[e,t]);var n,r}function hj(e,t){return sy((n=!0,null!=(r=null!=Xr?Xr:Xr=Hy("ClassSetterDecoratorContext",2,n))?r:On),[e,t]);var n,r}function yj(e,t){return sy((n=!0,null!=(r=null!=Qr?Qr:Qr=Hy("ClassAccessorDecoratorContext",2,n))?r:On),[e,t]);var n,r}function vj(e,t){return sy((n=!0,null!=(r=null!=ei?ei:ei=Hy("ClassFieldDecoratorContext",2,n))?r:On),[e,t]);var n,r}function bj(e,t,n){const r=Ov(e),i=nN(e.name),o=i?hk(xc(e.name)):Xb(e.name),a=TN(e)?mj(t,n):DN(e)?gj(t,n):NN(e)?hj(t,n):y_(e)?yj(t,n):kN(e)?vj(t,n):fn.failBadSyntaxKind(e),s=function(e,t,n){const r=`${t?"p":"P"}${n?"s":"S"}${e.id}`;let i=ft.get(r);if(!i){const o=Yu();o.set("name",Ho("name",e)),o.set("private",Ho("private",t?Gt:Ht)),o.set("static",Ho("static",n?Gt:Ht)),i=Js(void 0,o,u,u,u),ft.set(r,i)}return i}(o,i,r);return qb([a,s])}function xj(e,t){return sy((n=!0,null!=(r=null!=Zr?Zr:Zr=Hy("ClassAccessorDecoratorTarget",2,n))?r:On),[e,t]);var n,r}function kj(e,t){return sy((n=!0,null!=(r=null!=Yr?Yr:Yr=Hy("ClassAccessorDecoratorResult",2,n))?r:On),[e,t]);var n,r}function Sj(e,t,n){return gM(void 0,void 0,[$o("target",e),$o("context",t)],Ob([n,cn]))}function Tj(e){const{parent:t}=e,n=ra(t);if(!n.decoratorSignature)switch(n.decoratorSignature=si,t.kind){case 263:case 231:{const e=w_(fs(t)),r=fj(e);n.decoratorSignature=Sj(e,r,e);break}case 174:case 177:case 178:{const e=t;if(!g_(e.parent))break;const r=TN(e)?Eh(Sg(e)):hz(e),i=Ov(e)?w_(fs(e.parent)):su(fs(e.parent)),o=DN(e)?yM(r):NN(e)?vM(r):r,a=bj(e,i,r),s=DN(e)?yM(r):NN(e)?vM(r):r;n.decoratorSignature=Sj(o,a,s);break}case 172:{const e=t;if(!g_(e.parent))break;const r=hz(e),i=Ov(e)?w_(fs(e.parent)):su(fs(e.parent)),o=Mv(e)?xj(i,r):Lt,a=bj(e,i,r),s=Mv(e)?kj(i,r):function(e,t){return hM(void 0,$o("this",e),[$o("value",t)],t,void 0,1)}(i,r);n.decoratorSignature=Sj(o,a,s);break}}return n.decoratorSignature===si?void 0:n.decoratorSignature}function Cj(e){return B?function(e){const{parent:t}=e,n=ra(t);if(!n.decoratorSignature)switch(n.decoratorSignature=si,t.kind){case 263:case 231:{const e=w_(fs(t)),r=$o("target",e);n.decoratorSignature=gM(void 0,void 0,[r],Ob([e,cn]));break}case 169:{const e=t;if(!wN(e.parent)&&!(TN(e.parent)||NN(e.parent)&&g_(e.parent.parent)))break;if(uv(e.parent)===e)break;const r=uv(e.parent)?e.parent.parameters.indexOf(e)-1:e.parent.parameters.indexOf(e);fn.assert(r>=0);const i=wN(e.parent)?w_(fs(e.parent.parent)):bz(e.parent),o=wN(e.parent)?Lt:xz(e.parent),a=yk(r),s=$o("target",i),c=$o("propertyKey",o),l=$o("parameterIndex",a);n.decoratorSignature=gM(void 0,void 0,[s,c,l],cn);break}case 174:case 177:case 178:case 172:{const e=t;if(!g_(e.parent))break;const r=$o("target",bz(e)),i=$o("propertyKey",xz(e)),o=kN(e)?cn:Cv(hz(e));if(!kN(t)||Mv(t)){const t=$o("descriptor",Cv(hz(e)));n.decoratorSignature=gM(void 0,void 0,[r,i,t],Ob([o,cn]))}else n.decoratorSignature=gM(void 0,void 0,[r,i],Ob([o,cn]));break}}return n.decoratorSignature===si?void 0:n.decoratorSignature}(e):Tj(e)}function wj(e){const t=nv(!0);return t!==On?cy(t,[e=fM(_M(e))||Ot]):Ot}function Dj(e){const t=rv(!0);return t!==On?cy(t,[e=fM(_M(e))||Ot]):Ot}function Nj(e,t){const n=wj(t);return n===Ot?(Lo(e,ff(e)?ma.A_dynamic_import_call_returns_a_Promise_Make_sure_you_have_a_declaration_for_Promise_or_include_ES2015_in_your_lib_option:ma.An_async_function_or_method_must_return_a_Promise_Make_sure_you_have_a_declaration_for_Promise_or_include_ES2015_in_your_lib_option),Et):(iv(!0)||Lo(e,ff(e)?ma.A_dynamic_import_call_in_ES5_requires_the_Promise_constructor_Make_sure_you_have_a_declaration_for_the_Promise_constructor_or_include_ES2015_in_your_lib_option:ma.An_async_function_or_method_in_ES5_requires_the_Promise_constructor_Make_sure_you_have_a_declaration_for_the_Promise_constructor_or_include_ES2015_in_your_lib_option),n)}function Fj(e,t){if(!e.body)return Et;const n=Mh(e),r=!!(2&n),i=!!(1&n);let o,a,s,c=cn;if(241!==e.body.kind)o=uR(e.body,t&&-9&t),r&&(o=_M(sM(o,!1,e,ma.The_return_type_of_an_async_function_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member)));else if(i){const n=Lj(e,t);n?n.length>0&&(o=Ob(n,2)):c=_n;const{yieldTypes:r,nextTypes:i}=function(e,t){const n=[],r=[],i=!!(2&Mh(e));return If(e.body,e=>{const o=e.expression?IR(e.expression,t):jt;let a;if(ue(n,Pj(e,o,wt,i)),e.asteriskToken){const t=xB(o,i?19:17,e.expression);a=t&&t.nextType}else a=OA(e,void 0);a&&ue(r,a)}),{yieldTypes:n,nextTypes:r}}(e,t);a=K(r)?Ob(r,2):void 0,s=K(i)?qb(i):void 0}else{const r=Lj(e,t);if(!r)return 2&n?Nj(e,_n):_n;if(0===r.length){const t=aA(e,void 0),r=t&&32768&(BB(t,n)||cn).flags?Lt:cn;return 2&n?Nj(e,r):r}o=Ob(r,2)}if(o||a||s){if(a&&Vw(e,a,3),o&&Vw(e,o,1),s&&Vw(e,s,2),o&&XC(o)||a&&XC(a)||s&&XC(s)){const t=$A(e),n=t?t===Sg(e)?i?void 0:o:AA(zg(t),e,void 0):void 0;i?(a=iw(a,n,0,r),o=iw(o,n,1,r),s=iw(s,n,2,r)):o=function(e,t,n){return e&&XC(e)&&(e=rw(e,t?n?aM(t):t:void 0)),e}(o,n,r)}a&&(a=Bw(a)),o&&(o=Bw(o)),s&&(s=Bw(s))}return i?Ej(a||_n,o||c,s||oA(2,e)||Ot,r):r?wj(o||c):o||c}function Ej(e,t,n,r){const i=r?gi:yi,o=i.getGlobalGeneratorType(!1);if(e=i.resolveIterationType(e,void 0)||Ot,t=i.resolveIterationType(t,void 0)||Ot,o===On){const r=i.getGlobalIterableIteratorType(!1);return r!==On?Tv(r,[e,t,n]):(i.getGlobalIterableIteratorType(!0),Dn)}return Tv(o,[e,t,n])}function Pj(e,t,n,r){const i=e.expression||e,o=e.asteriskToken?pB(r?19:17,t,n,i):t;return r?pM(o,i,e.asteriskToken?ma.Type_of_iterated_elements_of_a_yield_Asterisk_operand_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member:ma.Type_of_yield_operand_in_an_async_generator_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member):o}function Aj(e,t,n){let r=0;for(let i=0;i<n.length;i++){const o=i<e||i>=t?n[i]:void 0;r|=void 0!==o?XB.get(o)||32768:0}return r}function Ij(e){const t=ra(e);if(void 0===t.isExhaustive){t.isExhaustive=0;const n=function(e){if(221===e.expression.kind){const t=QN(e);if(!t)return!1;const n=uf(uR(e.expression.expression)),r=Aj(0,0,t);return 3&n.flags?!(556800&~r):!dF(n,e=>QD(e,r)===r)}const t=uf(uR(e.expression));if(!ZC(t))return!1;const n=KN(e);return!(!n.length||K(n,GC))&&(r=CF(t,mk),i=n,1048576&r.flags?!f(r.types,e=>!w(i,e)):w(i,r));var r,i}(e);0===t.isExhaustive&&(t.isExhaustive=n)}else 0===t.isExhaustive&&(t.isExhaustive=!1);return t.isExhaustive}function Oj(e){return e.endFlowNode&&nE(e.endFlowNode)}function Lj(e,t){const n=Mh(e),r=[];let i=Oj(e),o=!1;if(Af(e.body,a=>{let s=a.expression;if(s){if(s=_h(s,!0),2&n&&223===s.kind&&(s=_h(s.expression,!0)),213===s.kind&&80===s.expression.kind&&uR(s.expression).symbol===ps(e.symbol)&&(!VT(e.symbol.valueDeclaration)||vE(s.expression)))return void(o=!0);let i=uR(s,t&&-9&t);2&n&&(i=_M(sM(i,!1,e,ma.The_return_type_of_an_async_function_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member))),131072&i.flags&&(o=!0),ue(r,i)}else i=!0}),0!==r.length||i||!o&&!function(e){switch(e.kind){case 218:case 219:return!0;case 174:return 210===e.parent.kind;default:return!1}}(e))return!($&&r.length&&i)||CL(e)&&r.some(t=>t.symbol===e.symbol)||ue(r,Lt),r}function jj(e,t){a(function(){const n=Mh(e),r=t&&BB(t,n);if(r&&(Hj(r,16384)||32769&r.flags))return;if(173===e.kind||Pd(e.body)||241!==e.body.kind||!Oj(e))return;const i=1024&e.flags,o=bv(e)||e;if(r&&131072&r.flags)Lo(o,ma.A_function_returning_never_cannot_have_a_reachable_end_point);else if(r&&!i)Lo(o,ma.A_function_whose_declared_type_is_neither_undefined_void_nor_any_must_return_a_value);else if(r&&$&&!PS(Lt,r))Lo(o,ma.Function_lacks_ending_return_statement_and_return_type_does_not_include_undefined);else if(I.noImplicitReturns){if(!r){if(!i)return;const t=zg(Sg(e));if(zB(e,t))return}Lo(o,ma.Not_all_code_paths_return_a_value)}})}function Rj(e,t){if(fn.assert(174!==e.kind||Uf(e)),ZJ(e),fF(e)&&GM(e,e.name),t&&4&t&&xS(e)){if(!bv(e)&&!JT(e)){const n=HA(e);if(n&&nD(zg(n))){const n=ra(e);if(n.contextFreeType)return n.contextFreeType;const r=Fj(e,t),i=bd(void 0,void 0,void 0,u,r,void 0,0,64),o=Js(e.symbol,D,[i],u,u);return o.objectFlags|=262144,n.contextFreeType=o}}return Ln}return pq(e)||218!==e.kind||yq(e),function(e,t){const n=ra(e);if(!(64&n.flags)){const r=HA(e);if(!(64&n.flags)){n.flags|=64;const i=he(Qf(w_(fs(e)),0));if(!i)return;if(xS(e))if(r){const n=BA(e);let o;if(t&&2&t){uj(i,r,n);const e=sj(r);e&&262144&e.flags&&(o=sS(r,n.nonFixingMapper))}o||(o=n?sS(r,n.mapper):r),function(e,t){if(t.typeParameters){if(e.typeParameters)return;e.typeParameters=t.typeParameters}if(t.thisParameter){const n=e.thisParameter;(!n||n.valueDeclaration&&!n.valueDeclaration.type)&&(n||(e.thisParameter=Pw(t.thisParameter,void 0)),dj(e.thisParameter,w_(t.thisParameter)))}const n=e.parameters.length-(_J(e)?1:0);for(let r=0;r<n;r++){const n=e.parameters[r],i=n.valueDeclaration;if(!yv(i)){let e=tj(t,r);if(e&&i.initializer){let t=pR(i,0);!PS(t,e)&&PS(e,t=mR(i,t))&&(e=t)}dj(n,e)}}if(_J(e)){const r=ke(e.parameters);(r.valueDeclaration?!yv(r.valueDeclaration):65536&cx(r))&&dj(r,nj(t,n))}}(i,o)}else!function(e){e.thisParameter&&dj(e.thisParameter);for(const t of e.parameters)dj(t)}(i);else if(r&&!e.typeParameters&&r.parameters.length>e.parameters.length){const n=BA(e);t&&2&t&&uj(i,r,n)}if(r&&!qg(e)&&!i.resolvedReturnType){const n=Fj(e,t);i.resolvedReturnType||(i.resolvedReturnType=n)}RR(e)}}}(e,t),w_(fs(e))}function Mj(e,t,n,r=!1){if(!PS(t,yn)){const i=r&&oM(t);return Bo(e,!!i&&PS(i,yn),n),!1}return!0}function Bj(e){if(!lF(e))return!1;if(!ag(e))return!1;const t=uR(e.arguments[2]);if(Uc(t,"value")){const e=Gf(t,"writable"),n=e&&w_(e);if(!n||n===Ht||n===Kt)return!0;if(e&&e.valueDeclaration&&ZE(e.valueDeclaration)){const t=IR(e.valueDeclaration.initializer);if(t===Ht||t===Kt)return!0}return!1}return!Gf(t,"set")}function Jj(e){return!!(8&cx(e)||4&e.flags&&8&lx(e)||3&e.flags&&6&jI(e)||98304&e.flags&&!(65536&e.flags)||8&e.flags||K(e.declarations,Bj))}function zj(e,t,n){var r,i;if(0===n)return!1;if(Jj(t)){if(4&t.flags&&Nx(e)&&110===e.expression.kind){const n=kE(e);if(!n||176!==n.kind&&!CL(n))return!0;if(t.valueDeclaration){const e=kF(t.valueDeclaration),o=n.parent===t.valueDeclaration.parent,a=n===t.valueDeclaration.parent,s=e&&(null==(r=t.parent)?void 0:r.valueDeclaration)===n.parent,c=e&&(null==(i=t.parent)?void 0:i.valueDeclaration)===n;return!(o||a||s||c)}}return!0}if(Nx(e)){const t=_h(e.expression);if(80===t.kind){const e=ra(t).resolvedSymbol;if(2097152&e.flags){const t=ba(e);return!!t&&274===t.kind}}}return!1}function qj(e,t,n){const r=kA(e,39);return 80===r.kind||Nx(r)?!(64&r.flags&&(Lo(e,n),1)):(Lo(e,t),!1)}function Vj(e){IR(e.expression);const t=_h(e.expression);if(!Nx(t))return Lo(t,ma.The_operand_of_a_delete_operator_must_be_a_property_reference),tn;sF(t)&&nN(t.name)&&Lo(t,ma.The_operand_of_a_delete_operator_cannot_be_a_private_identifier);const n=Ts(ra(t).resolvedSymbol);return n&&(Jj(n)?Lo(t,ma.The_operand_of_a_delete_operator_cannot_be_a_read_only_property):function(e,t){const n=w_(t);!$||131075&n.flags||(oe?16777216&t.flags:ZD(n,16777216))||Lo(e,ma.The_operand_of_a_delete_operator_must_be_optional)}(t,n)),tn}function Uj(e){let t=!1;const n=nm(e);if(n&&CN(n))Lo(e,vF(e)?ma.await_expression_cannot_be_used_inside_a_class_static_block:ma.await_using_statements_cannot_be_used_inside_a_class_static_block),t=!0;else if(!(65536&e.flags))if(am(e)){const n=Sd(e);if(!Pq(n)){let r;if(!xp(n,I)){null!=r||(r=Yp(n,e.pos));const i=vF(e)?ma.await_expressions_are_only_allowed_at_the_top_level_of_a_file_when_that_file_is_a_module_but_this_file_has_no_imports_or_exports_Consider_adding_an_empty_export_to_make_this_file_a_module:ma.await_using_statements_are_only_allowed_at_the_top_level_of_a_file_when_that_file_is_a_module_but_this_file_has_no_imports_or_exports_Consider_adding_an_empty_export_to_make_this_file_a_module,o=ek(n,r.start,r.length,i);po.add(o),t=!0}switch(M){case 100:case 101:case 199:if(1===n.impliedNodeFormat){null!=r||(r=Yp(n,e.pos)),po.add(ek(n,r.start,r.length,ma.The_current_file_is_a_CommonJS_module_and_cannot_use_await_at_the_top_level)),t=!0;break}case 7:case 99:case 200:case 4:if(R>=4)break;default:null!=r||(r=Yp(n,e.pos));const i=vF(e)?ma.Top_level_await_expressions_are_only_allowed_when_the_module_option_is_set_to_es2022_esnext_system_node16_node18_nodenext_or_preserve_and_the_target_option_is_set_to_es2017_or_higher:ma.Top_level_await_using_statements_are_only_allowed_when_the_module_option_is_set_to_es2022_esnext_system_node16_node18_nodenext_or_preserve_and_the_target_option_is_set_to_es2017_or_higher;po.add(ek(n,r.start,r.length,i)),t=!0}}}else{const r=Sd(e);if(!Pq(r)){const i=Yp(r,e.pos),o=vF(e)?ma.await_expressions_are_only_allowed_within_async_functions_and_at_the_top_levels_of_modules:ma.await_using_statements_are_only_allowed_within_async_functions_and_at_the_top_levels_of_modules,a=ek(r,i.start,i.length,o);!n||176===n.kind||2&Mh(n)||uT(a,qp(n,ma.Did_you_mean_to_mark_this_function_as_async)),po.add(a),t=!0}}return vF(e)&&iA(e)&&(Lo(e,ma.await_expressions_cannot_be_used_in_a_parameter_initializer),t=!0),t}function Wj(e){return Hj(e,2112)?Kj(e,3)||Hj(e,296)?yn:$t:Ut}function $j(e,t){if(Hj(e,t))return!0;const n=uf(e);return!!n&&Hj(n,t)}function Hj(e,t){if(e.flags&t)return!0;if(3145728&e.flags){const n=e.types;for(const e of n)if(Hj(e,t))return!0}return!1}function Kj(e,t,n){return!!(e.flags&t)||!(n&&114691&e.flags)&&(!!(296&t)&&PS(e,Ut)||!!(2112&t)&&PS(e,$t)||!!(402653316&t)&&PS(e,Vt)||!!(528&t)&&PS(e,tn)||!!(16384&t)&&PS(e,cn)||!!(131072&t)&&PS(e,_n)||!!(65536&t)&&PS(e,zt)||!!(32768&t)&&PS(e,Lt)||!!(4096&t)&&PS(e,an)||!!(67108864&t)&&PS(e,mn))}function Gj(e,t,n){return 1048576&e.flags?x(e.types,e=>Gj(e,t,n)):Kj(e,t,n)}function Xj(e){return!!(16&xx(e))&&!!e.symbol&&Qj(e.symbol)}function Qj(e){return!!(128&e.flags)}function Zj(e){const t=DB("hasInstance");if(Gj(e,67108864)){const n=Gf(e,t);if(n){const e=w_(n);if(e&&0!==Qf(e,0).length)return e}}}function Yj(e,t,n,r){return n===un||r===un?un:(nN(e)?((R<Pi.PrivateNamesAndClassStaticBlocks||R<Pi.ClassAndClassElementDecorators||!J)&&aq(e,2097152),!ra(e).resolvedSymbol&&em(e)&&fO(e,r,cO(e,r.symbol,!0))):LS(HI(n,e),hn,e),LS(HI(r,t),mn,t)&&dF(r,e=>e===An||!!(2097152&e.flags)&&ZS(uf(e)))&&Lo(t,ma.Type_0_may_represent_a_primitive_value_which_is_not_permitted_as_the_right_operand_of_the_in_operator,oc(r)),tn)}function eR(e,t,n,r,i=!1){const o=e.properties,a=o[n];if(303===a.kind||304===a.kind){const e=a.name,n=Xb(e);if(dC(n)){const e=Gf(t,pC(n));e&&(SO(e,a,i),MI(a,!1,!0,t,e))}const r=Zc(a,Lx(t,n,32|(GA(a)?16:0),e));return nR(304===a.kind?a:a.initializer,r)}if(305===a.kind){if(!(n<o.length-1)){R<Pi.ObjectSpreadRest&&aq(a,4);const e=[];if(r)for(const t of r)eP(t)||e.push(t.name);const n=Gc(t,e,t.symbol);return _q(r,ma.A_rest_parameter_or_binding_pattern_may_not_have_a_trailing_comma),nR(a.expression,n)}Lo(a,ma.A_rest_element_must_be_last_in_a_destructuring_pattern)}else Lo(a,ma.Property_assignment_expected)}function tR(e,t,n,r,i){const o=e.elements,a=o[n];if(232!==a.kind){if(230!==a.kind){const e=yk(n);if(zC(t)){const n=Rx(t,e,32|(GA(a)?16:0),tL(a,e))||Et;return nR(a,Zc(a,GA(a)?eN(n,524288):n),i)}return nR(a,r,i)}if(n<o.length-1)Lo(a,ma.A_rest_element_must_be_last_in_a_destructuring_pattern);else{const o=a.expression;if(226!==o.kind||64!==o.operatorToken.kind)return _q(e.elements,ma.A_rest_parameter_or_binding_pattern_may_not_have_a_trailing_comma),nR(o,gF(t,ow)?CF(t,e=>nb(e,n)):Dv(r),i);Lo(o.operatorToken,ma.A_rest_element_cannot_have_an_initializer)}}}function nR(e,t,n,r){let i;if(304===e.kind){const r=e;r.objectAssignmentInitializer&&($&&!ZD(IR(r.objectAssignmentInitializer),16777216)&&(t=eN(t,524288)),function(e,t,n,r,i){const o=t.kind;if(64===o&&(210===e.kind||209===e.kind))return nR(e,IR(n,r),r,110===n.kind);let a;a=Yv(o)?_B(e,r):IR(e,r);const s=IR(n,r);aR(e,t,n,a,s,r,i)}(r.name,r.equalsToken,r.objectAssignmentInitializer,n)),i=e.name}else i=e;return 226===i.kind&&64===i.operatorToken.kind&&(le(i,n),i=i.left,$&&(t=eN(t,524288))),210===i.kind?function(e,t,n){const r=e.properties;if($&&0===r.length)return HI(t,e);for(let i=0;i<r.length;i++)eR(e,t,i,r,n);return t}(i,t,r):209===i.kind?function(e,t,n){const r=e.elements;R<Pi.DestructuringAssignment&&I.downlevelIteration&&aq(e,512);const i=pB(193,t,Lt,e)||Et;let o=I.noUncheckedIndexedAccess?void 0:i;for(let a=0;a<r.length;a++){let r=i;230===e.elements[a].kind&&(r=o=null!=o?o:pB(65,t,Lt,e)||Et),tR(e,t,a,r,n)}return t}(i,t,n):function(e,t,n){const r=IR(e,n),i=305===e.parent.kind?ma.The_target_of_an_object_rest_assignment_must_be_a_variable_or_a_property_access:ma.The_left_hand_side_of_an_assignment_expression_must_be_a_variable_or_a_property_access,o=305===e.parent.kind?ma.The_target_of_an_object_rest_assignment_may_not_be_an_optional_property_access:ma.The_left_hand_side_of_an_assignment_expression_may_not_be_an_optional_property_access;return qj(e,i,o)&&jS(t,r,e,e),e_(e)&&aq(e.parent,1048576),t}(i,t,n)}function rR(e){switch((e=_h(e)).kind){case 80:case 11:case 14:case 215:case 228:case 15:case 9:case 10:case 112:case 97:case 106:case 157:case 218:case 231:case 219:case 209:case 210:case 221:case 235:case 285:case 284:return!0;case 227:return rR(e.whenTrue)&&rR(e.whenFalse);case 226:return!ob(e.operatorToken.kind)&&rR(e.left)&&rR(e.right);case 224:case 225:switch(e.operator){case 54:case 40:case 41:case 55:return!0}return!1;default:return!1}}function iR(e,t){return!!(98304&t.flags)||IS(e,t)}function oR(e){switch((e=kA(e)).kind){case 223:case 213:case 215:case 212:case 236:case 214:case 211:case 229:case 110:return 3;case 226:switch(e.operatorToken.kind){case 64:case 61:case 78:case 57:case 76:case 56:case 77:return 3;case 28:return oR(e.right)}return 2;case 227:return oR(e.whenTrue)|oR(e.whenFalse);case 106:return 1;case 80:return PD(e)===Ce?1:3}return 2}function aR(e,t,n,r,i,o,s){const c=t.kind;switch(c){case 42:case 43:case 67:case 68:case 44:case 69:case 45:case 70:case 41:case 66:case 48:case 71:case 49:case 72:case 50:case 73:case 52:case 75:case 53:case 79:case 51:case 74:if(r===un||i===un)return un;let a;if(r=HI(r,e),i=HI(i,n),528&r.flags&&528&i.flags&&void 0!==(a=function(e){switch(e){case 52:case 75:return 57;case 53:case 79:return 38;case 51:case 74:return 56;default:return}}(t.kind)))return Lo(s||t,ma.The_0_operator_is_not_allowed_for_boolean_types_Consider_using_1_instead,Oa(t.kind),Oa(a)),Ut;{const o=Mj(e,r,ma.The_left_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_bigint_or_an_enum_type,!0),a=Mj(n,i,ma.The_right_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_bigint_or_an_enum_type,!0);let l;if(Kj(r,3)&&Kj(i,3)||!Hj(r,2112)&&!Hj(i,2112))l=Ut;else if(u(r,i)){switch(c){case 50:case 73:m();break;case 43:case 68:R<3&&Lo(s,ma.Exponentiation_cannot_be_performed_on_bigint_values_unless_the_target_option_is_set_to_es2016_or_later)}l=$t}else m(u),l=Et;if(o&&a)switch(p(l),c){case 48:case 71:case 49:case 72:case 50:case 73:const r=Se(n);"number"==typeof r.value&&Math.abs(r.value)>=32&&Mo(tP(sh(n.parent.parent)),s||t,ma.This_operation_can_be_simplified_This_shift_is_identical_to_0_1_2,ep(e),Oa(c),r.value%32)}return l}case 40:case 65:if(r===un||i===un)return un;let h;if(Kj(r,402653316)||Kj(i,402653316)||(r=HI(r,e),i=HI(i,n)),Kj(r,296,!0)&&Kj(i,296,!0)?h=Ut:Kj(r,2112,!0)&&Kj(i,2112,!0)?h=$t:Kj(r,402653316,!0)||Kj(i,402653316,!0)?h=Vt:($c(r)||$c(i))&&(h=Hc(r)||Hc(i)?Et:wt),h&&!d(c))return h;if(!h){const e=402655727;return m((t,n)=>Kj(t,e)&&Kj(n,e)),wt}return 65===c&&p(h),h;case 30:case 32:case 33:case 34:return d(c)&&(r=ew(HI(r,e)),i=ew(HI(i,n)),f((e,t)=>{if($c(e)||$c(t))return!0;const n=PS(e,yn),r=PS(t,yn);return n&&r||!n&&!r&&OS(e,t)})),tn;case 35:case 36:case 37:case 38:if(!(o&&64&o)){if((Bl(e)||Bl(n))&&(!Om(e)||37===c||38===c)){const e=35===c||37===c;Lo(s,ma.This_condition_will_always_return_0_since_JavaScript_compares_objects_by_reference_not_value,e?"false":"true")}!function(e,t,n,r){const i=g(_h(n)),o=g(_h(r));if(i||o){const a=Lo(e,ma.This_condition_will_always_return_0,Oa(37===t||35===t?97:112));if(i&&o)return;const s=38===t||36===t?Oa(54):"",c=i?r:n,l=_h(c);uT(a,qp(c,ma.Did_you_mean_0,`${s}Number.isNaN(${ub(l)?zp(l):"..."})`))}}(s,c,e,n),f((e,t)=>iR(e,t)||iR(t,e))}return tn;case 104:return function(e,t,n,r,i){if(n===un||r===un)return un;!$c(n)&&Gj(n,402784252)&&Lo(e,ma.The_left_hand_side_of_an_instanceof_expression_must_be_of_type_any_an_object_type_or_a_type_parameter),fn.assert(bb(e.parent));const o=TL(e.parent,void 0,i);return o===li?un:(LS(zg(o),tn,t,ma.An_object_s_Symbol_hasInstance_method_must_return_a_boolean_value_for_it_to_be_used_on_the_right_hand_side_of_an_instanceof_expression),tn)}(e,n,r,i,o);case 103:return Yj(e,n,r,i);case 56:case 77:{const e=ZD(r,4194304)?Ob([(_=$?r:YC(i),CF(_,mw)),i]):r;return 77===c&&p(i),e}case 57:case 76:{const e=ZD(r,8388608)?Ob([vw(fw(r)),i],2):r;return 76===c&&p(i),e}case 61:case 78:{const e=ZD(r,262144)?Ob([vw(r),i],2):r;return 78===c&&p(i),e}case 64:const y=kF(e.parent)?og(e.parent):0;return function(e,t){if(2===e)for(const n of wp(t)){const e=w_(n);if(e.symbol&&32&e.symbol.flags){const e=n.escapedName,t=ze(n.valueDeclaration,e,788968,void 0,!1);(null==t?void 0:t.declarations)&&t.declarations.some(BP)&&(Zo(t,ma.Duplicate_identifier_0,bc(e),n),Zo(n,ma.Duplicate_identifier_0,bc(e),t))}}}(y,i),function(t){var r;switch(t){case 2:return!0;case 1:case 5:case 6:case 3:case 4:const t=ms(e),i=Xm(n);return!!i&&aF(i)&&!!(null==(r=null==t?void 0:t.exports)?void 0:r.size);default:return!1}}(y)?(524288&i.flags&&(2===y||6===y||QS(i)||XD(i)||1&xx(i))||p(i),r):(p(i),i);case 28:if(!I.allowUnreachableCode&&rR(e)&&!(217===(l=e.parent).parent.kind&&jD(l.left)&&"0"===l.left.text&&(lF(l.parent.parent)&&l.parent.parent.expression===l.parent||215===l.parent.parent.kind)&&(Nx(l.right)||tN(l.right)&&"eval"===l.right.escapedText))){const t=Sd(e),n=ns(t.text,e.pos);t.parseDiagnostics.some(e=>e.code===ma.JSX_expressions_must_have_one_parent_element.code&&js(e,n))||Lo(e,ma.Left_side_of_comma_operator_is_unused_and_has_no_side_effects)}return i;default:return fn.fail()}var l,_;function u(e,t){return Kj(e,2112)&&Kj(t,2112)}function d(t){const o=$j(r,12288)?e:$j(i,12288)?n:void 0;return!o||(Lo(o,ma.The_0_operator_cannot_be_applied_to_type_symbol,Oa(t)),!1)}function p(i){ob(c)&&a(function(){let o=r;if(sz(t.kind)&&211===e.kind&&(o=QI(e,void 0,!0)),qj(e,ma.The_left_hand_side_of_an_assignment_expression_must_be_a_variable_or_a_property_access,ma.The_left_hand_side_of_an_assignment_expression_may_not_be_an_optional_property_access)){let t;if(oe&&sF(e)&&Hj(i,32768)){const n=Uc(ER(e.expression),e.name.escapedText);kT(i,n)&&(t=ma.Type_0_is_not_assignable_to_type_1_with_exactOptionalPropertyTypes_Colon_true_Consider_adding_undefined_to_the_type_of_the_target)}jS(i,o,e,n,t)}})}function f(e){return!e(r,i)&&(m(e),!0)}function m(e){let n=!1;const o=s||t;if(e){const t=fM(r),o=fM(i);n=!(t===r&&o===i)&&!(!t||!o)&&e(t,o)}let a=r,c=i;!n&&e&&([a,c]=function(e,t,n){let r=e,i=t;const o=YC(e),a=YC(t);return n(o,a)||(r=o,i=a),[r,i]}(r,i,e));const[l,_]=ac(a,c);(function(e,n,r,i){switch(t.kind){case 37:case 35:case 38:case 36:return Bo(e,n,ma.This_comparison_appears_to_be_unintentional_because_the_types_0_and_1_have_no_overlap,r,i);default:return}})(o,n,l,_)||Bo(o,n,ma.Operator_0_cannot_be_applied_to_types_1_and_2,Oa(t.kind),l,_)}function g(e){if(tN(e)&&"NaN"===e.escapedText){const t=Wr||(Wr=Vy("NaN",!1));return!!t&&t===PD(e)}return!1}}function sR(e){const t=e.parent;return pF(t)&&sR(t)||cF(t)&&t.argumentExpression===e}function cR(e){const t=[e.head.text],n=[];for(const i of e.templateSpans){const e=IR(i.expression);$j(e,12288)&&Lo(i.expression,ma.Implicit_conversion_of_a_symbol_to_a_string_will_fail_at_runtime_Consider_wrapping_this_expression_in_String),t.push(i.literal.text),n.push(PS(e,vn)?e:Vt)}const r=215!==e.parent.kind&&Se(e).value;return r?fk(hk(r)):yR(e)||sR(e)||dF(OA(e,void 0)||Ot,lR)?rx(t,n):Vt}function lR(e){return!!(134217856&e.flags||58982400&e.flags&&Hj(_f(e)||Ot,402653316))}function _R(e,t,n,r){const i=function(e){return UE(e)&&!RE(e.parent)?e.parent.parent:e}(e);jA(i,t,!1),function(e,t){Ii[Li]=e,Oi[Li]=t,Li++}(i,n);const o=IR(e,1|r|(n?2:0));n&&n.intraExpressionInferenceSites&&(n.intraExpressionInferenceSites=void 0);const a=Hj(o,2944)&&hR(o,AA(t,e,void 0))?mk(o):o;return Li--,RA(),a}function uR(e,t){if(t)return IR(e,t);const n=ra(e);if(!n.resolvedType){const r=ki,i=ri;ki=Si,ri=void 0,n.resolvedType=IR(e,t),ri=i,ki=r}return n.resolvedType}function dR(e){return 216===(e=_h(e,!0)).kind||234===e.kind||vA(e)}function pR(e,t,n){const r=Km(e);if(Om(e)){const n=oC(e);if(n)return VL(r,n,t)}const i=PR(r)||(n?_R(r,n,void 0,t||0):uR(r,t));if(vN(iF(e)?sc(e):e)){if(206===e.name.kind&&SD(i))return function(e,t){let n;for(const o of t.elements)if(o.initializer){const t=fR(o);t&&!Gf(e,t)&&(n=se(n,o))}if(!n)return e;const r=Yu();for(const o of wp(e))r.set(o.escapedName,o);for(const o of n){const e=Wo(16777220,fR(o));e.links.type=jl(o,!1,!1),r.set(e.escapedName,e)}const i=Js(e.symbol,r,u,u,Am(e));return i.objectFlags=e.objectFlags,i}(i,e.name);if(207===e.name.kind&&ow(i))return function(e,t){if(12&e.target.combinedFlags||dy(e)>=t.elements.length)return e;const n=t.elements,r=Sb(e).slice(),i=e.target.elementFlags.slice();for(let o=dy(e);o<n.length;o++){const e=n[o];(o<n.length-1||208!==e.kind||!e.dotDotDotToken)&&(r.push(!NF(e)&&GA(e)?jl(e,!1,!1):wt),i.push(2),NF(e)||GA(e)||qw(e,wt))}return Gv(r,i,e.target.readonly)}(i,e.name)}return i}function fR(e){const t=Xb(e.propertyName||e.name);return dC(t)?pC(t):void 0}function mR(e,t){const n=gR(e,t);if(Om(e)){if(UC(n))return qw(e,wt),wt;if(WC(n))return qw(e,cr),cr}return n}function gR(e,t){return 6&Vq(e)||sf(e)?t:tw(t)}function hR(e,t){if(t){if(3145728&t.flags)return K(t.types,t=>hR(e,t));if(58982400&t.flags){const n=_f(t)||Ot;return Hj(n,4)&&Hj(e,128)||Hj(n,8)&&Hj(e,256)||Hj(n,64)&&Hj(e,2048)||Hj(n,4096)&&Hj(e,8192)||hR(e,n)}return!!(406847616&t.flags&&Hj(e,128)||256&t.flags&&Hj(e,256)||2048&t.flags&&Hj(e,2048)||512&t.flags&&Hj(e,512)||8192&t.flags&&Hj(e,8192))}return!1}function yR(e){const t=e.parent;return X_(t)&&Dl(t.type)||vA(t)&&Dl(bA(t))||RL(e)&&Up(OA(e,0))||(pF(t)||oF(t)||wF(t))&&yR(t)||(ZE(t)||YE(t)||RF(t))&&yR(t.parent)}function vR(e,t,n){const r=IR(e,t,n);return yR(e)||Mf(e)?mk(r):dR(e)?r:rw(r,AA(OA(e,void 0),e,void 0))}function bR(e,t){return 167===e.name.kind&&YA(e.name),vR(e.initializer,t)}function xR(e,t){return Tq(e),167===e.name.kind&&YA(e.name),kR(e,Rj(e,t),t)}function kR(e,t,n){if(n&&10&n){const r=UO(t,0,!0),i=UO(t,1,!0),o=r||i;if(o&&o.typeParameters){const t=PA(e,2);if(t){const i=UO(vw(t),r?0:1,!1);if(i&&!i.typeParameters){if(8&n)return SR(e,n),Ln;const t=BA(e),r=t.signature&&zg(t.signature),a=r&&VO(r);if(a&&!a.typeParameters&&!x(t.inferences,TR)){const e=function(e,t){const n=[];let r,i;for(const o of t){const t=o.symbol.escapedName;if(wR(e.inferredTypeParameters,t)||wR(n,t)){const a=As(Wo(262144,DR(X(e.inferredTypeParameters,n),t)));a.target=o,r=se(r,o),i=se(i,a),n.push(a)}else n.push(o)}if(i){const e=Vk(r,i);for(const t of i)t.mapper=e}return n}(t,o.typeParameters),n=rh(o,e),r=A(t.inferences,e=>Yw(e.typeParameter));if(Uw(n,i,(e,t)=>{bD(r,e,t,0,!0)}),K(r,TR)&&(Ww(n,i,(e,t)=>{bD(r,e,t)}),!function(e,t){for(let n=0;n<e.length;n++)if(TR(e[n])&&TR(t[n]))return!0;return!1}(t.inferences,r)))return function(e,t){for(let n=0;n<e.length;n++)!TR(e[n])&&TR(t[n])&&(e[n]=t[n])}(t.inferences,r),t.inferredTypeParameters=X(t.inferredTypeParameters,e),Eh(n)}return Eh(WO(o,i,t),j(Oi,e=>e&&A(e.inferences,e=>e.typeParameter)).slice())}}}}return t}function SR(e,t){2&t&&(BA(e).flags|=4)}function TR(e){return!(!e.candidates&&!e.contraCandidates)}function CR(e){return!!(e.candidates||e.contraCandidates||vf(e.typeParameter))}function wR(e,t){return K(e,e=>e.symbol.escapedName===t)}function DR(e,t){let n=t.length;for(;n>1&&t.charCodeAt(n-1)>=48&&t.charCodeAt(n-1)<=57;)n--;const r=t.slice(0,n);for(let i=1;;i++){const t=r+i;if(!wR(e,t))return t}}function NR(e){const t=qO(e);if(t&&!t.typeParameters)return zg(t)}function ER(e){const t=PR(e);if(t)return t;if(268435456&e.flags&&ri){const t=ri[rJ(e)];if(t)return t}const n=wi,r=IR(e,64);return wi!==n&&((ri||(ri=[]))[rJ(e)]=r,AT(e,268435456|e.flags)),r}function PR(e){let t=_h(e,!0);if(vA(t)){const e=bA(t);if(!Dl(e))return Pk(e)}if(t=_h(e),vF(t)){const e=PR(t.expression);return e?pM(e):void 0}return!lF(t)||108===t.expression.kind||Bm(t,!0)||EL(t)?X_(t)&&!Dl(t.type)?Pk(t.type):Ml(e)||u_(e)?IR(e):void 0:xl(t)?function(e){const t=IR(e.expression),n=Sw(t,e.expression),r=NR(t);return r&&kw(r,e,n!==t)}(t):NR(zI(t.expression))}function AR(e){const t=ra(e);if(t.contextFreeType)return t.contextFreeType;jA(e,wt,!1);const n=t.contextFreeType=IR(e,4);return RA(),n}function IR(n,i,o){var s,c;null==(s=Xn)||s.push(Xn.Phase.Check,"checkExpression",{kind:n.kind,pos:n.pos,end:n.end,path:n.tracingPath});const l=r;r=n,h=0;const _=function(e,n,r){const i=e.kind;if(t)switch(i){case 231:case 218:case 219:t.throwIfCancellationRequested()}switch(i){case 80:return IP(e,n);case 81:return rO(e);case 110:return HP(e);case 108:return GP(e);case 106:return qt;case 15:case 11:return uD(e)?Ft:fk(hk(e.text));case 9:return Mq(e),fk(yk(+e.text));case 10:return function(e){const t=ZN(e.parent)||bF(e.parent)&&ZN(e.parent.parent);!t&&R<7&&Oq(e,ma.BigInt_literals_are_not_available_when_targeting_lower_than_ES2020)}(e),fk(vk({negative:!1,base10Value:bT(e.text)}));case 112:return Gt;case 97:return Ht;case 228:return cR(e);case 14:return KA(e);case 209:return XA(e,n,r);case 210:return aI(e,n);case 211:return QI(e,n);case 166:return ZI(e,n);case 212:return EO(e,n);case 213:if(102===e.expression.kind)return PL(e);case 214:return function(e,t){var n,r,i;fq(e,e.typeArguments);const o=TL(e,void 0,t);if(o===li)return un;if(NL(o,e),108===e.expression.kind)return cn;if(214===e.kind){const t=o.declaration;if(t&&176!==t.kind&&180!==t.kind&&185!==t.kind&&(!bP(t)||176!==(null==(r=null==(n=Gg(t))?void 0:n.parent)?void 0:r.kind))&&!Pg(t)&&!CL(t))return te&&Lo(e,ma.new_expression_whose_target_lacks_a_construct_signature_implicitly_has_an_any_type),wt}if(Om(e)&&LL(e))return Og(e.arguments[0]);const a=zg(o);if(12288&a.flags&&EL(e))return xk(sh(e.parent));if(213===e.kind&&!e.questionDotToken&&244===e.parent.kind&&16384&a.flags&&Rg(o))if(pb(e.expression)){if(!eE(e)){const t=Lo(e.expression,ma.Assertions_require_every_name_in_the_call_target_to_be_declared_with_an_explicit_type_annotation);YF(e.expression,t)}}else Lo(e.expression,ma.Assertions_require_the_call_target_to_be_an_identifier_or_qualified_name);if(Om(e)){const t=DL(e,!1);if(null==(i=null==t?void 0:t.exports)?void 0:i.size){const e=Js(t,t.exports,u,u,u);return e.objectFlags|=4096,qb([a,e])}}return a}(e,n);case 215:return jL(e);case 217:return function(e,t){if(Iu(e)){if(rC(e))return VL(e.expression,iC(e),t);if(vA(e))return ML(e,t)}return IR(e.expression,t)}(e,n);case 231:return function(e){return vJ(e),ZJ(e),function(e){var t;if(e.name)return;const n=SA(e);if(!Zh(n))return;let r;r=!B&&R<Pi.ClassAndClassElementDecorators&&bm(!1,e)?null!=(t=he(Ac(e)))?t:e:yJ(e),r&&(aq(r,4194304),(ZE(n)||kN(n)||iF(n))&&hN(n.name)&&aq(r,8388608))}(e),w_(fs(e))}(e);case 218:case 219:return Rj(e,n);case 221:return function(e){return IR(e.expression),mo}(e);case 216:case 234:return function(e,t){if(216===e.kind){const t=Sd(e);if(t&&No(t.fileName,[".cts",".mts"])&&Oq(e,ma.This_syntax_is_reserved_in_files_with_the_mts_or_cts_extension_Use_an_as_expression_instead),I.erasableSyntaxOnly){const n=ns(t.text,e.pos),r=e.expression.pos;po.add(ek(t,n,r-n,ma.This_syntax_is_not_allowed_when_erasableSyntaxOnly_is_enabled))}}return ML(e,t)}(e,n);case 235:return JL(e);case 233:return zL(e);case 238:return function(e){return GJ(e.type),VL(e.expression,e.type)}(e);case 236:return UL(e);case 220:return Vj(e);case 222:return function(e){return ZJ(e),jt}(e);case 223:return function(e){a(()=>Uj(e));const t=IR(e.expression),n=sM(t,!0,e,ma.Type_of_await_operand_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member);return n!==t||Hc(n)||3&t.flags||Ro(!1,qp(e,ma.await_has_no_effect_on_the_type_of_this_expression)),n}(e);case 224:return function(e){const t=IR(e.operand);if(t===un)return un;switch(e.operand.kind){case 9:switch(e.operator){case 41:return fk(yk(-e.operand.text));case 40:return fk(yk(+e.operand.text))}break;case 10:if(41===e.operator)return fk(vk({negative:!0,base10Value:bT(e.operand.text)}))}switch(e.operator){case 40:case 41:case 55:return HI(t,e.operand),$j(t,12288)&&Lo(e.operand,ma.The_0_operator_cannot_be_applied_to_type_symbol,Oa(e.operator)),40===e.operator?($j(t,2112)&&Lo(e.operand,ma.Operator_0_cannot_be_applied_to_type_1,Oa(e.operator),oc(YC(t))),Ut):Wj(t);case 54:cB(t,e.operand);const n=QD(t,12582912);return 4194304===n?Ht:8388608===n?Gt:tn;case 46:case 47:return Mj(e.operand,HI(t,e.operand),ma.An_arithmetic_operand_must_be_of_type_any_number_bigint_or_an_enum_type)&&qj(e.operand,ma.The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_or_a_property_access,ma.The_operand_of_an_increment_or_decrement_operator_may_not_be_an_optional_property_access),Wj(t)}return Et}(e);case 225:return function(e){const t=IR(e.operand);return t===un?un:(Mj(e.operand,HI(t,e.operand),ma.An_arithmetic_operand_must_be_of_type_any_number_bigint_or_an_enum_type)&&qj(e.operand,ma.The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_or_a_property_access,ma.The_operand_of_an_increment_or_decrement_operator_may_not_be_an_optional_property_access),Wj(t))}(e);case 226:return le(e,n);case 227:return function(e,t){const n=_B(e.condition,t);return sB(e.condition,n,e.whenTrue),Ob([IR(e.whenTrue,t),IR(e.whenFalse,t)],2)}(e,n);case 230:return function(e,t){return R<Pi.SpreadElements&&aq(e,I.downlevelIteration?1536:1024),pB(33,IR(e.expression,t),Lt,e.expression)}(e,n);case 232:return jt;case 229:return function(e){a(function(){16384&e.flags||Aq(e,ma.A_yield_expression_is_only_allowed_in_a_generator_body),iA(e)&&Lo(e,ma.yield_expressions_cannot_be_used_in_a_parameter_initializer)});const t=Zf(e);if(!t)return wt;const n=Mh(t);if(!(1&n))return wt;const r=!!(2&n);e.asteriskToken&&(r&&R<Pi.AsyncGenerators&&aq(e,26624),!r&&R<Pi.Generators&&I.downlevelIteration&&aq(e,256));let i=qg(t);i&&1048576&i.flags&&(i=yF(i,e=>MR(e,n,void 0)));const o=i&&RB(i,r),s=o&&o.yieldType||wt,c=o&&o.nextType||wt,l=e.expression?IR(e.expression):jt,_=Pj(e,l,c,r);if(i&&_&&jS(_,s,e.expression||e,e.expression),e.asteriskToken)return mB(r?19:17,1,l,e.expression)||wt;if(i)return jB(2,i,r)||wt;let u=oA(2,t);return u||(u=wt,a(()=>{if(te&&!RT(e)){const t=OA(e,void 0);t&&!$c(t)||Lo(e,ma.yield_expression_implicitly_results_in_an_any_type_because_its_containing_generator_lacks_a_return_type_annotation)}})),u}(e);case 237:return function(e){return e.isSpread?Lx(e.type,Ut):e.type}(e);case 294:return LI(e,n);case 284:case 285:return function(e){return ZJ(e),NI(e)||wt}(e);case 288:return function(e){AI(e.openingFragment);const t=Sd(e);!Zk(I)||!I.jsxFactory&&!t.pragmas.has("jsx")||I.jsxFragmentFactory||t.pragmas.has("jsxfrag")||Lo(e,I.jsxFactory?ma.The_jsxFragmentFactory_compiler_option_must_be_provided_to_use_JSX_fragments_with_the_jsxFactory_compiler_option:ma.An_jsxFrag_pragma_is_required_when_using_an_jsx_pragma_with_JSX_fragments),dI(e);const n=NI(e);return Hc(n)?wt:n}(e);case 292:return function(e,t){return uI(e.parent,t)}(e,n);case 286:fn.fail("Shouldn't ever directly check a JsxOpeningElement")}return Et}(n,i,o),d=kR(n,_,i);return Xj(d)&&function(t,n){const r=211===t.parent.kind&&t.parent.expression===t||212===t.parent.kind&&t.parent.expression===t||(80===t.kind||166===t.kind)&&uz(t)||186===t.parent.kind&&t.parent.exprName===t||281===t.parent.kind;if(r||Lo(t,ma.const_enums_can_only_be_used_in_property_or_index_access_expressions_or_the_right_hand_side_of_an_import_declaration_or_export_assignment_or_type_query),I.isolatedModules||I.verbatimModuleSyntax&&r&&!ze(t,db(t),2097152,void 0,!1,!0)){fn.assert(!!(128&n.symbol.flags));const r=n.symbol.valueDeclaration,i=e.getRedirectReferenceForResolutionFromSourceOfProject(Sd(r).resolvedPath);!(33554432&r.flags)||CT(t)||i&&Ok(i.commandLine.options)||Lo(t,ma.Cannot_access_ambient_const_enums_when_0_is_enabled,Le)}}(n,d),r=l,null==(c=Xn)||c.pop(),d}function OR(e){cq(e),e.expression&&Aq(e.expression,ma.Type_expected),GJ(e.constraint),GJ(e.default);const t=hu(fs(e));_f(t),function(e){return hf(e)!==Rn}(t)||Lo(e.default,ma.Type_parameter_0_has_a_circular_default,oc(t));const n=Bp(t),r=yf(t);n&&r&&LS(r,yd(gS(n,Kk(t,r)),r),e.default,ma.Type_0_does_not_satisfy_the_constraint_1),ZJ(e),a(()=>aJ(e.name,ma.Type_parameter_name_cannot_be_0))}function LR(e){cq(e),ZM(e);const t=Zf(e);Av(e,31)&&(I.erasableSyntaxOnly&&Lo(e,ma.This_syntax_is_not_allowed_when_erasableSyntaxOnly_is_enabled),176===t.kind&&Ad(t.body)||Lo(e,ma.A_parameter_property_is_only_allowed_in_a_constructor_implementation),176===t.kind&&tN(e.name)&&"constructor"===e.name.escapedText&&Lo(e.name,ma.constructor_cannot_be_used_as_a_parameter_property_name)),!e.initializer&&tC(e)&&D_(e.name)&&t.body&&Lo(e,ma.A_binding_pattern_parameter_cannot_be_optional_in_an_implementation_signature),e.name&&tN(e.name)&&("this"===e.name.escapedText||"new"===e.name.escapedText)&&(0!==t.parameters.indexOf(e)&&Lo(e,ma.A_0_parameter_must_be_the_first_parameter,e.name.escapedText),176!==t.kind&&180!==t.kind&&185!==t.kind||Lo(e,ma.A_constructor_cannot_have_a_this_parameter),219===t.kind&&Lo(e,ma.An_arrow_function_cannot_have_a_this_parameter),177!==t.kind&&178!==t.kind||Lo(e,ma.get_and_set_accessors_cannot_declare_this_parameters)),!e.dotDotDotToken||D_(e.name)||PS(Nf(w_(e.symbol)),_r)||Lo(e,ma.A_rest_parameter_must_be_of_an_array_type)}function jR(e,t,n){for(const r of e.elements){if(NF(r))continue;const e=r.name;if(80===e.kind&&e.escapedText===n)return Lo(t,ma.A_type_predicate_cannot_reference_element_0_in_a_binding_pattern,n),!0;if((207===e.kind||206===e.kind)&&jR(e,t,n))return!0}}function RR(e){181===e.kind?function(e){cq(e)||function(e){const t=e.parameters[0];if(1!==e.parameters.length)return Oq(t?t.name:e,ma.An_index_signature_must_have_exactly_one_parameter);if(_q(e.parameters,ma.An_index_signature_cannot_have_a_trailing_comma),t.dotDotDotToken)return Oq(t.dotDotDotToken,ma.An_index_signature_cannot_have_a_rest_parameter);if(Fv(t))return Oq(t.name,ma.An_index_signature_parameter_cannot_have_an_accessibility_modifier);if(t.questionToken)return Oq(t.questionToken,ma.An_index_signature_parameter_cannot_have_a_question_mark);if(t.initializer)return Oq(t.name,ma.An_index_signature_parameter_cannot_have_an_initializer);if(!t.type)return Oq(t.name,ma.An_index_signature_parameter_must_have_a_type_annotation);const n=Pk(t.type);dF(n,e=>!!(8576&e.flags))||Tx(n)?Oq(t.name,ma.An_index_signature_parameter_type_cannot_be_a_literal_type_or_generic_type_Consider_using_a_mapped_object_type_instead):gF(n,Rh)?e.type||Oq(e,ma.An_index_signature_must_have_a_type_annotation):Oq(t.name,ma.An_index_signature_parameter_type_must_be_string_number_symbol_or_a_template_literal_type)}(e)}(e):184!==e.kind&&262!==e.kind&&185!==e.kind&&179!==e.kind&&176!==e.kind&&180!==e.kind||pq(e);const t=Mh(e);4&t||(!(3&~t)&&R<Pi.AsyncGenerators&&aq(e,6144),2==(3&t)&&R<Pi.AsyncFunctions&&aq(e,64),3&t&&R<Pi.Generators&&aq(e,128)),mJ(ml(e)),function(e){const t=F(_l(e),OP);if(!p(t))return;const n=Om(e),r=new Set,i=new Set;f(e.parameters,({name:e},t)=>{tN(e)&&r.add(e.escapedText),D_(e)&&i.add(t)});const o=Ng(e);if(o){const e=t.length-1,o=t[e];n&&o&&tN(o.name)&&o.typeExpression&&o.typeExpression.type&&!r.has(o.name.escapedText)&&!i.has(e)&&!jC(Pk(o.typeExpression.type))&&Lo(o.name,ma.JSDoc_param_tag_has_name_0_but_there_is_no_parameter_with_that_name_It_would_match_arguments_if_it_had_an_array_type,xc(o.name))}else f(t,({name:e,isNameFirst:t},o)=>{i.has(o)||tN(e)&&r.has(e.escapedText)||(gN(e)?n&&Lo(e,ma.Qualified_name_0_is_not_allowed_without_a_leading_param_object_1,zp(e),zp(e.left)):t||Mo(n,e,ma.JSDoc_param_tag_has_name_0_but_there_is_no_parameter_with_that_name,xc(e)))})}(e),f(e.parameters,LR),e.type&&GJ(e.type),a(function(){!function(e){R>=2||!Vu(e)||33554432&e.flags||Pd(e.body)||f(e.parameters,e=>{e.name&&!D_(e.name)&&e.name.escapedText===Ie.escapedName&&Ao("noEmit",e,ma.Duplicate_identifier_arguments_Compiler_uses_arguments_to_initialize_rest_parameters)})}(e);let t=bv(e),n=t;if(Om(e)){const r=al(e);if(r&&r.typeExpression&&IN(r.typeExpression.type)){const e=qO(Pk(r.typeExpression));e&&e.declaration&&(t=bv(e.declaration),n=r.typeExpression.type)}}if(te&&!t)switch(e.kind){case 180:Lo(e,ma.Construct_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type);break;case 179:Lo(e,ma.Call_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type)}if(t&&n){const r=Mh(e);if(1==(5&r)){const e=Pk(t);e===cn?Lo(n,ma.A_generator_cannot_have_a_void_type_annotation):MR(e,r,n)}else 2==(3&r)&&function(e,t,n){const r=Pk(t);if(R>=2){if(Hc(r))return;const e=nv(!0);if(e!==On&&!P_(r,e))return void o(ma.The_return_type_of_an_async_function_or_method_must_be_the_global_Promise_T_type_Did_you_mean_to_write_Promise_0,t,n,oc(fM(r)||cn))}else{if(lP(e,5),Hc(r))return;const a=fm(t);if(void 0===a)return void o(ma.Type_0_is_not_a_valid_async_function_return_type_in_ES5_because_it_does_not_refer_to_a_Promise_compatible_constructor_value,t,n,oc(r));const s=Ka(a,111551,!0),c=s?w_(s):Et;if(Hc(c))return void(80===a.kind&&"Promise"===a.escapedText&&A_(r)===nv(!1)?Lo(n,ma.An_async_function_or_method_in_ES5_requires_the_Promise_constructor_Make_sure_you_have_a_declaration_for_the_Promise_constructor_or_include_ES2015_in_your_lib_option):o(ma.Type_0_is_not_a_valid_async_function_return_type_in_ES5_because_it_does_not_refer_to_a_Promise_compatible_constructor_value,t,n,zp(a)));const l=(i=!0,vr||(vr=Hy("PromiseConstructorLike",0,i))||Dn);if(l===Dn)return void o(ma.Type_0_is_not_a_valid_async_function_return_type_in_ES5_because_it_does_not_refer_to_a_Promise_compatible_constructor_value,t,n,zp(a));const _=ma.Type_0_is_not_a_valid_async_function_return_type_in_ES5_because_it_does_not_refer_to_a_Promise_compatible_constructor_value;if(!LS(c,l,n,_,()=>t===n?void 0:ik(void 0,ma.The_return_type_of_an_async_function_or_method_must_be_the_global_Promise_T_type)))return;const u=a&&db(a),d=oa(e.locals,u.escapedText,111551);if(d)return void Lo(d.valueDeclaration,ma.Duplicate_identifier_0_Compiler_uses_declaration_1_to_support_async_functions,xc(u),zp(a))}var i;function o(e,t,n,r){t===n?Lo(n,e,r):uT(Lo(n,ma.The_return_type_of_an_async_function_or_method_must_be_the_global_Promise_T_type),qp(t,e,r))}sM(r,!1,e,ma.The_return_type_of_an_async_function_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member)}(e,t,n)}181!==e.kind&&317!==e.kind&&wM(e)})}function MR(e,t,n){const r=jB(0,e,!!(2&t))||wt;return LS(Ej(r,jB(1,e,!!(2&t))||r,jB(2,e,!!(2&t))||Ot,!!(2&t)),e,n)}function BR(e){const t=new Map;for(const n of e.members)if(171===n.kind){let e;const r=n.name;switch(r.kind){case 11:case 9:e=r.text;break;case 80:e=xc(r);break;default:continue}t.get(e)?(Lo(Ec(n.symbol.valueDeclaration),ma.Duplicate_identifier_0,e),Lo(n.name,ma.Duplicate_identifier_0,e)):t.set(e,!0)}}function JR(e){if(264===e.kind){const t=fs(e);if(t.declarations&&t.declarations.length>0&&t.declarations[0]!==e)return}const t=Ph(fs(e));if(null==t?void 0:t.declarations){const e=new Map;for(const n of t.declarations)PN(n)&&1===n.parameters.length&&n.parameters[0].type&&tF(Pk(n.parameters[0].type),t=>{const r=e.get(Tb(t));r?r.declarations.push(n):e.set(Tb(t),{type:t,declarations:[n]})});e.forEach(e=>{if(e.declarations.length>1)for(const t of e.declarations)Lo(t,ma.Duplicate_index_signature_for_type_0,oc(e.type))})}}function zR(e){cq(e)||function(e){if(hN(e.name)&&kF(e.name.expression)&&103===e.name.expression.operatorToken.kind)return Oq(e.parent.members[0],ma.A_mapped_type_may_not_declare_properties_or_methods);if(g_(e.parent)){if(MD(e.name)&&"constructor"===e.name.text)return Oq(e.name,ma.Classes_may_not_have_a_field_named_constructor);if(Sq(e.name,ma.A_computed_property_name_in_a_class_property_declaration_must_have_a_simple_literal_type_or_a_unique_symbol_type))return!0;if(R<2&&nN(e.name))return Oq(e.name,ma.Private_identifiers_are_only_available_when_targeting_ECMAScript_2015_and_higher);if(R<2&&y_(e))return Oq(e.name,ma.Properties_with_the_accessor_modifier_are_only_available_when_targeting_ECMAScript_2015_and_higher);if(y_(e)&&vq(e.questionToken,ma.An_accessor_property_cannot_be_declared_optional))return!0}else if(264===e.parent.kind){if(Sq(e.name,ma.A_computed_property_name_in_an_interface_must_refer_to_an_expression_whose_type_is_a_literal_type_or_a_unique_symbol_type))return!0;if(fn.assertNode(e,xN),e.initializer)return Oq(e.initializer,ma.An_interface_property_cannot_have_an_initializer)}else if(RN(e.parent)){if(Sq(e.name,ma.A_computed_property_name_in_a_type_literal_must_refer_to_an_expression_whose_type_is_a_literal_type_or_a_unique_symbol_type))return!0;if(fn.assertNode(e,xN),e.initializer)return Oq(e.initializer,ma.A_type_literal_property_cannot_have_an_initializer)}if(33554432&e.flags&&wq(e),kN(e)&&e.exclamationToken&&(!g_(e.parent)||!e.type||e.initializer||33554432&e.flags||Iv(e)||jv(e))){const t=e.initializer?ma.Declarations_with_initializers_cannot_also_have_definite_assignment_assertions:e.type?ma.A_definite_assignment_assertion_is_not_permitted_in_this_context:ma.Declarations_with_definite_assignment_assertions_must_also_have_type_annotations;return Oq(e.exclamationToken,t)}}(e)||hq(e.name),ZM(e),qR(e),Av(e,64)&&172===e.kind&&e.initializer&&Lo(e,ma.Property_0_cannot_have_an_initializer_because_it_is_marked_abstract,jp(e.name))}function qR(e){if(nN(e.name)&&(R<Pi.PrivateNamesAndClassStaticBlocks||R<Pi.ClassAndClassElementDecorators||!J)){for(let t=Op(e);t;t=Op(t))ra(t).flags|=1048576;if(DF(e.parent)){const t=RP(e.parent);t&&(ra(e.name).flags|=32768,ra(t).flags|=4096)}}}function VR(e){RR(e),function(e){const t=Om(e)?xv(e):void 0,n=e.typeParameters||t&&he(t);if(n){const t=n.pos===n.end?n.pos:ns(Sd(e).text,n.pos);return Iq(e,t,n.end-t,ma.Type_parameters_cannot_appear_on_a_constructor_declaration)}}(e)||function(e){const t=e.type||bv(e);t&&Oq(t,ma.Type_annotation_cannot_appear_on_a_constructor_declaration)}(e),GJ(e.body);const t=fs(e),n=Qu(t,e.kind);function r(e){return!!Yl(e)||172===e.kind&&!Iv(e)&&!!e.initializer}e===n&&rM(t),Pd(e.body)||a(function(){const t=e.parent;if(Sh(t)){JP(e.parent,t);const n=UP(t),i=qP(e.body);if(i){if(n&&Lo(i,ma.A_constructor_cannot_contain_a_super_call_when_its_class_extends_null),!q&&(K(e.parent.members,r)||K(e.parameters,e=>Av(e,31))))if(function(e,t){const n=sh(e.parent);return qF(n)&&n.parent===t}(i,e.body)){let t;for(const n of e.body.statements){if(qF(n)&&pf(kA(n.expression))){t=n;break}if(UR(n))break}void 0===t&&Lo(e,ma.A_super_call_must_be_the_first_statement_in_the_constructor_to_refer_to_super_or_this_when_a_derived_class_contains_initialized_properties_parameter_properties_or_private_identifiers)}else Lo(i,ma.A_super_call_must_be_a_root_level_statement_within_a_constructor_of_a_derived_class_that_contains_initialized_properties_parameter_properties_or_private_identifiers)}else n||Lo(e,ma.Constructors_for_derived_classes_must_contain_a_super_call)}})}function UR(e){return 108===e.kind||110===e.kind||!om(e)&&!!KI(e,UR)}function WR(e){tN(e.name)&&"constructor"===xc(e.name)&&g_(e.parent)&&Lo(e.name,ma.Class_constructor_may_not_be_an_accessor),a(function(){if(pq(e)||function(e){if(!(33554432&e.flags)&&187!==e.parent.kind&&264!==e.parent.kind){if(R<2&&nN(e.name))return Oq(e.name,ma.Private_identifiers_are_only_available_when_targeting_ECMAScript_2015_and_higher);if(void 0===e.body&&!Av(e,64))return Iq(e,e.end-1,1,ma._0_expected,"{")}if(e.body){if(Av(e,64))return Oq(e,ma.An_abstract_accessor_cannot_have_an_implementation);if(187===e.parent.kind||264===e.parent.kind)return Oq(e.body,ma.An_implementation_cannot_be_declared_in_ambient_contexts)}if(e.typeParameters)return Oq(e.name,ma.An_accessor_cannot_have_type_parameters);if(!function(e){return kq(e)||e.parameters.length===(177===e.kind?0:1)}(e))return Oq(e.name,177===e.kind?ma.A_get_accessor_cannot_have_parameters:ma.A_set_accessor_must_have_exactly_one_parameter);if(178===e.kind){if(e.type)return Oq(e.name,ma.A_set_accessor_cannot_have_a_return_type_annotation);const t=fn.checkDefined(lv(e),"Return value does not match parameter count assertion.");if(t.dotDotDotToken)return Oq(t.dotDotDotToken,ma.A_set_accessor_cannot_have_rest_parameter);if(t.questionToken)return Oq(t.questionToken,ma.A_set_accessor_cannot_have_an_optional_parameter);if(t.initializer)return Oq(e.name,ma.A_set_accessor_parameter_cannot_have_an_initializer)}return!1}(e)||hq(e.name),SM(e),RR(e),177===e.kind&&!(33554432&e.flags)&&Ad(e.body)&&512&e.flags&&(1024&e.flags||Lo(e.name,ma.A_get_accessor_must_return_a_value)),167===e.name.kind&&YA(e.name),od(e)){const t=fs(e),n=Qu(t,177),r=Qu(t,178);if(n&&r&&!(1&Bz(n))){ra(n).flags|=1;const e=Uv(n),t=Uv(r);(64&e)!=(64&t)&&(Lo(n.name,ma.Accessors_must_both_be_abstract_or_non_abstract),Lo(r.name,ma.Accessors_must_both_be_abstract_or_non_abstract)),(4&e&&!(6&t)||2&e&&!(2&t))&&(Lo(n.name,ma.A_get_accessor_must_be_at_least_as_accessible_as_the_setter),Lo(r.name,ma.A_get_accessor_must_be_at_least_as_accessible_as_the_setter))}}const t=n_(fs(e));177===e.kind&&jj(e,t)}),GJ(e.body),qR(e)}function $R(e,t,n){return e.typeArguments&&n<e.typeArguments.length?Pk(e.typeArguments[n]):HR(e,t)[n]}function HR(e,t){return bg(A(e.typeArguments,Pk),t,yg(t),Om(e))}function KR(e,t){let n,r,i=!0;for(let o=0;o<t.length;o++){const a=Bp(t[o]);a&&(n||(n=HR(e,t),r=Vk(t,n)),i=i&&LS(n[o],gS(a,r),e.typeArguments[o],ma.Type_0_does_not_satisfy_the_constraint_1))}return i}function GR(e){const t=Pk(e);if(!Hc(t)){const n=ra(e).resolvedSymbol;if(n)return function(e,t){if(!Hc(e))return 524288&t.flags&&na(t).typeParameters||(4&xx(e)?e.target.localTypeParameters:void 0)}(t,n)}}function XR(e){if(fq(e,e.typeArguments),183===e.kind&&!Om(e)&&!Rm(e)&&e.typeArguments&&e.typeName.end!==e.typeArguments.pos){const t=Sd(e);25===ef(t,e.typeName.end)&&Iq(e,ns(t.text,e.typeName.end),1,ma.JSDoc_types_can_only_be_used_inside_documentation_comments)}f(e.typeArguments,GJ),QR(e)}function QR(e){if(!Hc(Pk(e))){e.typeArguments&&a(()=>{const t=GR(e);t&&KR(e,t)});const t=ra(e).resolvedSymbol;t&&K(t.declarations,e=>GT(e)&&!!(536870912&e.flags))&&Vo(FL(e),t.declarations,t.escapedName)}}function ZR(e,t){if(!(8388608&e.flags))return e;const n=e.objectType,r=e.indexType,i=Sp(n)&&2===Tp(n)?Gb(n,0):tx(n,0),o=!!jm(n,Ut);if(gF(r,e=>PS(e,i)||o&&vm(e,Ut)))return 212===t.kind&&th(t)&&32&xx(n)&&1&fp(n)&&Lo(t,ma.Index_signature_in_type_0_only_permits_reading,oc(n)),e;if(Cx(n)){const e=fx(r,t);if(e){const r=tF(Sf(n),t=>Gf(t,e));if(r&&6&lx(r))return Lo(t,ma.Private_or_protected_member_0_cannot_be_accessed_on_a_type_parameter,bc(e)),Et}}return Lo(t,ma.Type_0_cannot_be_used_to_index_type_1,oc(r),oc(n)),Et}function YR(e){!function(e){var t;(null==(t=e.members)?void 0:t.length)&&Oq(e.members[0],ma.A_mapped_type_may_not_declare_properties_or_methods)}(e),GJ(e.typeParameter),GJ(e.nameType),GJ(e.type),e.type||qw(e,wt);const t=Bx(e),n=ip(t);n?LS(n,hn,e.nameType):LS(rp(t),hn,gl(e.typeParameter))}function eM(e){!function(e){if(158===e.operator){if(155!==e.type.kind)return Oq(e.type,ma._0_expected,Oa(155));let t=ah(e.parent);if(Om(t)&&iP(t)){const e=Kg(t);e&&(t=jg(e)||e)}switch(t.kind){case 260:const n=t;if(80!==n.name.kind)return Oq(e,ma.unique_symbol_types_may_not_be_used_on_a_variable_declaration_with_a_binding_name);if(!Rf(n))return Oq(e,ma.unique_symbol_types_are_only_allowed_on_variables_in_a_variable_statement);if(!(2&n.parent.flags))return Oq(t.name,ma.A_variable_whose_type_is_a_unique_symbol_type_must_be_const);break;case 172:if(!Iv(t)||!Bv(t))return Oq(t.name,ma.A_property_of_a_class_whose_type_is_a_unique_symbol_type_must_be_both_static_and_readonly);break;case 171:if(!Av(t,8))return Oq(t.name,ma.A_property_of_an_interface_or_type_literal_whose_type_is_a_unique_symbol_type_must_be_readonly);break;default:Oq(e,ma.unique_symbol_types_are_not_allowed_here)}}else 148===e.operator&&188!==e.type.kind&&189!==e.type.kind&&Aq(e,ma.readonly_type_modifier_is_only_permitted_on_array_and_tuple_literal_types,Oa(155))}(e),GJ(e.type)}function tM(e){return(Pv(e,2)||Yl(e))&&!!(33554432&e.flags)}function nM(e,t){let n=qq(e);if(264!==e.parent.kind&&263!==e.parent.kind&&231!==e.parent.kind&&33554432&e.flags){const t=Ip(e);!(t&&128&t.flags)||128&n||dE(e.parent)&&uE(e.parent.parent)&&hp(e.parent.parent)||(n|=32),n|=128}return n&t}function rM(e){a(()=>function(e){function t(e,t){return void 0!==t&&t.parent===e[0].parent?t:e[0]}function n(e,n,r,i,o){if(0!==(i^o)){const i=nM(t(e,n),r);Ve(e,e=>Sd(e).fileName).forEach(e=>{const o=nM(t(e,n),r);for(const t of e){const e=nM(t,r)^i,n=nM(t,r)^o;32&n?Lo(Ec(t),ma.Overload_signatures_must_all_be_exported_or_non_exported):128&n?Lo(Ec(t),ma.Overload_signatures_must_all_be_ambient_or_non_ambient):6&e?Lo(Ec(t)||t,ma.Overload_signatures_must_all_be_public_private_or_protected):64&e&&Lo(Ec(t),ma.Overload_signatures_must_all_be_abstract_or_non_abstract)}})}}function r(e,n,r,i){if(r!==i){const r=Eg(t(e,n));f(e,e=>{Eg(e)!==r&&Lo(Ec(e),ma.Overload_signatures_must_all_be_optional_or_required)})}}const i=230;let o,a,s,c=0,l=i,_=!1,u=!0,d=!1;const m=e.declarations,g=!!(16384&e.flags);function h(e){if(e.name&&Pd(e.name))return;let t=!1;const n=KI(e.parent,n=>{if(t)return n;t=n===e});if(n&&n.pos===e.end&&n.kind===e.kind){const t=n.name||n,r=n.name;if(e.name&&r&&(nN(e.name)&&nN(r)&&e.name.escapedText===r.escapedText||hN(e.name)&&hN(r)&&CS(YA(e.name),YA(r))||Wh(e.name)&&Wh(r)&&Hh(e.name)===Hh(r)))return void(174!==e.kind&&173!==e.kind||Iv(e)===Iv(n)||Lo(t,Iv(e)?ma.Function_overload_must_be_static:ma.Function_overload_must_not_be_static));if(Ad(n.body))return void Lo(t,ma.Function_implementation_name_must_be_0,jp(e.name))}const r=e.name||e;g?Lo(r,ma.Constructor_implementation_is_missing):Av(e,64)?Lo(r,ma.All_declarations_of_an_abstract_method_must_be_consecutive):Lo(r,ma.Function_implementation_is_missing_or_not_immediately_following_the_declaration)}let y=!1,v=!1,b=!1;const x=[];if(m)for(const f of m){const e=f,t=33554432&e.flags,n=e.parent&&(264===e.parent.kind||187===e.parent.kind)||t;if(n&&(s=void 0),263!==e.kind&&231!==e.kind||t||(b=!0),262===e.kind||174===e.kind||173===e.kind||176===e.kind){x.push(e);const t=nM(e,i);c|=t,l&=t,_=_||Eg(e),u=u&&Eg(e);const r=Ad(e.body);r&&o?g?v=!0:y=!0:(null==s?void 0:s.parent)===e.parent&&s.end!==e.pos&&h(s),r?o||(o=e):d=!0,s=e,n||(a=e)}Om(f)&&c_(f)&&f.jsDoc&&(d=p(Wg(f))>0)}if(v&&f(x,e=>{Lo(e,ma.Multiple_constructor_implementations_are_not_allowed)}),y&&f(x,e=>{Lo(Ec(e)||e,ma.Duplicate_function_implementation)}),b&&!g&&16&e.flags&&m){const t=F(m,e=>263===e.kind).map(e=>qp(e,ma.Consider_adding_a_declare_modifier_to_this_class));f(m,n=>{const r=263===n.kind?ma.Class_declaration_cannot_implement_overload_list_for_0:262===n.kind?ma.Function_with_bodies_can_only_merge_with_classes_that_are_ambient:void 0;r&&uT(Lo(Ec(n)||n,r,Sc(e)),...t)})}if(!a||a.body||Av(a,64)||a.questionToken||h(a),d&&(m&&(n(m,o,i,c,l),r(m,o,_,u)),o)){const t=Fg(e),n=Sg(o);for(const e of t)if(!KS(n,e)){uT(Lo(e.declaration&&bP(e.declaration)?e.declaration.parent.tagName:e.declaration,ma.This_overload_signature_is_not_compatible_with_its_implementation_signature),qp(o,ma.The_implementation_signature_is_declared_here));break}}}(e))}function iM(e){a(()=>function(e){let t=e.localSymbol;if(!t&&(t=fs(e),!t.exportSymbol))return;if(Qu(t,e.kind)!==e)return;let n=0,r=0,i=0;for(const c of t.declarations){const e=s(c),t=nM(c,2080);32&t?2048&t?i|=e:n|=e:r|=e}const o=n&r,a=i&(n|r);if(o||a)for(const c of t.declarations){const e=s(c),t=Ec(c);e&a?Lo(t,ma.Merged_declaration_0_cannot_include_a_default_export_declaration_Consider_adding_a_separate_export_default_0_declaration_instead,jp(t)):e&o&&Lo(t,ma.Individual_declarations_in_merged_declaration_0_must_be_all_exported_or_all_local,jp(t))}function s(e){let t=e;switch(t.kind){case 264:case 265:case 346:case 338:case 340:return 2;case 267:return dp(t)||0!==HM(t)?5:4;case 263:case 266:case 306:return 3;case 307:return 7;case 277:case 226:const e=t,n=DE(e)?e.expression:e.right;if(!ub(n))return 1;t=n;case 271:case 274:case 273:let r=0;return f(Ja(fs(t)).declarations,e=>{r|=s(e)}),r;case 260:case 208:case 262:case 276:case 80:return 1;case 173:case 171:return 2;default:return fn.failBadSyntaxKind(t)}}}(e))}function oM(e,t,n,...r){const i=aM(e,t);return i&&pM(i,t,n,...r)}function aM(e,t,n){if($c(e))return;const r=e;if(r.promisedTypeOfPromise)return r.promisedTypeOfPromise;if(P_(e,nv(!1)))return r.promisedTypeOfPromise=uy(e)[0];if(Gj(uf(e),402915324))return;const i=Uc(e,"then");if($c(i))return;const o=i?Qf(i,0):u;if(0===o.length)return void(t&&Lo(t,ma.A_promise_must_have_a_then_method));let a,s;for(const _ of o){const t=Lg(_);t&&t!==cn&&!iT(e,t,go)?a=t:s=se(s,_)}if(!s)return fn.assertIsDefined(a),n&&(n.value=a),void(t&&Lo(t,ma.The_this_context_of_type_0_is_not_assignable_to_method_s_this_of_type_1,oc(e),oc(a)));const c=eN(Ob(A(s,lj)),2097152);if($c(c))return;const l=Qf(c,0);if(0!==l.length)return r.promisedTypeOfPromise=Ob(A(l,lj),2);t&&Lo(t,ma.The_first_parameter_of_the_then_method_of_a_promise_must_be_a_callback)}function sM(e,t,n,r,...i){return(t?pM(e,n,r,...i):fM(e,n,r,...i))||Et}function cM(e){if(Gj(uf(e),402915324))return!1;const t=Uc(e,"then");return!!t&&Qf(eN(t,2097152),0).length>0}function lM(e){var t;if(16777216&e.flags){const n=Sv(!1);return!!n&&e.aliasSymbol===n&&1===(null==(t=e.aliasTypeArguments)?void 0:t.length)}return!1}function _M(e){return 1048576&e.flags?CF(e,_M):lM(e)?e.aliasTypeArguments[0]:e}function uM(e){if($c(e)||lM(e))return!1;if(Cx(e)){const t=_f(e);if(t?3&t.flags||QS(t)||dF(t,cM):Hj(e,8650752))return!0}return!1}function dM(e){var t;return uM(e)?null!=(t=function(e){const t=Sv(!0);if(t)return gy(t,[_M(e)])}(e))?t:e:(fn.assert(lM(e)||void 0===aM(e),"type provided should not be a non-generic 'promise'-like."),e)}function pM(e,t,n,...r){const i=fM(e,t,n,...r);return i&&dM(i)}function fM(e,t,n,...r){if($c(e))return e;if(lM(e))return e;const i=e;if(i.awaitedTypeOfType)return i.awaitedTypeOfType;if(1048576&e.flags){if(co.lastIndexOf(e.id)>=0)return void(t&&Lo(t,ma.Type_is_referenced_directly_or_indirectly_in_the_fulfillment_callback_of_its_own_then_method));const o=t?e=>fM(e,t,n,...r):fM;co.push(e.id);const a=CF(e,o);return co.pop(),i.awaitedTypeOfType=a}if(uM(e))return i.awaitedTypeOfType=e;const o={value:void 0},a=aM(e,void 0,o);if(a){if(e.id===a.id||co.lastIndexOf(a.id)>=0)return void(t&&Lo(t,ma.Type_is_referenced_directly_or_indirectly_in_the_fulfillment_callback_of_its_own_then_method));co.push(e.id);const o=fM(a,t,n,...r);if(co.pop(),!o)return;return i.awaitedTypeOfType=o}if(!cM(e))return i.awaitedTypeOfType=e;if(t){let i;fn.assertIsDefined(n),o.value&&(i=ik(i,ma.The_this_context_of_type_0_is_not_assignable_to_method_s_this_of_type_1,oc(e),oc(o.value))),i=ik(i,n,...r),po.add(Wp(Sd(t),t,i))}}function mM(e){!function(e){if(!Pq(Sd(e))){let t=e.expression;if(pF(t))return!1;let n,r=!0;for(;;)if(FF(t)||AF(t))t=t.expression;else if(lF(t))r||(n=t),t.questionDotToken&&(n=t.questionDotToken),t=t.expression,r=!1;else{if(!sF(t)){tN(t)||(n=t);break}t.questionDotToken&&(n=t.questionDotToken),t=t.expression,r=!1}n&&uT(Lo(e.expression,ma.Expression_must_be_enclosed_in_parentheses_to_be_used_as_a_decorator),qp(n,ma.Invalid_syntax_in_decorator))}}(e);const t=TL(e);NL(t,e);const n=zg(t);if(1&n.flags)return;const r=Cj(e);if(!(null==r?void 0:r.resolvedReturnType))return;let i;const o=r.resolvedReturnType;switch(e.parent.kind){case 263:case 231:i=ma.Decorator_function_return_type_0_is_not_assignable_to_type_1;break;case 172:if(!B){i=ma.Decorator_function_return_type_0_is_not_assignable_to_type_1;break}case 169:i=ma.Decorator_function_return_type_is_0_but_is_expected_to_be_void_or_any;break;case 174:case 177:case 178:i=ma.Decorator_function_return_type_0_is_not_assignable_to_type_1;break;default:return fn.failBadSyntaxKind(e.parent)}LS(n,o,e.expression,i)}function gM(e,t,n,r,i,o=n.length,a=0){return bd(_w.createFunctionTypeNode(void 0,u,_w.createKeywordTypeNode(133)),e,t,n,r,i,o,a)}function hM(e,t,n,r,i,o,a){return Eh(gM(e,t,n,r,i,o,a))}function yM(e){return hM(void 0,void 0,u,e)}function vM(e){return hM(void 0,void 0,[$o("value",e)],cn)}function bM(e){if(e)switch(e.kind){case 193:case 192:return xM(e.types);case 194:return xM([e.trueType,e.falseType]);case 196:case 202:return bM(e.type);case 183:return e.typeName}}function xM(e){let t;for(let n of e){for(;196===n.kind||202===n.kind;)n=n.type;if(146===n.kind)continue;if(!$&&(201===n.kind&&106===n.literal.kind||157===n.kind))continue;const e=bM(n);if(!e)return;if(t){if(!tN(t)||!tN(e)||t.escapedText!==e.escapedText)return}else t=e}return t}function kM(e){const t=yv(e);return Uu(e)?Of(t):t}function SM(e){if(!(xI(e)&&Jv(e)&&e.modifiers&&gm(B,e,e.parent,e.parent.parent)))return;const t=k(e.modifiers,bN);if(t){B?(aq(t,8),169===e.kind&&aq(t,32)):R<Pi.ClassAndClassElementDecorators&&(aq(t,8),sE(e)?e.name?yJ(e)&&aq(t,4194304):aq(t,4194304):DF(e)||(nN(e.name)&&(TN(e)||h_(e)||y_(e))&&aq(t,4194304),hN(e.name)&&aq(t,8388608))),lP(e,8);for(const t of e.modifiers)bN(t)&&mM(t)}}function TM(e){switch(e.kind){case 80:return e;case 211:return e.name;default:return}}function CM(e){var t;SM(e),RR(e);const n=Mh(e);if(e.name&&167===e.name.kind&&YA(e.name),od(e)){const n=fs(e),r=e.localSymbol||n,i=null==(t=r.declarations)?void 0:t.find(t=>t.kind===e.kind&&!(524288&t.flags));e===i&&rM(r),n.parent&&rM(n)}const r=173===e.kind?void 0:e.body;if(GJ(r),jj(e,qg(e)),a(function(){bv(e)||(Pd(r)&&!tM(e)&&qw(e,wt),1&n&&Ad(r)&&zg(Sg(e)))}),Om(e)){const t=al(e);t&&t.typeExpression&&!WA(Pk(t.typeExpression),e)&&Lo(t.typeExpression.type,ma.The_type_of_a_function_declaration_must_match_the_function_s_signature)}}function wM(e){a(function(){const t=Sd(e);let n=xi.get(t.path);n||(n=[],xi.set(t.path,n)),n.push(e)})}function DM(e,t){for(const n of e)switch(n.kind){case 263:case 231:EM(n,t),AM(n,t);break;case 307:case 267:case 241:case 269:case 248:case 249:case 250:RM(n,t);break;case 176:case 218:case 262:case 219:case 174:case 177:case 178:n.body&&RM(n,t),AM(n,t);break;case 173:case 179:case 180:case 184:case 185:case 265:case 264:AM(n,t);break;case 195:PM(n,t);break;default:fn.assertNever(n,"Node should not have been registered for unused identifiers check")}}function NM(e,t,n){n(e,0,qp(Ec(e)||e,GT(e)?ma._0_is_declared_but_never_used:ma._0_is_declared_but_its_value_is_never_read,t))}function FM(e){return tN(e)&&95===xc(e).charCodeAt(0)}function EM(e,t){for(const n of e.members)switch(n.kind){case 174:case 172:case 177:case 178:if(178===n.kind&&32768&n.symbol.flags)break;const e=fs(n);e.isReferenced||!(Pv(n,2)||Nc(n)&&nN(n.name))||33554432&n.flags||t(n,0,qp(n.name,ma._0_is_declared_but_its_value_is_never_read,nc(e)));break;case 176:for(const r of n.parameters)!r.symbol.isReferenced&&Av(r,2)&&t(r,0,qp(r.name,ma.Property_0_is_declared_but_its_value_is_never_read,Sc(r.symbol)));break;case 181:case 240:case 175:break;default:fn.fail("Unexpected class member")}}function PM(e,t){const{typeParameter:n}=e;IM(n)&&t(e,1,qp(e,ma._0_is_declared_but_its_value_is_never_read,xc(n.name)))}function AM(e,t){const n=fs(e).declarations;if(!n||ke(n)!==e)return;const r=ml(e),i=new Set;for(const o of r){if(!IM(o))continue;const e=xc(o.name),{parent:n}=o;if(195!==n.kind&&n.typeParameters.every(IM)){if(U(i,n)){const r=Sd(n),i=MP(n)?pT(n):fT(r,n.typeParameters),a=1===n.typeParameters.length?[ma._0_is_declared_but_its_value_is_never_read,e]:[ma.All_type_parameters_are_unused];t(o,1,ek(r,i.pos,i.end-i.pos,...a))}}else t(o,1,qp(o,ma._0_is_declared_but_its_value_is_never_read,e))}}function IM(e){return!(262144&ps(e.symbol).isReferenced||FM(e.name))}function OM(e,t,n,r){const i=String(r(t)),o=e.get(i);o?o[1].push(n):e.set(i,[t,[n]])}function LM(e){return it(ny(e),vN)}function jM(e){return iF(e)?nF(e.parent)?!(!e.propertyName||!FM(e.name)):FM(e.name):dp(e)||(iE(e)&&nu(e.parent.parent)||BM(e))&&FM(e.name)}function RM(e,t){const n=new Map,r=new Map,i=new Map;e.locals.forEach(e=>{if(!(262144&e.flags?!(3&e.flags)||3&e.isReferenced:e.isReferenced||e.exportSymbol)&&e.declarations)for(const o of e.declarations)if(!jM(o))if(BM(o))OM(n,JM(o),o,rJ);else if(iF(o)&&nF(o.parent))o!==ke(o.parent.elements)&&ke(o.parent.elements).dotDotDotToken||OM(r,o.parent,o,rJ);else if(iE(o)){const e=7&Vq(o),t=Ec(o);(4===e||6===e)&&t&&FM(t)||OM(i,o.parent,o,rJ)}else{const n=e.valueDeclaration&&LM(e.valueDeclaration),i=e.valueDeclaration&&Ec(e.valueDeclaration);n&&i?ic(n,n.parent)||dv(n)||FM(i)||(iF(o)&&rF(o.parent)?OM(r,o.parent,o,rJ):t(n,1,qp(i,ma._0_is_declared_but_its_value_is_never_read,Sc(e)))):NM(o,Sc(e),t)}}),n.forEach(([e,n])=>{const r=e.parent;if((e.name?1:0)+(e.namedBindings?274===e.namedBindings.kind?1:e.namedBindings.elements.length:0)===n.length)t(r,0,1===n.length?qp(r,ma._0_is_declared_but_its_value_is_never_read,xc(ve(n).name)):qp(r,ma.All_imports_in_import_declaration_are_unused));else for(const i of n)NM(i,xc(i.name),t)}),r.forEach(([e,n])=>{const r=LM(e.parent)?1:0;if(e.elements.length===n.length)1===n.length&&260===e.parent.kind&&261===e.parent.parent.kind?OM(i,e.parent.parent,e.parent,rJ):t(e,r,1===n.length?qp(e,ma._0_is_declared_but_its_value_is_never_read,MM(ve(n).name)):qp(e,ma.All_destructured_elements_are_unused));else for(const i of n)t(i,r,qp(i,ma._0_is_declared_but_its_value_is_never_read,MM(i.name)))}),i.forEach(([e,n])=>{if(e.declarations.length===n.length)t(e,0,1===n.length?qp(ve(n).name,ma._0_is_declared_but_its_value_is_never_read,MM(ve(n).name)):qp(243===e.parent.kind?e.parent:e,ma.All_variables_are_unused));else for(const r of n)t(r,0,qp(r,ma._0_is_declared_but_its_value_is_never_read,MM(r.name)))})}function MM(e){switch(e.kind){case 80:return xc(e);case 207:case 206:return MM(ot(ve(e.elements),iF).name);default:return fn.assertNever(e)}}function BM(e){return 273===e.kind||276===e.kind||274===e.kind}function JM(e){return 273===e.kind?e:274===e.kind?e.parent:e.parent.parent}function qM(e){if(241===e.kind&&Rq(e),f_(e)){const t=Ci;f(e.statements,GJ),Ci=t}else f(e.statements,GJ);e.locals&&wM(e)}function VM(e,t,n){if((null==t?void 0:t.escapedText)!==n)return!1;if(172===e.kind||171===e.kind||174===e.kind||173===e.kind||177===e.kind||178===e.kind||303===e.kind)return!1;if(33554432&e.flags)return!1;if((hE(e)||mE(e)||wE(e))&&$l(e))return!1;const r=ny(e);return!vN(r)||!Pd(r.parent.body)}function UM(e){gc(e,t=>!!(4&Bz(t))&&(80!==e.kind?Lo(Ec(e),ma.Duplicate_identifier_this_Compiler_uses_variable_declaration_this_to_capture_this_reference):Lo(e,ma.Expression_resolves_to_variable_declaration_this_that_compiler_uses_to_capture_this_reference),!0))}function WM(e){gc(e,t=>!!(8&Bz(t))&&(80!==e.kind?Lo(Ec(e),ma.Duplicate_identifier_newTarget_Compiler_uses_variable_declaration_newTarget_to_capture_new_target_meta_property_reference):Lo(e,ma.Expression_resolves_to_variable_declaration_newTarget_that_compiler_uses_to_capture_new_target_meta_property_reference),!0))}function $M(e){1048576&Bz(Op(e))&&(fn.assert(Nc(e)&&tN(e.name)&&"string"==typeof e.name.escapedText,"The target of a WeakMap/WeakSet collision check should be an identifier"),Ao("noEmit",e,ma.Compiler_reserves_name_0_when_emitting_private_identifier_downlevel,e.name.escapedText))}function KM(e){let t=!1;if(DF(e)){for(const n of e.members)if(2097152&Bz(n)){t=!0;break}}else if(fF(e))2097152&Bz(e)&&(t=!0);else{const n=Op(e);n&&2097152&Bz(n)&&(t=!0)}t&&(fn.assert(Nc(e)&&tN(e.name),"The target of a Reflect collision check should be an identifier"),Ao("noEmit",e,ma.Duplicate_identifier_0_Compiler_reserves_name_1_when_emitting_super_references_in_static_initializers,jp(e.name),"Reflect"))}function GM(t,n){n&&(function(t,n){if(e.getEmitModuleFormatOfFile(Sd(t))>=5)return;if(!n||!VM(t,n,"require")&&!VM(t,n,"exports"))return;if(uE(t)&&1!==HM(t))return;const r=qc(t);307===r.kind&&rf(r)&&Ao("noEmit",n,ma.Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module,jp(n),jp(n))}(t,n),function(e,t){if(!t||R>=4||!VM(e,t,"Promise"))return;if(uE(e)&&1!==HM(e))return;const n=qc(e);307===n.kind&&rf(n)&&4096&n.flags&&Ao("noEmit",t,ma.Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_a_module_containing_async_functions,jp(t),jp(t))}(t,n),function(e,t){R<=8&&(VM(e,t,"WeakMap")||VM(e,t,"WeakSet"))&&oo.push(e)}(t,n),function(e,t){t&&R>=2&&R<=8&&VM(e,t,"Reflect")&&ao.push(e)}(t,n),g_(t)?(aJ(n,ma.Class_name_cannot_be_0),33554432&t.flags||function(t){R>=1&&"Object"===t.escapedText&&e.getEmitModuleFormatOfFile(Sd(t))<5&&Lo(t,ma.Class_name_cannot_be_Object_when_targeting_ES5_with_module_0,hi[M])}(n)):_E(t)&&aJ(n,ma.Enum_name_cannot_be_0))}function XM(e){return e===Dt?wt:e===lr?cr:e}function ZM(e){var t;if(SM(e),iF(e)||GJ(e.type),!e.name)return;if(167===e.name.kind&&(YA(e.name),ju(e)&&e.initializer&&uR(e.initializer)),iF(e)){if(e.propertyName&&tN(e.name)&&ty(e)&&Pd(Zf(e).body))return void so.push(e);nF(e.parent)&&e.dotDotDotToken&&R<Pi.ObjectSpreadRest&&aq(e,4),e.propertyName&&167===e.propertyName.kind&&YA(e.propertyName);const t=e.parent.parent,n=Kc(t,e.dotDotDotToken?32:0),r=e.propertyName||e.name;if(n&&!D_(r)){const i=Xb(r);if(dC(i)){const r=Gf(n,pC(i));r&&(SO(r,void 0,!1),MI(e,!!t.initializer&&108===t.initializer.kind,!1,n,r))}}}if(D_(e.name)&&(207===e.name.kind&&R<Pi.BindingPatterns&&I.downlevelIteration&&aq(e,512),f(e.name.elements,GJ)),e.initializer&&ty(e)&&Pd(Zf(e).body))return void Lo(e,ma.A_parameter_initializer_is_only_allowed_in_a_function_or_constructor_implementation);if(D_(e.name)){if(AD(e))return;const t=ju(e)&&e.initializer&&249!==e.parent.parent.kind,n=!K(e.name.elements,on(NF));if(t||n){const r=Jl(e);if(t){const t=uR(e.initializer);$&&n?XI(t,e):jS(t,Jl(e),e,e.initializer)}n&&(rF(e.name)?pB(65,r,Lt,e):$&&XI(r,e))}return}const n=fs(e);if(2097152&n.flags&&(zm(e)||qm(e)))return void BJ(e);10===e.name.kind&&Lo(e.name,ma.A_bigint_literal_cannot_be_used_as_a_property_name);const r=XM(w_(n));if(e===n.valueDeclaration){const o=ju(e)&&Km(e);if(o&&!(Om(e)&&aF(o)&&(0===o.properties.length||gb(e.name))&&(null==(t=n.exports)?void 0:t.size)||249===e.parent.parent.kind)){const t=uR(o);jS(t,r,e,o,void 0);const n=7&Vq(e);if(6===n){const n=(i=!0,Jr||(Jr=Hy("AsyncDisposable",0,i))||Dn),r=hv(!0);if(n!==Dn&&r!==Dn){const i=Ob([n,r,zt,Lt]);LS(Wl(t,e),i,o,ma.The_initializer_of_an_await_using_declaration_must_be_either_an_object_with_a_Symbol_asyncDispose_or_Symbol_dispose_method_or_be_null_or_undefined)}}else if(4===n){const n=hv(!0);if(n!==Dn){const r=Ob([n,zt,Lt]);LS(Wl(t,e),r,o,ma.The_initializer_of_a_using_declaration_must_be_either_an_object_with_a_Symbol_dispose_method_or_be_null_or_undefined)}}}n.declarations&&n.declarations.length>1&&K(n.declarations,t=>t!==e&&jf(t)&&!tB(t,e))&&Lo(e.name,ma.All_declarations_of_0_must_have_identical_modifiers,jp(e.name))}else{const t=XM(Jl(e));Hc(r)||Hc(t)||CS(r,t)||67108864&n.flags||eB(n.valueDeclaration,r,e,t),ju(e)&&e.initializer&&jS(uR(e.initializer),t,e,e.initializer,void 0),n.valueDeclaration&&!tB(e,n.valueDeclaration)&&Lo(e.name,ma.All_declarations_of_0_must_have_identical_modifiers,jp(e.name))}var i;172!==e.kind&&171!==e.kind&&(iM(e),260!==e.kind&&208!==e.kind||function(e){if(7&Vq(e)||ty(e))return;const t=fs(e);if(1&t.flags){if(!tN(e.name))return fn.fail();const n=ze(e,e.name.escapedText,3,void 0,!1);if(n&&n!==t&&2&n.flags&&7&jI(n)){const t=Nh(n.valueDeclaration,261),r=243===t.parent.kind&&t.parent.parent?t.parent.parent:void 0;if(!r||!(241===r.kind&&c_(r.parent)||268===r.kind||267===r.kind||307===r.kind)){const t=nc(n);Lo(e,ma.Cannot_initialize_outer_scoped_variable_0_in_the_same_scope_as_block_scoped_declaration_1,t,t)}}}}(e),GM(e,e.name))}function eB(e,t,n,r){const i=Ec(n),o=172===n.kind||171===n.kind?ma.Subsequent_property_declarations_must_have_the_same_type_Property_0_must_be_of_type_1_but_here_has_type_2:ma.Subsequent_variable_declarations_must_have_the_same_type_Variable_0_must_be_of_type_1_but_here_has_type_2,a=jp(i),s=Lo(i,o,a,oc(t),oc(r));e&&uT(s,qp(e,ma._0_was_also_declared_here,a))}function tB(e,t){return 169===e.kind&&260===t.kind||260===e.kind&&169===t.kind||Eg(e)===Eg(t)&&zv(e,1358)===zv(t,1358)}function nB(t){var n,r;null==(n=Xn)||n.push(Xn.Phase.Check,"checkVariableDeclaration",{kind:t.kind,pos:t.pos,end:t.end,path:t.tracingPath}),function(t){const n=Vq(t),r=7&n;if(D_(t.name))switch(r){case 6:return Oq(t,ma._0_declarations_may_not_have_binding_patterns,"await using");case 4:return Oq(t,ma._0_declarations_may_not_have_binding_patterns,"using")}if(249!==t.parent.parent.kind&&250!==t.parent.parent.kind)if(33554432&n)wq(t);else if(!t.initializer){if(D_(t.name)&&!D_(t.parent))return Oq(t,ma.A_destructuring_declaration_must_have_an_initializer);switch(r){case 6:return Oq(t,ma._0_declarations_must_be_initialized,"await using");case 4:return Oq(t,ma._0_declarations_must_be_initialized,"using");case 2:return Oq(t,ma._0_declarations_must_be_initialized,"const")}}if(t.exclamationToken&&(243!==t.parent.parent.kind||!t.type||t.initializer||33554432&n)){const e=t.initializer?ma.Declarations_with_initializers_cannot_also_have_definite_assignment_assertions:t.type?ma.A_definite_assignment_assertion_is_not_permitted_in_this_context:ma.Declarations_with_definite_assignment_assertions_must_also_have_type_annotations;return Oq(t.exclamationToken,e)}e.getEmitModuleFormatOfFile(Sd(t))<4&&!(33554432&t.parent.parent.flags)&&Av(t.parent.parent,32)&&Dq(t.name),r&&Nq(t.name)}(t),ZM(t),null==(r=Xn)||r.pop()}function rB(e){return function(e){if(e.dotDotDotToken){const t=e.parent.elements;if(e!==ke(t))return Oq(e,ma.A_rest_element_must_be_last_in_a_destructuring_pattern);if(_q(t,ma.A_rest_parameter_or_binding_pattern_may_not_have_a_trailing_comma),e.propertyName)return Oq(e.name,ma.A_rest_element_cannot_have_a_property_name)}e.dotDotDotToken&&e.initializer&&Iq(e,e.initializer.pos-1,1,ma.A_rest_element_cannot_have_an_initializer)}(e),ZM(e)}function iB(e){const t=7&uc(e);(4===t||6===t)&&R<Pi.UsingAndAwaitUsing&&aq(e,16777216),f(e.declarations,GJ)}function aB(e){cq(e)||Fq(e.declarationList)||function(e){if(!Eq(e.parent)){const t=7&Vq(e.declarationList);if(t){const n=1===t?"let":2===t?"const":4===t?"using":6===t?"await using":fn.fail("Unknown BlockScope flag");Oq(e,ma._0_declarations_can_only_be_declared_inside_a_block,n)}}}(e),iB(e.declarationList)}function sB(e,t,n){function r(e,t){for(i(e=_h(e),t);kF(e)&&(57===e.operatorToken.kind||61===e.operatorToken.kind);)i(e=_h(e.left),t)}function i(e,n){var i;const o=ib(e)?_h(e.right):e;if(ig(o))return;if(ib(o))return void r(o,n);const a=o===e?t:IR(o);if(1024&a.flags&&sF(o)&&384&(null!=(i=ra(o.expression).resolvedSymbol)?i:bt).flags)return void Lo(o,ma.This_condition_will_always_return_0,a.value?"true":"false");const s=sF(o)&&dR(o.expression);if(!ZD(a,4194304)||s)return;const c=Qf(a,0),l=!!oM(a);if(0===c.length&&!l)return;const _=tN(o)?o:sF(o)?o.name:void 0,u=_&&gz(_);if(!u&&!l)return;const d=u&&kF(e.parent)&&function(e,t){for(;kF(e)&&56===e.operatorToken.kind;){if(KI(e.right,function e(n){if(tN(n)){const e=gz(n);if(e&&e===t)return!0}return KI(n,e)}))return!0;e=e.parent}return!1}(e.parent,u)||u&&n&&function(e,t,n,r){return!!KI(t,function t(i){if(tN(i)){const t=gz(i);if(t&&t===r){if(tN(e)||tN(n)&&kF(n.parent))return!0;let t=n.parent,r=i.parent;for(;t&&r;){if(tN(t)&&tN(r)||110===t.kind&&110===r.kind)return gz(t)===gz(r);if(sF(t)&&sF(r)){if(gz(t.name)!==gz(r.name))return!1;r=r.expression,t=t.expression}else{if(!lF(t)||!lF(r))return!1;r=r.expression,t=t.expression}}}}return KI(i,t)})}(e,n,_,u);d||(l?Bo(o,!0,ma.This_condition_will_always_return_true_since_this_0_is_always_defined,cc(a)):Lo(o,ma.This_condition_will_always_return_true_since_this_function_is_always_defined_Did_you_mean_to_call_it_instead))}$&&r(e,n)}function cB(e,t){if(16384&e.flags)Lo(t,ma.An_expression_of_type_void_cannot_be_tested_for_truthiness);else{const e=lB(t);3!==e&&Lo(t,1===e?ma.This_kind_of_expression_is_always_truthy:ma.This_kind_of_expression_is_always_falsy)}return e}function lB(e){switch((e=kA(e)).kind){case 9:return"0"===e.text||"1"===e.text?3:1;case 209:case 219:case 10:case 231:case 218:case 284:case 285:case 210:case 14:return 1;case 222:case 106:return 2;case 15:case 11:return e.text?1:2;case 227:return lB(e.whenTrue)|lB(e.whenFalse);case 80:return PD(e)===Ce?2:3}return 3}function _B(e,t){return cB(IR(e,t),e)}function uB(e){xq(e);const t=VI(IR(e.expression));if(261===e.initializer.kind){const t=e.initializer.declarations[0];t&&D_(t.name)&&Lo(t.name,ma.The_left_hand_side_of_a_for_in_statement_cannot_be_a_destructuring_pattern),iB(e.initializer)}else{const n=e.initializer,r=IR(n);209===n.kind||210===n.kind?Lo(n,ma.The_left_hand_side_of_a_for_in_statement_cannot_be_a_destructuring_pattern):PS(function(e){const t=nx(tx(e));return 131072&t.flags?Vt:t}(t),r)?qj(n,ma.The_left_hand_side_of_a_for_in_statement_must_be_a_variable_or_a_property_access,ma.The_left_hand_side_of_a_for_in_statement_may_not_be_an_optional_property_access):Lo(n,ma.The_left_hand_side_of_a_for_in_statement_must_be_of_type_string_or_any)}t!==_n&&Kj(t,126091264)||Lo(e.expression,ma.The_right_hand_side_of_a_for_in_statement_must_be_of_type_any_an_object_type_or_a_type_parameter_but_here_has_type_0,oc(t)),GJ(e.statement),e.locals&&wM(e)}function dB(e){return pB(e.awaitModifier?15:13,zI(e.expression),Lt,e.expression)}function pB(e,t,n,r){return $c(t)?t:fB(e,t,n,r,!0)||wt}function fB(e,t,n,r,i){const o=!!(2&e);if(t===_n)return void(r&&FB(r,t,o));const a=R>=2,s=!a&&I.downlevelIteration,c=I.noUncheckedIndexedAccess&&!!(128&e);if(a||s||o){const o=xB(t,e,a?r:void 0);if(i&&o){const t=8&e?ma.Cannot_iterate_value_because_the_next_method_of_its_iterator_expects_type_1_but_for_of_will_always_send_0:32&e?ma.Cannot_iterate_value_because_the_next_method_of_its_iterator_expects_type_1_but_array_spread_will_always_send_0:64&e?ma.Cannot_iterate_value_because_the_next_method_of_its_iterator_expects_type_1_but_array_destructuring_will_always_send_0:16&e?ma.Cannot_delegate_iteration_to_value_because_the_next_method_of_its_iterator_expects_type_1_but_the_containing_generator_will_always_send_0:void 0;t&&LS(n,o.nextType,r,t)}if(o||a)return c?lN(o&&o.yieldType):o&&o.yieldType}let l=t,_=!1;if(4&e){if(1048576&l.flags){const e=t.types,n=F(e,e=>!(402653316&e.flags));n!==e&&(l=Ob(n,2))}else 402653316&l.flags&&(l=_n);if(_=l!==t,_&&131072&l.flags)return c?lN(Vt):Vt}if(!zC(l)){if(r){const n=!!(4&e)&&!_,[i,o]=function(n,r){var i;return r?n?[ma.Type_0_is_not_an_array_type_or_a_string_type_or_does_not_have_a_Symbol_iterator_method_that_returns_an_iterator,!0]:[ma.Type_0_is_not_an_array_type_or_does_not_have_a_Symbol_iterator_method_that_returns_an_iterator,!0]:mB(e,0,t,void 0)?[ma.Type_0_can_only_be_iterated_through_when_using_the_downlevelIteration_flag_or_with_a_target_of_es2015_or_higher,!1]:function(e){switch(e){case"Float32Array":case"Float64Array":case"Int16Array":case"Int32Array":case"Int8Array":case"NodeList":case"Uint16Array":case"Uint32Array":case"Uint8Array":case"Uint8ClampedArray":return!0}return!1}(null==(i=t.symbol)?void 0:i.escapedName)?[ma.Type_0_can_only_be_iterated_through_when_using_the_downlevelIteration_flag_or_with_a_target_of_es2015_or_higher,!0]:n?[ma.Type_0_is_not_an_array_type_or_a_string_type,!0]:[ma.Type_0_is_not_an_array_type,!0]}(n,s);Bo(r,o&&!!oM(l),i,oc(l))}return _?c?lN(Vt):Vt:void 0}const u=Jm(l,Ut);return _&&u?402653316&u.flags&&!I.noUncheckedIndexedAccess?Vt:Ob(c?[u,Vt,Lt]:[u,Vt],2):128&e?lN(u):u}function mB(e,t,n,r){if($c(n))return;const i=xB(n,e,r);return i&&i[lJ(t)]}function hB(e=_n,t=_n,n=Ot){if(67359327&e.flags&&180227&t.flags&&180227&n.flags){const r=Yh([e,t,n]);let i=pi.get(r);return i||(i={yieldType:e,returnType:t,nextType:n},pi.set(r,i)),i}return{yieldType:e,returnType:t,nextType:n}}function yB(e){let t,n,r;for(const i of e)if(void 0!==i&&i!==fi){if(i===mi)return mi;t=se(t,i.yieldType),n=se(n,i.returnType),r=se(r,i.nextType)}return t||n||r?hB(t&&Ob(t),n&&Ob(n),r&&qb(r)):fi}function vB(e,t){return e[t]}function bB(e,t,n){return e[t]=n}function xB(e,t,n){var r,i;if($c(e))return mi;if(!(1048576&e.flags)){const i=n?{errors:void 0,skipLogging:!0}:void 0,o=TB(e,t,n,i);if(o===fi){if(n){const r=FB(n,e,!!(2&t));(null==i?void 0:i.errors)&&uT(r,...i.errors)}return}if(null==(r=null==i?void 0:i.errors)?void 0:r.length)for(const e of i.errors)po.add(e);return o}const o=2&t?"iterationTypesOfAsyncIterable":"iterationTypesOfIterable",a=vB(e,o);if(a)return a===fi?void 0:a;let s;for(const l of e.types){const r=n?{errors:void 0}:void 0,a=TB(l,t,n,r);if(a===fi){if(n){const i=FB(n,e,!!(2&t));(null==r?void 0:r.errors)&&uT(i,...r.errors)}return void bB(e,o,fi)}if(null==(i=null==r?void 0:r.errors)?void 0:i.length)for(const e of r.errors)po.add(e);s=se(s,a)}const c=s?yB(s):fi;return bB(e,o,c),c===fi?void 0:c}function SB(e,t){if(e===fi)return fi;if(e===mi)return mi;const{yieldType:n,returnType:r,nextType:i}=e;return t&&Sv(!0),hB(pM(n,t)||wt,pM(r,t)||wt,i)}function TB(e,t,n,r){if($c(e))return mi;let i=!1;if(2&t){const r=CB(e,gi)||wB(e,gi);if(r){if(r!==fi||!n)return 8&t?SB(r,n):r;i=!0}}if(1&t){let r=CB(e,yi)||wB(e,yi);if(r)if(r===fi&&n)i=!0;else{if(!(2&t))return r;if(r!==fi)return r=SB(r,n),i?r:bB(e,"iterationTypesOfAsyncIterable",r)}}if(2&t){const t=NB(e,gi,n,r,i);if(t!==fi)return t}if(1&t){let o=NB(e,yi,n,r,i);if(o!==fi)return 2&t?(o=SB(o,n),i?o:bB(e,"iterationTypesOfAsyncIterable",o)):o}return fi}function CB(e,t){return vB(e,t.iterableCacheKey)}function wB(e,t){if(P_(e,t.getGlobalIterableType(!1))||P_(e,t.getGlobalIteratorObjectType(!1))||P_(e,t.getGlobalIterableIteratorType(!1))||P_(e,t.getGlobalGeneratorType(!1))){const[n,r,i]=uy(e);return bB(e,t.iterableCacheKey,hB(t.resolveIterationType(n,void 0)||n,t.resolveIterationType(r,void 0)||r,i))}if(E_(e,t.getGlobalBuiltinIteratorTypes())){const[n]=uy(e),r=gv(),i=Ot;return bB(e,t.iterableCacheKey,hB(t.resolveIterationType(n,void 0)||n,t.resolveIterationType(r,void 0)||r,i))}}function DB(e){const t=Yy(!1),n=t&&Uc(w_(t),vc(e));return n&&dC(n)?pC(n):`__@${e}`}function NB(e,t,n,r,i){var o;const a=Gf(e,DB(t.iteratorSymbolName)),s=!a||16777216&a.flags?void 0:w_(a);if($c(s))return i?mi:bB(e,t.iterableCacheKey,mi);const c=s?Qf(s,0):void 0,l=F(c,e=>0===oj(e));if(!K(l))return n&&K(c)&&LS(e,t.getGlobalIterableType(!0),n,void 0,void 0,r),i?fi:bB(e,t.iterableCacheKey,fi);const _=null!=(o=EB(qb(A(l,zg)),t,n,r,i))?o:fi;return i?_:bB(e,t.iterableCacheKey,_)}function FB(e,t,n){const r=n?ma.Type_0_must_have_a_Symbol_asyncIterator_method_that_returns_an_async_iterator:ma.Type_0_must_have_a_Symbol_iterator_method_that_returns_an_iterator;return Bo(e,!!oM(t)||!n&&KF(e.parent)&&e.parent.expression===e&&ov(!1)!==On&&PS(t,Tv(ov(!1),[wt,wt,wt])),r,oc(t))}function EB(e,t,n,r,i){if($c(e))return mi;let o=function(e,t){return vB(e,t.iteratorCacheKey)}(e,t)||function(e,t){if(P_(e,t.getGlobalIterableIteratorType(!1))||P_(e,t.getGlobalIteratorType(!1))||P_(e,t.getGlobalIteratorObjectType(!1))||P_(e,t.getGlobalGeneratorType(!1))){const[n,r,i]=uy(e);return bB(e,t.iteratorCacheKey,hB(n,r,i))}if(E_(e,t.getGlobalBuiltinIteratorTypes())){const[n]=uy(e),r=gv(),i=Ot;return bB(e,t.iteratorCacheKey,hB(n,r,i))}}(e,t);return o===fi&&n&&(o=void 0,i=!0),null!=o||(o=function(e,t,n,r,i){const o=yB([LB(e,t,"next",n,r),LB(e,t,"return",n,r),LB(e,t,"throw",n,r)]);return i?o:bB(e,t.iteratorCacheKey,o)}(e,t,n,r,i)),o===fi?void 0:o}function PB(e,t){const n=Uc(e,"done")||Ht;return PS(0===t?Ht:Gt,n)}function AB(e){return PB(e,0)}function IB(e){return PB(e,1)}function OB(e){if($c(e))return mi;const t=vB(e,"iterationTypesOfIteratorResult");if(t)return t;if(P_(e,(n=!1,Cr||(Cr=Hy("IteratorYieldResult",1,n))||On)))return bB(e,"iterationTypesOfIteratorResult",hB(uy(e)[0],void 0,void 0));var n;if(P_(e,function(e){return wr||(wr=Hy("IteratorReturnResult",1,e))||On}(!1)))return bB(e,"iterationTypesOfIteratorResult",hB(void 0,uy(e)[0],void 0));const r=yF(e,AB),i=r!==_n?Uc(r,"value"):void 0,o=yF(e,IB),a=o!==_n?Uc(o,"value"):void 0;return bB(e,"iterationTypesOfIteratorResult",i||a?hB(i,a||cn,void 0):fi)}function LB(e,t,n,r,i){var o,a,s,c;const l=Gf(e,n);if(!l&&"next"!==n)return;const _=!l||"next"===n&&16777216&l.flags?void 0:"next"===n?w_(l):eN(w_(l),2097152);if($c(_))return mi;const d=_?Qf(_,0):u;if(0===d.length){if(r){const e="next"===n?t.mustHaveANextMethodDiagnostic:t.mustBeAMethodDiagnostic;i?(null!=i.errors||(i.errors=[]),i.errors.push(qp(r,e,n))):Lo(r,e,n)}return"next"===n?fi:void 0}if((null==_?void 0:_.symbol)&&1===d.length){const e=t.getGlobalGeneratorType(!1),r=t.getGlobalIteratorType(!1),i=(null==(a=null==(o=e.symbol)?void 0:o.members)?void 0:a.get(n))===_.symbol,l=!i&&(null==(c=null==(s=r.symbol)?void 0:s.members)?void 0:c.get(n))===_.symbol;if(i||l){const t=i?e:r,{mapper:o}=_;return hB($k(t.typeParameters[0],o),$k(t.typeParameters[1],o),"next"===n?$k(t.typeParameters[2],o):void 0)}}let p,f,m,g,h;for(const u of d)"throw"!==n&&K(u.parameters)&&(p=se(p,ej(u,0))),f=se(f,zg(u));if("throw"!==n){const e=p?Ob(p):Ot;"next"===n?g=e:"return"===n&&(m=se(m,t.resolveIterationType(e,r)||wt))}const y=f?qb(f):_n,v=OB(t.resolveIterationType(y,r)||wt);return v===fi?(r&&(i?(null!=i.errors||(i.errors=[]),i.errors.push(qp(r,t.mustHaveAValueDiagnostic,n))):Lo(r,t.mustHaveAValueDiagnostic,n)),h=wt,m=se(m,wt)):(h=v.yieldType,m=se(m,v.returnType)),hB(h,Ob(m),g)}function jB(e,t,n){if($c(t))return;const r=RB(t,n);return r&&r[lJ(e)]}function RB(e,t){if($c(e))return mi;const n=t?gi:yi;return xB(e,t?2:1,void 0)||function(e,t,n,r){return EB(e,t,n,r,!1)}(e,n,void 0,void 0)}function MB(e){Rq(e)||function(e){let t=e;for(;t;){if(l_(t))return Oq(e,ma.Jump_target_cannot_cross_function_boundary);switch(t.kind){case 256:if(e.label&&t.label.escapedText===e.label.escapedText)return!(251!==e.kind||Q_(t.statement,!0))&&Oq(e,ma.A_continue_statement_can_only_jump_to_a_label_of_an_enclosing_iteration_statement);break;case 255:if(252===e.kind&&!e.label)return!1;break;default:if(Q_(t,!1)&&!e.label)return!1}t=t.parent}if(e.label)return Oq(e,252===e.kind?ma.A_break_statement_can_only_jump_to_a_label_of_an_enclosing_statement:ma.A_continue_statement_can_only_jump_to_a_label_of_an_enclosing_iteration_statement);Oq(e,252===e.kind?ma.A_break_statement_can_only_be_used_within_an_enclosing_iteration_or_switch_statement:ma.A_continue_statement_can_only_be_used_within_an_enclosing_iteration_statement)}(e)}function BB(e,t){const n=!!(2&t);if(1&t){const t=jB(1,e,n);return t?n?fM(_M(t)):t:Et}return n?fM(e)||Et:e}function zB(e,t){const n=BB(t,Mh(e));return!(!n||!(Hj(n,16384)||32769&n.flags))}function WB(e,t,n,r,i,o=!1){const a=Om(n),s=Mh(e);if(r){const i=_h(r,a);if(SF(i))return WB(e,t,n,i.whenTrue,IR(i.whenTrue),!0),void WB(e,t,n,i.whenFalse,IR(i.whenFalse),!0)}const c=253===n.kind,l=2&s?sM(i,!1,n,ma.The_return_type_of_an_async_function_must_either_be_a_valid_promise_or_must_not_contain_a_callable_then_member):i,_=r&&ZO(r);jS(l,t,c&&!o?n:_,_)}function $B(e){Rq(e)||tN(e.expression)&&!e.expression.escapedText&&function(e,t,...n){const r=Sd(e);if(!Pq(r)){const i=Yp(r,e.pos);po.add(ek(r,Os(i),0,t,...n))}}(e,ma.Line_break_not_permitted_here),e.expression&&IR(e.expression)}function GB(e,t,n){const r=Am(e);if(0===r.length)return;for(const o of wp(e))n&&4194304&o.flags||QB(e,o,Qb(o,8576,!0),F_(o));const i=t.valueDeclaration;if(i&&g_(i))for(const o of i.members)if((!n&&!Iv(o)||n&&Iv(o))&&!od(o)){const t=fs(o);QB(e,t,ER(o.name.expression),F_(t))}if(r.length>1)for(const o of r)ZB(e,o)}function QB(e,t,n,r){const i=t.valueDeclaration,o=Ec(i);if(o&&nN(o))return;const a=Vm(e,n),s=2&xx(e)?Qu(e.symbol,264):void 0,c=i&&226===i.kind||o&&167===o.kind?i:void 0,l=gs(t)===e.symbol?i:void 0;for(const _ of a){const n=_.declaration&&gs(fs(_.declaration))===e.symbol?_.declaration:void 0,i=l||n||(s&&!K(iu(e),e=>!!Dp(e,t.escapedName)&&!!Jm(e,_.keyType))?s:void 0);if(i&&!PS(r,_.type)){const e=Oo(i,ma.Property_0_of_type_1_is_not_assignable_to_2_index_type_3,nc(t),oc(r),oc(_.keyType),oc(_.type));c&&i!==c&&uT(e,qp(c,ma._0_is_declared_here,nc(t))),po.add(e)}}}function ZB(e,t){const n=t.declaration,r=Vm(e,t.keyType),i=2&xx(e)?Qu(e.symbol,264):void 0,o=n&&gs(fs(n))===e.symbol?n:void 0;for(const a of r){if(a===t)continue;const n=a.declaration&&gs(fs(a.declaration))===e.symbol?a.declaration:void 0,r=o||n||(i&&!K(iu(e),e=>!!jm(e,t.keyType)&&!!Jm(e,a.keyType))?i:void 0);r&&!PS(t.type,a.type)&&Lo(r,ma._0_index_type_1_is_not_assignable_to_2_index_type_3,oc(t.keyType),oc(t.type),oc(a.keyType),oc(a.type))}}function aJ(e,t){switch(e.escapedText){case"any":case"unknown":case"never":case"number":case"bigint":case"boolean":case"string":case"symbol":case"void":case"object":case"undefined":Lo(e,t,e.escapedText)}}function mJ(e){let t=!1;if(e)for(let r=0;r<e.length;r++){const t=e[r];OR(t),a(n(t,r))}function n(n,r){return()=>{n.default?(t=!0,function(e,t,n){function r(e){if(183===e.kind){const r=jy(e);if(262144&r.flags)for(let i=n;i<t.length;i++)r.symbol===fs(t[i])&&Lo(e,ma.Type_parameter_defaults_can_only_reference_previously_declared_type_parameters)}KI(e,r)}r(e)}(n.default,e,r)):t&&Lo(n,ma.Required_type_parameters_may_not_follow_optional_type_parameters);for(let t=0;t<r;t++)e[t].symbol===n.symbol&&Lo(n.name,ma.Duplicate_identifier_0,jp(n.name))}}}function gJ(e){if(e.declarations&&1===e.declarations.length)return;const t=na(e);if(!t.typeParametersChecked){t.typeParametersChecked=!0;const n=function(e){return F(e.declarations,e=>263===e.kind||264===e.kind)}(e);if(!n||n.length<=1)return;if(!hJ(n,vu(e).localTypeParameters,ml)){const t=nc(e);for(const e of n)Lo(e.name,ma.All_declarations_of_0_must_have_identical_type_parameters,t)}}}function hJ(e,t,n){const r=p(t),i=yg(t);for(const o of e){const e=n(o),a=e.length;if(a<i||a>r)return!1;for(let n=0;n<a;n++){const r=e[n],i=t[n];if(r.name.escapedText!==i.symbol.escapedName)return!1;const o=gl(r),a=o&&Pk(o),s=Bp(i);if(a&&s&&!CS(a,s))return!1;const c=r.default&&Pk(r.default),l=yf(i);if(c&&l&&!CS(c,l))return!1}}return!0}function yJ(e){var t;const n=!B&&R<Pi.ClassAndClassElementDecorators&&bm(!1,e),r=R<Pi.PrivateNamesAndClassStaticBlocks||R<Pi.ClassAndClassElementDecorators,i=!q;if(n||r)for(const o of e.members){if(n&&xm(!1,o,e))return null!=(t=he(Ac(e)))?t:e;if(r){if(CN(o))return o;if(Iv(o)&&(Yl(o)||i&&mz(o)))return o}}}function vJ(e){!function(e){const t=Sd(e);(function(e){let t=!1,n=!1;if(!cq(e)&&e.heritageClauses)for(const r of e.heritageClauses){if(96===r.token){if(t)return Aq(r,ma.extends_clause_already_seen);if(n)return Aq(r,ma.extends_clause_must_precede_implements_clause);if(r.types.length>1)return Aq(r.types[1],ma.Classes_can_only_extend_a_single_class);t=!0}else{if(fn.assert(119===r.token),n)return Aq(r,ma.implements_clause_already_seen);n=!0}mq(r)}})(e)||uq(e.typeParameters,t)}(e),SM(e),GM(e,e.name),mJ(ml(e)),iM(e);const t=fs(e),n=vu(t),r=yd(n),i=w_(t);gJ(t),rM(t),function(e){const t=new Map,n=new Map,r=new Map;for(const o of e.members)if(176===o.kind)for(const e of o.parameters)ic(e,o)&&!D_(e.name)&&i(t,e.name,e.name.escapedText,3);else{const e=Iv(o),a=o.name;if(!a)continue;const s=nN(a),c=s&&e?16:0,l=s?r:e?n:t,_=a&&zq(a);if(_)switch(o.kind){case 177:i(l,a,_,1|c);break;case 178:i(l,a,_,2|c);break;case 172:i(l,a,_,3|c);break;case 174:i(l,a,_,8|c)}}function i(e,t,n,r){const i=e.get(n);if(i)if((16&i)!=(16&r))Lo(t,ma.Duplicate_identifier_0_Static_and_instance_elements_cannot_share_the_same_private_name,ep(t));else{const o=!!(8&i),a=!!(8&r);o||a?o!==a&&Lo(t,ma.Duplicate_identifier_0,ep(t)):i&r&-17?Lo(t,ma.Duplicate_identifier_0,ep(t)):e.set(n,i|r)}else e.set(n,r)}}(e),33554432&e.flags||function(e){for(const t of e.members){const n=t.name;if(Iv(t)&&n){const t=zq(n);switch(t){case"name":case"length":case"caller":case"arguments":if(J)break;case"prototype":Lo(n,ma.Static_property_0_conflicts_with_built_in_property_Function_0_of_constructor_function_1,t,Pc(fs(e)))}}}}(e);const o=kh(e);if(o){f(o.typeArguments,GJ),R<Pi.Classes&&aq(o.parent,1);const t=Sh(e);t&&t!==o&&IR(t.expression);const s=iu(n);s.length&&a(()=>{const t=s[0],a=Z_(n),c=Sf(a);if(function(e,t){const n=Qf(e,1);if(n.length){const r=n[0].declaration;r&&Pv(r,2)&&(_z(t,bx(e.symbol))||Lo(t,ma.Cannot_extend_a_class_0_Class_constructor_is_marked_as_private,Ha(e.symbol)))}}(c,o),GJ(o.expression),K(o.typeArguments)){f(o.typeArguments,GJ);for(const e of H_(c,o.typeArguments,o))if(!KR(o,e.typeParameters))break}const l=yd(t,n.thisType);LS(r,l,void 0)?LS(i,TS(c),e.name||e,ma.Class_static_side_0_incorrectly_extends_base_class_static_side_1):kJ(e,r,l,ma.Class_0_incorrectly_extends_base_class_1),8650752&a.flags&&(U_(i)?Qf(a,1).some(e=>4&e.flags)&&!Av(e,64)&&Lo(e.name||e,ma.A_mixin_class_that_extends_from_a_type_variable_containing_an_abstract_construct_signature_must_also_be_declared_abstract):Lo(e.name||e,ma.A_mixin_class_must_have_a_constructor_with_a_single_rest_parameter_of_type_any)),c.symbol&&32&c.symbol.flags||8650752&a.flags||f(K_(c,o.typeArguments,o),e=>!CL(e.declaration)&&!CS(zg(e),t))&&Lo(o.expression,ma.Base_constructors_must_all_have_the_same_return_type),function(e,t){var n,r,i,o,a;const s=Fp(t),c=new Map;e:for(const l of s){const s=TJ(l);if(4194304&s.flags)continue;const _=Dp(e,s.escapedName);if(!_)continue;const u=TJ(_),d=lx(s);if(fn.assert(!!u,"derived should point to something, even if it is the base class' declaration."),u===s){const r=bx(e.symbol);if(64&d&&(!r||!Av(r,64))){for(const n of iu(e)){if(n===t)continue;const e=Dp(n,s.escapedName),r=e&&TJ(e);if(r&&r!==s)continue e}const i=oc(t),o=oc(e),a=nc(l),_=se(null==(n=c.get(r))?void 0:n.missedProperties,a);c.set(r,{baseTypeName:i,typeName:o,missedProperties:_})}}else{const n=lx(u);if(2&d||2&n)continue;let c;const l=98308&s.flags,_=98308&u.flags;if(l&&_){if((6&cx(s)?null==(r=s.declarations)?void 0:r.some(e=>CJ(e,d)):null==(i=s.declarations)?void 0:i.every(e=>CJ(e,d)))||262144&cx(s)||u.valueDeclaration&&kF(u.valueDeclaration))continue;const c=4!==l&&4===_;if(c||4===l&&4!==_){const n=c?ma._0_is_defined_as_an_accessor_in_class_1_but_is_overridden_here_in_2_as_an_instance_property:ma._0_is_defined_as_a_property_in_class_1_but_is_overridden_here_in_2_as_an_accessor;Lo(Ec(u.valueDeclaration)||u.valueDeclaration,n,nc(s),oc(t),oc(e))}else if(J){const r=null==(o=u.declarations)?void 0:o.find(e=>172===e.kind&&!e.initializer);if(r&&!(33554432&u.flags)&&!(64&d)&&!(64&n)&&!(null==(a=u.declarations)?void 0:a.some(e=>!!(33554432&e.flags)))){const n=SC(bx(e.symbol)),i=r.name;if(r.exclamationToken||!n||!tN(i)||!$||!DJ(i,e,n)){const e=ma.Property_0_will_overwrite_the_base_property_in_1_If_this_is_intentional_add_an_initializer_Otherwise_add_a_declare_modifier_or_remove_the_redundant_declaration;Lo(Ec(u.valueDeclaration)||u.valueDeclaration,e,nc(s),oc(t))}}}continue}if(RI(s)){if(RI(u)||4&u.flags)continue;fn.assert(!!(98304&u.flags)),c=ma.Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_accessor}else c=98304&s.flags?ma.Class_0_defines_instance_member_accessor_1_but_extended_class_2_defines_it_as_instance_member_function:ma.Class_0_defines_instance_member_property_1_but_extended_class_2_defines_it_as_instance_member_function;Lo(Ec(u.valueDeclaration)||u.valueDeclaration,c,oc(t),nc(s),oc(e))}}for(const[l,_]of c)if(1===p(_.missedProperties))DF(l)?Lo(l,ma.Non_abstract_class_expression_does_not_implement_inherited_abstract_member_0_from_class_1,ve(_.missedProperties),_.baseTypeName):Lo(l,ma.Non_abstract_class_0_does_not_implement_inherited_abstract_member_1_from_class_2,_.typeName,ve(_.missedProperties),_.baseTypeName);else if(p(_.missedProperties)>5){const e=A(_.missedProperties.slice(0,4),e=>`'${e}'`).join(", "),t=p(_.missedProperties)-4;DF(l)?Lo(l,ma.Non_abstract_class_expression_is_missing_implementations_for_the_following_members_of_0_Colon_1_and_2_more,_.baseTypeName,e,t):Lo(l,ma.Non_abstract_class_0_is_missing_implementations_for_the_following_members_of_1_Colon_2_and_3_more,_.typeName,_.baseTypeName,e,t)}else{const e=A(_.missedProperties,e=>`'${e}'`).join(", ");DF(l)?Lo(l,ma.Non_abstract_class_expression_is_missing_implementations_for_the_following_members_of_0_Colon_1,_.baseTypeName,e):Lo(l,ma.Non_abstract_class_0_is_missing_implementations_for_the_following_members_of_1_Colon_2,_.typeName,_.baseTypeName,e)}}(n,t)})}!function(e,t,n,r){const i=kh(e),o=i&&iu(t),a=(null==o?void 0:o.length)?yd(ve(o),t.thisType):void 0,s=Z_(t);for(const c of e.members)Rv(c)||(wN(c)&&f(c.parameters,i=>{ic(i,c)&&bJ(e,r,s,a,t,n,i,!0)}),bJ(e,r,s,a,t,n,c,!1))}(e,n,r,i);const s=Th(e);if(s)for(const l of s)ub(l.expression)&&!kl(l.expression)||Lo(l.expression,ma.A_class_can_only_implement_an_identifier_Slashqualified_name_with_optional_type_arguments),XR(l),a(c(l));function c(t){return()=>{const i=Nf(Pk(t));if(!Hc(i))if(au(i)){const t=i.symbol&&32&i.symbol.flags?ma.Class_0_incorrectly_implements_class_1_Did_you_mean_to_extend_1_and_inherit_its_members_as_a_subclass:ma.Class_0_incorrectly_implements_interface_1,o=yd(i,n.thisType);LS(r,o,void 0)||kJ(e,r,o,t)}else Lo(t,ma.A_class_can_only_implement_an_object_type_or_intersection_of_object_types_with_statically_known_members)}}a(()=>{GB(n,t),GB(i,t,!0),JR(e),function(e){if(!$||!Q||33554432&e.flags)return;const t=SC(e);for(const n of e.members)if(!(128&Uv(n))&&!Iv(n)&&wJ(n)){const e=n.name;if(tN(e)||nN(e)||hN(e)){const r=w_(fs(n));3&r.flags||YS(r)||t&&DJ(e,r,t)||Lo(n.name,ma.Property_0_has_no_initializer_and_is_not_definitely_assigned_in_the_constructor,jp(e))}}}(e)})}function bJ(e,t,n,r,i,o,a,s,c=!0){const l=a.name&&gz(a.name)||gz(a);return l?xJ(e,t,n,r,i,o,Lv(a),jv(a),Iv(a),s,l,c?a:void 0):0}function xJ(e,t,n,r,i,o,a,s,c,l,_,u){const d=Om(e),p=!!(33554432&e.flags);if(a&&(null==_?void 0:_.valueDeclaration)&&m_(_.valueDeclaration)&&_.valueDeclaration.name&&ad(_.valueDeclaration.name))return Lo(u,d?ma.This_member_cannot_have_a_JSDoc_comment_with_an_override_tag_because_its_name_is_dynamic:ma.This_member_cannot_have_an_override_modifier_because_its_name_is_dynamic),2;if(r&&(a||I.noImplicitOverride)){const e=c?n:r,i=Gf(c?t:o,_.escapedName),f=Gf(e,_.escapedName),m=oc(r);if(i&&!f&&a){if(u){const t=gO(Sc(_),e);t?Lo(u,d?ma.This_member_cannot_have_a_JSDoc_comment_with_an_override_tag_because_it_is_not_declared_in_the_base_class_0_Did_you_mean_1:ma.This_member_cannot_have_an_override_modifier_because_it_is_not_declared_in_the_base_class_0_Did_you_mean_1,m,nc(t)):Lo(u,d?ma.This_member_cannot_have_a_JSDoc_comment_with_an_override_tag_because_it_is_not_declared_in_the_base_class_0:ma.This_member_cannot_have_an_override_modifier_because_it_is_not_declared_in_the_base_class_0,m)}return 2}if(i&&(null==f?void 0:f.declarations)&&I.noImplicitOverride&&!p){const e=K(f.declarations,jv);if(a)return 0;if(!e)return u&&Lo(u,l?d?ma.This_parameter_property_must_have_a_JSDoc_comment_with_an_override_tag_because_it_overrides_a_member_in_the_base_class_0:ma.This_parameter_property_must_have_an_override_modifier_because_it_overrides_a_member_in_base_class_0:d?ma.This_member_must_have_a_JSDoc_comment_with_an_override_tag_because_it_overrides_a_member_in_the_base_class_0:ma.This_member_must_have_an_override_modifier_because_it_overrides_a_member_in_the_base_class_0,m),1;if(s&&e)return u&&Lo(u,ma.This_member_must_have_an_override_modifier_because_it_overrides_an_abstract_method_that_is_declared_in_the_base_class_0,m),1}}else if(a){if(u){const e=oc(i);Lo(u,d?ma.This_member_cannot_have_a_JSDoc_comment_with_an_override_tag_because_its_containing_class_0_does_not_extend_another_class:ma.This_member_cannot_have_an_override_modifier_because_its_containing_class_0_does_not_extend_another_class,e)}return 2}return 0}function kJ(e,t,n,r){let i=!1;for(const o of e.members){if(Iv(o))continue;const e=o.name&&gz(o.name)||gz(o);if(e){const r=Gf(t,e.escapedName),a=Gf(n,e.escapedName);if(r&&a){const s=()=>ik(void 0,ma.Property_0_in_type_1_is_not_assignable_to_the_same_property_in_base_type_2,nc(e),oc(t),oc(n));LS(w_(r),w_(a),o.name||o,void 0,s)||(i=!0)}}}i||LS(t,n,e.name||e,r)}function TJ(e){return 1&cx(e)?e.links.target:e}function CJ(e,t){return 64&t&&(!kN(e)||!e.initializer)||cE(e.parent)}function wJ(e){return 172===e.kind&&!jv(e)&&!e.exclamationToken&&!e.initializer}function DJ(e,t,n){const r=hN(e)?_w.createElementAccessExpression(_w.createThis(),e.expression):_w.createPropertyAccessExpression(_w.createThis(),e);return IT(r.expression,r),IT(r,n),r.flowNode=n.returnFlowNode,!YS(bE(r,t,yw(t)))}function NJ(e){cq(e)||function(e){let t=!1;if(e.heritageClauses)for(const n of e.heritageClauses){if(96!==n.token)return fn.assert(119===n.token),Aq(n,ma.Interface_declaration_cannot_have_implements_clause);if(t)return Aq(n,ma.extends_clause_already_seen);t=!0,mq(n)}}(e),Eq(e.parent)||Oq(e,ma._0_declarations_can_only_be_declared_inside_a_block,"interface"),mJ(e.typeParameters),a(()=>{aJ(e.name,ma.Interface_name_cannot_be_0),iM(e);const t=fs(e);gJ(t);const n=Qu(t,264);if(e===n){const n=vu(t),r=yd(n);if(function(e,t){const n=iu(e);if(n.length<2)return!0;const r=new Map;f(Bu(e).declaredProperties,t=>{r.set(t.escapedName,{prop:t,containingType:e})});let i=!0;for(const o of n){const n=Fp(yd(o,e.thisType));for(const a of n){const n=r.get(a.escapedName);if(n){if(n.containingType!==e&&!PC(n.prop,a)){i=!1;const r=oc(n.containingType),s=oc(o);let c=ik(void 0,ma.Named_property_0_of_types_1_and_2_are_not_identical,nc(a),r,s);c=ik(c,ma.Interface_0_cannot_simultaneously_extend_types_1_and_2,oc(e),r,s),po.add(Wp(Sd(t),t,c))}}else r.set(a.escapedName,{prop:a,containingType:o})}}return i}(n,e.name)){for(const t of iu(n))LS(r,yd(t,n.thisType),e.name,ma.Interface_0_incorrectly_extends_interface_1);GB(n,t)}}BR(e)}),f(wh(e),e=>{ub(e.expression)&&!kl(e.expression)||Lo(e.expression,ma.An_interface_can_only_extend_an_identifier_Slashqualified_name_with_optional_type_arguments),XR(e)}),f(e.members,GJ),a(()=>{JR(e),wM(e)})}function FJ(e){const t=ra(e);if(!(1024&t.flags)){t.flags|=1024;let n,r=0;for(const t of e.members){const e=EJ(t,r,n);ra(t).enumMemberValue=e,r="number"==typeof e.value?e.value+1:void 0,n=t}}}function EJ(e,t,n){if(Mp(e.name))Lo(e.name,ma.Computed_property_names_are_not_allowed_in_enums);else{const t=Jp(e.name);WT(t)&&!zT(t)&&Lo(e.name,ma.An_enum_member_cannot_have_a_numeric_name)}if(e.initializer)return function(e){const t=af(e.parent),n=e.initializer,r=Se(n,e);return void 0!==r.value?t&&"number"==typeof r.value&&!isFinite(r.value)?Lo(n,isNaN(r.value)?ma.const_enum_member_initializer_was_evaluated_to_disallowed_value_NaN:ma.const_enum_member_initializer_was_evaluated_to_a_non_finite_value):Dk(I)&&"string"==typeof r.value&&!r.isSyntacticallyString&&Lo(n,ma._0_has_a_string_type_but_must_have_syntactically_recognizable_string_syntax_when_isolatedModules_is_enabled,`${xc(e.parent.name)}.${Jp(e.name)}`):t?Lo(n,ma.const_enum_member_initializers_must_be_constant_expressions):33554432&e.parent.flags?Lo(n,ma.In_ambient_enum_declarations_member_initializer_must_be_constant_expression):LS(IR(n),Ut,n,ma.Type_0_is_not_assignable_to_type_1_as_required_for_computed_enum_member_values),r}(e);if(33554432&e.parent.flags&&!af(e.parent))return bC(void 0);if(void 0===t)return Lo(e.name,ma.Enum_member_must_have_initializer),bC(void 0);if(Dk(I)&&(null==n?void 0:n.initializer)){const t=zz(n);("number"!=typeof t.value||t.resolvedOtherFiles)&&Lo(e.name,ma.Enum_member_following_a_non_literal_numeric_member_must_have_an_initializer_when_isolatedModules_is_enabled)}return bC(t)}function PJ(e,t){const n=Ka(e,111551,!0);if(!n)return bC(void 0);if(80===e.kind){const t=e;if(zT(t.escapedText)&&n===$y(t.escapedText,111551,void 0))return bC(+t.escapedText,!1)}if(8&n.flags)return t?AJ(e,n,t):zz(n.valueDeclaration);if(BE(n)){const e=n.valueDeclaration;if(e&&iE(e)&&!e.type&&e.initializer&&(!t||e!==t&&aa(e,t))){const n=Se(e.initializer,e);return t&&Sd(t)!==Sd(e)?bC(n.value,!1,!0,!0):bC(n.value,n.isSyntacticallyString,n.resolvedOtherFiles,!0)}}return bC(void 0)}function AJ(e,t,n){const r=t.valueDeclaration;if(!r||r===n)return Lo(e,ma.Property_0_is_used_before_being_assigned,nc(t)),bC(void 0);if(!aa(r,n))return Lo(e,ma.A_member_initializer_in_a_enum_declaration_cannot_reference_members_declared_after_it_including_members_defined_in_other_enums),bC(0);const i=zz(r);return n.parent!==r.parent?bC(i.value,i.isSyntacticallyString,i.resolvedOtherFiles,!0):i}function IJ(e){a(()=>function(e){cq(e),GM(e,e.name),iM(e),e.members.forEach(OJ),!I.erasableSyntaxOnly||33554432&e.flags||Lo(e,ma.This_syntax_is_not_allowed_when_erasableSyntaxOnly_is_enabled),FJ(e);const t=fs(e),n=Qu(t,e.kind);if(e===n){if(t.declarations&&t.declarations.length>1){const n=af(e);f(t.declarations,e=>{_E(e)&&af(e)!==n&&Lo(Ec(e),ma.Enum_declarations_must_all_be_const_or_non_const)})}let n=!1;f(t.declarations,e=>{if(266!==e.kind)return!1;const t=e;if(!t.members.length)return!1;const r=t.members[0];r.initializer||(n?Lo(r.name,ma.In_an_enum_with_multiple_declarations_only_one_declaration_can_omit_an_initializer_for_its_first_enum_element):n=!0)})}}(e))}function OJ(e){nN(e.name)&&Lo(e,ma.An_enum_member_cannot_be_named_with_a_private_identifier),e.initializer&&IR(e.initializer)}function LJ(t){t.body&&(GJ(t.body),hp(t)||wM(t)),a(function(){var n,r;const i=hp(t),o=33554432&t.flags;i&&!o&&Lo(t.name,ma.Augmentations_for_the_global_scope_should_have_declare_modifier_unless_they_appear_in_already_ambient_context);const a=dp(t),s=a?ma.An_ambient_module_declaration_is_only_allowed_at_the_top_level_in_a_file:ma.A_namespace_declaration_is_only_allowed_at_the_top_level_of_a_namespace_or_module;if(WJ(t,s))return;if(cq(t)||o||11!==t.name.kind||Oq(t.name,ma.Only_ambient_modules_can_use_quoted_names),tN(t.name)&&(GM(t,t.name),!(2080&t.flags))){const e=Sd(t),n=Yp(e,Hd(t));fo.add(ek(e,n.start,n.length,ma.A_namespace_declaration_should_not_be_declared_using_the_module_keyword_Please_use_the_namespace_keyword_instead))}iM(t);const c=fs(t);if(512&c.flags&&!o&&oJ(t,Ok(I))){if(I.erasableSyntaxOnly&&Lo(t.name,ma.This_syntax_is_not_allowed_when_erasableSyntaxOnly_is_enabled),Dk(I)&&!Sd(t).externalModuleIndicator&&Lo(t.name,ma.Namespaces_are_not_allowed_in_global_script_files_when_0_is_enabled_If_this_file_is_not_intended_to_be_a_global_script_set_moduleDetection_to_force_or_add_an_empty_export_statement,Le),(null==(n=c.declarations)?void 0:n.length)>1){const e=function(e){const t=e.declarations;if(t)for(const n of t)if((263===n.kind||262===n.kind&&Ad(n.body))&&!(33554432&n.flags))return n}(c);e&&(Sd(t)!==Sd(e)?Lo(t.name,ma.A_namespace_declaration_cannot_be_in_a_different_file_from_a_class_or_function_with_which_it_is_merged):t.pos<e.pos&&Lo(t.name,ma.A_namespace_declaration_cannot_be_located_prior_to_a_class_or_function_with_which_it_is_merged));const n=Qu(c,263);n&&function(e,t){const n=Op(e),r=Op(t);return nf(n)?nf(r):!nf(r)&&n===r}(t,n)&&(ra(t).flags|=2048)}if(I.verbatimModuleSyntax&&307===t.parent.kind&&1===e.getEmitModuleFormatOfFile(t.parent)){const e=null==(r=t.modifiers)?void 0:r.find(e=>95===e.kind);e&&Lo(e,ma.A_top_level_export_modifier_cannot_be_used_on_value_declarations_in_a_CommonJS_module_when_verbatimModuleSyntax_is_enabled)}}if(a)if(yp(t)){if((i||33554432&fs(t).flags)&&t.body)for(const e of t.body.statements)jJ(e,i)}else nf(t.parent)?i?Lo(t.name,ma.Augmentations_for_the_global_scope_can_only_be_directly_nested_in_external_modules_or_ambient_module_declarations):Es($h(t.name))&&Lo(t.name,ma.Ambient_module_declaration_cannot_specify_relative_module_name):Lo(t.name,i?ma.Augmentations_for_the_global_scope_can_only_be_directly_nested_in_external_modules_or_ambient_module_declarations:ma.Ambient_modules_cannot_be_nested_in_other_modules_or_namespaces)})}function jJ(e,t){switch(e.kind){case 243:for(const r of e.declarationList.declarations)jJ(r,t);break;case 277:case 278:Aq(e,ma.Exports_and_export_assignments_are_not_permitted_in_module_augmentations);break;case 271:if(Pm(e))break;case 272:Aq(e,ma.Imports_are_not_permitted_in_module_augmentations_Consider_moving_them_to_the_enclosing_external_module);break;case 208:case 260:const n=e.name;if(D_(n)){for(const e of n.elements)jJ(e,t);break}case 263:case 266:case 262:case 264:case 267:case 265:if(t)return}}function RJ(e){const t=wg(e);if(!t||Pd(t))return!1;if(!MD(t))return Lo(t,ma.String_literal_expected),!1;const n=268===e.parent.kind&&dp(e.parent.parent);if(307!==e.parent.kind&&!n)return Lo(t,278===e.kind?ma.Export_declarations_are_not_permitted_in_a_namespace:ma.Import_declarations_in_a_namespace_cannot_reference_a_module),!1;if(n&&Es(t.text)&&!Cc(e))return Lo(e,ma.Import_or_export_declaration_in_an_ambient_module_declaration_cannot_reference_module_through_relative_module_name),!1;if(!mE(e)&&e.attributes){const t=118===e.attributes.token?ma.Import_attribute_values_must_be_string_literal_expressions:ma.Import_assertion_values_must_be_string_literal_expressions;let n=!1;for(const r of e.attributes.elements)MD(r.value)||(n=!0,Lo(r.value,t));return!n}return!0}function MJ(e,t=!0){void 0!==e&&11===e.kind&&(t?5!==M&&6!==M||Oq(e,ma.String_literal_import_and_export_names_are_not_supported_when_the_module_flag_is_set_to_es2015_or_es2020):Oq(e,ma.Identifier_expected))}function BJ(t){var n,r,i,o,a;let s=fs(t);const c=Ja(s);if(c!==bt){if(s=ps(s.exportSymbol||s),Om(t)&&!(111551&c.flags)&&!$l(t)){const e=Vl(t)?t.propertyName||t.name:Nc(t)?t.name:t;if(fn.assert(280!==t.kind),281===t.kind){const n=Lo(e,ma.Types_cannot_appear_in_export_declarations_in_JavaScript_files),a=null==(i=null==(r=Sd(t).symbol)?void 0:r.exports)?void 0:i.get(Qd(t.propertyName||t.name));if(a===c){const e=null==(o=a.declarations)?void 0:o.find(Nu);e&&uT(n,qp(e,ma._0_is_automatically_exported_here,bc(a.escapedName)))}}else{fn.assert(260!==t.kind);const r=gc(t,rn(gE,mE)),i=null!=(n=r&&(null==(a=kg(r))?void 0:a.text))?n:"...",o=bc(tN(e)?e.escapedText:s.escapedName);Lo(e,ma._0_is_a_type_and_cannot_be_imported_in_JavaScript_files_Use_1_in_a_JSDoc_type_annotation,o,`import("${i}").${o}`)}return}const l=za(c);if(l&((1160127&s.flags?111551:0)|(788968&s.flags?788968:0)|(1920&s.flags?1920:0))?Lo(t,281===t.kind?ma.Export_declaration_conflicts_with_exported_declaration_of_0:ma.Import_declaration_conflicts_with_local_declaration_of_0,nc(s)):281!==t.kind&&I.isolatedModules&&!gc(t,$l)&&1160127&s.flags&&Lo(t,ma.Import_0_conflicts_with_local_value_so_must_be_declared_with_a_type_only_import_when_isolatedModules_is_enabled,nc(s),Le),Dk(I)&&!$l(t)&&!(33554432&t.flags)){const n=Ua(s),r=!(111551&l);if(r||n)switch(t.kind){case 273:case 276:case 271:if(I.verbatimModuleSyntax){fn.assertIsDefined(t.name,"An ImportClause with a symbol should have a name");const e=I.verbatimModuleSyntax&&Pm(t)?ma.An_import_alias_cannot_resolve_to_a_type_or_type_only_declaration_when_verbatimModuleSyntax_is_enabled:r?ma._0_is_a_type_and_must_be_imported_using_a_type_only_import_when_verbatimModuleSyntax_is_enabled:ma._0_resolves_to_a_type_only_declaration_and_must_be_imported_using_a_type_only_import_when_verbatimModuleSyntax_is_enabled,i=Xd(276===t.kind&&t.propertyName||t.name);ua(Lo(t,e,i),r?void 0:n,i)}r&&271===t.kind&&Pv(t,32)&&Lo(t,ma.Cannot_use_export_import_on_a_type_or_type_only_namespace_when_0_is_enabled,Le);break;case 281:if(I.verbatimModuleSyntax||Sd(n)!==Sd(t)){const e=Xd(t.propertyName||t.name);ua(r?Lo(t,ma.Re_exporting_a_type_when_0_is_enabled_requires_using_export_type,Le):Lo(t,ma._0_resolves_to_a_type_only_declaration_and_must_be_re_exported_using_a_type_only_re_export_when_1_is_enabled,e,Le),r?void 0:n,e);break}}if(I.verbatimModuleSyntax&&271!==t.kind&&!Om(t)&&1===e.getEmitModuleFormatOfFile(Sd(t))?Lo(t,ma.ESM_syntax_is_not_allowed_in_a_CommonJS_module_when_verbatimModuleSyntax_is_enabled):200===M&&271!==t.kind&&260!==t.kind&&1===e.getEmitModuleFormatOfFile(Sd(t))&&Lo(t,ma.ESM_syntax_is_not_allowed_in_a_CommonJS_module_when_module_is_set_to_preserve),I.verbatimModuleSyntax&&!$l(t)&&!(33554432&t.flags)&&128&l){const n=c.valueDeclaration,r=e.getRedirectReferenceForResolutionFromSourceOfProject(Sd(n).resolvedPath);!(33554432&n.flags)||r&&Ok(r.commandLine.options)||Lo(t,ma.Cannot_access_ambient_const_enums_when_0_is_enabled,Le)}}if(wE(t)){const e=JJ(s,t);zo(e)&&e.declarations&&Vo(t,e.declarations,e.escapedName)}}}function JJ(e,t){if(!(2097152&e.flags)||zo(e)||!ba(e))return e;const n=Ja(e);if(n===bt)return n;for(;2097152&e.flags;){const r=iI(e);if(!r)break;if(r===n)break;if(r.declarations&&p(r.declarations)){if(zo(r)){Vo(t,r.declarations,r.escapedName);break}if(e===n)break;e=r}}return n}function zJ(t){GM(t,t.name),BJ(t),276===t.kind&&(MJ(t.propertyName),Zd(t.propertyName||t.name)&&Nk(I)&&e.getEmitModuleFormatOfFile(Sd(t))<4&&aq(t,131072))}function qJ(e){var t;const n=e.attributes;if(n){const r=Zy(!0);r!==Dn&&LS(zl(n),hw(r,32768),n);const i=fU(e),o=yU(n,i?Oq:void 0),a=118===e.attributes.token;if(i&&o)return;if(!Uk(M))return Oq(n,a?ma.Import_attributes_are_only_supported_when_the_module_option_is_set_to_esnext_node18_nodenext_or_preserve:ma.Import_assertions_are_only_supported_when_the_module_option_is_set_to_esnext_node18_nodenext_or_preserve);if(199===M&&!a)return Aq(n,ma.Import_assertions_have_been_replaced_by_import_attributes_Use_with_instead_of_assert);if(e.moduleSpecifier&&1===wa(e.moduleSpecifier))return Oq(n,a?ma.Import_attributes_are_not_allowed_on_statements_that_compile_to_CommonJS_require_calls:ma.Import_assertions_are_not_allowed_on_statements_that_compile_to_CommonJS_require_calls);if(WP(e)||(gE(e)?null==(t=e.importClause)?void 0:t.isTypeOnly:e.isTypeOnly))return Oq(n,a?ma.Import_attributes_cannot_be_used_with_type_only_imports_or_exports:ma.Import_assertions_cannot_be_used_with_type_only_imports_or_exports);if(o)return Oq(n,ma.resolution_mode_can_only_be_set_for_type_only_imports)}}function VJ(t){if(!WJ(t,Om(t)?ma.An_import_declaration_can_only_be_used_at_the_top_level_of_a_module:ma.An_import_declaration_can_only_be_used_at_the_top_level_of_a_namespace_or_module)){if(!cq(t)&&t.modifiers&&Aq(t,ma.An_import_declaration_cannot_have_modifiers),RJ(t)){let n;const r=t.importClause;r&&!function(e){var t;return e.isTypeOnly&&e.name&&e.namedBindings?Oq(e,ma.A_type_only_import_can_specify_a_default_import_or_named_bindings_but_not_both):!(!e.isTypeOnly||275!==(null==(t=e.namedBindings)?void 0:t.kind))&&Bq(e.namedBindings)}(r)?(r.name&&zJ(r),r.namedBindings&&(274===r.namedBindings.kind?(zJ(r.namedBindings),e.getEmitModuleFormatOfFile(Sd(t))<4&&Nk(I)&&aq(t,65536)):(n=Qa(t,t.moduleSpecifier),n&&f(r.namedBindings.elements,zJ))),!r.isTypeOnly&&101<=M&&M<=199&&Da(t.moduleSpecifier,n)&&!function(e){return!!e.attributes&&e.attributes.elements.some(e=>{var t;return"type"===$h(e.name)&&"json"===(null==(t=it(e.value,zu))?void 0:t.text)})}(t)&&Lo(t.moduleSpecifier,ma.Importing_a_JSON_file_into_an_ECMAScript_module_requires_a_type_Colon_json_import_attribute_when_module_is_set_to_0,hi[M])):ce&&!r&&Qa(t,t.moduleSpecifier)}qJ(t)}}function UJ(t){if(!WJ(t,Om(t)?ma.An_export_declaration_can_only_be_used_at_the_top_level_of_a_module:ma.An_export_declaration_can_only_be_used_at_the_top_level_of_a_namespace_or_module)){if(!cq(t)&&Ev(t)&&Aq(t,ma.An_export_declaration_cannot_have_modifiers),function(e){var t;e.isTypeOnly&&279===(null==(t=e.exportClause)?void 0:t.kind)&&Bq(e.exportClause)}(t),!t.moduleSpecifier||RJ(t))if(t.exportClause&&!TE(t.exportClause)){f(t.exportClause.elements,$J);const e=268===t.parent.kind&&dp(t.parent.parent),n=!e&&268===t.parent.kind&&!t.moduleSpecifier&&33554432&t.flags;307===t.parent.kind||e||n||Lo(t,ma.Export_declarations_are_not_permitted_in_a_namespace)}else{const n=Qa(t,t.moduleSpecifier);n&&os(n)?Lo(t.moduleSpecifier,ma.Module_0_uses_export_and_cannot_be_used_with_export_Asterisk,nc(n)):t.exportClause&&(BJ(t.exportClause),MJ(t.exportClause.name)),e.getEmitModuleFormatOfFile(Sd(t))<4&&(t.exportClause?Nk(I)&&aq(t,65536):aq(t,32768))}qJ(t)}}function WJ(e,t){const n=307===e.parent.kind||268===e.parent.kind||267===e.parent.kind;return n||Aq(e,t),!n}function $J(t){BJ(t);const n=void 0!==t.parent.parent.moduleSpecifier;if(MJ(t.propertyName,n),MJ(t.name),Ik(I)&&jc(t.propertyName||t.name,!0),n)Nk(I)&&e.getEmitModuleFormatOfFile(Sd(t))<4&&Zd(t.propertyName||t.name)&&aq(t,131072);else{const e=t.propertyName||t.name;if(11===e.kind)return;const n=ze(e,e.escapedText,2998271,void 0,!0);n&&(n===Ce||n===Ne||n.declarations&&nf(qc(n.declarations[0])))?Lo(e,ma.Cannot_export_0_Only_local_declarations_can_be_exported_from_a_module,xc(e)):lP(t,7)}}function HJ(e){const t=fs(e),n=na(t);if(!n.exportsChecked){const e=t.exports.get("export=");if(e&&function(e){return sd(e.exports,(e,t)=>"export="!==t)}(t)){const t=ba(e)||e.valueDeclaration;!t||Cc(t)||Om(t)||Lo(t,ma.An_export_assignment_cannot_be_used_in_a_module_with_other_exported_elements)}const r=_s(t);r&&r.forEach(({declarations:e,flags:t},n)=>{if("__export"===n)return;if(1920&t)return;const r=N(e,nn(YB,on(cE)));if(!(524288&t&&r<=2)&&r>1&&!KJ(e))for(const i of e)sJ(i)&&po.add(qp(i,ma.Cannot_redeclare_exported_variable_0,bc(n)))}),n.exportsChecked=!0}}function KJ(e){return e&&e.length>1&&e.every(e=>Om(e)&&Nx(e)&&(ng(e.expression)||ig(e.expression)))}function GJ(n){if(n){const i=r;r=n,h=0,function(n){if(8388608&Bz(n))return;Bg(n)&&f(n.jsDoc,({comment:e,tags:t})=>{XJ(e),f(t,e=>{XJ(e.comment),Om(n)&&GJ(e)})});const r=n.kind;if(t)switch(r){case 267:case 263:case 264:case 262:t.throwIfCancellationRequested()}switch(r>=243&&r<=259&&Mg(n)&&n.flowNode&&!nE(n.flowNode)&&Mo(!1===I.allowUnreachableCode,n,ma.Unreachable_code_detected),r){case 168:return OR(n);case 169:return LR(n);case 172:return zR(n);case 171:return function(e){return nN(e.name)&&Lo(e,ma.Private_identifiers_are_not_allowed_outside_class_bodies),zR(e)}(n);case 185:case 184:case 179:case 180:case 181:return RR(n);case 174:case 173:return function(e){Tq(e)||hq(e.name),TN(e)&&e.asteriskToken&&tN(e.name)&&"constructor"===xc(e.name)&&Lo(e.name,ma.Class_constructor_may_not_be_a_generator),CM(e),Av(e,64)&&174===e.kind&&e.body&&Lo(e,ma.Method_0_cannot_have_an_implementation_because_it_is_marked_abstract,jp(e.name)),nN(e.name)&&!em(e)&&Lo(e,ma.Private_identifiers_are_not_allowed_outside_class_bodies),qR(e)}(n);case 175:return function(e){cq(e),KI(e,GJ)}(n);case 176:return VR(n);case 177:case 178:return WR(n);case 183:return XR(n);case 182:return function(e){const t=function(e){switch(e.parent.kind){case 219:case 179:case 262:case 218:case 184:case 174:case 173:const t=e.parent;if(e===t.type)return t}}(e);if(!t)return void Lo(e,ma.A_type_predicate_is_only_allowed_in_return_type_position_for_functions_and_methods);const n=Sg(t),r=Rg(n);if(!r)return;GJ(e.type);const{parameterName:i}=e;if(0!==r.kind&&2!==r.kind)if(r.parameterIndex>=0){if(_J(n)&&r.parameterIndex===n.parameters.length-1)Lo(i,ma.A_type_predicate_cannot_reference_a_rest_parameter);else if(r.type){const t=()=>ik(void 0,ma.A_type_predicate_s_type_must_be_assignable_to_its_parameter_s_type);LS(r.type,w_(n.parameters[r.parameterIndex]),e.type,void 0,t)}}else if(i){let n=!1;for(const{name:e}of t.parameters)if(D_(e)&&jR(e,i,r.parameterName)){n=!0;break}n||Lo(e.parameterName,ma.Cannot_find_parameter_0,r.parameterName)}}(n);case 186:return function(e){Jy(e)}(n);case 187:return function(e){f(e.members,GJ),a(function(){const t=Zx(e);GB(t,t.symbol),JR(e),BR(e)})}(n);case 188:return function(e){GJ(e.elementType)}(n);case 189:return function(e){let t=!1,n=!1;for(const r of e.elements){let e=Nv(r);if(8&e){const t=Pk(r.type);if(!zC(t)){Lo(r,ma.A_rest_element_type_must_be_an_array_type);break}(jC(t)||ow(t)&&4&t.target.combinedFlags)&&(e|=4)}if(4&e){if(n){Oq(r,ma.A_rest_element_cannot_follow_another_rest_element);break}n=!0}else if(2&e){if(n){Oq(r,ma.An_optional_element_cannot_follow_a_rest_element);break}t=!0}else if(1&e&&t){Oq(r,ma.A_required_element_cannot_follow_an_optional_element);break}}f(e.elements,GJ),Pk(e)}(n);case 192:case 193:return function(e){f(e.types,GJ),Pk(e)}(n);case 196:case 190:case 191:return GJ(n.type);case 197:return function(e){kk(e)}(n);case 198:return eM(n);case 194:return function(e){KI(e,GJ)}(n);case 195:return function(e){gc(e,e=>e.parent&&194===e.parent.kind&&e.parent.extendsType===e)||Oq(e,ma.infer_declarations_are_only_permitted_in_the_extends_clause_of_a_conditional_type),GJ(e.typeParameter);const t=fs(e.typeParameter);if(t.declarations&&t.declarations.length>1){const e=na(t);if(!e.typeParametersChecked){e.typeParametersChecked=!0;const n=hu(t),r=Zu(t,168);if(!hJ(r,[n],e=>[e])){const e=nc(t);for(const t of r)Lo(t.name,ma.All_declarations_of_0_must_have_identical_constraints,e)}}}wM(e)}(n);case 203:return function(e){for(const t of e.templateSpans)GJ(t.type),LS(Pk(t.type),vn,t.type);Pk(e)}(n);case 205:return function(e){GJ(e.argument),e.attributes&&yU(e.attributes,Oq),QR(e)}(n);case 202:return function(e){e.dotDotDotToken&&e.questionToken&&Oq(e,ma.A_tuple_member_cannot_be_both_optional_and_rest),190===e.type.kind&&Oq(e.type,ma.A_labeled_tuple_element_is_declared_as_optional_with_a_question_mark_after_the_name_and_before_the_colon_rather_than_after_the_type),191===e.type.kind&&Oq(e.type,ma.A_labeled_tuple_element_is_declared_as_rest_with_a_before_the_name_rather_than_before_the_type),GJ(e.type),Pk(e)}(n);case 328:return function(e){const t=Hg(e);if(!t||!sE(t)&&!DF(t))return void Lo(t,ma.JSDoc_0_is_not_attached_to_a_class,xc(e.tagName));const n=_l(t).filter(xP);fn.assert(n.length>0),n.length>1&&Lo(n[1],ma.Class_declarations_cannot_have_more_than_one_augments_or_extends_tag);const r=TM(e.class.expression),i=Sh(t);if(i){const t=TM(i.expression);t&&r.escapedText!==t.escapedText&&Lo(r,ma.JSDoc_0_1_does_not_match_the_extends_2_clause,xc(e.tagName),xc(r),xc(t))}}(n);case 329:return function(e){const t=Hg(e);t&&(sE(t)||DF(t))||Lo(t,ma.JSDoc_0_is_not_attached_to_a_class,xc(e.tagName))}(n);case 346:case 338:case 340:return function(e){e.typeExpression||Lo(e.name,ma.JSDoc_typedef_tag_should_either_have_a_type_annotation_or_be_followed_by_property_or_member_tags),e.name&&aJ(e.name,ma.Type_alias_name_cannot_be_0),GJ(e.typeExpression),mJ(ml(e))}(n);case 345:return function(e){GJ(e.constraint);for(const t of e.typeParameters)GJ(t)}(n);case 344:return function(e){GJ(e.typeExpression)}(n);case 324:case 325:case 326:return function(e){e.name&&fz(e.name,!0)}(n);case 341:case 348:return function(e){GJ(e.typeExpression)}(n);case 317:!function(e){a(function(){e.type||Pg(e)||qw(e,wt)}),RR(e)}(n);case 315:case 314:case 312:case 313:case 322:return QJ(n),void KI(n,GJ);case 318:return void function(e){QJ(e),GJ(e.type);const{parent:t}=e;if(vN(t)&&mP(t.parent))return void(ke(t.parent.parameters)!==t&&Lo(e,ma.A_rest_parameter_must_be_last_in_a_parameter_list));iP(t)||Lo(e,ma.JSDoc_may_only_appear_in_the_last_parameter_of_a_signature);const n=e.parent.parent;if(!OP(n))return void Lo(e,ma.JSDoc_may_only_appear_in_the_last_parameter_of_a_signature);const r=Vg(n);if(!r)return;const i=$g(n);i&&ke(i.parameters).symbol===r||Lo(e,ma.A_rest_parameter_must_be_last_in_a_parameter_list)}(n);case 309:return GJ(n.type);case 333:case 335:case 334:return function(e){const t=Kg(e);t&&Yl(t)&&Lo(e,ma.An_accessibility_modifier_cannot_be_used_with_a_private_identifier)}(n);case 350:return function(e){GJ(e.typeExpression);const t=Hg(e);if(t){const e=dl(t,VP);if(p(e)>1)for(let t=1;t<p(e);t++){const n=e[t].tagName;Lo(n,ma._0_tag_already_specified,xc(n))}}}(n);case 343:return function(e){const t=Hg(e);t&&mF(t)&&Lo(e.tagName,ma.An_arrow_function_cannot_have_a_this_parameter)}(n);case 351:return function(e){qJ(e)}(n);case 199:return function(e){GJ(e.objectType),GJ(e.indexType),ZR(Mx(e),e)}(n);case 200:return YR(n);case 262:return function(e){a(function(){CM(e),yq(e),GM(e,e.name)})}(n);case 241:case 268:return qM(n);case 243:return aB(n);case 244:return function(e){Rq(e),IR(e.expression)}(n);case 245:return function(e){Rq(e);const t=_B(e.expression);sB(e.expression,t,e.thenStatement),GJ(e.thenStatement),242===e.thenStatement.kind&&Lo(e.thenStatement,ma.The_body_of_an_if_statement_cannot_be_the_empty_statement),GJ(e.elseStatement)}(n);case 246:return function(e){Rq(e),GJ(e.statement),_B(e.expression)}(n);case 247:return function(e){Rq(e),_B(e.expression),GJ(e.statement)}(n);case 248:return function(e){Rq(e)||e.initializer&&261===e.initializer.kind&&Fq(e.initializer),e.initializer&&(261===e.initializer.kind?iB(e.initializer):IR(e.initializer)),e.condition&&_B(e.condition),e.incrementor&&IR(e.incrementor),GJ(e.statement),e.locals&&wM(e)}(n);case 249:return uB(n);case 250:return function(e){xq(e);const t=nm(e);if(e.awaitModifier?t&&CN(t)?Oq(e.awaitModifier,ma.for_await_loops_cannot_be_used_inside_a_class_static_block):2==(6&Mh(t))&&R<Pi.ForAwaitOf&&aq(e,16384):I.downlevelIteration&&R<Pi.ForOf&&aq(e,256),261===e.initializer.kind)iB(e.initializer);else{const t=e.initializer,n=dB(e);if(209===t.kind||210===t.kind)nR(t,n||Et);else{const r=IR(t);qj(t,ma.The_left_hand_side_of_a_for_of_statement_must_be_a_variable_or_a_property_access,ma.The_left_hand_side_of_a_for_of_statement_may_not_be_an_optional_property_access),n&&jS(n,r,t,e.expression)}}GJ(e.statement),e.locals&&wM(e)}(n);case 251:case 252:return MB(n);case 253:return function(e){var t;if(Rq(e))return;const n=nm(e);if(n&&CN(n))return void Aq(e,ma.A_return_statement_cannot_be_used_inside_a_class_static_block);if(!n)return void Aq(e,ma.A_return_statement_can_only_be_used_within_a_function_body);const r=zg(Sg(n));if($||e.expression||131072&r.flags){const i=e.expression?uR(e.expression):Lt;if(178===n.kind)e.expression&&Lo(e,ma.Setters_cannot_return_a_value);else if(176===n.kind){const t=e.expression?uR(e.expression):Lt;e.expression&&!jS(t,r,e,e.expression)&&Lo(e,ma.Return_type_of_constructor_signature_must_be_assignable_to_the_instance_type_of_the_class)}else qg(n)&&WB(n,null!=(t=BB(r,Mh(n)))?t:r,e,e.expression,i)}else 176!==n.kind&&I.noImplicitReturns&&!zB(n,r)&&Lo(e,ma.Not_all_code_paths_return_a_value)}(n);case 254:return function(e){Rq(e)||65536&e.flags&&Aq(e,ma.with_statements_are_not_allowed_in_an_async_function_block),IR(e.expression);const t=Sd(e);if(!Pq(t)){const n=Yp(t,e.pos).start;Iq(t,n,e.statement.pos-n,ma.The_with_statement_is_not_supported_All_symbols_in_a_with_block_will_have_type_any)}}(n);case 255:return function(e){let t;Rq(e);let n=!1;const r=IR(e.expression);f(e.caseBlock.clauses,e=>{var i;297!==e.kind||n||(void 0===t?t=e:(Oq(e,ma.A_default_clause_cannot_appear_more_than_once_in_a_switch_statement),n=!0)),296===e.kind&&a((i=e,()=>{const e=IR(i.expression);iR(r,e)||WS(e,r,i.expression,void 0)})),f(e.statements,GJ),I.noFallthroughCasesInSwitch&&e.fallthroughFlowNode&&nE(e.fallthroughFlowNode)&&Lo(e,ma.Fallthrough_case_in_switch)}),e.caseBlock.locals&&wM(e.caseBlock)}(n);case 256:return function(e){Rq(e)||gc(e.parent,t=>c_(t)?"quit":256===t.kind&&t.label.escapedText===e.label.escapedText&&(Oq(e.label,ma.Duplicate_label_0,ep(e.label)),!0)),GJ(e.statement)}(n);case 257:return $B(n);case 258:return function(e){Rq(e),qM(e.tryBlock);const t=e.catchClause;if(t){if(t.variableDeclaration){const e=t.variableDeclaration;ZM(e);const n=yv(e);if(n){const e=Pk(n);!e||3&e.flags||Aq(n,ma.Catch_clause_variable_type_annotation_must_be_any_or_unknown_if_specified)}else if(e.initializer)Aq(e.initializer,ma.Catch_clause_variable_cannot_have_an_initializer);else{const e=t.block.locals;e&&cd(t.locals,t=>{const n=e.get(t);(null==n?void 0:n.valueDeclaration)&&2&n.flags&&Oq(n.valueDeclaration,ma.Cannot_redeclare_identifier_0_in_catch_clause,bc(t))})}}qM(t.block)}e.finallyBlock&&qM(e.finallyBlock)}(n);case 260:return nB(n);case 208:return rB(n);case 263:return function(e){const t=k(e.modifiers,bN);B&&t&&K(e.members,e=>Ov(e)&&Yl(e))&&Oq(t,ma.Class_decorators_can_t_be_used_with_static_private_identifier_Consider_removing_the_experimental_decorator),e.name||Av(e,2048)||Aq(e,ma.A_class_declaration_without_the_default_modifier_must_have_a_name),vJ(e),f(e.members,GJ),wM(e)}(n);case 264:return NJ(n);case 265:return function(e){if(cq(e),aJ(e.name,ma.Type_alias_name_cannot_be_0),Eq(e.parent)||Oq(e,ma._0_declarations_can_only_be_declared_inside_a_block,"type"),iM(e),mJ(e.typeParameters),141===e.type.kind){const t=p(e.typeParameters);(0===t?"BuiltinIteratorReturn"===e.name.escapedText:1===t&&eJ.has(e.name.escapedText))||Lo(e.type,ma.The_intrinsic_keyword_can_only_be_used_to_declare_compiler_provided_intrinsic_types)}else GJ(e.type),wM(e)}(n);case 266:return IJ(n);case 267:return LJ(n);case 272:return VJ(n);case 271:return function(e){if(!WJ(e,Om(e)?ma.An_import_declaration_can_only_be_used_at_the_top_level_of_a_module:ma.An_import_declaration_can_only_be_used_at_the_top_level_of_a_namespace_or_module)&&(cq(e),!I.erasableSyntaxOnly||33554432&e.flags||Lo(e,ma.This_syntax_is_not_allowed_when_erasableSyntaxOnly_is_enabled),Pm(e)||RJ(e)))if(zJ(e),lP(e,6),283!==e.moduleReference.kind){const t=Ja(fs(e));if(t!==bt){const n=za(t);if(111551&n){const t=db(e.moduleReference);1920&Ka(t,112575).flags||Lo(t,ma.Module_0_is_hidden_by_a_local_declaration_with_the_same_name,jp(t))}788968&n&&aJ(e.name,ma.Import_name_cannot_be_0)}e.isTypeOnly&&Oq(e,ma.An_import_alias_cannot_use_import_type)}else!(5<=M&&M<=99)||e.isTypeOnly||33554432&e.flags||Oq(e,ma.Import_assignment_cannot_be_used_when_targeting_ECMAScript_modules_Consider_using_import_Asterisk_as_ns_from_mod_import_a_from_mod_import_d_from_mod_or_another_module_format_instead)}(n);case 278:return UJ(n);case 277:return function(t){if(WJ(t,t.isExportEquals?ma.An_export_assignment_must_be_at_the_top_level_of_a_file_or_module_declaration:ma.A_default_export_must_be_at_the_top_level_of_a_file_or_module_declaration))return;!I.erasableSyntaxOnly||!t.isExportEquals||33554432&t.flags||Lo(t,ma.This_syntax_is_not_allowed_when_erasableSyntaxOnly_is_enabled);const n=307===t.parent.kind?t.parent:t.parent.parent;if(267===n.kind&&!dp(n))return void(t.isExportEquals?Lo(t,ma.An_export_assignment_cannot_be_used_in_a_namespace):Lo(t,ma.A_default_export_can_only_be_used_in_an_ECMAScript_style_module));!cq(t)&&Fv(t)&&Aq(t,ma.An_export_assignment_cannot_have_modifiers);const r=yv(t);r&&LS(uR(t.expression),Pk(r),t.expression);const i=!t.isExportEquals&&!(33554432&t.flags)&&I.verbatimModuleSyntax&&1===e.getEmitModuleFormatOfFile(Sd(t));if(80===t.expression.kind){const e=t.expression,n=Ts(Ka(e,-1,!0,!0,t));if(n){lP(t,3);const r=Ua(n,111551);if(111551&za(n)?(uR(e),i||33554432&t.flags||!I.verbatimModuleSyntax||!r||Lo(e,t.isExportEquals?ma.An_export_declaration_must_reference_a_real_value_when_verbatimModuleSyntax_is_enabled_but_0_resolves_to_a_type_only_declaration:ma.An_export_default_must_reference_a_real_value_when_verbatimModuleSyntax_is_enabled_but_0_resolves_to_a_type_only_declaration,xc(e))):i||33554432&t.flags||!I.verbatimModuleSyntax||Lo(e,t.isExportEquals?ma.An_export_declaration_must_reference_a_value_when_verbatimModuleSyntax_is_enabled_but_0_only_refers_to_a_type:ma.An_export_default_must_reference_a_value_when_verbatimModuleSyntax_is_enabled_but_0_only_refers_to_a_type,xc(e)),!i&&!(33554432&t.flags)&&Dk(I)&&!(111551&n.flags)){const i=za(n,!1,!0);!(2097152&n.flags&&788968&i)||111551&i||r&&Sd(r)===Sd(t)?r&&Sd(r)!==Sd(t)&&ua(Lo(e,t.isExportEquals?ma._0_resolves_to_a_type_only_declaration_and_must_be_marked_type_only_in_this_file_before_re_exporting_when_1_is_enabled_Consider_using_import_type_where_0_is_imported:ma._0_resolves_to_a_type_only_declaration_and_must_be_marked_type_only_in_this_file_before_re_exporting_when_1_is_enabled_Consider_using_export_type_0_as_default,xc(e),Le),r,xc(e)):Lo(e,t.isExportEquals?ma._0_resolves_to_a_type_and_must_be_marked_type_only_in_this_file_before_re_exporting_when_1_is_enabled_Consider_using_import_type_where_0_is_imported:ma._0_resolves_to_a_type_and_must_be_marked_type_only_in_this_file_before_re_exporting_when_1_is_enabled_Consider_using_export_type_0_as_default,xc(e),Le)}}else uR(e);Ik(I)&&jc(e,!0)}else uR(t.expression);i&&Lo(t,ma.ESM_syntax_is_not_allowed_in_a_CommonJS_module_when_verbatimModuleSyntax_is_enabled),HJ(n),33554432&t.flags&&!ub(t.expression)&&Oq(t.expression,ma.The_expression_of_an_export_assignment_must_be_an_identifier_or_qualified_name_in_an_ambient_context),t.isExportEquals&&(M>=5&&200!==M&&(33554432&t.flags&&99===e.getImpliedNodeFormatForEmit(Sd(t))||!(33554432&t.flags)&&1!==e.getImpliedNodeFormatForEmit(Sd(t)))?Oq(t,ma.Export_assignment_cannot_be_used_when_targeting_ECMAScript_modules_Consider_using_export_default_or_another_module_format_instead):4!==M||33554432&t.flags||Oq(t,ma.Export_assignment_is_not_supported_when_module_flag_is_system))}(n);case 242:case 259:return void Rq(n);case 282:!function(e){SM(e)}(n)}}(n),r=i}}function XJ(e){et(e)&&f(e,e=>{qu(e)&&GJ(e)})}function QJ(e){if(!Om(e))if(pP(e)||dP(e)){const t=Oa(pP(e)?54:58),n=e.postfix?ma._0_at_the_end_of_a_type_is_not_valid_TypeScript_syntax_Did_you_mean_to_write_1:ma._0_at_the_start_of_a_type_is_not_valid_TypeScript_syntax_Did_you_mean_to_write_1,r=Pk(e.type);Oq(e,n,t,oc(dP(e)&&r!==_n&&r!==cn?Ob(se([r,Lt],e.postfix?void 0:zt)):r))}else Oq(e,ma.JSDoc_types_can_only_be_used_inside_documentation_comments)}function ZJ(e){const t=ra(Sd(e));1&t.flags?fn.assert(!t.deferredNodes,"A type-checked file should have no deferred nodes."):(t.deferredNodes||(t.deferredNodes=new Set),t.deferredNodes.add(e))}function YJ(e){const t=ra(e);t.deferredNodes&&t.deferredNodes.forEach(ez),t.deferredNodes=void 0}function ez(e){var t,n;null==(t=Xn)||t.push(Xn.Phase.Check,"checkDeferredNode",{kind:e.kind,pos:e.pos,end:e.end,path:e.tracingPath});const o=r;switch(r=e,h=0,e.kind){case 213:case 214:case 215:case 170:case 286:IO(e);break;case 218:case 219:case 174:case 173:!function(e){fn.assert(174!==e.kind||Uf(e));const t=Mh(e),n=qg(e);if(jj(e,n),e.body)if(bv(e)||zg(Sg(e)),241===e.body.kind)GJ(e.body);else{const r=IR(e.body),i=n&&BB(n,t);i&&WB(e,i,e.body,e.body,r)}}(e);break;case 177:case 178:WR(e);break;case 231:!function(e){f(e.members,GJ),wM(e)}(e);break;case 168:!function(e){var t,n;if(cE(e.parent)||g_(e.parent)||lE(e.parent)){const r=hu(fs(e)),o=24576&UT(r);if(o){const a=fs(e.parent);if(!lE(e.parent)||48&xx(vu(a))){if(8192===o||16384===o){null==(t=Xn)||t.push(Xn.Phase.CheckTypes,"checkTypeParameterDeferred",{parent:Tb(vu(a)),id:Tb(r)});const s=MT(a,r,16384===o?Vn:qn),c=MT(a,r,16384===o?qn:Vn),l=r;i=r,LS(s,c,e,ma.Type_0_is_not_assignable_to_type_1_as_implied_by_variance_annotation),i=l,null==(n=Xn)||n.pop()}}else Lo(e,ma.Variance_annotations_are_only_supported_in_type_aliases_for_object_function_constructor_and_mapped_types)}}}(e);break;case 285:!function(e){AI(e)}(e);break;case 284:!function(e){AI(e.openingElement),lI(e.closingElement.tagName)?mI(e.closingElement):IR(e.closingElement.tagName),dI(e)}(e);break;case 216:case 234:case 217:!function(e){const{type:t}=BL(e),n=pF(e)?t:e,r=ra(e);fn.assertIsDefined(r.assertionExpressionType);const i=Aw(YC(r.assertionExpressionType)),o=Pk(t);Hc(o)||a(()=>{const e=Bw(i);IS(o,e)||WS(i,o,n,ma.Conversion_of_type_0_to_type_1_may_be_a_mistake_because_neither_type_sufficiently_overlaps_with_the_other_If_this_was_intentional_convert_the_expression_to_unknown_first)})}(e);break;case 222:IR(e.expression);break;case 226:bb(e)&&IO(e)}r=o,null==(n=Xn)||n.pop()}function tz(t,n){var r,i;null==(r=Xn)||r.push(Xn.Phase.Check,n?"checkSourceFileNodes":"checkSourceFile",{path:t.path},!0);const o=n?"beforeCheckNodes":"beforeCheck",s=n?"afterCheckNodes":"afterCheck";ir(o),n?function(t,n){const r=ra(t);if(!(1&r.flags)){if(mT(t,I,e))return;jq(t),P(ro),P(io),P(oo),P(ao),P(so),f(n,GJ),YJ(t),(r.potentialThisCollisions||(r.potentialThisCollisions=[])).push(...ro),(r.potentialNewTargetCollisions||(r.potentialNewTargetCollisions=[])).push(...io),(r.potentialWeakMapSetCollisions||(r.potentialWeakMapSetCollisions=[])).push(...oo),(r.potentialReflectCollisions||(r.potentialReflectCollisions=[])).push(...ao),(r.potentialUnusedRenamedBindingElementsInTypes||(r.potentialUnusedRenamedBindingElementsInTypes=[])).push(...so),r.flags|=8388608;for(const e of n)ra(e).flags|=8388608}}(t,n):function(t){const n=ra(t);if(!(1&n.flags)){if(mT(t,I,e))return;jq(t),P(ro),P(io),P(oo),P(ao),P(so),8388608&n.flags&&(ro=n.potentialThisCollisions,io=n.potentialNewTargetCollisions,oo=n.potentialWeakMapSetCollisions,ao=n.potentialReflectCollisions,so=n.potentialUnusedRenamedBindingElementsInTypes),f(t.statements,GJ),GJ(t.endOfFileToken),YJ(t),rf(t)&&wM(t),a(()=>{t.isDeclarationFile||!I.noUnusedLocals&&!I.noUnusedParameters||DM(rz(t),(e,t,n)=>{!kd(e)&&nz(t,!!(33554432&e.flags))&&po.add(n)}),t.isDeclarationFile||function(){var e;for(const t of so)if(!(null==(e=fs(t))?void 0:e.isReferenced)){const e=sc(t);fn.assert(ty(e),"Only parameter declaration should be checked here");const n=qp(t.name,ma._0_is_an_unused_renaming_of_1_Did_you_intend_to_use_it_as_a_type_annotation,jp(t.name),jp(t.propertyName));e.type||uT(n,ek(Sd(e),e.end,0,ma.We_can_only_write_a_type_for_0_by_adding_a_type_for_the_entire_parameter_here,jp(t.propertyName))),po.add(n)}}()}),rf(t)&&HJ(t),ro.length&&(f(ro,UM),P(ro)),io.length&&(f(io,WM),P(io)),oo.length&&(f(oo,$M),P(oo)),ao.length&&(f(ao,KM),P(ao)),n.flags|=1}}(t),ir(s),or("Check",o,s),null==(i=Xn)||i.pop()}function nz(e,t){if(t)return!1;switch(e){case 0:return!!I.noUnusedLocals;case 1:return!!I.noUnusedParameters;default:return fn.assertNever(e)}}function rz(e){return xi.get(e.path)||u}function iz(n,r,i){try{return t=r,function(t,n){if(t){oz();const e=po.getGlobalDiagnostics(),r=e.length;az(t,n);const i=po.getDiagnostics(t.fileName);if(n)return i;const o=po.getGlobalDiagnostics();return o!==e?X(ae(e,o,sk),i):0===r&&o.length>0?X(o,i):i}return f(e.getSourceFiles(),e=>az(e)),po.getDiagnostics()}(n,i)}finally{t=void 0}}function oz(){for(const e of o)e();o=[]}function az(e,t){oz();const n=a;a=e=>e(),tz(e,t),a=n}function cz(e){for(;166===e.parent.kind;)e=e.parent;return 183===e.parent.kind}function lz(e,t){let n,r=em(e);for(;r&&!(n=t(r));)r=em(r);return n}function _z(e,t){return!!lz(e,e=>e===t)}function uz(e){return void 0!==function(e){for(;166===e.parent.kind;)e=e.parent;return 271===e.parent.kind?e.parent.moduleReference===e?e.parent:void 0:277===e.parent.kind&&e.parent.expression===e?e.parent:void 0}(e)}function dz(e){if(ph(e))return ms(e.parent);if(Om(e)&&211===e.parent.kind&&e.parent===e.parent.parent.left&&!nN(e)&&!aP(e)&&!function(e){if(110===e.expression.kind){const t=im(e,!1,!1);if(c_(t)){const e=XP(t);if(e){const t=eA(e,PA(e,void 0));return t&&!$c(t)}}}}(e.parent)){const t=function(e){switch(og(e.parent.parent)){case 1:case 3:return ms(e.parent);case 5:if(sF(e.parent)&&Px(e.parent)===e)return;case 4:case 2:return fs(e.parent.parent)}}(e);if(t)return t}if(277===e.parent.kind&&ub(e)){const t=Ka(e,2998271,!0);if(t&&t!==bt)return t}else if(o_(e)&&uz(e)){const t=Nh(e,271);return fn.assert(void 0!==t),Wa(e,!0)}if(o_(e)){const t=function(e){let t=e.parent;for(;gN(t);)e=t,t=t.parent;if(t&&205===t.kind&&t.qualifier===e)return t}(e);if(t){Pk(t);const n=ra(e).resolvedSymbol;return n===bt?void 0:n}}for(;vb(e);)e=e.parent;if(function(e){for(;211===e.parent.kind;)e=e.parent;return 233===e.parent.kind}(e)){let t=0;233===e.parent.kind?(t=Ef(e)?788968:111551,_b(e.parent)&&(t|=111551)):t=1920,t|=2097152;const n=ub(e)?Ka(e,t,!0):void 0;if(n)return n}if(341===e.parent.kind)return Vg(e.parent);if(168===e.parent.kind&&345===e.parent.parent.kind){fn.assert(!Om(e));const t=Xg(e.parent);return t&&t.symbol}if(Tm(e)){if(Pd(e))return;const t=gc(e,rn(qu,oP,aP)),n=t?901119:111551;if(80===e.kind){if(Sm(e)&&lI(e)){const t=mI(e.parent);return t===bt?void 0:t}const r=Ka(e,n,!0,!0,$g(e));if(!r&&t){const t=gc(e,rn(g_,cE));if(t)return fz(e,!0,fs(t))}if(r&&t){const t=Kg(e);if(t&&tP(t)&&t===r.valueDeclaration)return Ka(e,n,!0,!0,Sd(t))||r}return r}if(nN(e))return iO(e);if(211===e.kind||166===e.kind){const n=ra(e);return n.resolvedSymbol?n.resolvedSymbol:(211===e.kind?(QI(e,0),n.resolvedSymbol||(n.resolvedSymbol=pz(uR(e.expression),Xb(e.name)))):ZI(e,0),!n.resolvedSymbol&&t&&gN(e)?fz(e):n.resolvedSymbol)}if(aP(e))return fz(e)}else if(o_(e)&&cz(e)){const t=Ka(e,183===e.parent.kind?788968:1920,!0,!0);return t&&t!==bt?t:vy(e)}return 182===e.parent.kind?Ka(e,1,!0):void 0}function pz(e,t){const n=Vm(e,t);if(n.length&&e.members){const t=Ah(Cp(e).members);if(n===Am(e))return t;if(t){const r=na(t),i=A(z(n,e=>e.declaration),rJ).join(",");if(r.filteredIndexSymbolCache||(r.filteredIndexSymbolCache=new Map),r.filteredIndexSymbolCache.has(i))return r.filteredIndexSymbolCache.get(i);{const t=Wo(131072,"__index");return t.declarations=z(n,e=>e.declaration),t.parent=e.aliasSymbol?e.aliasSymbol:e.symbol?e.symbol:gz(t.declarations[0].parent),r.filteredIndexSymbolCache.set(i,t),t}}}}function fz(e,t,n){if(o_(e)){const r=901119;let i=Ka(e,r,t,!0,$g(e));if(!i&&tN(e)&&n&&(i=ps(oa(ls(n),e.escapedText,r))),i)return i}const r=tN(e)?n:fz(e.left,t,n),i=tN(e)?e.escapedText:e.right.escapedText;if(r){const e=111551&r.flags&&Gf(w_(r),"prototype");return Gf(e?w_(e):vu(r),i)}}function gz(e,t){var n;if(nP(e))return tO(e)?ps(e.symbol):void 0;const{parent:r}=e,i=r.parent;if(!(67108864&e.flags)){if(cJ(e)){const t=fs(r);return Vl(e.parent)&&e.parent.propertyName===e?iI(t):t}if(mh(e))return fs(r.parent);if(80===e.kind){if(uz(e))return dz(e);if(208===r.kind&&206===i.kind&&e===r.propertyName){const t=Gf(hz(i),e.escapedText);if(t)return t}else if(IF(r)&&r.name===e)return 105===r.keywordToken&&"target"===xc(e)?$L(r).symbol:102===r.keywordToken&&"meta"===xc(e)?Xy().members.get("meta"):void 0}switch(e.kind){case 80:case 81:case 211:case 166:if(!mv(e))return dz(e);case 110:const o=im(e,!1,!1);if(c_(o)){const e=Sg(o);if(e.thisParameter)return e.thisParameter}if(Cm(e))return IR(e).symbol;case 197:return kk(e).symbol;case 108:return IR(e).symbol;case 137:const a=e.parent;return a&&176===a.kind?a.parent.symbol:void 0;case 11:case 15:if(Nm(e.parent.parent)&&Fm(e.parent.parent)===e||(272===e.parent.kind||278===e.parent.kind)&&e.parent.moduleSpecifier===e||Om(e)&&WP(e.parent)&&e.parent.moduleSpecifier===e||Om(e)&&Bm(e.parent,!1)||ff(e.parent)||ZN(e.parent)&&gf(e.parent.parent)&&e.parent.parent.argument===e.parent)return Qa(e,e,t);if(lF(r)&&ag(r)&&r.arguments[1]===e)return fs(r);case 9:const s=cF(r)?r.argumentExpression===e?ER(r.expression):void 0:ZN(r)&&XN(i)?Pk(i.objectType):void 0;return s&&Gf(s,vc(e.text));case 90:case 100:case 39:case 86:return ms(e.parent);case 205:return gf(e)?gz(e.argument.literal,t):void 0;case 95:return DE(e.parent)?fn.checkDefined(e.parent.symbol):void 0;case 102:case 105:return IF(e.parent)?WL(e.parent).symbol:void 0;case 104:if(kF(e.parent)){const t=ER(e.parent.right),r=Zj(t);return null!=(n=null==r?void 0:r.symbol)?n:t.symbol}return;case 236:return IR(e).symbol;case 295:if(Sm(e)&&lI(e)){const t=mI(e.parent);return t===bt?void 0:t}default:return}}}function hz(e){if(nP(e)&&!tO(e))return Et;if(67108864&e.flags)return Et;const t=sb(e),n=t&&su(fs(t.class));if(Ef(e)){const t=Pk(e);return n?yd(t,n.thisType):t}if(Tm(e))return vz(e);if(n&&!t.isImplements){const e=he(iu(n));return e?yd(e,n.thisType):Et}if(GT(e))return vu(fs(e));if(80===(r=e).kind&&GT(r.parent)&&Ec(r.parent)===r){const t=gz(e);return t?vu(t):Et}var r;if(iF(e))return hl(e,!0,0)||Et;if(mu(e)){const t=fs(e);return t?w_(t):Et}if(cJ(e)){const t=gz(e);return t?w_(t):Et}if(D_(e))return hl(e.parent,!0,0)||Et;if(uz(e)){const t=gz(e);if(t){const e=vu(t);return Hc(e)?w_(t):e}}return IF(e.parent)&&e.parent.keywordToken===e.kind?WL(e.parent):xE(e)?Zy(!1):Et}function yz(e){if(fn.assert(210===e.kind||209===e.kind),250===e.parent.kind)return nR(e,dB(e.parent)||Et);if(226===e.parent.kind)return nR(e,ER(e.parent.right)||Et);if(303===e.parent.kind){const t=ot(e.parent.parent,aF);return eR(t,yz(t)||Et,np(t.properties,e.parent))}const t=ot(e.parent,oF),n=yz(t)||Et,r=pB(65,n,Lt,e.parent)||Et;return tR(t,n,t.elements.indexOf(e),r)}function vz(e){return hb(e)&&(e=e.parent),mk(ER(e))}function bz(e){const t=ms(e.parent);return Iv(e)?w_(t):vu(t)}function xz(e){const t=e.name;switch(t.kind){case 80:return hk(xc(t));case 9:case 11:return hk(t.text);case 167:const e=YA(t);return Kj(e,12288)?e:Vt;default:return fn.fail("Unsupported property name.")}}function kz(e){const t=Yu(Fp(e=Sf(e))),n=Qf(e,0).length?Qn:Qf(e,1).length?Zn:void 0;return n&&f(Fp(n),e=>{t.has(e.escapedName)||t.set(e.escapedName,e)}),Ls(t)}function Sz(e){return 0!==Qf(e,0).length||0!==Qf(e,1).length}function Tz(e){if(Xl(e))return!1;const t=yc(e,tN);if(!t)return!1;const n=t.parent;return!(!n||(sF(n)||ZE(n))&&n.name===t||Qz(t)!==Ie)}function Cz(e,t){var n;const r=yc(e,tN);if(r){let e=Qz(r,function(e){return _u(e.parent)&&e===e.parent.name}(r));if(e){if(1048576&e.flags){const n=ps(e.exportSymbol);if(!t&&944&n.flags&&!(3&n.flags))return;e=n}const i=gs(e);if(i){if(512&i.flags&&307===(null==(n=i.valueDeclaration)?void 0:n.kind)){const e=i.valueDeclaration;return e!==Sd(r)?void 0:e}return gc(r.parent,e=>_u(e)&&fs(e)===i)}}}}function wz(e){const t=Zw(e);if(t)return t;const n=yc(e,tN);if(n){const e=function(e){const t=ra(e).resolvedSymbol;return t&&t!==bt?t:ze(e,e.escapedText,3257279,void 0,!0,void 0)}(n);if(Ma(e,111551)&&!Ua(e,111551))return ba(e)}}function Dz(e){if(418&e.flags&&e.valueDeclaration&&!nP(e.valueDeclaration)){const t=na(e);if(void 0===t.isDeclarationWithCollidingName){const n=Op(e.valueDeclaration);if(wd(n)||function(e){return e.valueDeclaration&&iF(e.valueDeclaration)&&299===sc(e.valueDeclaration).parent.kind}(e))if(ze(n.parent,e.escapedName,111551,void 0,!1))t.isDeclarationWithCollidingName=!0;else if(Jz(e.valueDeclaration,16384)){const r=Jz(e.valueDeclaration,32768),i=Q_(n,!1),o=241===n.kind&&Q_(n.parent,!1);t.isDeclarationWithCollidingName=!(gp(n)||r&&(i||o))}else t.isDeclarationWithCollidingName=!1}return t.isDeclarationWithCollidingName}return!1}function Nz(e){if(!Xl(e)){const t=yc(e,tN);if(t){const e=Qz(t);if(e&&Dz(e))return e.valueDeclaration}}}function Fz(e){const t=yc(e,mu);if(t){const e=fs(t);if(e)return Dz(e)}return!1}function Ez(e){switch(fn.assert(Me),e.kind){case 271:return Az(fs(e));case 273:case 274:case 276:case 281:const t=fs(e);return!!t&&Az(t,!0);case 278:const n=e.exportClause;return!!n&&(TE(n)||K(n.elements,Ez));case 277:return!e.expression||80!==e.expression.kind||Az(fs(e),!0)}return!1}function Pz(e){const t=yc(e,mE);return!(void 0===t||307!==t.parent.kind||!Pm(t))&&Az(fs(t))&&t.moduleReference&&!Pd(t.moduleReference)}function Az(e,t){if(!e)return!1;const n=Sd(e.valueDeclaration);ts(n&&fs(n));const r=Ts(Ja(e));return r===bt?!t||!Ua(e):!!(111551&za(e,t,!0))&&(Ok(I)||!Iz(r))}function Iz(e){return Qj(e)||!!e.constEnumOnlyModule}function Oz(e,t){if(fn.assert(Me),xa(e)){const t=fs(e),n=t&&na(t);if(null==n?void 0:n.referenced)return!0;const r=na(t).aliasTarget;if(r&&32&Uv(e)&&111551&za(r)&&(Ok(I)||!Iz(r)))return!0}return!!t&&!!KI(e,e=>Oz(e,t))}function Lz(e){if(Ad(e.body)){if(Au(e)||Pu(e))return!1;const t=Fg(fs(e));return t.length>1||1===t.length&&t[0].declaration!==e}return!1}function jz(e,t){return(function(e,t){return!(!$||dg(e)||OP(e)||!e.initializer)&&(!Av(e,31)||!!t&&__(t))}(e,t)||function(e){return $&&dg(e)&&(OP(e)||!e.initializer)&&Av(e,31)}(e))&&!function(e){const t=iq(e);if(!t)return!1;const n=Pk(t);return Hc(n)||YS(n)}(e)}function Rz(e){const t=yc(e,e=>aE(e)||iE(e));if(!t)return!1;let n;if(iE(t)){if(t.type||!Om(t)&&!Uq(t))return!1;const e=Gm(t);if(!e||!uu(e))return!1;n=fs(e)}else n=fs(t);return!!(n&&16&n.flags|3)&&!!sd(ls(n),e=>111551&e.flags&&fC(e.valueDeclaration))}function Mz(e){const t=yc(e,aE);if(!t)return u;const n=fs(t);return n&&Fp(w_(n))||u}function Bz(e){var t;const n=e.id||0;return n<0||n>=Ki.length?0:(null==(t=Ki[n])?void 0:t.flags)||0}function Jz(e,t){return function(e,t){if(!I.noCheck&&yT(Sd(e),I))return;const n=ra(e);if(!(n.calculatedFlags&t))switch(t){case 16:case 32:return a(e);case 128:case 256:case 2097152:return o(e);case 512:case 8192:case 65536:case 262144:return c(e);case 536870912:return _(e);case 4096:case 32768:case 16384:return d(e);default:return fn.assertNever(t,`Unhandled node check flag calculation: ${fn.formatNodeCheckFlags(t)}`)}function r(e,t){const n=t(e,e.parent);if("skip"!==n)return n||GI(e,t)}function i(e){const n=ra(e);if(n.calculatedFlags&t)return"skip";n.calculatedFlags|=2097536,a(e)}function o(e){r(e,i)}function a(e){ra(e).calculatedFlags|=48,108===e.kind&&GP(e)}function s(e){const n=ra(e);if(n.calculatedFlags&t)return"skip";n.calculatedFlags|=336384,_(e)}function c(e){r(e,s)}function l(e){var t;return Tm(e)||YE(e.parent)&&(null!=(t=e.parent.objectAssignmentInitializer)?t:e.parent.name)===e}function _(e){const t=ra(e);if(t.calculatedFlags|=536870912,tN(e)&&(t.calculatedFlags|=49152,l(e)&&(!sF(e.parent)||e.parent.name!==e))){const t=PD(e);t&&t!==bt&&AP(e,t)}}function u(e){const n=ra(e);if(n.calculatedFlags&t)return"skip";n.calculatedFlags|=53248,p(e)}function d(e){r(Op(ph(e)?e.parent:e),u)}function p(e){_(e),hN(e)&&YA(e),nN(e)&&m_(e.parent)&&qR(e.parent)}}(e,t),!!(Bz(e)&t)}function zz(e){var t;return FJ(e.parent),null!=(t=ra(e).enumMemberValue)?t:bC(void 0)}function qz(e){switch(e.kind){case 306:case 211:case 212:return!0}return!1}function Vz(e){if(306===e.kind)return zz(e).value;ra(e).resolvedSymbol||uR(e);const t=ra(e).resolvedSymbol||(ub(e)?Ka(e,111551,!0):void 0);if(t&&8&t.flags){const e=t.valueDeclaration;if(af(e.parent))return zz(e).value}}function Uz(e){return!!(524288&e.flags)&&Qf(e,0).length>0}function Wz(e,t){var n;const r=yc(e,o_);if(!r)return 0;if(t&&!(t=yc(t)))return 0;let i=!1;if(gN(r)){const e=Ka(db(r),111551,!0,!0,t);i=!!(null==(n=null==e?void 0:e.declarations)?void 0:n.every($l))}const o=Ka(r,111551,!0,!0,t),a=o&&2097152&o.flags?Ja(o):o;i||(i=!(!o||!Ua(o,111551)));const s=Ka(r,788968,!0,!0,t),c=s&&2097152&s.flags?Ja(s):s;if(o||i||(i=!(!s||!Ua(s,788968))),a&&a===c){const e=iv(!1);if(e&&a===e)return 9;const t=w_(a);if(t&&W_(t))return i?10:1}if(!c)return i?11:0;const l=vu(c);return Hc(l)?i?11:0:3&l.flags?11:Kj(l,245760)?2:Kj(l,528)?6:Kj(l,296)?3:Kj(l,2112)?4:Kj(l,402653316)?5:ow(l)?7:Kj(l,12288)?8:Uz(l)?10:jC(l)?7:11}function $z(e,t,n,r,i){const o=yc(e,DC);if(!o)return _w.createToken(133);const a=fs(o);return fe.serializeTypeForDeclaration(o,a,t,1024|n,r,i)}function Hz(e){const t=178===(e=yc(e,yl)).kind?177:178,n=Qu(fs(e),t);return{firstAccessor:n&&n.pos<e.pos?n:e,secondAccessor:n&&n.pos<e.pos?e:n,setAccessor:178===e.kind?e:n,getAccessor:177===e.kind?e:n}}function Kz(e,t,n,r,i){const o=yc(e,c_);return o?fe.serializeReturnTypeForSignature(o,t,1024|n,r,i):_w.createToken(133)}function Gz(e,t,n,r,i){const o=yc(e,G_);return o?fe.serializeTypeForExpression(o,t,1024|n,r,i):_w.createToken(133)}function Xz(e){return Te.has(vc(e))}function Qz(e,t){const n=ra(e).resolvedSymbol;if(n)return n;let r=e;if(t){const t=e.parent;mu(t)&&e===t.name&&(r=qc(t))}return ze(r,e.escapedText,3257279,void 0,!0)}function Zz(e){if(!Xl(e)){const t=yc(e,tN);if(t){const e=Qz(t);if(e)return Ts(e).valueDeclaration}}}function Yz(e){if(!Xl(e)){const t=yc(e,tN);if(t){const e=Qz(t);if(e)return F(Ts(e).declarations,e=>{switch(e.kind){case 260:case 169:case 208:case 172:case 303:case 304:case 306:case 210:case 262:case 218:case 219:case 263:case 231:case 266:case 174:case 177:case 178:case 267:return!0}return!1})}}}function eq(e){return!!(sf(e)||iE(e)&&Uq(e))&&gk(w_(fs(e)))}function tq(e,t){return function(e,t,n){const r=1056&e.flags?fe.symbolToExpression(e.symbol,111551,t,void 0,void 0,n):e===Gt?_w.createTrue():e===Ht&&_w.createFalse();if(r)return r;const i=e.value;return"object"==typeof i?_w.createBigIntLiteral(i):"string"==typeof i?_w.createStringLiteral(i):i<0?_w.createPrefixUnaryExpression(41,_w.createNumericLiteral(-i)):_w.createNumericLiteral(i)}(w_(fs(e)),e,t)}function nq(e){return e?(Eo(e),Sd(e).localJsxFactory||oi):oi}function rq(e){if(e){const t=Sd(e);if(t){if(t.localJsxFragmentFactory)return t.localJsxFragmentFactory;const e=t.pragmas.get("jsxfrag"),n=et(e)?e[0]:e;if(n)return t.localJsxFragmentFactory=YI(n.arguments.factory,R),t.localJsxFragmentFactory}}if(I.jsxFragmentFactory)return YI(I.jsxFragmentFactory,R)}function iq(e){const t=yv(e);if(t)return t;if(169===e.kind&&178===e.parent.kind){const t=Hz(e.parent).getAccessor;if(t)return bv(t)}}function oq(e){const t=267===e.kind?it(e.name,MD):wg(e),n=Za(t,t,void 0);if(n)return Qu(n,307)}function aq(e,t){if(I.importHelpers){const n=Sd(e);if(xp(n,I)&&!(33554432&e.flags)){const r=function(e,t){const n=ra(e);return n.externalHelpersModule||(n.externalHelpersModule=Ya(function(e){fn.assert(I.importHelpers,"Expected importHelpers to be enabled");const t=e.imports[0];return fn.assert(t&&iy(t)&&"tslib"===t.text,"Expected sourceFile.imports[0] to be the synthesized tslib import"),t}(e),Ku,ma.This_syntax_requires_an_imported_helper_but_module_0_cannot_be_found,t)||bt),n.externalHelpersModule}(n,e);if(r!==bt){const n=na(r);if(null!=n.requestedExternalEmitHelpers||(n.requestedExternalEmitHelpers=0),(n.requestedExternalEmitHelpers&t)!==t){const i=t&~n.requestedExternalEmitHelpers;for(let t=1;t<=16777216;t<<=1)if(i&t)for(const n of sq(t)){const i=Ba(oa(_s(r),vc(n),111551));i?524288&t?K(Fg(i),e=>ij(e)>3)||Lo(e,ma.This_syntax_requires_an_imported_helper_named_1_with_2_parameters_which_is_not_compatible_with_the_one_in_0_Consider_upgrading_your_version_of_0,Ku,n,4):1048576&t?K(Fg(i),e=>ij(e)>4)||Lo(e,ma.This_syntax_requires_an_imported_helper_named_1_with_2_parameters_which_is_not_compatible_with_the_one_in_0_Consider_upgrading_your_version_of_0,Ku,n,5):1024&t&&(K(Fg(i),e=>ij(e)>2)||Lo(e,ma.This_syntax_requires_an_imported_helper_named_1_with_2_parameters_which_is_not_compatible_with_the_one_in_0_Consider_upgrading_your_version_of_0,Ku,n,3)):Lo(e,ma.This_syntax_requires_an_imported_helper_named_1_which_does_not_exist_in_0_Consider_upgrading_your_version_of_0,Ku,n)}}n.requestedExternalEmitHelpers|=t}}}}function sq(e){switch(e){case 1:return["__extends"];case 2:return["__assign"];case 4:return["__rest"];case 8:return B?["__decorate"]:["__esDecorate","__runInitializers"];case 16:return["__metadata"];case 32:return["__param"];case 64:return["__awaiter"];case 128:return["__generator"];case 256:return["__values"];case 512:return["__read"];case 1024:return["__spreadArray"];case 2048:return["__await"];case 4096:return["__asyncGenerator"];case 8192:return["__asyncDelegator"];case 16384:return["__asyncValues"];case 32768:return["__exportStar"];case 65536:return["__importStar"];case 131072:return["__importDefault"];case 262144:return["__makeTemplateObject"];case 524288:return["__classPrivateFieldGet"];case 1048576:return["__classPrivateFieldSet"];case 2097152:return["__classPrivateFieldIn"];case 4194304:return["__setFunctionName"];case 8388608:return["__propKey"];case 16777216:return["__addDisposableResource","__disposeResources"];case 33554432:return["__rewriteRelativeImportExtension"];default:return fn.fail("Unrecognized helper")}}function cq(t){var n;const r=function(e){const t=function(e){return zA(e)?k(e.modifiers,bN):void 0}(e);return t&&Aq(t,ma.Decorators_are_not_valid_here)}(t)||function(e){if(!e.modifiers)return!1;const t=function(e){switch(e.kind){case 177:case 178:case 176:case 172:case 171:case 174:case 173:case 181:case 267:case 272:case 271:case 278:case 277:case 218:case 219:case 169:case 168:return;case 175:case 303:case 304:case 270:case 282:return k(e.modifiers,i_);default:if(268===e.parent.kind||307===e.parent.kind)return;switch(e.kind){case 262:return lq(e,134);case 263:case 185:return lq(e,128);case 231:case 264:case 265:return k(e.modifiers,i_);case 243:return 4&e.declarationList.flags?lq(e,135):k(e.modifiers,i_);case 266:return lq(e,87);default:fn.assertNever(e)}}}(e);return t&&Aq(t,ma.Modifiers_cannot_appear_here)}(t);if(void 0!==r)return r;if(vN(t)&&dv(t))return Aq(t,ma.Neither_decorators_nor_modifiers_may_be_applied_to_this_parameters);const i=JF(t)?7&t.declarationList.flags:0;let o,a,s,c,l,_=0,u=!1,d=!1;for(const p of t.modifiers)if(bN(p)){if(!gm(B,t,t.parent,t.parent.parent))return 174!==t.kind||Ad(t.body)?Aq(t,ma.Decorators_are_not_valid_here):Aq(t,ma.A_decorator_can_only_decorate_a_method_implementation_not_an_overload);if(B&&(177===t.kind||178===t.kind)){const e=Hz(t);if(Jv(e.firstAccessor)&&t===e.secondAccessor)return Aq(t,ma.Decorators_cannot_be_applied_to_multiple_get_Slashset_accessors_of_the_same_name)}if(-34849&_)return Oq(p,ma.Decorators_are_not_valid_here);if(d&&98303&_)return fn.assertIsDefined(l),!Pq(Sd(p))&&(uT(Lo(p,ma.Decorators_may_not_appear_after_export_or_export_default_if_they_also_appear_before_export),qp(l,ma.Decorator_used_before_export_here)),!0);_|=32768,98303&_?32&_&&(u=!0):d=!0,null!=l||(l=p)}else{if(148!==p.kind){if(171===t.kind||173===t.kind)return Oq(p,ma._0_modifier_cannot_appear_on_a_type_member,Oa(p.kind));if(181===t.kind&&(126!==p.kind||!g_(t.parent)))return Oq(p,ma._0_modifier_cannot_appear_on_an_index_signature,Oa(p.kind))}if(103!==p.kind&&147!==p.kind&&87!==p.kind&&168===t.kind)return Oq(p,ma._0_modifier_cannot_appear_on_a_type_parameter,Oa(p.kind));switch(p.kind){case 87:{if(266!==t.kind&&168!==t.kind)return Oq(t,ma.A_class_member_cannot_have_the_0_keyword,Oa(87));const e=MP(t.parent)&&Hg(t.parent)||t.parent;if(168===t.kind&&!(__(e)||g_(e)||ON(e)||LN(e)||FN(e)||EN(e)||SN(e)))return Oq(p,ma._0_modifier_can_only_appear_on_a_type_parameter_of_a_function_method_or_class,Oa(p.kind));break}case 164:if(16&_)return Oq(p,ma._0_modifier_already_seen,"override");if(128&_)return Oq(p,ma._0_modifier_cannot_be_used_with_1_modifier,"override","declare");if(8&_)return Oq(p,ma._0_modifier_must_precede_1_modifier,"override","readonly");if(512&_)return Oq(p,ma._0_modifier_must_precede_1_modifier,"override","accessor");if(1024&_)return Oq(p,ma._0_modifier_must_precede_1_modifier,"override","async");_|=16,c=p;break;case 125:case 124:case 123:const r=Tc(Zv(p.kind));if(7&_)return Oq(p,ma.Accessibility_modifier_already_seen);if(16&_)return Oq(p,ma._0_modifier_must_precede_1_modifier,r,"override");if(256&_)return Oq(p,ma._0_modifier_must_precede_1_modifier,r,"static");if(512&_)return Oq(p,ma._0_modifier_must_precede_1_modifier,r,"accessor");if(8&_)return Oq(p,ma._0_modifier_must_precede_1_modifier,r,"readonly");if(1024&_)return Oq(p,ma._0_modifier_must_precede_1_modifier,r,"async");if(268===t.parent.kind||307===t.parent.kind)return Oq(p,ma._0_modifier_cannot_appear_on_a_module_or_namespace_element,r);if(64&_)return 123===p.kind?Oq(p,ma._0_modifier_cannot_be_used_with_1_modifier,r,"abstract"):Oq(p,ma._0_modifier_must_precede_1_modifier,r,"abstract");if(Yl(t))return Oq(p,ma.An_accessibility_modifier_cannot_be_used_with_a_private_identifier);_|=Zv(p.kind);break;case 126:if(256&_)return Oq(p,ma._0_modifier_already_seen,"static");if(8&_)return Oq(p,ma._0_modifier_must_precede_1_modifier,"static","readonly");if(1024&_)return Oq(p,ma._0_modifier_must_precede_1_modifier,"static","async");if(512&_)return Oq(p,ma._0_modifier_must_precede_1_modifier,"static","accessor");if(268===t.parent.kind||307===t.parent.kind)return Oq(p,ma._0_modifier_cannot_appear_on_a_module_or_namespace_element,"static");if(169===t.kind)return Oq(p,ma._0_modifier_cannot_appear_on_a_parameter,"static");if(64&_)return Oq(p,ma._0_modifier_cannot_be_used_with_1_modifier,"static","abstract");if(16&_)return Oq(p,ma._0_modifier_must_precede_1_modifier,"static","override");_|=256,o=p;break;case 129:if(512&_)return Oq(p,ma._0_modifier_already_seen,"accessor");if(8&_)return Oq(p,ma._0_modifier_cannot_be_used_with_1_modifier,"accessor","readonly");if(128&_)return Oq(p,ma._0_modifier_cannot_be_used_with_1_modifier,"accessor","declare");if(172!==t.kind)return Oq(p,ma.accessor_modifier_can_only_appear_on_a_property_declaration);_|=512;break;case 148:if(8&_)return Oq(p,ma._0_modifier_already_seen,"readonly");if(172!==t.kind&&171!==t.kind&&181!==t.kind&&169!==t.kind)return Oq(p,ma.readonly_modifier_can_only_appear_on_a_property_declaration_or_index_signature);if(512&_)return Oq(p,ma._0_modifier_cannot_be_used_with_1_modifier,"readonly","accessor");_|=8;break;case 95:if(I.verbatimModuleSyntax&&!(33554432&t.flags)&&265!==t.kind&&264!==t.kind&&267!==t.kind&&307===t.parent.kind&&1===e.getEmitModuleFormatOfFile(Sd(t)))return Oq(p,ma.A_top_level_export_modifier_cannot_be_used_on_value_declarations_in_a_CommonJS_module_when_verbatimModuleSyntax_is_enabled);if(32&_)return Oq(p,ma._0_modifier_already_seen,"export");if(128&_)return Oq(p,ma._0_modifier_must_precede_1_modifier,"export","declare");if(64&_)return Oq(p,ma._0_modifier_must_precede_1_modifier,"export","abstract");if(1024&_)return Oq(p,ma._0_modifier_must_precede_1_modifier,"export","async");if(g_(t.parent))return Oq(p,ma._0_modifier_cannot_appear_on_class_elements_of_this_kind,"export");if(169===t.kind)return Oq(p,ma._0_modifier_cannot_appear_on_a_parameter,"export");if(4===i)return Oq(p,ma._0_modifier_cannot_appear_on_a_using_declaration,"export");if(6===i)return Oq(p,ma._0_modifier_cannot_appear_on_an_await_using_declaration,"export");_|=32;break;case 90:const d=307===t.parent.kind?t.parent:t.parent.parent;if(267===d.kind&&!dp(d))return Oq(p,ma.A_default_export_can_only_be_used_in_an_ECMAScript_style_module);if(4===i)return Oq(p,ma._0_modifier_cannot_appear_on_a_using_declaration,"default");if(6===i)return Oq(p,ma._0_modifier_cannot_appear_on_an_await_using_declaration,"default");if(!(32&_))return Oq(p,ma._0_modifier_must_precede_1_modifier,"export","default");if(u)return Oq(l,ma.Decorators_are_not_valid_here);_|=2048;break;case 138:if(128&_)return Oq(p,ma._0_modifier_already_seen,"declare");if(1024&_)return Oq(p,ma._0_modifier_cannot_be_used_in_an_ambient_context,"async");if(16&_)return Oq(p,ma._0_modifier_cannot_be_used_in_an_ambient_context,"override");if(g_(t.parent)&&!kN(t))return Oq(p,ma._0_modifier_cannot_appear_on_class_elements_of_this_kind,"declare");if(169===t.kind)return Oq(p,ma._0_modifier_cannot_appear_on_a_parameter,"declare");if(4===i)return Oq(p,ma._0_modifier_cannot_appear_on_a_using_declaration,"declare");if(6===i)return Oq(p,ma._0_modifier_cannot_appear_on_an_await_using_declaration,"declare");if(33554432&t.parent.flags&&268===t.parent.kind)return Oq(p,ma.A_declare_modifier_cannot_be_used_in_an_already_ambient_context);if(Yl(t))return Oq(p,ma._0_modifier_cannot_be_used_with_a_private_identifier,"declare");if(512&_)return Oq(p,ma._0_modifier_cannot_be_used_with_1_modifier,"declare","accessor");_|=128,a=p;break;case 128:if(64&_)return Oq(p,ma._0_modifier_already_seen,"abstract");if(263!==t.kind&&185!==t.kind){if(174!==t.kind&&172!==t.kind&&177!==t.kind&&178!==t.kind)return Oq(p,ma.abstract_modifier_can_only_appear_on_a_class_method_or_property_declaration);if(263!==t.parent.kind||!Av(t.parent,64))return Oq(p,172===t.kind?ma.Abstract_properties_can_only_appear_within_an_abstract_class:ma.Abstract_methods_can_only_appear_within_an_abstract_class);if(256&_)return Oq(p,ma._0_modifier_cannot_be_used_with_1_modifier,"static","abstract");if(2&_)return Oq(p,ma._0_modifier_cannot_be_used_with_1_modifier,"private","abstract");if(1024&_&&s)return Oq(s,ma._0_modifier_cannot_be_used_with_1_modifier,"async","abstract");if(16&_)return Oq(p,ma._0_modifier_must_precede_1_modifier,"abstract","override");if(512&_)return Oq(p,ma._0_modifier_must_precede_1_modifier,"abstract","accessor")}if(Nc(t)&&81===t.name.kind)return Oq(p,ma._0_modifier_cannot_be_used_with_a_private_identifier,"abstract");_|=64;break;case 134:if(1024&_)return Oq(p,ma._0_modifier_already_seen,"async");if(128&_||33554432&t.parent.flags)return Oq(p,ma._0_modifier_cannot_be_used_in_an_ambient_context,"async");if(169===t.kind)return Oq(p,ma._0_modifier_cannot_appear_on_a_parameter,"async");if(64&_)return Oq(p,ma._0_modifier_cannot_be_used_with_1_modifier,"async","abstract");_|=1024,s=p;break;case 103:case 147:{const e=103===p.kind?8192:16384,r=103===p.kind?"in":"out",i=MP(t.parent)&&(Hg(t.parent)||k(null==(n=Gg(t.parent))?void 0:n.tags,BP))||t.parent;if(168!==t.kind||i&&!(cE(i)||g_(i)||lE(i)||BP(i)))return Oq(p,ma._0_modifier_can_only_appear_on_a_type_parameter_of_a_class_interface_or_type_alias,r);if(_&e)return Oq(p,ma._0_modifier_already_seen,r);if(8192&e&&16384&_)return Oq(p,ma._0_modifier_must_precede_1_modifier,"in","out");_|=e;break}}}return 176===t.kind?256&_?Oq(o,ma._0_modifier_cannot_appear_on_a_constructor_declaration,"static"):16&_?Oq(c,ma._0_modifier_cannot_appear_on_a_constructor_declaration,"override"):!!(1024&_)&&Oq(s,ma._0_modifier_cannot_appear_on_a_constructor_declaration,"async"):(272===t.kind||271===t.kind)&&128&_?Oq(a,ma.A_0_modifier_cannot_be_used_with_an_import_declaration,"declare"):169===t.kind&&31&_&&D_(t.name)?Oq(t,ma.A_parameter_property_may_not_be_declared_using_a_binding_pattern):169===t.kind&&31&_&&t.dotDotDotToken?Oq(t,ma.A_parameter_property_cannot_be_declared_using_a_rest_parameter):!!(1024&_)&&function(e,t){switch(e.kind){case 174:case 262:case 218:case 219:return!1}return Oq(t,ma._0_modifier_cannot_be_used_here,"async")}(t,s)}function lq(e,t){const n=k(e.modifiers,i_);return n&&n.kind!==t?n:void 0}function _q(e,t=ma.Trailing_comma_not_allowed){return!(!e||!e.hasTrailingComma)&&Iq(e[0],e.end-1,1,t)}function uq(e,t){if(e&&0===e.length){const n=e.pos-1;return Iq(t,n,ns(t.text,e.end)+1-n,ma.Type_parameter_list_cannot_be_empty)}return!1}function dq(e){if(R>=3){const t=e.body&&BF(e.body)&&mA(e.body.statements);if(t){const n=F(e.parameters,e=>!!e.initializer||D_(e.name)||Uu(e));if(p(n)){f(n,e=>{uT(Lo(e,ma.This_parameter_is_not_allowed_with_use_strict_directive),qp(t,ma.use_strict_directive_used_here))});const e=n.map((e,t)=>qp(e,0===t?ma.Non_simple_parameter_declared_here:ma.and_here));return uT(Lo(t,ma.use_strict_directive_cannot_be_used_with_non_simple_parameter_list),...e),!0}}}return!1}function pq(e){const t=Sd(e);return cq(e)||uq(e.typeParameters,t)||function(e){let t=!1;const n=e.length;for(let r=0;r<n;r++){const i=e[r];if(i.dotDotDotToken){if(r!==n-1)return Oq(i.dotDotDotToken,ma.A_rest_parameter_must_be_last_in_a_parameter_list);if(33554432&i.flags||_q(e,ma.A_rest_parameter_or_binding_pattern_may_not_have_a_trailing_comma),i.questionToken)return Oq(i.questionToken,ma.A_rest_parameter_cannot_be_optional);if(i.initializer)return Oq(i.name,ma.A_rest_parameter_cannot_have_an_initializer)}else if(lg(i)){if(t=!0,i.questionToken&&i.initializer)return Oq(i.name,ma.Parameter_cannot_have_question_mark_and_initializer)}else if(t&&!i.initializer)return Oq(i.name,ma.A_required_parameter_cannot_follow_an_optional_parameter)}}(e.parameters)||function(e,t){if(!mF(e))return!1;e.typeParameters&&!(p(e.typeParameters)>1||e.typeParameters.hasTrailingComma||e.typeParameters[0].constraint)&&t&&No(t.fileName,[".mts",".cts"])&&Oq(e.typeParameters[0],ma.This_syntax_is_reserved_in_files_with_the_mts_or_cts_extension_Add_a_trailing_comma_or_explicit_constraint);const{equalsGreaterThanToken:n}=e,r=$a(t,n.pos).line,i=$a(t,n.end).line;return r!==i&&Oq(n,ma.Line_terminator_not_permitted_before_arrow)}(e,t)||__(e)&&dq(e)}function fq(e,t){return _q(t)||function(e,t){if(t&&0===t.length){const n=Sd(e),r=t.pos-1;return Iq(n,r,ns(n.text,t.end)+1-r,ma.Type_argument_list_cannot_be_empty)}return!1}(e,t)}function mq(e){const t=e.types;if(_q(t))return!0;if(t&&0===t.length){const n=Oa(e.token);return Iq(e,t.pos,0,ma._0_list_cannot_be_empty,n)}return K(t,gq)}function gq(e){return FF(e)&&fN(e.expression)&&e.typeArguments?Oq(e,ma.This_use_of_import_is_invalid_import_calls_can_be_written_but_they_must_have_parentheses_and_cannot_have_type_arguments):fq(e,e.typeArguments)}function hq(e){if(167!==e.kind)return!1;const t=e;return 226===t.expression.kind&&28===t.expression.operatorToken.kind&&Oq(t.expression,ma.A_comma_expression_is_not_allowed_in_a_computed_property_name)}function yq(e){if(e.asteriskToken){if(fn.assert(262===e.kind||218===e.kind||174===e.kind),33554432&e.flags)return Oq(e.asteriskToken,ma.Generators_are_not_allowed_in_an_ambient_context);if(!e.body)return Oq(e.asteriskToken,ma.An_overload_signature_cannot_be_declared_as_a_generator)}}function vq(e,t){return!!e&&Oq(e,t)}function bq(e,t){return!!e&&Oq(e,t)}function xq(e){if(Rq(e))return!0;if(250===e.kind&&e.awaitModifier&&!(65536&e.flags)){const t=Sd(e);if(am(e)){if(!Pq(t))switch(xp(t,I)||po.add(qp(e.awaitModifier,ma.for_await_loops_are_only_allowed_at_the_top_level_of_a_file_when_that_file_is_a_module_but_this_file_has_no_imports_or_exports_Consider_adding_an_empty_export_to_make_this_file_a_module)),M){case 100:case 101:case 199:if(1===t.impliedNodeFormat){po.add(qp(e.awaitModifier,ma.The_current_file_is_a_CommonJS_module_and_cannot_use_await_at_the_top_level));break}case 7:case 99:case 200:case 4:if(R>=4)break;default:po.add(qp(e.awaitModifier,ma.Top_level_for_await_loops_are_only_allowed_when_the_module_option_is_set_to_es2022_esnext_system_node16_node18_nodenext_or_preserve_and_the_target_option_is_set_to_es2017_or_higher))}}else if(!Pq(t)){const t=qp(e.awaitModifier,ma.for_await_loops_are_only_allowed_within_async_functions_and_at_the_top_levels_of_modules),n=Zf(e);return n&&176!==n.kind&&(fn.assert(!(2&Mh(n)),"Enclosing function should never be an async function."),uT(t,qp(n,ma.Did_you_mean_to_mark_this_function_as_async))),po.add(t),!0}}if(KF(e)&&!(65536&e.flags)&&tN(e.initializer)&&"async"===e.initializer.escapedText)return Oq(e.initializer,ma.The_left_hand_side_of_a_for_of_statement_may_not_be_async),!1;if(261===e.initializer.kind){const t=e.initializer;if(!Fq(t)){const n=t.declarations;if(!n.length)return!1;if(n.length>1){const n=249===e.kind?ma.Only_a_single_variable_declaration_is_allowed_in_a_for_in_statement:ma.Only_a_single_variable_declaration_is_allowed_in_a_for_of_statement;return Aq(t.declarations[1],n)}const r=n[0];if(r.initializer){const t=249===e.kind?ma.The_variable_declaration_of_a_for_in_statement_cannot_have_an_initializer:ma.The_variable_declaration_of_a_for_of_statement_cannot_have_an_initializer;return Oq(r.name,t)}if(r.type)return Oq(r,249===e.kind?ma.The_left_hand_side_of_a_for_in_statement_cannot_use_a_type_annotation:ma.The_left_hand_side_of_a_for_of_statement_cannot_use_a_type_annotation)}}return!1}function kq(e){if(e.parameters.length===(177===e.kind?1:2))return uv(e)}function Sq(e,t){if(ad(e)&&!ub(cF(e)?_h(e.argumentExpression):e.expression))return Oq(e,t)}function Tq(e){if(pq(e))return!0;if(174===e.kind){if(210===e.parent.kind){if(e.modifiers&&(1!==e.modifiers.length||134!==ve(e.modifiers).kind))return Aq(e,ma.Modifiers_cannot_appear_here);if(vq(e.questionToken,ma.An_object_member_cannot_be_declared_optional))return!0;if(bq(e.exclamationToken,ma.A_definite_assignment_assertion_is_not_permitted_in_this_context))return!0;if(void 0===e.body)return Iq(e,e.end-1,1,ma._0_expected,"{")}if(yq(e))return!0}if(g_(e.parent)){if(R<2&&nN(e.name))return Oq(e.name,ma.Private_identifiers_are_only_available_when_targeting_ECMAScript_2015_and_higher);if(33554432&e.flags)return Sq(e.name,ma.A_computed_property_name_in_an_ambient_context_must_refer_to_an_expression_whose_type_is_a_literal_type_or_a_unique_symbol_type);if(174===e.kind&&!e.body)return Sq(e.name,ma.A_computed_property_name_in_a_method_overload_must_refer_to_an_expression_whose_type_is_a_literal_type_or_a_unique_symbol_type)}else{if(264===e.parent.kind)return Sq(e.name,ma.A_computed_property_name_in_an_interface_must_refer_to_an_expression_whose_type_is_a_literal_type_or_a_unique_symbol_type);if(187===e.parent.kind)return Sq(e.name,ma.A_computed_property_name_in_a_type_literal_must_refer_to_an_expression_whose_type_is_a_literal_type_or_a_unique_symbol_type)}}function Cq(e){return Jh(e)||224===e.kind&&41===e.operator&&9===e.operand.kind}function wq(e){const t=e.initializer;if(t){const r=!(Cq(t)||function(e){if((sF(e)||cF(e)&&Cq(e.argumentExpression))&&ub(e.expression))return!!(1056&uR(e).flags)}(t)||112===t.kind||97===t.kind||(n=t,10===n.kind||224===n.kind&&41===n.operator&&10===n.operand.kind));if(!(sf(e)||iE(e)&&Uq(e))||e.type)return Oq(t,ma.Initializers_are_not_allowed_in_ambient_contexts);if(r)return Oq(t,ma.A_const_initializer_in_an_ambient_context_must_be_a_string_or_numeric_literal_or_literal_enum_reference)}var n}function Dq(e){if(80===e.kind){if("__esModule"===xc(e))return function(e,t,n,...r){return!Pq(Sd(t))&&(Ao(e,t,n,...r),!0)}("noEmit",e,ma.Identifier_expected_esModule_is_reserved_as_an_exported_marker_when_transforming_ECMAScript_modules)}else{const t=e.elements;for(const e of t)if(!NF(e))return Dq(e.name)}return!1}function Nq(e){if(80===e.kind){if("let"===e.escapedText)return Oq(e,ma.let_is_not_allowed_to_be_used_as_a_name_in_let_or_const_declarations)}else{const t=e.elements;for(const e of t)NF(e)||Nq(e.name)}return!1}function Fq(e){const t=e.declarations;if(_q(e.declarations))return!0;if(!e.declarations.length)return Iq(e,t.pos,t.end-t.pos,ma.Variable_declaration_list_cannot_be_empty);const n=7&e.flags;return 4!==n&&6!==n||!HF(e.parent)?6===n&&Uj(e):Oq(e,4===n?ma.The_left_hand_side_of_a_for_in_statement_cannot_be_a_using_declaration:ma.The_left_hand_side_of_a_for_in_statement_cannot_be_an_await_using_declaration)}function Eq(e){switch(e.kind){case 245:case 246:case 247:case 254:case 248:case 249:case 250:return!1;case 256:return Eq(e.parent)}return!0}function Pq(e){return e.parseDiagnostics.length>0}function Aq(e,t,...n){const r=Sd(e);if(!Pq(r)){const i=Yp(r,e.pos);return po.add(ek(r,i.start,i.length,t,...n)),!0}return!1}function Iq(e,t,n,r,...i){const o=Sd(e);return!Pq(o)&&(po.add(ek(o,t,n,r,...i)),!0)}function Oq(e,t,...n){return!Pq(Sd(e))&&(po.add(qp(e,t,...n)),!0)}function Lq(e){return 264!==e.kind&&265!==e.kind&&272!==e.kind&&271!==e.kind&&278!==e.kind&&277!==e.kind&&270!==e.kind&&!Av(e,2208)&&Aq(e,ma.Top_level_declarations_in_d_ts_files_must_start_with_either_a_declare_or_export_modifier)}function jq(e){return!!(33554432&e.flags)&&function(e){for(const t of e.statements)if((mu(t)||243===t.kind)&&Lq(t))return!0;return!1}(e)}function Rq(e){if(33554432&e.flags){if(!ra(e).hasReportedStatementInAmbientContext&&(c_(e.parent)||h_(e.parent)))return ra(e).hasReportedStatementInAmbientContext=Aq(e,ma.An_implementation_cannot_be_declared_in_ambient_contexts);if(241===e.parent.kind||268===e.parent.kind||307===e.parent.kind){const t=ra(e.parent);if(!t.hasReportedStatementInAmbientContext)return t.hasReportedStatementInAmbientContext=Aq(e,ma.Statements_are_not_allowed_in_ambient_contexts)}}return!1}function Mq(e){const t=ep(e).includes("."),n=16&e.numericLiteralFlags;t||n||+e.text<=__pow(2,53)-1||Ro(!1,qp(e,ma.Numeric_literals_with_absolute_values_equal_to_2_53_or_greater_are_too_large_to_be_represented_accurately_as_integers))}function Bq(e){return!!f(e.elements,e=>{if(e.isTypeOnly)return Aq(e,276===e.kind?ma.The_type_modifier_cannot_be_used_on_a_named_import_when_import_type_is_used_on_its_import_statement:ma.The_type_modifier_cannot_be_used_on_a_named_export_when_export_type_is_used_on_its_export_statement)})}function Jq(e,t,n){if(1048576&t.flags&&2621440&e.flags){const r=WD(t,e);if(r)return r;const i=Fp(e);if(i){const e=qD(i,t);if(e){const r=FT(t,A(e,e=>[()=>w_(e),e.escapedName]),n);if(r!==t)return r}}}}function zq(e){const t=Uh(e);return t||(hN(e)?RD(ER(e.expression)):void 0)}function qq(e){return Ae===e?Je:(Ae=e,Je=lc(e))}function Vq(e){return Pe===e?Be:(Pe=e,Be=uc(e))}function Uq(e){const t=7&Vq(e);return 2===t||4===t||6===t}}function sJ(e){return 262!==e.kind&&174!==e.kind||!!e.body}function cJ(e){switch(e.parent.kind){case 276:case 281:return tN(e)||11===e.kind;default:return ph(e)}}function lJ(e){switch(e){case 0:return"yieldType";case 1:return"returnType";case 2:return"nextType"}}function _J(e){return!!(1&e.flags)}function uJ(e){return!!(2&e.flags)}(zB=JB||(JB={})).JSX="JSX",zB.IntrinsicElements="IntrinsicElements",zB.ElementClass="ElementClass",zB.ElementAttributesPropertyNameContainer="ElementAttributesProperty",zB.ElementChildrenAttributeNameContainer="ElementChildrenAttribute",zB.Element="Element",zB.ElementType="ElementType",zB.IntrinsicAttributes="IntrinsicAttributes",zB.IntrinsicClassAttributes="IntrinsicClassAttributes",zB.LibraryManagedAttributes="LibraryManagedAttributes",(qB||(qB={})).Fragment="Fragment";var dJ=class e{constructor(t,n,r){var i;for(this.moduleResolverHost=void 0,this.inner=void 0,this.disableTrackSymbol=!1;n instanceof e;)n=n.inner;this.inner=n,this.moduleResolverHost=r,this.context=t,this.canTrackSymbol=!!(null==(i=this.inner)?void 0:i.trackSymbol)}trackSymbol(e,t,n){var r,i,o;if((null==(i=this.inner)?void 0:i.trackSymbol)&&!this.disableTrackSymbol){if(this.inner.trackSymbol(e,t,n))return this.onDiagnosticReported(),!0;262144&e.flags||(null!=(r=(o=this.context).trackedSymbols)?r:o.trackedSymbols=[]).push([e,t,n])}return!1}reportInaccessibleThisError(){var e;(null==(e=this.inner)?void 0:e.reportInaccessibleThisError)&&(this.onDiagnosticReported(),this.inner.reportInaccessibleThisError())}reportPrivateInBaseOfClassExpression(e){var t;(null==(t=this.inner)?void 0:t.reportPrivateInBaseOfClassExpression)&&(this.onDiagnosticReported(),this.inner.reportPrivateInBaseOfClassExpression(e))}reportInaccessibleUniqueSymbolError(){var e;(null==(e=this.inner)?void 0:e.reportInaccessibleUniqueSymbolError)&&(this.onDiagnosticReported(),this.inner.reportInaccessibleUniqueSymbolError())}reportCyclicStructureError(){var e;(null==(e=this.inner)?void 0:e.reportCyclicStructureError)&&(this.onDiagnosticReported(),this.inner.reportCyclicStructureError())}reportLikelyUnsafeImportRequiredError(e){var t;(null==(t=this.inner)?void 0:t.reportLikelyUnsafeImportRequiredError)&&(this.onDiagnosticReported(),this.inner.reportLikelyUnsafeImportRequiredError(e))}reportTruncationError(){var e;(null==(e=this.inner)?void 0:e.reportTruncationError)&&(this.onDiagnosticReported(),this.inner.reportTruncationError())}reportNonlocalAugmentation(e,t,n){var r;(null==(r=this.inner)?void 0:r.reportNonlocalAugmentation)&&(this.onDiagnosticReported(),this.inner.reportNonlocalAugmentation(e,t,n))}reportNonSerializableProperty(e){var t;(null==(t=this.inner)?void 0:t.reportNonSerializableProperty)&&(this.onDiagnosticReported(),this.inner.reportNonSerializableProperty(e))}onDiagnosticReported(){this.context.reportedDiagnostic=!0}reportInferenceFallback(e){var t;(null==(t=this.inner)?void 0:t.reportInferenceFallback)&&!this.context.suppressReportInferenceFallback&&(this.onDiagnosticReported(),this.inner.reportInferenceFallback(e))}pushErrorFallbackNode(e){var t,n;return null==(n=null==(t=this.inner)?void 0:t.pushErrorFallbackNode)?void 0:n.call(t,e)}popErrorFallbackNode(){var e,t;return null==(t=null==(e=this.inner)?void 0:e.popErrorFallbackNode)?void 0:t.call(e)}};function pJ(e,t,n,r){if(void 0===e)return e;const i=t(e);let o;return void 0!==i?(o=et(i)?(r||CJ)(i):i,fn.assertNode(o,n),o):void 0}function fJ(e,t,n,r,i){if(void 0===e)return e;const o=e.length;let a;(void 0===r||r<0)&&(r=0),(void 0===i||i>o-r)&&(i=o-r);let s=-1,c=-1;r>0||i<o?a=e.hasTrailingComma&&r+i===o:(s=e.pos,c=e.end,a=e.hasTrailingComma);const l=gJ(e,t,n,r,i);if(l!==e){const e=_w.createNodeArray(l,a);return ET(e,s,c),e}return e}function mJ(e,t,n,r,i){if(void 0===e)return e;const o=e.length;return(void 0===r||r<0)&&(r=0),(void 0===i||i>o-r)&&(i=o-r),gJ(e,t,n,r,i)}function gJ(e,t,n,r,i){let o;const a=e.length;(r>0||i<a)&&(o=[]);for(let s=0;s<i;s++){const i=e[s+r],a=void 0!==i?t?t(i):i:void 0;if((void 0!==o||void 0===a||a!==i)&&(void 0===o&&(o=e.slice(0,s),fn.assertEachNode(o,n)),a))if(et(a))for(const e of a)fn.assertNode(e,n),o.push(e);else fn.assertNode(a,n),o.push(a)}return o||(fn.assertEachNode(e,n),e)}function hJ(e,t,n,r,i,o=fJ){return n.startLexicalEnvironment(),e=o(e,t,yu,r),i&&(e=n.factory.ensureUseStrict(e)),_w.mergeLexicalEnvironment(e,n.endLexicalEnvironment())}function yJ(e,t,n,r=fJ){let i;return n.startLexicalEnvironment(),e&&(n.setLexicalEnvironmentFlags(1,!0),i=r(e,t,vN),2&n.getLexicalEnvironmentFlags()&&Sk(n.getCompilerOptions())>=2&&(i=function(e,t){let n;for(let r=0;r<e.length;r++){const i=e[r],o=vJ(i,t);(n||o!==i)&&(n||(n=e.slice(0,r)),n[r]=o)}return n?vI(t.factory.createNodeArray(n,e.hasTrailingComma),e):e}(i,n)),n.setLexicalEnvironmentFlags(1,!1)),n.suspendLexicalEnvironment(),i}function vJ(e,t){return e.dotDotDotToken?e:D_(e.name)?function(e,t){const{factory:n}=t;return t.addInitializationStatement(n.createVariableStatement(void 0,n.createVariableDeclarationList([n.createVariableDeclaration(e.name,void 0,e.type,e.initializer?n.createConditionalExpression(n.createStrictEquality(n.getGeneratedNameForNode(e),n.createVoidZero()),void 0,e.initializer,void 0,n.getGeneratedNameForNode(e)):n.getGeneratedNameForNode(e))]))),n.updateParameterDeclaration(e,e.modifiers,e.dotDotDotToken,n.getGeneratedNameForNode(e),e.questionToken,e.type,void 0)}(e,t):e.initializer?function(e,t,n,r){const i=r.factory;return r.addInitializationStatement(i.createIfStatement(i.createTypeCheck(i.cloneNode(t),"undefined"),gw(vI(i.createBlock([i.createExpressionStatement(gw(vI(i.createAssignment(gw(i.cloneNode(t),96),gw(n,3168|rp(n))),e),3072))]),e),3905))),i.updateParameterDeclaration(e,e.modifiers,e.dotDotDotToken,e.name,e.questionToken,e.type,void 0)}(e,e.name,e.initializer,t):e}function bJ(e,t,n,r=pJ){n.resumeLexicalEnvironment();const i=r(e,t,ru),o=n.endLexicalEnvironment();if(K(o)){if(!i)return n.factory.createBlock(o);const e=n.factory.converters.convertToFunctionBlock(i),t=_w.mergeLexicalEnvironment(e.statements,o);return n.factory.updateBlock(e,t)}return i}function xJ(e,t,n,r=pJ){n.startBlockScope();const i=r(e,t,yu,n.factory.liftToBlock);fn.assert(i);const o=n.endBlockScope();return K(o)?BF(i)?(o.push(...i.statements),n.factory.updateBlock(i,o)):(o.push(i),n.factory.createBlock(o)):i}function kJ(e,t,n=t){if(n===t||e.length<=1)return fJ(e,t,G_);let r=0;const i=e.length;return fJ(e,e=>{const o=r<i-1;return r++,o?n(e):t(e)},G_)}function SJ(e,t,n=Kq,r=fJ,i,o=pJ){if(void 0===e)return;const a=TJ[e.kind];return void 0===a?e:a(e,t,n,r,o,i)}var TJ={166:function(e,t,n,r,i,o){return n.factory.updateQualifiedName(e,fn.checkDefined(i(e.left,t,o_)),fn.checkDefined(i(e.right,t,tN)))},167:function(e,t,n,r,i,o){return n.factory.updateComputedPropertyName(e,fn.checkDefined(i(e.expression,t,G_)))},168:function(e,t,n,r,i,o){return n.factory.updateTypeParameterDeclaration(e,r(e.modifiers,t,i_),fn.checkDefined(i(e.name,t,tN)),i(e.constraint,t,C_),i(e.default,t,C_))},169:function(e,t,n,r,i,o){return n.factory.updateParameterDeclaration(e,r(e.modifiers,t,x_),o?i(e.dotDotDotToken,o,WD):e.dotDotDotToken,fn.checkDefined(i(e.name,t,s_)),o?i(e.questionToken,o,QD):e.questionToken,i(e.type,t,C_),i(e.initializer,t,G_))},170:function(e,t,n,r,i,o){return n.factory.updateDecorator(e,fn.checkDefined(i(e.expression,t,G_)))},171:function(e,t,n,r,i,o){return n.factory.updatePropertySignature(e,r(e.modifiers,t,i_),fn.checkDefined(i(e.name,t,a_)),o?i(e.questionToken,o,QD):e.questionToken,i(e.type,t,C_))},172:function(e,t,n,r,i,o){var a,s;return n.factory.updatePropertyDeclaration(e,r(e.modifiers,t,x_),fn.checkDefined(i(e.name,t,a_)),o?i(null!=(a=e.questionToken)?a:e.exclamationToken,o,VA):null!=(s=e.questionToken)?s:e.exclamationToken,i(e.type,t,C_),i(e.initializer,t,G_))},173:function(e,t,n,r,i,o){return n.factory.updateMethodSignature(e,r(e.modifiers,t,i_),fn.checkDefined(i(e.name,t,a_)),o?i(e.questionToken,o,QD):e.questionToken,r(e.typeParameters,t,yN),r(e.parameters,t,vN),i(e.type,t,C_))},174:function(e,t,n,r,i,o){return n.factory.updateMethodDeclaration(e,r(e.modifiers,t,x_),o?i(e.asteriskToken,o,GD):e.asteriskToken,fn.checkDefined(i(e.name,t,a_)),o?i(e.questionToken,o,QD):e.questionToken,r(e.typeParameters,t,yN),yJ(e.parameters,t,n,r),i(e.type,t,C_),bJ(e.body,t,n,i))},176:function(e,t,n,r,i,o){return n.factory.updateConstructorDeclaration(e,r(e.modifiers,t,x_),yJ(e.parameters,t,n,r),bJ(e.body,t,n,i))},177:function(e,t,n,r,i,o){return n.factory.updateGetAccessorDeclaration(e,r(e.modifiers,t,x_),fn.checkDefined(i(e.name,t,a_)),yJ(e.parameters,t,n,r),i(e.type,t,C_),bJ(e.body,t,n,i))},178:function(e,t,n,r,i,o){return n.factory.updateSetAccessorDeclaration(e,r(e.modifiers,t,x_),fn.checkDefined(i(e.name,t,a_)),yJ(e.parameters,t,n,r),bJ(e.body,t,n,i))},175:function(e,t,n,r,i,o){return n.startLexicalEnvironment(),n.suspendLexicalEnvironment(),n.factory.updateClassStaticBlockDeclaration(e,bJ(e.body,t,n,i))},179:function(e,t,n,r,i,o){return n.factory.updateCallSignature(e,r(e.typeParameters,t,yN),r(e.parameters,t,vN),i(e.type,t,C_))},180:function(e,t,n,r,i,o){return n.factory.updateConstructSignature(e,r(e.typeParameters,t,yN),r(e.parameters,t,vN),i(e.type,t,C_))},181:function(e,t,n,r,i,o){return n.factory.updateIndexSignature(e,r(e.modifiers,t,x_),r(e.parameters,t,vN),fn.checkDefined(i(e.type,t,C_)))},182:function(e,t,n,r,i,o){return n.factory.updateTypePredicateNode(e,i(e.assertsModifier,t,aN),fn.checkDefined(i(e.parameterName,t,UA)),i(e.type,t,C_))},183:function(e,t,n,r,i,o){return n.factory.updateTypeReferenceNode(e,fn.checkDefined(i(e.typeName,t,o_)),r(e.typeArguments,t,C_))},184:function(e,t,n,r,i,o){return n.factory.updateFunctionTypeNode(e,r(e.typeParameters,t,yN),r(e.parameters,t,vN),fn.checkDefined(i(e.type,t,C_)))},185:function(e,t,n,r,i,o){return n.factory.updateConstructorTypeNode(e,r(e.modifiers,t,i_),r(e.typeParameters,t,yN),r(e.parameters,t,vN),fn.checkDefined(i(e.type,t,C_)))},186:function(e,t,n,r,i,o){return n.factory.updateTypeQueryNode(e,fn.checkDefined(i(e.exprName,t,o_)),r(e.typeArguments,t,C_))},187:function(e,t,n,r,i,o){return n.factory.updateTypeLiteralNode(e,r(e.members,t,k_))},188:function(e,t,n,r,i,o){return n.factory.updateArrayTypeNode(e,fn.checkDefined(i(e.elementType,t,C_)))},189:function(e,t,n,r,i,o){return n.factory.updateTupleTypeNode(e,r(e.elements,t,C_))},190:function(e,t,n,r,i,o){return n.factory.updateOptionalTypeNode(e,fn.checkDefined(i(e.type,t,C_)))},191:function(e,t,n,r,i,o){return n.factory.updateRestTypeNode(e,fn.checkDefined(i(e.type,t,C_)))},192:function(e,t,n,r,i,o){return n.factory.updateUnionTypeNode(e,r(e.types,t,C_))},193:function(e,t,n,r,i,o){return n.factory.updateIntersectionTypeNode(e,r(e.types,t,C_))},194:function(e,t,n,r,i,o){return n.factory.updateConditionalTypeNode(e,fn.checkDefined(i(e.checkType,t,C_)),fn.checkDefined(i(e.extendsType,t,C_)),fn.checkDefined(i(e.trueType,t,C_)),fn.checkDefined(i(e.falseType,t,C_)))},195:function(e,t,n,r,i,o){return n.factory.updateInferTypeNode(e,fn.checkDefined(i(e.typeParameter,t,yN)))},205:function(e,t,n,r,i,o){return n.factory.updateImportTypeNode(e,fn.checkDefined(i(e.argument,t,C_)),i(e.attributes,t,xE),i(e.qualifier,t,o_),r(e.typeArguments,t,C_),e.isTypeOf)},302:function(e,t,n,r,i,o){return n.factory.updateImportTypeAssertionContainer(e,fn.checkDefined(i(e.assertClause,t,vE)),e.multiLine)},202:function(e,t,n,r,i,o){return n.factory.updateNamedTupleMember(e,o?i(e.dotDotDotToken,o,WD):e.dotDotDotToken,fn.checkDefined(i(e.name,t,tN)),o?i(e.questionToken,o,QD):e.questionToken,fn.checkDefined(i(e.type,t,C_)))},196:function(e,t,n,r,i,o){return n.factory.updateParenthesizedType(e,fn.checkDefined(i(e.type,t,C_)))},198:function(e,t,n,r,i,o){return n.factory.updateTypeOperatorNode(e,fn.checkDefined(i(e.type,t,C_)))},199:function(e,t,n,r,i,o){return n.factory.updateIndexedAccessTypeNode(e,fn.checkDefined(i(e.objectType,t,C_)),fn.checkDefined(i(e.indexType,t,C_)))},200:function(e,t,n,r,i,o){return n.factory.updateMappedTypeNode(e,o?i(e.readonlyToken,o,WA):e.readonlyToken,fn.checkDefined(i(e.typeParameter,t,yN)),i(e.nameType,t,C_),o?i(e.questionToken,o,$A):e.questionToken,i(e.type,t,C_),r(e.members,t,k_))},201:function(e,t,n,r,i,o){return n.factory.updateLiteralTypeNode(e,fn.checkDefined(i(e.literal,t,K_)))},203:function(e,t,n,r,i,o){return n.factory.updateTemplateLiteralType(e,fn.checkDefined(i(e.head,t,qD)),r(e.templateSpans,t,eF))},204:function(e,t,n,r,i,o){return n.factory.updateTemplateLiteralTypeSpan(e,fn.checkDefined(i(e.type,t,C_)),fn.checkDefined(i(e.literal,t,ql)))},206:function(e,t,n,r,i,o){return n.factory.updateObjectBindingPattern(e,r(e.elements,t,iF))},207:function(e,t,n,r,i,o){return n.factory.updateArrayBindingPattern(e,r(e.elements,t,F_))},208:function(e,t,n,r,i,o){return n.factory.updateBindingElement(e,o?i(e.dotDotDotToken,o,WD):e.dotDotDotToken,i(e.propertyName,t,a_),fn.checkDefined(i(e.name,t,s_)),i(e.initializer,t,G_))},209:function(e,t,n,r,i,o){return n.factory.updateArrayLiteralExpression(e,r(e.elements,t,G_))},210:function(e,t,n,r,i,o){return n.factory.updateObjectLiteralExpression(e,r(e.properties,t,T_))},211:function(e,t,n,r,i,o){return vl(e)?n.factory.updatePropertyAccessChain(e,fn.checkDefined(i(e.expression,t,G_)),o?i(e.questionDotToken,o,YD):e.questionDotToken,fn.checkDefined(i(e.name,t,hl))):n.factory.updatePropertyAccessExpression(e,fn.checkDefined(i(e.expression,t,G_)),fn.checkDefined(i(e.name,t,hl)))},212:function(e,t,n,r,i,o){return bl(e)?n.factory.updateElementAccessChain(e,fn.checkDefined(i(e.expression,t,G_)),o?i(e.questionDotToken,o,YD):e.questionDotToken,fn.checkDefined(i(e.argumentExpression,t,G_))):n.factory.updateElementAccessExpression(e,fn.checkDefined(i(e.expression,t,G_)),fn.checkDefined(i(e.argumentExpression,t,G_)))},213:function(e,t,n,r,i,o){return xl(e)?n.factory.updateCallChain(e,fn.checkDefined(i(e.expression,t,G_)),o?i(e.questionDotToken,o,YD):e.questionDotToken,r(e.typeArguments,t,C_),r(e.arguments,t,G_)):n.factory.updateCallExpression(e,fn.checkDefined(i(e.expression,t,G_)),r(e.typeArguments,t,C_),r(e.arguments,t,G_))},214:function(e,t,n,r,i,o){return n.factory.updateNewExpression(e,fn.checkDefined(i(e.expression,t,G_)),r(e.typeArguments,t,C_),r(e.arguments,t,G_))},215:function(e,t,n,r,i,o){return n.factory.updateTaggedTemplateExpression(e,fn.checkDefined(i(e.tag,t,G_)),r(e.typeArguments,t,C_),fn.checkDefined(i(e.template,t,q_)))},216:function(e,t,n,r,i,o){return n.factory.updateTypeAssertion(e,fn.checkDefined(i(e.type,t,C_)),fn.checkDefined(i(e.expression,t,G_)))},217:function(e,t,n,r,i,o){return n.factory.updateParenthesizedExpression(e,fn.checkDefined(i(e.expression,t,G_)))},218:function(e,t,n,r,i,o){return n.factory.updateFunctionExpression(e,r(e.modifiers,t,i_),o?i(e.asteriskToken,o,GD):e.asteriskToken,i(e.name,t,tN),r(e.typeParameters,t,yN),yJ(e.parameters,t,n,r),i(e.type,t,C_),bJ(e.body,t,n,i))},219:function(e,t,n,r,i,o){return n.factory.updateArrowFunction(e,r(e.modifiers,t,i_),r(e.typeParameters,t,yN),yJ(e.parameters,t,n,r),i(e.type,t,C_),o?fn.checkDefined(i(e.equalsGreaterThanToken,o,eN)):e.equalsGreaterThanToken,bJ(e.body,t,n,i))},220:function(e,t,n,r,i,o){return n.factory.updateDeleteExpression(e,fn.checkDefined(i(e.expression,t,G_)))},221:function(e,t,n,r,i,o){return n.factory.updateTypeOfExpression(e,fn.checkDefined(i(e.expression,t,G_)))},222:function(e,t,n,r,i,o){return n.factory.updateVoidExpression(e,fn.checkDefined(i(e.expression,t,G_)))},223:function(e,t,n,r,i,o){return n.factory.updateAwaitExpression(e,fn.checkDefined(i(e.expression,t,G_)))},224:function(e,t,n,r,i,o){return n.factory.updatePrefixUnaryExpression(e,fn.checkDefined(i(e.operand,t,G_)))},225:function(e,t,n,r,i,o){return n.factory.updatePostfixUnaryExpression(e,fn.checkDefined(i(e.operand,t,G_)))},226:function(e,t,n,r,i,o){return n.factory.updateBinaryExpression(e,fn.checkDefined(i(e.left,t,G_)),o?fn.checkDefined(i(e.operatorToken,o,ZA)):e.operatorToken,fn.checkDefined(i(e.right,t,G_)))},227:function(e,t,n,r,i,o){return n.factory.updateConditionalExpression(e,fn.checkDefined(i(e.condition,t,G_)),o?fn.checkDefined(i(e.questionToken,o,QD)):e.questionToken,fn.checkDefined(i(e.whenTrue,t,G_)),o?fn.checkDefined(i(e.colonToken,o,ZD)):e.colonToken,fn.checkDefined(i(e.whenFalse,t,G_)))},228:function(e,t,n,r,i,o){return n.factory.updateTemplateExpression(e,fn.checkDefined(i(e.head,t,qD)),r(e.templateSpans,t,RF))},229:function(e,t,n,r,i,o){return n.factory.updateYieldExpression(e,o?i(e.asteriskToken,o,GD):e.asteriskToken,i(e.expression,t,G_))},230:function(e,t,n,r,i,o){return n.factory.updateSpreadElement(e,fn.checkDefined(i(e.expression,t,G_)))},231:function(e,t,n,r,i,o){return n.factory.updateClassExpression(e,r(e.modifiers,t,x_),i(e.name,t,tN),r(e.typeParameters,t,yN),r(e.heritageClauses,t,XE),r(e.members,t,m_))},233:function(e,t,n,r,i,o){return n.factory.updateExpressionWithTypeArguments(e,fn.checkDefined(i(e.expression,t,G_)),r(e.typeArguments,t,C_))},234:function(e,t,n,r,i,o){return n.factory.updateAsExpression(e,fn.checkDefined(i(e.expression,t,G_)),fn.checkDefined(i(e.type,t,C_)))},238:function(e,t,n,r,i,o){return n.factory.updateSatisfiesExpression(e,fn.checkDefined(i(e.expression,t,G_)),fn.checkDefined(i(e.type,t,C_)))},235:function(e,t,n,r,i,o){return kl(e)?n.factory.updateNonNullChain(e,fn.checkDefined(i(e.expression,t,G_))):n.factory.updateNonNullExpression(e,fn.checkDefined(i(e.expression,t,G_)))},236:function(e,t,n,r,i,o){return n.factory.updateMetaProperty(e,fn.checkDefined(i(e.name,t,tN)))},239:function(e,t,n,r,i,o){return n.factory.updateTemplateSpan(e,fn.checkDefined(i(e.expression,t,G_)),fn.checkDefined(i(e.literal,t,ql)))},241:function(e,t,n,r,i,o){return n.factory.updateBlock(e,r(e.statements,t,yu))},243:function(e,t,n,r,i,o){return n.factory.updateVariableStatement(e,r(e.modifiers,t,x_),fn.checkDefined(i(e.declarationList,t,oE)))},244:function(e,t,n,r,i,o){return n.factory.updateExpressionStatement(e,fn.checkDefined(i(e.expression,t,G_)))},245:function(e,t,n,r,i,o){return n.factory.updateIfStatement(e,fn.checkDefined(i(e.expression,t,G_)),fn.checkDefined(i(e.thenStatement,t,yu,n.factory.liftToBlock)),i(e.elseStatement,t,yu,n.factory.liftToBlock))},246:function(e,t,n,r,i,o){return n.factory.updateDoStatement(e,xJ(e.statement,t,n,i),fn.checkDefined(i(e.expression,t,G_)))},247:function(e,t,n,r,i,o){return n.factory.updateWhileStatement(e,fn.checkDefined(i(e.expression,t,G_)),xJ(e.statement,t,n,i))},248:function(e,t,n,r,i,o){return n.factory.updateForStatement(e,i(e.initializer,t,ou),i(e.condition,t,G_),i(e.incrementor,t,G_),xJ(e.statement,t,n,i))},249:function(e,t,n,r,i,o){return n.factory.updateForInStatement(e,fn.checkDefined(i(e.initializer,t,ou)),fn.checkDefined(i(e.expression,t,G_)),xJ(e.statement,t,n,i))},250:function(e,t,n,r,i,o){return n.factory.updateForOfStatement(e,o?i(e.awaitModifier,o,sN):e.awaitModifier,fn.checkDefined(i(e.initializer,t,ou)),fn.checkDefined(i(e.expression,t,G_)),xJ(e.statement,t,n,i))},251:function(e,t,n,r,i,o){return n.factory.updateContinueStatement(e,i(e.label,t,tN))},252:function(e,t,n,r,i,o){return n.factory.updateBreakStatement(e,i(e.label,t,tN))},253:function(e,t,n,r,i,o){return n.factory.updateReturnStatement(e,i(e.expression,t,G_))},254:function(e,t,n,r,i,o){return n.factory.updateWithStatement(e,fn.checkDefined(i(e.expression,t,G_)),fn.checkDefined(i(e.statement,t,yu,n.factory.liftToBlock)))},255:function(e,t,n,r,i,o){return n.factory.updateSwitchStatement(e,fn.checkDefined(i(e.expression,t,G_)),fn.checkDefined(i(e.caseBlock,t,pE)))},256:function(e,t,n,r,i,o){return n.factory.updateLabeledStatement(e,fn.checkDefined(i(e.label,t,tN)),fn.checkDefined(i(e.statement,t,yu,n.factory.liftToBlock)))},257:function(e,t,n,r,i,o){return n.factory.updateThrowStatement(e,fn.checkDefined(i(e.expression,t,G_)))},258:function(e,t,n,r,i,o){return n.factory.updateTryStatement(e,fn.checkDefined(i(e.tryBlock,t,BF)),i(e.catchClause,t,QE),i(e.finallyBlock,t,BF))},260:function(e,t,n,r,i,o){return n.factory.updateVariableDeclaration(e,fn.checkDefined(i(e.name,t,s_)),o?i(e.exclamationToken,o,XD):e.exclamationToken,i(e.type,t,C_),i(e.initializer,t,G_))},261:function(e,t,n,r,i,o){return n.factory.updateVariableDeclarationList(e,r(e.declarations,t,iE))},262:function(e,t,n,r,i,o){return n.factory.updateFunctionDeclaration(e,r(e.modifiers,t,i_),o?i(e.asteriskToken,o,GD):e.asteriskToken,i(e.name,t,tN),r(e.typeParameters,t,yN),yJ(e.parameters,t,n,r),i(e.type,t,C_),bJ(e.body,t,n,i))},263:function(e,t,n,r,i,o){return n.factory.updateClassDeclaration(e,r(e.modifiers,t,x_),i(e.name,t,tN),r(e.typeParameters,t,yN),r(e.heritageClauses,t,XE),r(e.members,t,m_))},264:function(e,t,n,r,i,o){return n.factory.updateInterfaceDeclaration(e,r(e.modifiers,t,x_),fn.checkDefined(i(e.name,t,tN)),r(e.typeParameters,t,yN),r(e.heritageClauses,t,XE),r(e.members,t,k_))},265:function(e,t,n,r,i,o){return n.factory.updateTypeAliasDeclaration(e,r(e.modifiers,t,x_),fn.checkDefined(i(e.name,t,tN)),r(e.typeParameters,t,yN),fn.checkDefined(i(e.type,t,C_)))},266:function(e,t,n,r,i,o){return n.factory.updateEnumDeclaration(e,r(e.modifiers,t,x_),fn.checkDefined(i(e.name,t,tN)),r(e.members,t,tP))},267:function(e,t,n,r,i,o){return n.factory.updateModuleDeclaration(e,r(e.modifiers,t,x_),fn.checkDefined(i(e.name,t,HA)),i(e.body,t,au))},268:function(e,t,n,r,i,o){return n.factory.updateModuleBlock(e,r(e.statements,t,yu))},269:function(e,t,n,r,i,o){return n.factory.updateCaseBlock(e,r(e.clauses,t,Du))},270:function(e,t,n,r,i,o){return n.factory.updateNamespaceExportDeclaration(e,fn.checkDefined(i(e.name,t,tN)))},271:function(e,t,n,r,i,o){return n.factory.updateImportEqualsDeclaration(e,r(e.modifiers,t,x_),e.isTypeOnly,fn.checkDefined(i(e.name,t,tN)),fn.checkDefined(i(e.moduleReference,t,bu)))},272:function(e,t,n,r,i,o){return n.factory.updateImportDeclaration(e,r(e.modifiers,t,x_),i(e.importClause,t,hE),fn.checkDefined(i(e.moduleSpecifier,t,G_)),i(e.attributes,t,xE))},300:function(e,t,n,r,i,o){return n.factory.updateImportAttributes(e,r(e.elements,t,kE),e.multiLine)},301:function(e,t,n,r,i,o){return n.factory.updateImportAttribute(e,fn.checkDefined(i(e.name,t,Gl)),fn.checkDefined(i(e.value,t,G_)))},273:function(e,t,n,r,i,o){return n.factory.updateImportClause(e,e.isTypeOnly,i(e.name,t,tN),i(e.namedBindings,t,lu))},274:function(e,t,n,r,i,o){return n.factory.updateNamespaceImport(e,fn.checkDefined(i(e.name,t,tN)))},280:function(e,t,n,r,i,o){return n.factory.updateNamespaceExport(e,fn.checkDefined(i(e.name,t,tN)))},275:function(e,t,n,r,i,o){return n.factory.updateNamedImports(e,r(e.elements,t,wE))},276:function(e,t,n,r,i,o){return n.factory.updateImportSpecifier(e,e.isTypeOnly,i(e.propertyName,t,PE),fn.checkDefined(i(e.name,t,tN)))},277:function(e,t,n,r,i,o){return n.factory.updateExportAssignment(e,r(e.modifiers,t,x_),fn.checkDefined(i(e.expression,t,G_)))},278:function(e,t,n,r,i,o){return n.factory.updateExportDeclaration(e,r(e.modifiers,t,x_),e.isTypeOnly,i(e.exportClause,t,Pl),i(e.moduleSpecifier,t,G_),i(e.attributes,t,xE))},279:function(e,t,n,r,i,o){return n.factory.updateNamedExports(e,r(e.elements,t,EE))},281:function(e,t,n,r,i,o){return n.factory.updateExportSpecifier(e,e.isTypeOnly,i(e.propertyName,t,PE),fn.checkDefined(i(e.name,t,PE)))},283:function(e,t,n,r,i,o){return n.factory.updateExternalModuleReference(e,fn.checkDefined(i(e.expression,t,G_)))},284:function(e,t,n,r,i,o){return n.factory.updateJsxElement(e,fn.checkDefined(i(e.openingElement,t,ME)),r(e.children,t,ku),fn.checkDefined(i(e.closingElement,t,BE)))},285:function(e,t,n,r,i,o){return n.factory.updateJsxSelfClosingElement(e,fn.checkDefined(i(e.tagName,t,xu)),r(e.typeArguments,t,C_),fn.checkDefined(i(e.attributes,t,UE)))},286:function(e,t,n,r,i,o){return n.factory.updateJsxOpeningElement(e,fn.checkDefined(i(e.tagName,t,xu)),r(e.typeArguments,t,C_),fn.checkDefined(i(e.attributes,t,UE)))},287:function(e,t,n,r,i,o){return n.factory.updateJsxClosingElement(e,fn.checkDefined(i(e.tagName,t,xu)))},295:function(e,t,n,r,i,o){return n.factory.updateJsxNamespacedName(e,fn.checkDefined(i(e.namespace,t,tN)),fn.checkDefined(i(e.name,t,tN)))},288:function(e,t,n,r,i,o){return n.factory.updateJsxFragment(e,fn.checkDefined(i(e.openingFragment,t,zE)),r(e.children,t,ku),fn.checkDefined(i(e.closingFragment,t,qE)))},291:function(e,t,n,r,i,o){return n.factory.updateJsxAttribute(e,fn.checkDefined(i(e.name,t,cC)),i(e.initializer,t,Tu))},292:function(e,t,n,r,i,o){return n.factory.updateJsxAttributes(e,r(e.properties,t,Su))},293:function(e,t,n,r,i,o){return n.factory.updateJsxSpreadAttribute(e,fn.checkDefined(i(e.expression,t,G_)))},294:function(e,t,n,r,i,o){return n.factory.updateJsxExpression(e,i(e.expression,t,G_))},296:function(e,t,n,r,i,o){return n.factory.updateCaseClause(e,fn.checkDefined(i(e.expression,t,G_)),r(e.statements,t,yu))},297:function(e,t,n,r,i,o){return n.factory.updateDefaultClause(e,r(e.statements,t,yu))},298:function(e,t,n,r,i,o){return n.factory.updateHeritageClause(e,r(e.types,t,FF))},299:function(e,t,n,r,i,o){return n.factory.updateCatchClause(e,i(e.variableDeclaration,t,iE),fn.checkDefined(i(e.block,t,BF)))},303:function(e,t,n,r,i,o){return n.factory.updatePropertyAssignment(e,fn.checkDefined(i(e.name,t,a_)),fn.checkDefined(i(e.initializer,t,G_)))},304:function(e,t,n,r,i,o){return n.factory.updateShorthandPropertyAssignment(e,fn.checkDefined(i(e.name,t,tN)),i(e.objectAssignmentInitializer,t,G_))},305:function(e,t,n,r,i,o){return n.factory.updateSpreadAssignment(e,fn.checkDefined(i(e.expression,t,G_)))},306:function(e,t,n,r,i,o){return n.factory.updateEnumMember(e,fn.checkDefined(i(e.name,t,a_)),i(e.initializer,t,G_))},307:function(e,t,n,r,i,o){return n.factory.updateSourceFile(e,hJ(e.statements,t,n))},355:function(e,t,n,r,i,o){return n.factory.updatePartiallyEmittedExpression(e,fn.checkDefined(i(e.expression,t,G_)))},356:function(e,t,n,r,i,o){return n.factory.updateCommaListExpression(e,r(e.elements,t,G_))}};function CJ(e){return fn.assert(e.length<=1,"Too many nodes written to output."),Se(e)}function wJ(e,t,n,r,i){var o,a,{enter:s,exit:c}=i.extendedDiagnostics?Gn("Source Map","beforeSourcemap","afterSourcemap"):Zn,l=[],_=[],u=new Map,d=[],p=[],f="",m=0,g=0,h=0,y=0,v=0,b=0,x=!1,k=0,S=0,T=0,C=0,w=0,D=0,N=!1,F=!1,E=!1;return{getSources:()=>l,addSource:P,setSourceContent:A,addName:I,addMapping:O,appendSourceMap:function(e,t,n,r,i,o){fn.assert(e>=k,"generatedLine cannot backtrack"),fn.assert(t>=0,"generatedCharacter cannot be negative"),s();const a=[];let l;const _=OJ(n.mappings);for(const s of _){if(o&&(s.generatedLine>o.line||s.generatedLine===o.line&&s.generatedCharacter>o.character))break;if(i&&(s.generatedLine<i.line||i.line===s.generatedLine&&s.generatedCharacter<i.character))continue;let c,_,u,d;if(void 0!==s.sourceIndex){if(c=a[s.sourceIndex],void 0===c){const e=n.sources[s.sourceIndex],t=n.sourceRoot?zo(n.sourceRoot,e):e,i=zo(Io(r),t);a[s.sourceIndex]=c=P(i),n.sourcesContent&&"string"==typeof n.sourcesContent[s.sourceIndex]&&A(c,n.sourcesContent[s.sourceIndex])}_=s.sourceLine,u=s.sourceCharacter,n.names&&void 0!==s.nameIndex&&(l||(l=[]),d=l[s.nameIndex],void 0===d&&(l[s.nameIndex]=d=I(n.names[s.nameIndex])))}const p=s.generatedLine-(i?i.line:0),f=p+e,m=i&&i.line===s.generatedLine?s.generatedCharacter-i.character:s.generatedCharacter;O(f,0===p?m+t:m,c,_,u,d)}c()},toJSON:M,toString:()=>JSON.stringify(M())};function P(t){s();const n=ua(r,t,e.getCurrentDirectory(),e.getCanonicalFileName,!0);let i=u.get(n);return void 0===i&&(i=_.length,_.push(n),l.push(t),u.set(n,i)),c(),i}function A(e,t){if(s(),null!==t){for(o||(o=[]);o.length<e;)o.push(null);o[e]=t}c()}function I(e){s(),a||(a=new Map);let t=a.get(e);return void 0===t&&(t=d.length,d.push(e),a.set(e,t)),c(),t}function O(e,t,n,r,i,o){fn.assert(e>=k,"generatedLine cannot backtrack"),fn.assert(t>=0,"generatedCharacter cannot be negative"),fn.assert(void 0===n||n>=0,"sourceIndex cannot be negative"),fn.assert(void 0===r||r>=0,"sourceLine cannot be negative"),fn.assert(void 0===i||i>=0,"sourceCharacter cannot be negative"),s(),(function(e,t){return!N||k!==e||S!==t}(e,t)||function(e,t,n){return void 0!==e&&void 0!==t&&void 0!==n&&T===e&&(C>t||C===t&&w>n)}(n,r,i))&&(j(),k=e,S=t,F=!1,E=!1,N=!0),void 0!==n&&void 0!==r&&void 0!==i&&(T=n,C=r,w=i,F=!0,void 0!==o&&(D=o,E=!0)),c()}function L(e){p.push(e),p.length>=1024&&R()}function j(){if(N&&(!x||m!==k||g!==S||h!==T||y!==C||v!==w||b!==D)){if(s(),m<k){do{L(59),m++}while(m<k);g=0}else fn.assertEqual(m,k,"generatedLine cannot backtrack"),x&&L(44);B(S-g),g=S,F&&(B(T-h),h=T,B(C-y),y=C,B(w-v),v=w,E&&(B(D-b),b=D)),x=!0,c()}}function R(){p.length>0&&(f+=String.fromCharCode.apply(void 0,p),p.length=0)}function M(){return j(),R(),{version:3,file:t,sourceRoot:n,sources:_,names:d,mappings:f,sourcesContent:o}}function B(e){e<0?e=1+(-e<<1):e<<=1;do{let t=31&e;(e>>=5)>0&&(t|=32),L(RJ(t))}while(e>0)}}var DJ=/\/\/[@#] source[M]appingURL=(.+)\r?\n?$/,NJ=/^\/\/[@#] source[M]appingURL=(.+)\r?\n?$/,FJ=/^\s*(\/\/[@#] .*)?$/;function EJ(e,t){return{getLineCount:()=>t.length,getLineText:n=>e.substring(t[n],t[n+1])}}function PJ(e){for(let t=e.getLineCount()-1;t>=0;t--){const n=e.getLineText(t),r=NJ.exec(n);if(r)return r[1].trimEnd();if(!n.match(FJ))break}}function AJ(e){return"string"==typeof e||null===e}function IJ(e){try{const n=JSON.parse(e);if(null!==(t=n)&&"object"==typeof t&&3===t.version&&"string"==typeof t.file&&"string"==typeof t.mappings&&et(t.sources)&&x(t.sources,nt)&&(void 0===t.sourceRoot||null===t.sourceRoot||"string"==typeof t.sourceRoot)&&(void 0===t.sourcesContent||null===t.sourcesContent||et(t.sourcesContent)&&x(t.sourcesContent,AJ))&&(void 0===t.names||null===t.names||et(t.names)&&x(t.names,nt)))return n}catch(n){}var t}function OJ(e){let t,n=!1,r=0,i=0,o=0,a=0,s=0,c=0,l=0;return{get pos(){return r},get error(){return t},get state(){return _(!0,!0)},next(){for(;!n&&r<e.length;){const t=e.charCodeAt(r);if(59===t){i++,o=0,r++;continue}if(44===t){r++;continue}let d=!1,h=!1;if(o+=g(),f())return u();if(o<0)return p("Invalid generatedCharacter found");if(!m()){if(d=!0,a+=g(),f())return u();if(a<0)return p("Invalid sourceIndex found");if(m())return p("Unsupported Format: No entries after sourceIndex");if(s+=g(),f())return u();if(s<0)return p("Invalid sourceLine found");if(m())return p("Unsupported Format: No entries after sourceLine");if(c+=g(),f())return u();if(c<0)return p("Invalid sourceCharacter found");if(!m()){if(h=!0,l+=g(),f())return u();if(l<0)return p("Invalid nameIndex found");if(!m())return p("Unsupported Error Format: Entries after nameIndex")}}return{value:_(d,h),done:n}}return u()},[Symbol.iterator](){return this}};function _(e,t){return{generatedLine:i,generatedCharacter:o,sourceIndex:e?a:void 0,sourceLine:e?s:void 0,sourceCharacter:e?c:void 0,nameIndex:t?l:void 0}}function u(){return n=!0,{value:void 0,done:!0}}function d(e){void 0===t&&(t=e)}function p(e){return d(e),u()}function f(){return void 0!==t}function m(){return r===e.length||44===e.charCodeAt(r)||59===e.charCodeAt(r)}function g(){let t=!0,n=0,i=0;for(;t;r++){if(r>=e.length)return d("Error in decoding base64VLQFormatDecode, past the mapping string"),-1;const o=MJ(e.charCodeAt(r));if(-1===o)return d("Invalid character in VLQ"),-1;t=!!(32&o),i|=(31&o)<<n,n+=5}return 1&i?(i>>=1,i=-i):i>>=1,i}}function LJ(e,t){return e===t||e.generatedLine===t.generatedLine&&e.generatedCharacter===t.generatedCharacter&&e.sourceIndex===t.sourceIndex&&e.sourceLine===t.sourceLine&&e.sourceCharacter===t.sourceCharacter&&e.nameIndex===t.nameIndex}function jJ(e){return void 0!==e.sourceIndex&&void 0!==e.sourceLine&&void 0!==e.sourceCharacter}function RJ(e){return e>=0&&e<26?65+e:e>=26&&e<52?97+e-26:e>=52&&e<62?48+e-52:62===e?43:63===e?47:fn.fail(`${e}: not a base64 value`)}function MJ(e){return e>=65&&e<=90?e-65:e>=97&&e<=122?e-97+26:e>=48&&e<=57?e-48+52:43===e?62:47===e?63:-1}function BJ(e){return void 0!==e.sourceIndex&&void 0!==e.sourcePosition}function JJ(e,t){return e.generatedPosition===t.generatedPosition&&e.sourceIndex===t.sourceIndex&&e.sourcePosition===t.sourcePosition}function zJ(e,t){return fn.assert(e.sourceIndex===t.sourceIndex),kt(e.sourcePosition,t.sourcePosition)}function qJ(e,t){return kt(e.generatedPosition,t.generatedPosition)}function VJ(e){return e.sourcePosition}function UJ(e){return e.generatedPosition}function WJ(e,t,n){const r=Io(n),i=t.sourceRoot?Uo(t.sourceRoot,r):r,o=Uo(t.file,r),a=e.getSourceFileLike(o),s=t.sources.map(e=>Uo(e,i)),c=new Map(s.map((t,n)=>[e.getCanonicalFileName(t),n]));let l,_,d;return{getSourcePosition:function(e){const t=function(){if(void 0===_){const e=[];for(const t of f())e.push(t);_=re(e,qJ,JJ)}return _}();if(!K(t))return e;let n=Ne(t,e.pos,UJ,kt);n<0&&(n=~n);const r=t[n];return void 0!==r&&BJ(r)?{fileName:s[r.sourceIndex],pos:r.sourcePosition}:e},getGeneratedPosition:function(t){const n=c.get(e.getCanonicalFileName(t.fileName));if(void 0===n)return t;const r=function(e){if(void 0===d){const e=[];for(const t of f()){if(!BJ(t))continue;let n=e[t.sourceIndex];n||(e[t.sourceIndex]=n=[]),n.push(t)}d=e.map(e=>re(e,zJ,JJ))}return d[e]}(n);if(!K(r))return t;let i=Ne(r,t.pos,VJ,kt);i<0&&(i=~i);const a=r[i];return void 0===a||a.sourceIndex!==n?t:{fileName:o,pos:a.generatedPosition}}};function p(n){const r=void 0!==a?Ja(a,n.generatedLine,n.generatedCharacter,!0):-1;let i,o;if(jJ(n)){const r=e.getSourceFileLike(s[n.sourceIndex]);i=t.sources[n.sourceIndex],o=void 0!==r?Ja(r,n.sourceLine,n.sourceCharacter,!0):-1}return{generatedPosition:r,source:i,sourceIndex:n.sourceIndex,sourcePosition:o,nameIndex:n.nameIndex}}function f(){if(void 0===l){const n=OJ(t.mappings),r=Re(n,p);void 0!==n.error?(e.log&&e.log(`Encountered error while decoding sourcemap: ${n.error}`),l=u):l=r}return l}}var $J={getSourcePosition:_t,getGeneratedPosition:_t};function HJ(e){return(e=mc(e))?rJ(e):0}function KJ(e){return!!e&&!(!CE(e)&&!FE(e))&&K(e.elements,GJ)}function GJ(e){return Zd(e.propertyName||e.name)}function XJ(e,t){return function(n){return 307===n.kind?t(n):function(n){return e.factory.createBundle(A(n.sourceFiles,t))}(n)}}function QJ(e){return!!Dg(e)}function ZJ(e){if(Dg(e))return!0;const t=e.importClause&&e.importClause.namedBindings;if(!t)return!1;if(!CE(t))return!1;let n=0;for(const r of t.elements)GJ(r)&&n++;return n>0&&n!==t.elements.length||!!(t.elements.length-n)&&Ng(e)}function YJ(e){return!ZJ(e)&&(Ng(e)||!!e.importClause&&CE(e.importClause.namedBindings)&&KJ(e.importClause.namedBindings))}function ez(e,t){const n=e.getEmitResolver(),r=e.getCompilerOptions(),i=[],o=new iz,a=[],s=new Map,c=new Set;let l,_,u=!1,d=!1,p=!1,f=!1;for(const y of t.statements)switch(y.kind){case 272:i.push(y),!p&&ZJ(y)&&(p=!0),!f&&YJ(y)&&(f=!0);break;case 271:283===y.moduleReference.kind&&i.push(y);break;case 278:if(y.moduleSpecifier)if(y.exportClause)if(i.push(y),FE(y.exportClause))g(y),f||(f=KJ(y.exportClause));else{const e=y.exportClause.name,t=Xd(e);s.get(t)||(nz(a,HJ(y),e),s.set(t,!0),l=se(l,e)),p=!0}else i.push(y),d=!0;else g(y);break;case 277:y.isExportEquals&&!_&&(_=y);break;case 243:if(Av(y,32))for(const e of y.declarationList.declarations)l=tz(e,s,l,a);break;case 262:Av(y,32)&&h(y,void 0,Av(y,2048));break;case 263:if(Av(y,32))if(Av(y,2048))u||(nz(a,HJ(y),e.factory.getDeclarationName(y)),u=!0);else{const e=y.name;e&&!s.get(xc(e))&&(nz(a,HJ(y),e),s.set(xc(e),!0),l=se(l,e))}}const m=DA(e.factory,e.getEmitHelperFactory(),t,r,d,p,f);return m&&i.unshift(m),{externalImports:i,exportSpecifiers:o,exportEquals:_,hasExportStarsToExportValues:d,exportedBindings:a,exportedNames:l,exportedFunctions:c,externalHelpersImportDeclaration:m};function g(e){for(const t of ot(e.exportClause,FE).elements){const r=Xd(t.name);if(!s.get(r)){const i=t.propertyName||t.name;if(11!==i.kind){e.moduleSpecifier||o.add(i,t);const r=n.getReferencedImportDeclaration(i)||n.getReferencedValueDeclaration(i);if(r){if(262===r.kind){h(r,t.name,Zd(t.name));continue}nz(a,HJ(r),t.name)}}s.set(r,!0),l=se(l,t.name)}}}function h(t,n,r){if(c.add(mc(t,aE)),r)u||(nz(a,HJ(t),null!=n?n:e.factory.getDeclarationName(t)),u=!0);else{null!=n||(n=t.name);const e=Xd(n);s.get(e)||(nz(a,HJ(t),n),s.set(e,!0))}}}function tz(e,t,n,r){if(D_(e.name))for(const i of e.name.elements)NF(i)||(n=tz(i,t,n,r));else if(!Xl(e.name)){const i=xc(e.name);t.get(i)||(t.set(i,!0),n=se(n,e.name),dA(e.name)&&nz(r,HJ(e),e.name))}return n}function nz(e,t,n){let r=e[t];return r?r.push(n):e[t]=r=[n],r}var rz=class e{constructor(){this._map=new Map}get size(){return this._map.size}has(t){return this._map.has(e.toKey(t))}get(t){return this._map.get(e.toKey(t))}set(t,n){return this._map.set(e.toKey(t),n),this}delete(t){var n,r;return null!=(n=null==(r=this._map)?void 0:r.delete(e.toKey(t)))&&n}clear(){this._map.clear()}values(){return this._map.values()}static toKey(t){if(Ql(t)||Xl(t)){const n=t.emitNode.autoGenerate;if(4==(7&n.flags)){const r=cI(t),i=hl(r)&&r!==t?e.toKey(r):`(generated@${rJ(r)})`;return uI(!1,n.prefix,i,n.suffix,e.toKey)}{const t=`(auto@${n.id})`;return uI(!1,n.prefix,t,n.suffix,e.toKey)}}return nN(t)?xc(t).slice(1):xc(t)}},iz=class extends rz{add(e,t){let n=this.get(e);return n?n.push(t):this.set(e,n=[t]),n}remove(e,t){const n=this.get(e);n&&(Ht(n,t),n.length||this.delete(e))}};function oz(e){return zu(e)||9===e.kind||Fh(e.kind)||tN(e)}function az(e){return!tN(e)&&oz(e)}function sz(e){return e>=65&&e<=79}function cz(e){switch(e){case 65:return 40;case 66:return 41;case 67:return 42;case 68:return 43;case 69:return 44;case 70:return 45;case 71:return 48;case 72:return 49;case 73:return 50;case 74:return 51;case 75:return 52;case 79:return 53;case 76:return 57;case 77:return 56;case 78:return 61}}function lz(e){if(!qF(e))return;const t=_h(e.expression);return pf(t)?t:void 0}function _z(e,t,n){for(let r=t;r<e.length;r+=1){const t=e[r];if(lz(t))return n.unshift(r),!0;if(nE(t)&&_z(t.tryBlock.statements,0,n))return n.unshift(r),!0}return!1}function uz(e,t){const n=[];return _z(e,t,n),n}function dz(e,t,n){return F(e.members,e=>function(e,t,n){return kN(e)&&(!!e.initializer||!t)&&Ov(e)===n}(e,t,n))}function pz(e){return kN(t=e)&&Ov(t)||CN(e);var t}function fz(e){return F(e.members,pz)}function mz(e){return 172===e.kind&&void 0!==e.initializer}function gz(e){return!Iv(e)&&(b_(e)||y_(e))&&nN(e.name)}function hz(e){let t;if(e){const n=e.parameters,r=n.length>0&&dv(n[0]),i=r?1:0,o=r?n.length-1:n.length;for(let e=0;e<o;e++){const r=n[e+i];(t||Jv(r))&&(t||(t=new Array(o)),t[e]=Ac(r))}}return t}function yz(e,t){const n=Ac(e),r=t?hz(cv(e)):void 0;if(K(n)||K(r))return{decorators:n,parameters:r}}function vz(e,t,n){switch(e.kind){case 177:case 178:return n?function(e,t){if(!e.body)return;const{firstAccessor:n,secondAccessor:r,getAccessor:i,setAccessor:o}=hv(t.members,e),a=Jv(n)?n:r&&Jv(r)?r:void 0;if(!a||e!==a)return;const s=Ac(a),c=hz(o);return K(s)||K(c)?{decorators:s,parameters:c,getDecorators:i&&Ac(i),setDecorators:o&&Ac(o)}:void 0}(e,t):bz(e,!1);case 174:return bz(e,n);case 172:return function(e){const t=Ac(e);if(K(t))return{decorators:t}}(e);default:return}}function bz(e,t){if(!e.body)return;const n=Ac(e),r=t?hz(e):void 0;return K(n)||K(r)?{decorators:n,parameters:r}:void 0}function xz(e){return{data:e}}function kz(e,t){var n,r;return Ql(t)?null==(n=null==e?void 0:e.generatedIdentifiers)?void 0:n.get(cI(t)):null==(r=null==e?void 0:e.identifiers)?void 0:r.get(t.escapedText)}function Sz(e,t,n){Ql(t)?(null!=e.generatedIdentifiers||(e.generatedIdentifiers=new Map),e.generatedIdentifiers.set(cI(t),n)):(null!=e.identifiers||(e.identifiers=new Map),e.identifiers.set(t.escapedText,n))}function Tz(e,t){return function(e,t){for(;e;){const n=t(e);if(void 0!==n)return n;e=e.previous}}(e,e=>kz(e.privateEnv,t))}function Cz(e){return!e.initializer&&tN(e.name)}function wz(e){return x(e,Cz)}function Dz(e,t){if(!e||!MD(e)||!Cg(e.text,t))return e;const n=QS(e.text,nV(e.text,t));return n!==e.text?dw(vI(_w.createStringLiteral(n,e.singleQuote),e),e):e}var Nz=(e=>(e[e.All=0]="All",e[e.ObjectRest=1]="ObjectRest",e))(Nz||{});function Fz(e,t,n,r,i,o){let a,s,c=e;if(lb(e))for(a=e.right;Sb(e.left)||kb(e.left);){if(!lb(a))return fn.checkDefined(pJ(a,t,G_));c=e=a,a=e.right}const l={context:n,level:r,downlevelIteration:!!n.getCompilerOptions().downlevelIteration,hoistTempVariables:!0,emitExpression:_,emitBindingOrAssignment:function(e,r,i,a){fn.assertNode(e,o?tN:G_);const s=o?o(e,r,i):vI(n.factory.createAssignment(fn.checkDefined(pJ(e,t,G_)),r),i);s.original=a,_(s)},createArrayBindingOrAssignmentPattern:e=>function(e,t){return fn.assertEachNode(t,j_),e.createArrayLiteralExpression(A(t,e.converters.convertToArrayAssignmentElement))}(n.factory,e),createObjectBindingOrAssignmentPattern:e=>function(e,t){return fn.assertEachNode(t,O_),e.createObjectLiteralExpression(A(t,e.converters.convertToObjectAssignmentElement))}(n.factory,e),createArrayBindingOrAssignmentElement:Rz,visitor:t};if(a&&(a=pJ(a,t,G_),fn.assert(a),tN(a)&&Ez(e,a.escapedText)||Pz(e)?a=jz(l,a,!1,c):i?a=jz(l,a,!0,c):iy(e)&&(c=a)),Iz(l,e,a,c,lb(e)),a&&i){if(!K(s))return a;s.push(a)}return n.factory.inlineExpressions(s)||n.factory.createOmittedExpression();function _(e){s=se(s,e)}}function Ez(e,t){const n=AA(e);return A_(n)?function(e,t){const n=RA(e);for(const r of n)if(Ez(r,t))return!0;return!1}(n,t):!!tN(n)&&n.escapedText===t}function Pz(e){const t=LA(e);if(t&&hN(t)&&!Ml(t.expression))return!0;const n=AA(e);return!!n&&A_(n)&&!!f(RA(n),Pz)}function Az(e,t,n,r,i,o=!1,a){let s;const c=[],l=[],_={context:n,level:r,downlevelIteration:!!n.getCompilerOptions().downlevelIteration,hoistTempVariables:o,emitExpression:function(e){s=se(s,e)},emitBindingOrAssignment:u,createArrayBindingOrAssignmentPattern:e=>function(e,t){return fn.assertEachNode(t,F_),e.createArrayBindingPattern(t)}(n.factory,e),createObjectBindingOrAssignmentPattern:e=>function(e,t){return fn.assertEachNode(t,iF),e.createObjectBindingPattern(t)}(n.factory,e),createArrayBindingOrAssignmentElement:e=>function(e,t){return e.createBindingElement(void 0,void 0,t)}(n.factory,e),visitor:t};if(iE(e)){let t=PA(e);t&&(tN(t)&&Ez(e,t.escapedText)||Pz(e))&&(t=jz(_,fn.checkDefined(pJ(t,_.visitor,G_)),!1,t),e=n.factory.updateVariableDeclaration(e,e.name,void 0,void 0,t))}if(Iz(_,e,i,e,a),s){const e=n.factory.createTempVariable(void 0);if(o){const t=n.factory.inlineExpressions(s);s=void 0,u(e,t,void 0,void 0)}else{n.hoistVariableDeclaration(e);const t=ke(c);t.pendingExpressions=se(t.pendingExpressions,n.factory.createAssignment(e,t.value)),_e(t.pendingExpressions,s),t.value=e}}for(const{pendingExpressions:d,name:p,value:f,location:m,original:g}of c){const e=n.factory.createVariableDeclaration(p,void 0,void 0,d?n.factory.inlineExpressions(se(d,f)):f);e.original=g,vI(e,m),l.push(e)}return l;function u(e,t,r,i){fn.assertNode(e,s_),s&&(t=n.factory.inlineExpressions(se(s,t)),s=void 0),c.push({pendingExpressions:s,name:e,value:t,location:r,original:i})}}function Iz(e,t,n,r,i){const o=AA(t);if(!i){const i=pJ(PA(t),e.visitor,G_);i?n?(n=function(e,t,n,r){return t=jz(e,t,!0,r),e.context.factory.createConditionalExpression(e.context.factory.createTypeCheck(t,"undefined"),void 0,n,void 0,t)}(e,n,i,r),!az(i)&&A_(o)&&(n=jz(e,n,!0,r))):n=i:n||(n=e.context.factory.createVoidZero())}I_(o)?function(e,t,n,r,i){const o=RA(n),a=o.length;let s,c;1!==a&&(r=jz(e,r,!E_(t)||0!==a,i));for(let l=0;l<a;l++){const t=o[l];if(IA(t)){if(l===a-1){s&&(e.emitBindingOrAssignment(e.createObjectBindingOrAssignmentPattern(s),r,i,n),s=void 0);const a=e.context.getEmitHelperFactory().createRestHelper(r,o,c,n);Iz(e,t,a,t)}}else{const o=OA(t);if(!(e.level>=1)||98304&t.transformFlags||98304&AA(t).transformFlags||hN(o)){s&&(e.emitBindingOrAssignment(e.createObjectBindingOrAssignmentPattern(s),r,i,n),s=void 0);const a=Lz(e,r,o);hN(o)&&(c=se(c,a.argumentExpression)),Iz(e,t,a,t)}else s=se(s,pJ(t,e.visitor,P_))}}s&&e.emitBindingOrAssignment(e.createObjectBindingOrAssignmentPattern(s),r,i,n)}(e,t,o,n,r):L_(o)?function(e,t,n,r,i){const o=RA(n),a=o.length;let s,c;e.level<1&&e.downlevelIteration?r=jz(e,vI(e.context.getEmitHelperFactory().createReadHelper(r,a>0&&IA(o[a-1])?void 0:a),i),!1,i):(1!==a&&(e.level<1||0===a)||x(o,NF))&&(r=jz(e,r,!E_(t)||0!==a,i));for(let l=0;l<a;l++){const t=o[l];if(e.level>=1)if(65536&t.transformFlags||e.hasTransformedPriorElement&&!Oz(t)){e.hasTransformedPriorElement=!0;const n=e.context.factory.createTempVariable(void 0);e.hoistTempVariables&&e.context.hoistVariableDeclaration(n),c=se(c,[n,t]),s=se(s,e.createArrayBindingOrAssignmentElement(n))}else s=se(s,t);else{if(NF(t))continue;if(IA(t)){if(l===a-1){const n=e.context.factory.createArraySliceCall(r,l);Iz(e,t,n,t)}}else{const n=e.context.factory.createElementAccessExpression(r,l);Iz(e,t,n,t)}}}if(s&&e.emitBindingOrAssignment(e.createArrayBindingOrAssignmentPattern(s),r,i,n),c)for(const[l,_]of c)Iz(e,_,l,_)}(e,t,o,n,r):e.emitBindingOrAssignment(o,n,r,t)}function Oz(e){const t=AA(e);if(!t||NF(t))return!0;const n=LA(e);if(n&&!Wh(n))return!1;const r=PA(e);return!(r&&!az(r))&&(A_(t)?x(RA(t),Oz):tN(t))}function Lz(e,t,n){const{factory:r}=e.context;if(hN(n)){const r=jz(e,fn.checkDefined(pJ(n.expression,e.visitor,G_)),!1,n);return e.context.factory.createElementAccessExpression(t,r)}if(Jh(n)||RD(n)){const i=r.cloneNode(n);return e.context.factory.createElementAccessExpression(t,i)}{const r=e.context.factory.createIdentifier(xc(n));return e.context.factory.createPropertyAccessExpression(t,r)}}function jz(e,t,n,r){if(tN(t)&&n)return t;{const n=e.context.factory.createTempVariable(void 0);return e.hoistTempVariables?(e.context.hoistVariableDeclaration(n),e.emitExpression(vI(e.context.factory.createAssignment(n,t),r))):e.emitBindingOrAssignment(n,t,r,void 0),n}}function Rz(e){return e}function Mz(e){var t;if(!CN(e)||1!==e.body.statements.length)return!1;const n=e.body.statements[0];return qF(n)&&cb(n.expression,!0)&&tN(n.expression.left)&&(null==(t=e.emitNode)?void 0:t.classThis)===n.expression.left&&110===n.expression.right.kind}function Bz(e){var t;return!!(null==(t=e.emitNode)?void 0:t.classThis)&&K(e.members,Mz)}function Jz(e,t,n,r){if(Bz(t))return t;const i=function(e,t,n=e.createThis()){const r=e.createAssignment(t,n),i=e.createExpressionStatement(r),o=e.createBlock([i],!1),a=e.createClassStaticBlockDeclaration(o);return pw(a).classThis=t,a}(e,n,r);t.name&&xw(i.body.statements[0],t.name);const o=e.createNodeArray([i,...t.members]);vI(o,t.members);const a=sE(t)?e.updateClassDeclaration(t,t.modifiers,t.name,t.typeParameters,t.heritageClauses,o):e.updateClassExpression(t,t.modifiers,t.name,t.typeParameters,t.heritageClauses,o);return pw(a).classThis=n,a}function zz(e,t,n){const r=mc(kA(n));return(sE(r)||aE(r))&&!r.name&&Av(r,2048)?e.createStringLiteral("default"):e.createStringLiteralFromNode(t)}function qz(e,t,n){const{factory:r}=e;if(void 0!==n)return{assignedName:r.createStringLiteral(n),name:t};if(Wh(t)||nN(t))return{assignedName:r.createStringLiteralFromNode(t),name:t};if(Wh(t.expression)&&!tN(t.expression))return{assignedName:r.createStringLiteralFromNode(t.expression),name:t};const i=r.getGeneratedNameForNode(t);e.hoistVariableDeclaration(i);const o=e.getEmitHelperFactory().createPropKeyHelper(t.expression),a=r.createAssignment(i,o);return{assignedName:i,name:r.updateComputedPropertyName(t,a)}}function Vz(e){var t;if(!CN(e)||1!==e.body.statements.length)return!1;const n=e.body.statements[0];return qF(n)&&LD(n.expression,"___setFunctionName")&&n.expression.arguments.length>=2&&n.expression.arguments[1]===(null==(t=e.emitNode)?void 0:t.assignedName)}function Uz(e){var t;return!!(null==(t=e.emitNode)?void 0:t.assignedName)&&K(e.members,Vz)}function Wz(e){return!!e.name||Uz(e)}function $z(e,t,n,r){if(Uz(t))return t;const{factory:i}=e,o=function(e,t,n=e.factory.createThis()){const{factory:r}=e,i=e.getEmitHelperFactory().createSetFunctionNameHelper(n,t),o=r.createExpressionStatement(i),a=r.createBlock([o],!1),s=r.createClassStaticBlockDeclaration(a);return pw(s).assignedName=t,s}(e,n,r);t.name&&xw(o.body.statements[0],t.name);const a=T(t.members,Mz)+1,s=t.members.slice(0,a),c=t.members.slice(a),l=i.createNodeArray([...s,o,...c]);return vI(l,t.members),pw(t=sE(t)?i.updateClassDeclaration(t,t.modifiers,t.name,t.typeParameters,t.heritageClauses,l):i.updateClassExpression(t,t.modifiers,t.name,t.typeParameters,t.heritageClauses,l)).assignedName=n,t}function Hz(e,t,n,r){if(r&&MD(n)&&km(n))return t;const{factory:i}=e,o=kA(t),a=DF(o)?ot($z(e,o,n),DF):e.getEmitHelperFactory().createSetFunctionNameHelper(o,n);return i.restoreOuterExpressions(t,a)}function Kz(e,t,n,r){switch(t.kind){case 303:return function(e,t,n,r){const{factory:i}=e,{assignedName:o,name:a}=qz(e,t.name,r),s=Hz(e,t.initializer,o,n);return i.updatePropertyAssignment(t,a,s)}(e,t,n,r);case 304:return function(e,t,n,r){const{factory:i}=e,o=void 0!==r?i.createStringLiteral(r):zz(i,t.name,t.objectAssignmentInitializer),a=Hz(e,t.objectAssignmentInitializer,o,n);return i.updateShorthandPropertyAssignment(t,t.name,a)}(e,t,n,r);case 260:return function(e,t,n,r){const{factory:i}=e,o=void 0!==r?i.createStringLiteral(r):zz(i,t.name,t.initializer),a=Hz(e,t.initializer,o,n);return i.updateVariableDeclaration(t,t.name,t.exclamationToken,t.type,a)}(e,t,n,r);case 169:return function(e,t,n,r){const{factory:i}=e,o=void 0!==r?i.createStringLiteral(r):zz(i,t.name,t.initializer),a=Hz(e,t.initializer,o,n);return i.updateParameterDeclaration(t,t.modifiers,t.dotDotDotToken,t.name,t.questionToken,t.type,a)}(e,t,n,r);case 208:return function(e,t,n,r){const{factory:i}=e,o=void 0!==r?i.createStringLiteral(r):zz(i,t.name,t.initializer),a=Hz(e,t.initializer,o,n);return i.updateBindingElement(t,t.dotDotDotToken,t.propertyName,t.name,a)}(e,t,n,r);case 172:return function(e,t,n,r){var i;const{factory:o}=e,{assignedName:a,name:s}=qz(e,t.name,r),c=Hz(e,t.initializer,a,n);return o.updatePropertyDeclaration(t,t.modifiers,s,null!=(i=t.questionToken)?i:t.exclamationToken,t.type,c)}(e,t,n,r);case 226:return function(e,t,n,r){const{factory:i}=e,o=void 0!==r?i.createStringLiteral(r):zz(i,t.left,t.right),a=Hz(e,t.right,o,n);return i.updateBinaryExpression(t,t.left,t.operatorToken,a)}(e,t,n,r);case 277:return function(e,t,n,r){const{factory:i}=e,o=void 0!==r?i.createStringLiteral(r):i.createStringLiteral(t.isExportEquals?"":"default"),a=Hz(e,t.expression,o,n);return i.updateExportAssignment(t,t.modifiers,a)}(e,t,n,r)}}var Gz=(e=>(e[e.LiftRestriction=0]="LiftRestriction",e[e.All=1]="All",e))(Gz||{});function Xz(e,t,n,r,i,o){const a=pJ(t.tag,n,G_);fn.assert(a);const s=[void 0],c=[],l=[],_=t.template;if(0===o&&!yy(_))return SJ(t,n,e);const{factory:u}=e;if(zD(_))c.push(Qz(u,_)),l.push(Zz(u,_,r));else{c.push(Qz(u,_.head)),l.push(Zz(u,_.head,r));for(const e of _.templateSpans)c.push(Qz(u,e.literal)),l.push(Zz(u,e.literal,r)),s.push(fn.checkDefined(pJ(e.expression,n,G_)))}const d=e.getEmitHelperFactory().createTemplateObjectHelper(u.createArrayLiteralExpression(c),u.createArrayLiteralExpression(l));if(tO(r)){const e=u.createUniqueName("templateObject");i(e),s[0]=u.createLogicalOr(e,u.createAssignment(e,d))}else s[0]=d;return u.createCallExpression(a,void 0,s)}function Qz(e,t){return 26656&t.templateFlags?e.createVoidZero():e.createStringLiteral(t.text)}function Zz(e,t,n){let r=t.rawText;if(void 0===r){fn.assertIsDefined(n,"Template literal node is missing 'rawText' and does not have a source file. Possibly bad transform."),r=Kd(n,t);const e=15===t.kind||18===t.kind;r=r.substring(1,r.length-(e?1:2))}return r=r.replace(/\r\n?/g,"\n"),vI(e.createStringLiteral(r),t)}function Yz(e){const{factory:t,getEmitHelperFactory:n,startLexicalEnvironment:r,resumeLexicalEnvironment:i,endLexicalEnvironment:o,hoistVariableDeclaration:a}=e,s=e.getEmitResolver(),c=e.getCompilerOptions(),l=Sk(c),_=Tk(c),u=!!c.experimentalDecorators,d=c.emitDecoratorMetadata?nq(e):void 0,p=e.onEmitNode,f=e.onSubstituteNode;let m,g,h,y,v;e.onEmitNode=function(e,t,n){const r=b,i=m;nP(t)&&(m=t),2&x&&function(e){return 267===mc(e).kind}(t)&&(b|=2),8&x&&function(e){return 266===mc(e).kind}(t)&&(b|=8),p(e,t,n),b=r,m=i},e.onSubstituteNode=function(e,n){return n=f(e,n),1===e?function(e){switch(e.kind){case 80:return function(e){return Se(e)||e}(e);case 211:case 212:return function(e){return Te(e)}(e)}return e}(n):YE(n)?function(e){if(2&x){const n=e.name,r=Se(n);if(r){if(e.objectAssignmentInitializer){const i=t.createAssignment(r,e.objectAssignmentInitializer);return vI(t.createPropertyAssignment(n,i),e)}return vI(t.createPropertyAssignment(n,r),e)}}return e}(n):n},e.enableSubstitution(211),e.enableSubstitution(212);let b,x=0;return function(e){return 308===e.kind?function(e){return t.createBundle(e.sourceFiles.map(k))}(e):k(e)};function k(t){if(t.isDeclarationFile)return t;m=t;const n=S(t,M);return Mw(n,e.readEmitHelpers()),m=void 0,n}function S(e,t){const n=y,r=v;!function(e){switch(e.kind){case 307:case 269:case 268:case 241:y=e,v=void 0;break;case 263:case 262:if(Av(e,128))break;e.name?re(e):fn.assert(263===e.kind||Av(e,2048))}}(e);const i=t(e);return y!==n&&(v=r),y=n,i}function T(e){return S(e,C)}function C(e){return 1&e.transformFlags?R(e):e}function w(e){return S(e,D)}function D(n){switch(n.kind){case 272:case 271:case 277:case 278:return function(n){if(function(e){const t=yc(e);if(t===e||DE(e))return!1;if(!t||t.kind!==e.kind)return!0;switch(e.kind){case 272:if(fn.assertNode(t,gE),e.importClause!==t.importClause)return!0;if(e.attributes!==t.attributes)return!0;break;case 271:if(fn.assertNode(t,mE),e.name!==t.name)return!0;if(e.isTypeOnly!==t.isTypeOnly)return!0;if(e.moduleReference!==t.moduleReference&&(o_(e.moduleReference)||o_(t.moduleReference)))return!0;break;case 278:if(fn.assertNode(t,NE),e.exportClause!==t.exportClause)return!0;if(e.attributes!==t.attributes)return!0}return!1}(n))return 1&n.transformFlags?SJ(n,T,e):n;switch(n.kind){case 272:return function(e){if(!e.importClause)return e;if(e.importClause.isTypeOnly)return;const n=pJ(e.importClause,le,hE);return n?t.updateImportDeclaration(e,void 0,n,e.moduleSpecifier,e.attributes):void 0}(n);case 271:return fe(n);case 277:return function(t){return c.verbatimModuleSyntax||s.isValueAliasDeclaration(t)?SJ(t,T,e):void 0}(n);case 278:return function(e){if(e.isTypeOnly)return;if(!e.exportClause||TE(e.exportClause))return t.updateExportDeclaration(e,e.modifiers,e.isTypeOnly,e.exportClause,e.moduleSpecifier,e.attributes);const n=!!c.verbatimModuleSyntax,r=pJ(e.exportClause,e=>function(e,n){return TE(e)?function(e){return t.updateNamespaceExport(e,fn.checkDefined(pJ(e.name,T,tN)))}(e):function(e,n){const r=fJ(e.elements,pe,EE);return n||K(r)?t.updateNamedExports(e,r):void 0}(e,n)}(e,n),Pl);return r?t.updateExportDeclaration(e,void 0,e.isTypeOnly,r,e.moduleSpecifier,e.attributes):void 0}(n);default:fn.fail("Unhandled ellided statement")}}(n);default:return C(n)}}function N(e){return S(e,E)}function E(e){if(278!==e.kind&&272!==e.kind&&273!==e.kind&&(271!==e.kind||283!==e.moduleReference.kind))return 1&e.transformFlags||Av(e,32)?R(e):e}function P(n){return r=>S(r,r=>function(n,r){switch(n.kind){case 176:return function(n){if($(n))return t.updateConstructorDeclaration(n,void 0,yJ(n.parameters,T,e),function(n,r){const a=r&&F(r.parameters,e=>ic(e,r));if(!K(a))return bJ(n,T,e);let s=[];i();const c=t.copyPrologue(n.statements,s,!1,T),l=uz(n.statements,c),_=z(a,G);l.length?H(s,n.statements,c,l,0,_):(_e(s,_),_e(s,fJ(n.statements,T,yu,c))),s=t.mergeLexicalEnvironment(s,o());const u=t.createBlock(vI(t.createNodeArray(s),n.statements),!0);return vI(u,n),dw(u,n),u}(n.body,n))}(n);case 172:return function(e,n){const r=33554432&e.flags||Av(e,64);if(r&&(!u||!Jv(e)))return;let i=g_(n)?fJ(e.modifiers,r?L:T,x_):fJ(e.modifiers,O,x_);return i=V(i,e,n),r?t.updatePropertyDeclaration(e,X(i,t.createModifiersFromModifierFlags(128)),fn.checkDefined(pJ(e.name,T,a_)),void 0,void 0,void 0):t.updatePropertyDeclaration(e,i,W(e),void 0,void 0,pJ(e.initializer,T,G_))}(n,r);case 177:return Y(n,r);case 178:return ee(n,r);case 174:return Q(n,r);case 175:return SJ(n,T,e);case 240:return n;case 181:return;default:return fn.failBadSyntaxKind(n)}}(r,n))}function I(e){return t=>S(t,t=>function(e,t){switch(e.kind){case 303:case 304:case 305:return T(e);case 177:return Y(e,t);case 178:return ee(e,t);case 174:return Q(e,t);default:return fn.failBadSyntaxKind(e)}}(t,e))}function O(e){return bN(e)?void 0:T(e)}function L(e){return i_(e)?void 0:T(e)}function j(e){if(!bN(e)&&!(28895&Zv(e.kind)||g&&95===e.kind))return e}function R(n){if(yu(n)&&Av(n,128))return t.createNotEmittedStatement(n);switch(n.kind){case 95:case 90:return g?void 0:n;case 125:case 123:case 124:case 128:case 164:case 87:case 138:case 148:case 103:case 147:case 188:case 189:case 190:case 191:case 187:case 182:case 168:case 133:case 159:case 136:case 154:case 150:case 146:case 116:case 155:case 185:case 184:case 186:case 183:case 192:case 193:case 194:case 196:case 197:case 198:case 199:case 200:case 201:case 181:case 270:return;case 265:case 264:return t.createNotEmittedStatement(n);case 263:return function(n){var r;const i=function(e){let t=0;K(dz(e,!0,!0))&&(t|=1);const n=kh(e);return n&&106!==kA(n.expression).kind&&(t|=64),bm(u,e)&&(t|=2),vm(u,e)&&(t|=4),me(e)?t|=8:function(e){return ge(e)&&Av(e,2048)}(e)?t|=32:he(e)&&(t|=16),t}(n),o=l<=1&&!!(7&i);if(!function(e){return Jv(e)||K(e.typeParameters)||K(e.heritageClauses,B)||K(e.members,B)}(n)&&!bm(u,n)&&!me(n))return t.updateClassDeclaration(n,fJ(n.modifiers,j,i_),n.name,void 0,fJ(n.heritageClauses,T,XE),fJ(n.members,P(n),m_));o&&e.startLexicalEnvironment();const a=o||8&i;let s=fJ(n.modifiers,a?L:T,x_);2&i&&(s=q(s,n));const c=a&&!n.name||4&i||1&i,_=c?null!=(r=n.name)?r:t.getGeneratedNameForNode(n):n.name,d=t.updateClassDeclaration(n,s,_,void 0,fJ(n.heritageClauses,T,XE),J(n));let p,f=rp(n);if(1&i&&(f|=64),gw(d,f),o){const r=[d],i=qb(ns(m.text,n.members.end),20),o=t.getInternalName(n),a=t.createPartiallyEmittedExpression(o);FT(a,i.end),gw(a,3072);const s=t.createReturnStatement(a);NT(s,i.pos),gw(s,3840),r.push(s),Md(r,e.endLexicalEnvironment());const c=t.createImmediatelyInvokedArrowFunction(r);yw(c,1);const l=t.createVariableDeclaration(t.getLocalName(n,!1,!1),void 0,void 0,c);dw(l,n);const _=t.createVariableStatement(void 0,t.createVariableDeclarationList([l],1));dw(_,n),Dw(_,n),xw(_,Jb(n)),TA(_),p=_}else p=d;if(a){if(8&i)return[p,ye(n)];if(32&i)return[p,t.createExportDefault(t.getLocalName(n,!1,!0))];if(16&i)return[p,t.createExternalModuleExport(t.getDeclarationName(n,!1,!0))]}return p}(n);case 231:return function(e){let n=fJ(e.modifiers,L,x_);return bm(u,e)&&(n=q(n,e)),t.updateClassExpression(e,n,e.name,void 0,fJ(e.heritageClauses,T,XE),J(e))}(n);case 298:return function(t){if(119!==t.token)return SJ(t,T,e)}(n);case 233:return function(e){return t.updateExpressionWithTypeArguments(e,fn.checkDefined(pJ(e.expression,T,V_)),void 0)}(n);case 210:return function(e){return t.updateObjectLiteralExpression(e,fJ(e.properties,I(e),T_))}(n);case 176:case 172:case 174:case 177:case 178:case 175:return fn.fail("Class and object literal elements must be visited with their respective visitors");case 262:return function(n){if(!$(n))return t.createNotEmittedStatement(n);const r=t.updateFunctionDeclaration(n,fJ(n.modifiers,j,i_),n.asteriskToken,n.name,void 0,yJ(n.parameters,T,e),void 0,bJ(n.body,T,e)||t.createBlock([]));if(me(n)){const e=[r];return function(e,t){e.push(ye(t))}(e,n),e}return r}(n);case 218:return function(n){if(!$(n))return t.createOmittedExpression();const r=t.updateFunctionExpression(n,fJ(n.modifiers,j,i_),n.asteriskToken,n.name,void 0,yJ(n.parameters,T,e),void 0,bJ(n.body,T,e)||t.createBlock([]));return r}(n);case 219:return function(n){const r=t.updateArrowFunction(n,fJ(n.modifiers,j,i_),void 0,yJ(n.parameters,T,e),void 0,n.equalsGreaterThanToken,bJ(n.body,T,e));return r}(n);case 169:return function(e){if(dv(e))return;const n=t.updateParameterDeclaration(e,fJ(e.modifiers,e=>bN(e)?T(e):void 0,x_),e.dotDotDotToken,fn.checkDefined(pJ(e.name,T,s_)),void 0,void 0,pJ(e.initializer,T,G_));return n!==e&&(Dw(n,e),vI(n,zb(e)),xw(n,zb(e)),gw(n.name,64)),n}(n);case 217:return function(n){const r=kA(n.expression,-55);if(X_(r)||PF(r)){const e=pJ(n.expression,T,G_);return fn.assert(e),t.createPartiallyEmittedExpression(e,n)}return SJ(n,T,e)}(n);case 216:case 234:return function(e){const n=pJ(e.expression,T,G_);return fn.assert(n),t.createPartiallyEmittedExpression(n,e)}(n);case 238:return function(e){const n=pJ(e.expression,T,G_);return fn.assert(n),t.createPartiallyEmittedExpression(n,e)}(n);case 213:return function(e){return t.updateCallExpression(e,fn.checkDefined(pJ(e.expression,T,G_)),void 0,fJ(e.arguments,T,G_))}(n);case 214:return function(e){return t.updateNewExpression(e,fn.checkDefined(pJ(e.expression,T,G_)),void 0,fJ(e.arguments,T,G_))}(n);case 215:return function(e){return t.updateTaggedTemplateExpression(e,fn.checkDefined(pJ(e.tag,T,G_)),void 0,fn.checkDefined(pJ(e.template,T,q_)))}(n);case 235:return function(e){const n=pJ(e.expression,T,V_);return fn.assert(n),t.createPartiallyEmittedExpression(n,e)}(n);case 266:return function(e){if(!function(e){return!af(e)||Ok(c)}(e))return t.createNotEmittedStatement(e);const n=[];let i=4;const a=oe(n,e);a&&(4===_&&y===m||(i|=1024));const s=xe(e),l=ke(e),u=me(e)?t.getExternalModuleOrNamespaceExportName(h,e,!1,!0):t.getDeclarationName(e,!1,!0);let d=t.createLogicalOr(u,t.createAssignment(u,t.createObjectLiteralExpression()));if(me(e)){const n=t.getLocalName(e,!1,!0);d=t.createAssignment(n,d)}const p=t.createExpressionStatement(t.createCallExpression(t.createFunctionExpression(void 0,void 0,void 0,void 0,[t.createParameterDeclaration(void 0,void 0,s)],void 0,function(e,n){const i=h;h=n;const a=[];r();const s=A(e.members,ne);return Md(a,o()),_e(a,s),h=i,t.createBlock(vI(t.createNodeArray(a),e.members),!0)}(e,l)),void 0,[d]));return dw(p,e),a&&(Fw(p,void 0),Aw(p,void 0)),vI(p,e),hw(p,i),n.push(p),n}(n);case 243:return function(n){if(me(n)){const e=ix(n.declarationList);if(0===e.length)return;return vI(t.createExpressionStatement(t.inlineExpressions(A(e,te))),n)}return SJ(n,T,e)}(n);case 260:return function(e){const n=t.updateVariableDeclaration(e,fn.checkDefined(pJ(e.name,T,s_)),void 0,void 0,pJ(e.initializer,T,G_));return e.type&&Ww(n.name,e.type),n}(n);case 267:return ae(n);case 271:return fe(n);case 285:return function(e){return t.updateJsxSelfClosingElement(e,fn.checkDefined(pJ(e.tagName,T,xu)),void 0,fn.checkDefined(pJ(e.attributes,T,UE)))}(n);case 286:return function(e){return t.updateJsxOpeningElement(e,fn.checkDefined(pJ(e.tagName,T,xu)),void 0,fn.checkDefined(pJ(e.attributes,T,UE)))}(n);default:return SJ(n,T,e)}}function M(n){const r=Wk(c,"alwaysStrict")&&!(tO(n)&&_>=5)&&!of(n);return t.updateSourceFile(n,hJ(n.statements,w,e,0,r))}function B(e){return!!(8192&e.transformFlags)}function J(e){const n=fJ(e.members,P(e),m_);let r;const i=cv(e),o=i&&F(i.parameters,e=>ic(e,i));if(o)for(const a of o){const e=t.createPropertyDeclaration(void 0,a.name,void 0,void 0,void 0);dw(e,a),r=se(r,e)}return r?(r=_e(r,n),vI(t.createNodeArray(r),e.members)):n}function q(e,n){const r=U(n,n);if(K(r)){const n=[];_e(n,un(e,aI)),_e(n,F(e,bN)),_e(n,r),_e(n,F(dn(e,aI),i_)),e=vI(t.createNodeArray(n),e)}return e}function V(e,n,r){if(g_(r)&&xm(u,n,r)){const i=U(n,r);if(K(i)){const n=[];_e(n,F(e,bN)),_e(n,i),_e(n,F(e,i_)),e=vI(t.createNodeArray(n),e)}}return e}function U(e,r){if(u)return function(e,r){if(d){let i;if(function(e){const t=e.kind;return 174===t||177===t||178===t||172===t}(e)){const o=n().createMetadataHelper("design:type",d.serializeTypeOfNode({currentLexicalScope:y,currentNameScope:r},e,r));i=se(i,t.createDecorator(o))}if(function(e){switch(e.kind){case 263:case 231:return void 0!==cv(e);case 174:case 177:case 178:return!0}return!1}(e)){const o=n().createMetadataHelper("design:paramtypes",d.serializeParameterTypesOfNode({currentLexicalScope:y,currentNameScope:r},e,r));i=se(i,t.createDecorator(o))}if(function(e){return 174===e.kind}(e)){const o=n().createMetadataHelper("design:returntype",d.serializeReturnTypeOfNode({currentLexicalScope:y,currentNameScope:r},e));i=se(i,t.createDecorator(o))}return i}}(e,r)}function W(e){const n=e.name;if(u&&hN(n)&&Jv(e)){const e=pJ(n.expression,T,G_);if(fn.assert(e),!az(Nl(e))){const r=t.getGeneratedNameForNode(n);return a(r),t.updateComputedPropertyName(n,t.createAssignment(r,e))}}return fn.checkDefined(pJ(n,T,a_))}function $(e){return!Pd(e.body)}function H(e,n,r,i,o,a){const s=i[o],c=n[s];if(_e(e,fJ(n,T,yu,r,s-r)),nE(c)){const n=[];H(n,c.tryBlock.statements,0,i,o+1,a),vI(t.createNodeArray(n),c.tryBlock.statements),e.push(t.updateTryStatement(c,t.updateBlock(c.tryBlock,n),pJ(c.catchClause,T,QE),pJ(c.finallyBlock,T,BF)))}else _e(e,fJ(n,T,yu,s,1)),_e(e,a);_e(e,fJ(n,T,yu,s+1))}function G(e){const n=e.name;if(!tN(n))return;const r=IT(vI(t.cloneNode(n),n),n.parent);gw(r,3168);const i=IT(vI(t.cloneNode(n),n),n.parent);return gw(i,3072),TA(mw(vI(dw(t.createExpressionStatement(t.createAssignment(vI(t.createPropertyAccessExpression(t.createThis(),r),e.name),i)),e),Bb(e,-1))))}function Q(n,r){if(!(1&n.transformFlags))return n;if(!$(n))return;let i=g_(r)?fJ(n.modifiers,T,x_):fJ(n.modifiers,O,x_);return i=V(i,n,r),t.updateMethodDeclaration(n,i,n.asteriskToken,W(n),void 0,void 0,yJ(n.parameters,T,e),void 0,bJ(n.body,T,e))}function Z(e){return!(Pd(e.body)&&Av(e,64))}function Y(n,r){if(!(1&n.transformFlags))return n;if(!Z(n))return;let i=g_(r)?fJ(n.modifiers,T,x_):fJ(n.modifiers,O,x_);return i=V(i,n,r),t.updateGetAccessorDeclaration(n,i,W(n),yJ(n.parameters,T,e),void 0,bJ(n.body,T,e)||t.createBlock([]))}function ee(n,r){if(!(1&n.transformFlags))return n;if(!Z(n))return;let i=g_(r)?fJ(n.modifiers,T,x_):fJ(n.modifiers,O,x_);return i=V(i,n,r),t.updateSetAccessorDeclaration(n,i,W(n),yJ(n.parameters,T,e),bJ(n.body,T,e)||t.createBlock([]))}function te(n){const r=n.name;return D_(r)?Fz(n,T,e,0,!1,ve):vI(t.createAssignment(be(r),fn.checkDefined(pJ(n.initializer,T,G_))),n)}function ne(n){const r=function(e){const n=e.name;return nN(n)?t.createIdentifier(""):hN(n)?n.expression:tN(n)?t.createStringLiteral(xc(n)):t.cloneNode(n)}(n),i=s.getEnumMemberValue(n),o=function(n,r){return void 0!==r?"string"==typeof r?t.createStringLiteral(r):r<0?t.createPrefixUnaryExpression(41,t.createNumericLiteral(-r)):t.createNumericLiteral(r):(8&x||(x|=8,e.enableSubstitution(80)),n.initializer?fn.checkDefined(pJ(n.initializer,T,G_)):t.createVoidZero())}(n,null==i?void 0:i.value),a=t.createAssignment(t.createElementAccessExpression(h,r),o),c="string"==typeof(null==i?void 0:i.value)||(null==i?void 0:i.isSyntacticallyString)?a:t.createAssignment(t.createElementAccessExpression(h,a),r);return vI(t.createExpressionStatement(vI(c,n)),n)}function re(e){v||(v=new Map);const t=ie(e);v.has(t)||v.set(t,e)}function ie(e){return fn.assertNode(e.name,tN),e.name.escapedText}function oe(e,n){const r=t.createVariableDeclaration(t.getLocalName(n,!1,!0)),i=307===y.kind?0:1,o=t.createVariableStatement(fJ(n.modifiers,j,i_),t.createVariableDeclarationList([r],i));return dw(r,n),Fw(r,void 0),Aw(r,void 0),dw(o,n),re(n),!!function(e){if(v){const t=ie(e);return v.get(t)===e}return!0}(n)&&(266===n.kind?xw(o.declarationList,n):xw(o,n),Dw(o,n),hw(o,2048),e.push(o),!0)}function ae(n){if(!function(e){const t=yc(e,uE);return!t||oJ(t,Ok(c))}(n))return t.createNotEmittedStatement(n);fn.assertNode(n.name,tN,"A TypeScript namespace should have an Identifier name."),2&x||(x|=2,e.enableSubstitution(80),e.enableSubstitution(304),e.enableEmitNotification(267));const i=[];let a=4;const s=oe(i,n);s&&(4===_&&y===m||(a|=1024));const l=xe(n),u=ke(n),d=me(n)?t.getExternalModuleOrNamespaceExportName(h,n,!1,!0):t.getDeclarationName(n,!1,!0);let p=t.createLogicalOr(d,t.createAssignment(d,t.createObjectLiteralExpression()));if(me(n)){const e=t.getLocalName(n,!1,!0);p=t.createAssignment(e,p)}const f=t.createExpressionStatement(t.createCallExpression(t.createFunctionExpression(void 0,void 0,void 0,void 0,[t.createParameterDeclaration(void 0,void 0,l)],void 0,function(e,n){const i=h,a=g,s=v;h=n,g=e,v=void 0;const c=[];let l,_;if(r(),e.body)if(268===e.body.kind)S(e.body,e=>_e(c,fJ(e.statements,N,yu))),l=e.body.statements,_=e.body;else{const t=ae(e.body);t&&(et(t)?_e(c,t):c.push(t)),l=Bb(ce(e).body.statements,-1)}Md(c,o()),h=i,g=a,v=s;const u=t.createBlock(vI(t.createNodeArray(c),l),!0);return vI(u,_),e.body&&268===e.body.kind||gw(u,3072|rp(u)),u}(n,u)),void 0,[p]));return dw(f,n),s&&(Fw(f,void 0),Aw(f,void 0)),vI(f,n),hw(f,a),i.push(f),i}function ce(e){if(267===e.body.kind)return ce(e.body)||e.body}function le(e){fn.assert(!e.isTypeOnly);const n=Ce(e)?e.name:void 0,r=pJ(e.namedBindings,ue,lu);return n||r?t.updateImportClause(e,!1,n,r):void 0}function ue(e){if(274===e.kind)return Ce(e)?e:void 0;{const n=c.verbatimModuleSyntax,r=fJ(e.elements,de,wE);return n||K(r)?t.updateNamedImports(e,r):void 0}}function de(e){return!e.isTypeOnly&&Ce(e)?e:void 0}function pe(e){return e.isTypeOnly||!c.verbatimModuleSyntax&&!s.isValueAliasDeclaration(e)?void 0:e}function fe(n){if(n.isTypeOnly)return;if(Nm(n)){if(!Ce(n))return;return SJ(n,T,e)}if(!function(e){return Ce(e)||!tO(m)&&s.isTopLevelValueImportEqualsWithEntityName(e)}(n))return;const r=sA(t,n.moduleReference);return gw(r,7168),he(n)||!me(n)?dw(vI(t.createVariableStatement(fJ(n.modifiers,j,i_),t.createVariableDeclarationList([dw(t.createVariableDeclaration(n.name,void 0,void 0,r),n)])),n),n):dw((i=n.name,o=r,a=n,vI(t.createExpressionStatement(t.createAssignment(t.getNamespaceMemberName(h,i,!1,!0),o)),a)),n);var i,o,a}function me(e){return void 0!==g&&Av(e,32)}function ge(e){return void 0===g&&Av(e,32)}function he(e){return ge(e)&&!Av(e,2048)}function ye(e){const n=t.createAssignment(t.getExternalModuleOrNamespaceExportName(h,e,!1,!0),t.getLocalName(e));xw(n,Rb(e.name?e.name.pos:e.pos,e.end));const r=t.createExpressionStatement(n);return xw(r,Rb(-1,e.end)),r}function ve(e,n,r){return vI(t.createAssignment(be(e),n),r)}function be(e){return t.getNamespaceMemberName(h,e,!1,!0)}function xe(e){const n=t.getGeneratedNameForNode(e);return xw(n,e.name),n}function ke(e){return t.getGeneratedNameForNode(e)}function Se(e){if(x&b&&!Xl(e)&&!dA(e)){const n=s.getReferencedExportContainer(e,!1);if(n&&307!==n.kind&&(2&b&&267===n.kind||8&b&&266===n.kind))return vI(t.createPropertyAccessExpression(t.getGeneratedNameForNode(n),e),e)}}function Te(e){const n=function(e){if(!Dk(c))return sF(e)||cF(e)?s.getConstantValue(e):void 0}(e);if(void 0!==n){jw(e,n);const i="string"==typeof n?t.createStringLiteral(n):n<0?t.createPrefixUnaryExpression(41,t.createNumericLiteral(-n)):t.createNumericLiteral(n);if(!c.removeComments){const t=mc(e,Nx);Iw(i,3,` ${r=ep(t),r.replace(/\*\//g,"*_/")} `)}return i}var r;return e}function Ce(e){return c.verbatimModuleSyntax||Om(e)||s.isReferencedAliasDeclaration(e)}}function eq(e){const{factory:t,getEmitHelperFactory:n,hoistVariableDeclaration:r,endLexicalEnvironment:i,startLexicalEnvironment:o,resumeLexicalEnvironment:a,addBlockScopedVariable:s}=e,c=e.getEmitResolver(),l=e.getCompilerOptions(),_=Sk(l),u=Mk(l),d=!!l.experimentalDecorators,p=!u,f=u&&_<9,m=p||f,g=_<9,h=_<99?-1:u?0:3,y=_<9,v=y&&_>=2,b=m||g||-1===h,x=e.onSubstituteNode;e.onSubstituteNode=function(e,n){return n=x(e,n),1===e?function(e){switch(e.kind){case 80:return function(e){return function(e){if(1&E&&c.hasNodeCheckFlag(e,536870912)){const n=c.getReferencedValueDeclaration(e);if(n){const r=T[n.id];if(r){const n=t.cloneNode(r);return xw(n,e),Dw(n,e),n}}}}(e)||e}(e);case 110:return function(e){if(2&E&&(null==D?void 0:D.data)&&!I.has(e)){const{facts:n,classConstructor:r,classThis:i}=D.data,o=j&&null!=i?i:r;if(o)return vI(dw(t.cloneNode(o),e),e);if(1&n&&d)return t.createParenthesizedExpression(t.createVoidZero())}return e}(e)}return e}(n):n};const S=e.onEmitNode;e.onEmitNode=function(e,t,n){const r=mc(t),i=P.get(r);if(i){const o=D,a=R;return D=i,R=j,j=!(CN(r)&&32&ip(r)),S(e,t,n),j=R,R=a,void(D=o)}switch(t.kind){case 218:if(mF(r)||524288&rp(t))break;case 262:case 176:case 177:case 178:case 174:case 172:{const r=D,i=R;return D=void 0,R=j,j=!1,S(e,t,n),j=R,R=i,void(D=r)}case 167:{const r=D,i=j;return D=null==D?void 0:D.previous,j=R,S(e,t,n),j=i,void(D=r)}}S(e,t,n)};let T,C,w,D,N=!1,E=0;const P=new Map,I=new Set;let O,L,j=!1,R=!1;return XJ(e,function(t){if(t.isDeclarationFile)return t;if(D=void 0,N=!!(32&ip(t)),!b&&!N)return t;const n=SJ(t,B,e);return Mw(n,e.readEmitHelpers()),n});function M(e){return 129===e.kind?ne()?void 0:e:it(e,i_)}function B(n){if(!(16777216&n.transformFlags||134234112&n.transformFlags))return n;switch(n.kind){case 263:return function(e){return ye(e,ve)}(n);case 231:return function(e){return ye(e,be)}(n);case 175:case 172:return fn.fail("Use `classElementVisitor` instead.");case 303:case 260:case 169:case 208:return function(t){return Yh(t,pe)&&(t=Kz(e,t)),SJ(t,B,e)}(n);case 243:return function(t){const n=w;w=[];const r=SJ(t,B,e),i=K(w)?[r,...w]:r;return w=n,i}(n);case 277:return function(t){return Yh(t,pe)&&(t=Kz(e,t,!0,t.isExportEquals?"":"default")),SJ(t,B,e)}(n);case 81:return function(e){return g?yu(e.parent)?e:dw(t.createIdentifier(""),e):e}(n);case 211:return function(n){if(nN(n.name)){const e=Me(n.name);if(e)return vI(dw(ae(e,n.expression),n),n)}if(v&&L&&_m(n)&&tN(n.name)&&tq(L)&&(null==D?void 0:D.data)){const{classConstructor:e,superClassReference:r,facts:i}=D.data;if(1&i)return Fe(n);if(e&&r){const i=t.createReflectGetCall(r,t.createStringLiteralFromNode(n.name),e);return dw(i,n.expression),vI(i,n.expression),i}}return SJ(n,B,e)}(n);case 212:return function(n){if(v&&L&&_m(n)&&tq(L)&&(null==D?void 0:D.data)){const{classConstructor:e,superClassReference:r,facts:i}=D.data;if(1&i)return Fe(n);if(e&&r){const i=t.createReflectGetCall(r,pJ(n.argumentExpression,B,G_),e);return dw(i,n.expression),vI(i,n.expression),i}}return SJ(n,B,e)}(n);case 224:case 225:return le(n,!1);case 226:return fe(n,!1);case 217:return me(n,!1);case 213:return function(n){var i;if(e_(n.expression)&&Me(n.expression.name)){const{thisArg:e,target:i}=t.createCallBinding(n.expression,r,_);return xl(n)?t.updateCallChain(n,t.createPropertyAccessChain(pJ(i,B,G_),n.questionDotToken,"call"),void 0,void 0,[pJ(e,B,G_),...fJ(n.arguments,B,G_)]):t.updateCallExpression(n,t.createPropertyAccessExpression(pJ(i,B,G_),"call"),void 0,[pJ(e,B,G_),...fJ(n.arguments,B,G_)])}if(v&&L&&_m(n.expression)&&tq(L)&&(null==(i=null==D?void 0:D.data)?void 0:i.classConstructor)){const e=t.createFunctionCallCall(pJ(n.expression,B,G_),D.data.classConstructor,fJ(n.arguments,B,G_));return dw(e,n),vI(e,n),e}return SJ(n,B,e)}(n);case 244:return function(e){return t.updateExpressionStatement(e,pJ(e.expression,z,G_))}(n);case 215:return function(n){var i;if(e_(n.tag)&&Me(n.tag.name)){const{thisArg:e,target:i}=t.createCallBinding(n.tag,r,_);return t.updateTaggedTemplateExpression(n,t.createCallExpression(t.createPropertyAccessExpression(pJ(i,B,G_),"bind"),void 0,[pJ(e,B,G_)]),void 0,pJ(n.template,B,q_))}if(v&&L&&_m(n.tag)&&tq(L)&&(null==(i=null==D?void 0:D.data)?void 0:i.classConstructor)){const e=t.createFunctionBindCall(pJ(n.tag,B,G_),D.data.classConstructor,[]);return dw(e,n),vI(e,n),t.updateTaggedTemplateExpression(n,e,void 0,pJ(n.template,B,q_))}return SJ(n,B,e)}(n);case 248:return function(n){return t.updateForStatement(n,pJ(n.initializer,z,ou),pJ(n.condition,B,G_),pJ(n.incrementor,z,G_),xJ(n.statement,B,e))}(n);case 110:return function(e){var t;if(y&&L&&CN(L)&&(null==D?void 0:D.data)){const{classThis:n,classConstructor:r}=D.data;return null!=(t=null!=n?n:r)?t:e}return e}(n);case 262:case 218:return Z(void 0,J,n);case 176:case 174:case 177:case 178:return Z(n,J,n);default:return J(n)}}function J(t){return SJ(t,B,e)}function z(e){switch(e.kind){case 224:case 225:return le(e,!0);case 226:return fe(e,!0);case 356:return function(e){const n=kJ(e.elements,z);return t.updateCommaListExpression(e,n)}(e);case 217:return me(e,!0);default:return B(e)}}function q(n){switch(n.kind){case 298:return SJ(n,q,e);case 233:return function(n){var i;if(4&((null==(i=null==D?void 0:D.data)?void 0:i.facts)||0)){const e=t.createTempVariable(r,!0);return Ee().superClassReference=e,t.updateExpressionWithTypeArguments(n,t.createAssignment(e,pJ(n.expression,B,G_)),void 0)}return SJ(n,B,e)}(n);default:return B(n)}}function V(e){switch(e.kind){case 210:case 209:return Ve(e);default:return B(e)}}function U(e){switch(e.kind){case 176:return Z(e,G,e);case 177:case 178:case 174:return Z(e,Q,e);case 172:return Z(e,re,e);case 175:return Z(e,xe,e);case 167:return H(e);case 240:return e;default:return x_(e)?M(e):B(e)}}function W(e){return 167===e.kind?H(e):B(e)}function $(e){switch(e.kind){case 172:return te(e);case 177:case 178:return U(e);default:fn.assertMissingNode(e,"Expected node to either be a PropertyDeclaration, GetAccessorDeclaration, or SetAccessorDeclaration")}}function H(e){const n=pJ(e.expression,B,G_);return t.updateComputedPropertyName(e,function(e){return K(C)&&(pF(e)?(C.push(e.expression),e=t.updateParenthesizedExpression(e,t.inlineExpressions(C))):(C.push(e),e=t.inlineExpressions(C)),C=void 0),e}(n))}function G(e){return O?Se(e,O):J(e)}function X(e){return!!g||!!(Ov(e)&&32&ip(e))}function Q(n){if(fn.assert(!Jv(n)),!Yl(n)||!X(n))return SJ(n,U,e);const r=Me(n.name);if(fn.assert(r,"Undeclared private name for property declaration."),!r.isValid)return n;const i=function(e){fn.assert(nN(e.name));const t=Me(e.name);if(fn.assert(t,"Undeclared private name for property declaration."),"m"===t.kind)return t.methodName;if("a"===t.kind){if(Au(e))return t.getterName;if(Pu(e))return t.setterName}}(n);i&&Ae().push(t.createAssignment(i,t.createFunctionExpression(F(n.modifiers,e=>i_(e)&&!lN(e)&&!dN(e)),n.asteriskToken,i,void 0,yJ(n.parameters,B,e),void 0,bJ(n.body,B,e))))}function Z(e,t,n){if(e!==L){const r=L;L=e;const i=t(n);return L=r,i}return t(n)}function Y(e){var n;const i=ww(e),o=bw(e),a=e.name;let s=a,c=a;if(hN(a)&&!az(a.expression)){const e=mI(a);if(e)s=t.updateComputedPropertyName(a,pJ(a.expression,B,G_)),c=t.updateComputedPropertyName(a,e.left);else{const e=t.createTempVariable(r);xw(e,a.expression);const n=pJ(a.expression,B,G_),i=t.createAssignment(e,n);xw(i,a.expression),s=t.updateComputedPropertyName(a,i),c=t.updateComputedPropertyName(a,e)}}const l=fJ(e.modifiers,M,i_),_=dI(t,e,l,e.initializer);dw(_,e),gw(_,3072),xw(_,o);const u=Iv(e)&&null!=(n=function(){var e,t;const n=Ee();return null!=(t=null!=(e=n.classThis)?e:n.classConstructor)?t:null==O?void 0:O.name}())?n:t.createThis(),d=pI(t,e,l,s,u);dw(d,e),Dw(d,i),xw(d,o);const p=t.createModifiersFromModifierFlags(Qv(l)),f=fI(t,e,p,c,u);return dw(f,e),gw(f,3072),xw(f,o),mJ([_,d,f],$,m_)}function ee(e){if(m&&!y_(e)){const n=function(e,n){if(hN(e)){const i=mI(e),o=pJ(e.expression,B,G_),a=Nl(o),l=az(a);if(!(i||cb(a)&&Xl(a.left))&&!l&&n){const n=t.getGeneratedNameForNode(e);return c.hasNodeCheckFlag(e,32768)?s(n):r(n),t.createAssignment(n,o)}return l||tN(a)?void 0:o}}(e.name,!!e.initializer||u);if(n&&Ae().push(...hI(n)),Iv(e)&&!g){const n=we(e,t.createThis());if(n){const r=t.createClassStaticBlockDeclaration(t.createBlock([n]));return dw(r,e),Dw(r,e),Dw(n,{pos:-1,end:-1}),Fw(n,void 0),Aw(n,void 0),r}}return}return t.updatePropertyDeclaration(e,fJ(e.modifiers,M,i_),pJ(e.name,W,a_),void 0,void 0,pJ(e.initializer,B,G_))}function te(n){return fn.assert(!Jv(n),"Decorators should already have been transformed and elided."),Yl(n)?function(n){if(X(n)){const e=Me(n.name);if(fn.assert(e,"Undeclared private name for property declaration."),!e.isValid)return n;if(e.isStatic&&!g){const e=we(n,t.createThis());if(e)return t.createClassStaticBlockDeclaration(t.createBlock([e],!0))}return}return p&&!Iv(n)&&(null==D?void 0:D.data)&&16&D.data.facts?t.updatePropertyDeclaration(n,fJ(n.modifiers,B,x_),n.name,void 0,void 0,void 0):(Yh(n,pe)&&(n=Kz(e,n)),t.updatePropertyDeclaration(n,fJ(n.modifiers,M,i_),pJ(n.name,W,a_),void 0,void 0,pJ(n.initializer,B,G_)))}(n):ee(n)}function ne(){return-1===h||3===h&&!!(null==D?void 0:D.data)&&!!(16&D.data.facts)}function re(e){return y_(e)&&(ne()||Ov(e)&&32&ip(e))?Y(e):te(e)}function ie(e){if(L&&Ov(L)&&h_(L)&&y_(mc(L))){const t=kA(e);110===t.kind&&I.add(t)}}function ae(e,t){return ie(t=pJ(t,B,G_)),ce(e,t)}function ce(e,t){switch(Dw(t,Bb(t,-1)),e.kind){case"a":return n().createClassPrivateFieldGetHelper(t,e.brandCheckIdentifier,e.kind,e.getterName);case"m":return n().createClassPrivateFieldGetHelper(t,e.brandCheckIdentifier,e.kind,e.methodName);case"f":return n().createClassPrivateFieldGetHelper(t,e.brandCheckIdentifier,e.kind,e.isStatic?e.variableName:void 0);case"untransformed":return fn.fail("Access helpers should not be created for untransformed private elements");default:fn.assertNever(e,"Unknown private element type")}}function le(n,i){if(46===n.operator||47===n.operator){const e=_h(n.operand);if(e_(e)){let o;if(o=Me(e.name)){const a=pJ(e.expression,B,G_);ie(a);const{readExpression:s,initializeExpression:c}=ue(a);let l=ae(o,s);const _=bF(n)||i?void 0:t.createTempVariable(r);return l=_A(t,n,l,r,_),l=ge(o,c||s,l,64),dw(l,n),vI(l,n),_&&(l=t.createComma(l,_),vI(l,n)),l}}else if(v&&L&&_m(e)&&tq(L)&&(null==D?void 0:D.data)){const{classConstructor:o,superClassReference:a,facts:s}=D.data;if(1&s){const r=Fe(e);return bF(n)?t.updatePrefixUnaryExpression(n,r):t.updatePostfixUnaryExpression(n,r)}if(o&&a){let s,c;if(sF(e)?tN(e.name)&&(c=s=t.createStringLiteralFromNode(e.name)):az(e.argumentExpression)?c=s=e.argumentExpression:(c=t.createTempVariable(r),s=t.createAssignment(c,pJ(e.argumentExpression,B,G_))),s&&c){let l=t.createReflectGetCall(a,c,o);vI(l,e);const _=i?void 0:t.createTempVariable(r);return l=_A(t,n,l,r,_),l=t.createReflectSetCall(a,s,l,o),dw(l,n),vI(l,n),_&&(l=t.createComma(l,_),vI(l,n)),l}}}}return SJ(n,B,e)}function ue(e){const n=iy(e)?e:t.cloneNode(e);if(110===e.kind&&I.has(e)&&I.add(n),az(e))return{readExpression:n,initializeExpression:void 0};const i=t.createTempVariable(r);return{readExpression:i,initializeExpression:t.createAssignment(i,n)}}function de(e){if(D&&P.set(mc(e),D),g){if(Mz(e)){const t=pJ(e.body.statements[0].expression,B,G_);if(cb(t,!0)&&t.left===t.right)return;return t}if(Vz(e))return pJ(e.body.statements[0].expression,B,G_);o();let n=Z(e,e=>fJ(e,B,yu),e.body.statements);n=t.mergeLexicalEnvironment(n,i());const r=t.createImmediatelyInvokedArrowFunction(n);return dw(_h(r.expression),e),hw(_h(r.expression),4),dw(r,e),vI(r,e),r}}function pe(e){if(DF(e)&&!e.name){const t=fz(e);return!K(t,Vz)&&(g||!!ip(e))&&K(t,e=>CN(e)||Yl(e)||m&&mz(e))}return!1}function fe(i,o){if(lb(i)){const e=C;C=void 0,i=t.updateBinaryExpression(i,pJ(i.left,V,G_),i.operatorToken,pJ(i.right,B,G_));const n=K(C)?t.inlineExpressions(oe([...C,i])):i;return C=e,n}if(cb(i)){Yh(i,pe)&&(i=Kz(e,i),fn.assertNode(i,cb));const n=kA(i.left,9);if(e_(n)){const e=Me(n.name);if(e)return vI(dw(ge(e,n.expression,i.right,i.operatorToken.kind),i),i)}else if(v&&L&&_m(i.left)&&tq(L)&&(null==D?void 0:D.data)){const{classConstructor:e,superClassReference:n,facts:a}=D.data;if(1&a)return t.updateBinaryExpression(i,Fe(i.left),i.operatorToken,pJ(i.right,B,G_));if(e&&n){let a=cF(i.left)?pJ(i.left.argumentExpression,B,G_):tN(i.left.name)?t.createStringLiteralFromNode(i.left.name):void 0;if(a){let s=pJ(i.right,B,G_);if(sz(i.operatorToken.kind)){let o=a;az(a)||(o=t.createTempVariable(r),a=t.createAssignment(o,a));const c=t.createReflectGetCall(n,o,e);dw(c,i.left),vI(c,i.left),s=t.createBinaryExpression(c,cz(i.operatorToken.kind),s),vI(s,i)}const c=o?void 0:t.createTempVariable(r);return c&&(s=t.createAssignment(c,s),vI(c,i)),s=t.createReflectSetCall(n,a,s,e),dw(s,i),vI(s,i),c&&(s=t.createComma(s,c),vI(s,i)),s}}}}return function(e){return nN(e.left)&&103===e.operatorToken.kind}(i)?function(t){const r=Me(t.left);if(r){const e=pJ(t.right,B,G_);return dw(n().createClassPrivateFieldInHelper(r.brandCheckIdentifier,e),t)}return SJ(t,B,e)}(i):SJ(i,B,e)}function me(e,n){const r=n?z:B,i=pJ(e.expression,r,G_);return t.updateParenthesizedExpression(e,i)}function ge(e,r,i,o){if(r=pJ(r,B,G_),i=pJ(i,B,G_),ie(r),sz(o)){const{readExpression:n,initializeExpression:a}=ue(r);r=a||n,i=t.createBinaryExpression(ce(e,n),cz(o),i)}switch(Dw(r,Bb(r,-1)),e.kind){case"a":return n().createClassPrivateFieldSetHelper(r,e.brandCheckIdentifier,i,e.kind,e.setterName);case"m":return n().createClassPrivateFieldSetHelper(r,e.brandCheckIdentifier,i,e.kind,void 0);case"f":return n().createClassPrivateFieldSetHelper(r,e.brandCheckIdentifier,i,e.kind,e.isStatic?e.variableName:void 0);case"untransformed":return fn.fail("Access helpers should not be created for untransformed private elements");default:fn.assertNever(e,"Unknown private element type")}}function he(e){return F(e.members,gz)}function ye(n,r){var i;const o=O,a=C,s=D;O=n,C=void 0,D={previous:D,data:void 0};const l=32&ip(n);if(g||l){const e=Ec(n);if(e&&tN(e))Pe().data.className=e;else if((null==(i=n.emitNode)?void 0:i.assignedName)&&MD(n.emitNode.assignedName))if(n.emitNode.assignedName.textSourceNode&&tN(n.emitNode.assignedName.textSourceNode))Pe().data.className=n.emitNode.assignedName.textSourceNode;else if(bs(n.emitNode.assignedName.text,_)){const e=t.createIdentifier(n.emitNode.assignedName.text);Pe().data.className=e}}if(g){const e=he(n);K(e)&&(Pe().data.weakSetName=je("instances",e[0].name))}const u=function(e){var t;let n=0;const r=mc(e);g_(r)&&bm(d,r)&&(n|=1),g&&(Bz(e)||Uz(e))&&(n|=2);let i=!1,o=!1,a=!1,s=!1;for(const l of e.members)Iv(l)?(l.name&&(nN(l.name)||y_(l))&&g?n|=2:!y_(l)||-1!==h||e.name||(null==(t=e.emitNode)?void 0:t.classThis)||(n|=2),(kN(l)||CN(l))&&(y&&16384&l.transformFlags&&(n|=8,1&n||(n|=2)),v&&134217728&l.transformFlags&&(1&n||(n|=6)))):jv(mc(l))||(y_(l)?(s=!0,a||(a=Yl(l))):Yl(l)?(a=!0,c.hasNodeCheckFlag(l,262144)&&(n|=2)):kN(l)&&(i=!0,o||(o=!!l.initializer)));return(f&&i||p&&o||g&&a||g&&s&&-1===h)&&(n|=16),n}(n);u&&(Ee().facts=u),8&u&&(2&E||(E|=2,e.enableSubstitution(110),e.enableEmitNotification(262),e.enableEmitNotification(218),e.enableEmitNotification(176),e.enableEmitNotification(177),e.enableEmitNotification(178),e.enableEmitNotification(174),e.enableEmitNotification(172),e.enableEmitNotification(167)));const m=r(n,u);return D=null==D?void 0:D.previous,fn.assert(D===s),O=o,C=a,m}function ve(e,n){var i,o;let a;if(2&n)if(g&&(null==(i=e.emitNode)?void 0:i.classThis))Ee().classConstructor=e.emitNode.classThis,a=t.createAssignment(e.emitNode.classThis,t.getInternalName(e));else{const n=t.createTempVariable(r,!0);Ee().classConstructor=t.cloneNode(n),a=t.createAssignment(n,t.getInternalName(e))}(null==(o=e.emitNode)?void 0:o.classThis)&&(Ee().classThis=e.emitNode.classThis);const s=c.hasNodeCheckFlag(e,262144),l=Av(e,32),_=Av(e,2048);let u=fJ(e.modifiers,M,i_);const d=fJ(e.heritageClauses,q,XE),{members:f,prologue:m}=ke(e),h=[];if(a&&Ae().unshift(a),K(C)&&h.push(t.createExpressionStatement(t.inlineExpressions(C))),p||g||32&ip(e)){const n=fz(e);K(n)&&Ce(h,n,t.getInternalName(e))}h.length>0&&l&&_&&(u=fJ(u,e=>aI(e)?void 0:e,i_),h.push(t.createExportAssignment(void 0,!1,t.getLocalName(e,!1,!0))));const y=Ee().classConstructor;s&&y&&(Ne(),T[HJ(e)]=y);const v=t.updateClassDeclaration(e,u,e.name,void 0,d,f);return h.unshift(v),m&&h.unshift(t.createExpressionStatement(m)),h}function be(e,n){var i,o,a,l;const _=!!(1&n),u=fz(e),d=c.hasNodeCheckFlag(e,262144),p=c.hasNodeCheckFlag(e,32768);let f;function h(){var n;if(g&&(null==(n=e.emitNode)?void 0:n.classThis))return Ee().classConstructor=e.emitNode.classThis;const i=t.createTempVariable(p?s:r,!0);return Ee().classConstructor=t.cloneNode(i),i}(null==(o=e.emitNode)?void 0:o.classThis)&&(Ee().classThis=e.emitNode.classThis),2&n&&(null!=f||(f=h()));const y=fJ(e.modifiers,M,i_),v=fJ(e.heritageClauses,q,XE),{members:b,prologue:x}=ke(e),k=t.updateClassExpression(e,y,e.name,void 0,v,b),S=[];if(x&&S.push(x),(g||32&ip(e))&&K(u,e=>CN(e)||Yl(e)||m&&mz(e))||K(C))if(_)fn.assertIsDefined(w,"Decorated classes transformed by TypeScript are expected to be within a variable declaration."),K(C)&&_e(w,A(C,t.createExpressionStatement)),K(u)&&Ce(w,u,null!=(i=null==(a=e.emitNode)?void 0:a.classThis)?i:t.getInternalName(e)),f?S.push(t.createAssignment(f,k)):g&&(null==(l=e.emitNode)?void 0:l.classThis)?S.push(t.createAssignment(e.emitNode.classThis,k)):S.push(k);else{if(null!=f||(f=h()),d){Ne();const n=t.cloneNode(f);n.emitNode.autoGenerate.flags&=-9,T[HJ(e)]=n}S.push(t.createAssignment(f,k)),_e(S,C),_e(S,function(e,t){const n=[];for(const r of e){const e=CN(r)?Z(r,de,r):Z(r,()=>De(r,t),void 0);e&&(TA(e),dw(e,r),hw(e,3072&rp(r)),xw(e,zb(r)),Dw(e,r),n.push(e))}return n}(u,f)),S.push(t.cloneNode(f))}else S.push(k);return S.length>1&&(hw(k,131072),S.forEach(TA)),t.inlineExpressions(S)}function xe(t){if(!g)return SJ(t,B,e)}function ke(e){const n=!!(32&ip(e));if(g||N){for(const t of e.members)Yl(t)&&(X(t)?Le(t,t.name,Ie):Sz(Pe(),t.name,{kind:"untransformed"}));if(g&&K(he(e))&&function(){const{weakSetName:e}=Pe().data;fn.assert(e,"weakSetName should be set in private identifier environment"),Ae().push(t.createAssignment(e,t.createNewExpression(t.createIdentifier("WeakSet"),void 0,[])))}(),ne())for(const r of e.members)if(y_(r)){const e=t.getGeneratedPrivateNameForNode(r.name,void 0,"_accessor_storage");g||n&&Ov(r)?Le(r,e,Oe):Sz(Pe(),e,{kind:"untransformed"})}}let i,o,a,s=fJ(e.members,U,m_);if(K(s,wN)||(i=Se(void 0,e)),!g&&K(C)){let e=t.createExpressionStatement(t.inlineExpressions(C));if(134234112&e.transformFlags){const n=t.createTempVariable(r),i=t.createArrowFunction(void 0,void 0,[],void 0,void 0,t.createBlock([e]));o=t.createAssignment(n,i),e=t.createExpressionStatement(t.createCallExpression(n,void 0,[]))}const n=t.createBlock([e]);a=t.createClassStaticBlockDeclaration(n),C=void 0}if(i||a){let n;const r=k(s,Mz),o=k(s,Vz);n=se(n,r),n=se(n,o),n=se(n,i),n=se(n,a),n=_e(n,r||o?F(s,e=>e!==r&&e!==o):s),s=vI(t.createNodeArray(n),e.members)}return{members:s,prologue:o}}function Se(n,r){if(n=pJ(n,B,wN),!((null==D?void 0:D.data)&&16&D.data.facts))return n;const o=kh(r),s=!(!o||106===kA(o.expression).kind),c=yJ(n?n.parameters:void 0,B,e),l=function(n,r,o){var s,c,l;const _=dz(n,!1,!1);let d=_;u||(d=F(d,e=>!!e.initializer||nN(e.name)||Mv(e)));const p=he(n),f=K(d)||K(p);if(!r&&!f)return bJ(void 0,B,e);a();const m=!r&&o;let h=0,y=[];const v=[],b=t.createThis();if(function(e,n,r){if(!g||!K(n))return;const{weakSetName:i}=Pe().data;fn.assert(i,"weakSetName should be set in private identifier environment"),e.push(t.createExpressionStatement(function(e,t,n){return e.createCallExpression(e.createPropertyAccessExpression(n,"add"),void 0,[t])}(t,r,i)))}(v,p,b),r){const e=F(_,e=>ic(mc(e),r)),t=F(d,e=>!ic(mc(e),r));Ce(v,e,b),Ce(v,t,b)}else Ce(v,d,b);if(null==r?void 0:r.body){h=t.copyPrologue(r.body.statements,y,!1,B);const e=uz(r.body.statements,h);if(e.length)Te(y,r.body.statements,h,e,0,v,r);else{for(;h<r.body.statements.length&&ic(mc(r.body.statements[h]),r);)h++;_e(y,v),_e(y,fJ(r.body.statements,B,yu,h))}}else m&&y.push(t.createExpressionStatement(t.createCallExpression(t.createSuper(),void 0,[t.createSpreadElement(t.createIdentifier("arguments"))]))),_e(y,v);if(y=t.mergeLexicalEnvironment(y,i()),0===y.length&&!r)return;const x=(null==r?void 0:r.body)&&r.body.statements.length>=y.length&&null!=(s=r.body.multiLine)?s:y.length>0;return vI(t.createBlock(vI(t.createNodeArray(y),null!=(c=null==(l=null==r?void 0:r.body)?void 0:l.statements)?c:n.members),x),null==r?void 0:r.body)}(r,n,s);return l?n?(fn.assert(c),t.updateConstructorDeclaration(n,void 0,c,l)):TA(dw(vI(t.createConstructorDeclaration(void 0,null!=c?c:[],l),n||r),n)):n}function Te(e,n,r,i,o,a,s){const c=i[o],l=n[c];if(_e(e,fJ(n,B,yu,r,c-r)),r=c+1,nE(l)){const n=[];Te(n,l.tryBlock.statements,0,i,o+1,a,s),vI(t.createNodeArray(n),l.tryBlock.statements),e.push(t.updateTryStatement(l,t.updateBlock(l.tryBlock,n),pJ(l.catchClause,B,QE),pJ(l.finallyBlock,B,BF)))}else{for(_e(e,fJ(n,B,yu,c,1));r<n.length&&ic(mc(n[r]),s);)r++;_e(e,a)}_e(e,fJ(n,B,yu,r))}function Ce(e,t,n){for(const r of t){if(Iv(r)&&!g)continue;const t=we(r,n);t&&e.push(t)}}function we(e,n){const r=CN(e)?Z(e,de,e):De(e,n);if(!r)return;const i=t.createExpressionStatement(r);dw(i,e),hw(i,3072&rp(e)),Dw(i,e);const o=mc(e);return vN(o)?(xw(i,o),mw(i)):xw(i,zb(e)),Fw(r,void 0),Aw(r,void 0),Mv(o)&&hw(i,3072),i}function De(n,r){var i;const o=L,a=function(n,r){const i=!u;Yh(n,pe)&&(n=Kz(e,n));const o=Mv(n)?t.getGeneratedPrivateNameForNode(n.name):hN(n.name)&&!az(n.name.expression)?t.updateComputedPropertyName(n.name,t.getGeneratedNameForNode(n.name)):n.name;if(Ov(n)&&(L=n),nN(o)&&X(n)){const e=Me(o);if(e)return"f"===e.kind?e.isStatic?function(e,t,n){return e.createAssignment(t,e.createObjectLiteralExpression([e.createPropertyAssignment("value",n||e.createVoidZero())]))}(t,e.variableName,pJ(n.initializer,B,G_)):function(e,t,n,r){return e.createCallExpression(e.createPropertyAccessExpression(r,"set"),void 0,[t,n||e.createVoidZero()])}(t,r,pJ(n.initializer,B,G_),e.brandCheckIdentifier):void 0;fn.fail("Undeclared private name for property declaration.")}if((nN(o)||Ov(n))&&!n.initializer)return;const a=mc(n);if(Av(a,64))return;let s=pJ(n.initializer,B,G_);if(ic(a,a.parent)&&tN(o)){const e=t.cloneNode(o);s?(pF(s)&&hA(s.expression)&&LD(s.expression.left,"___runInitializers")&&yF(s.expression.right)&&jD(s.expression.right.expression)&&(s=s.expression.left),s=t.inlineExpressions([s,e])):s=e,gw(o,3168),xw(e,a.name),gw(e,3072)}else null!=s||(s=t.createVoidZero());if(i||nN(o)){const e=eA(t,r,o,o);return hw(e,1024),t.createAssignment(e,s)}{const e=hN(o)?o.expression:tN(o)?t.createStringLiteral(bc(o.escapedText)):o,n=t.createPropertyDescriptor({value:s,configurable:!0,writable:!0,enumerable:!0});return t.createObjectDefinePropertyCall(r,e,n)}}(n,r);return a&&Ov(n)&&(null==(i=null==D?void 0:D.data)?void 0:i.facts)&&(dw(a,n),hw(a,4),xw(a,bw(n.name)),P.set(mc(n),D)),L=o,a}function Ne(){1&E||(E|=1,e.enableSubstitution(80),T=[])}function Fe(e){return sF(e)?t.updatePropertyAccessExpression(e,t.createVoidZero(),e.name):t.updateElementAccessExpression(e,t.createVoidZero(),pJ(e.argumentExpression,B,G_))}function Ee(){var e;return fn.assert(D),null!=(e=D.data)?e:D.data={facts:0,classConstructor:void 0,classThis:void 0,superClassReference:void 0}}function Pe(){var e;return fn.assert(D),null!=(e=D.privateEnv)?e:D.privateEnv=xz({className:void 0,weakSetName:void 0})}function Ae(){return null!=C?C:C=[]}function Ie(e,t,n,r,i,o,a){y_(e)?function(e,t,n,r,i,o){var a;const s=Re(t,"_get"),c=Re(t,"_set"),l=i?fn.checkDefined(null!=(a=n.classThis)?a:n.classConstructor,"classConstructor should be set in private identifier environment"):fn.checkDefined(r.data.weakSetName,"weakSetName should be set in private identifier environment");Sz(r,t,{kind:"a",getterName:s,setterName:c,brandCheckIdentifier:l,isStatic:i,isValid:o})}(0,t,n,r,i,o):kN(e)?Oe(0,t,n,r,i,o):TN(e)?function(e,t,n,r,i,o){var a;const s=Re(t),c=i?fn.checkDefined(null!=(a=n.classThis)?a:n.classConstructor,"classConstructor should be set in private identifier environment"):fn.checkDefined(r.data.weakSetName,"weakSetName should be set in private identifier environment");Sz(r,t,{kind:"m",methodName:s,brandCheckIdentifier:c,isStatic:i,isValid:o})}(0,t,n,r,i,o):DN(e)?function(e,t,n,r,i,o,a){var s;const c=Re(t,"_get"),l=i?fn.checkDefined(null!=(s=n.classThis)?s:n.classConstructor,"classConstructor should be set in private identifier environment"):fn.checkDefined(r.data.weakSetName,"weakSetName should be set in private identifier environment");"a"!==(null==a?void 0:a.kind)||a.isStatic!==i||a.getterName?Sz(r,t,{kind:"a",getterName:c,setterName:void 0,brandCheckIdentifier:l,isStatic:i,isValid:o}):a.getterName=c}(0,t,n,r,i,o,a):NN(e)&&function(e,t,n,r,i,o,a){var s;const c=Re(t,"_set"),l=i?fn.checkDefined(null!=(s=n.classThis)?s:n.classConstructor,"classConstructor should be set in private identifier environment"):fn.checkDefined(r.data.weakSetName,"weakSetName should be set in private identifier environment");"a"!==(null==a?void 0:a.kind)||a.isStatic!==i||a.setterName?Sz(r,t,{kind:"a",getterName:void 0,setterName:c,brandCheckIdentifier:l,isStatic:i,isValid:o}):a.setterName=c}(0,t,n,r,i,o,a)}function Oe(e,n,r,i,o,a,s){var c;if(o)Sz(i,n,{kind:"f",isStatic:!0,brandCheckIdentifier:fn.checkDefined(null!=(c=r.classThis)?c:r.classConstructor,"classConstructor should be set in private identifier environment"),variableName:Re(n),isValid:a});else{const e=Re(n);Sz(i,n,{kind:"f",isStatic:!1,brandCheckIdentifier:e,isValid:a}),Ae().push(t.createAssignment(e,t.createNewExpression(t.createIdentifier("WeakMap"),void 0,[])))}}function Le(e,t,n){const r=Ee(),i=Pe(),o=kz(i,t),a=Ov(e),s=!function(e){return!Ql(e)&&"#constructor"===e.escapedText}(t)&&void 0===o;n(e,t,r,i,a,s,o)}function je(e,n,i){const{className:o}=Pe().data,a=o?{prefix:"_",node:o,suffix:"_"}:"_",l="object"==typeof e?t.getGeneratedNameForNode(e,24,a,i):"string"==typeof e?t.createUniqueName(e,16,a,i):t.createTempVariable(void 0,!0,a,i);return c.hasNodeCheckFlag(n,32768)?s(l):r(l),l}function Re(e,t){var n;const r=Bp(e);return je(null!=(n=null==r?void 0:r.substring(1))?n:e,e,t)}function Me(e){const t=Tz(D,e);return"untransformed"===(null==t?void 0:t.kind)?void 0:t}function Be(n){if(aF(n)||oF(n))return Ve(n);if(e_(n))return function(n){const i=t.getGeneratedNameForNode(n),o=Me(n.name);if(!o)return SJ(n,B,e);let a=n.expression;return(um(n)||_m(n)||!oz(n.expression))&&(a=t.createTempVariable(r,!0),Ae().push(t.createBinaryExpression(a,64,pJ(n.expression,B,G_)))),t.createAssignmentTargetWrapper(i,ge(o,a,i,64))}(n);if(v&&L&&_m(n)&&tq(L)&&(null==D?void 0:D.data)){const{classConstructor:e,superClassReference:r,facts:i}=D.data;if(1&i)return Fe(n);if(e&&r){const i=cF(n)?pJ(n.argumentExpression,B,G_):tN(n.name)?t.createStringLiteralFromNode(n.name):void 0;if(i){const n=t.createTempVariable(void 0);return t.createAssignmentTargetWrapper(n,t.createReflectSetCall(r,i,n,e))}}}return SJ(n,B,e)}function Je(n){if(Yh(n,pe)&&(n=Kz(e,n)),cb(n,!0)){const e=Be(n.left),r=pJ(n.right,B,G_);return t.updateBinaryExpression(n,e,n.operatorToken,r)}return Be(n)}function ze(n){if(j_(n)){if(wF(n))return function(n){if(V_(n.expression)){const e=Be(n.expression);return t.updateSpreadElement(n,e)}return SJ(n,B,e)}(n);if(!NF(n))return Je(n)}return SJ(n,B,e)}function qe(n){return fn.assertNode(n,O_),eP(n)?function(n){if(V_(n.expression)){const e=Be(n.expression);return t.updateSpreadAssignment(n,e)}return SJ(n,B,e)}(n):YE(n)?function(t){return Yh(t,pe)&&(t=Kz(e,t)),SJ(t,B,e)}(n):ZE(n)?function(n){const r=pJ(n.name,B,a_);if(cb(n.initializer,!0)){const e=Je(n.initializer);return t.updatePropertyAssignment(n,r,e)}if(V_(n.initializer)){const e=Be(n.initializer);return t.updatePropertyAssignment(n,r,e)}return SJ(n,B,e)}(n):SJ(n,B,e)}function Ve(e){return oF(e)?t.updateArrayLiteralExpression(e,fJ(e.elements,ze,G_)):t.updateObjectLiteralExpression(e,fJ(e.properties,qe,T_))}}function tq(e){return CN(e)||function(e){return kN(e)&&Ov(e)}(e)}function nq(e){const{factory:t,hoistVariableDeclaration:n}=e,r=e.getEmitResolver(),i=e.getCompilerOptions(),o=Sk(i),a=Wk(i,"strictNullChecks");let s,c;return{serializeTypeNode:(e,t)=>l(e,p,t),serializeTypeOfNode:(e,t,n)=>l(e,_,t,n),serializeParameterTypesOfNode:(e,t,n)=>l(e,u,t,n),serializeReturnTypeOfNode:(e,t)=>l(e,d,t)};function l(e,t,n,r){const i=s,o=c;s=e.currentLexicalScope,c=e.currentNameScope;const a=void 0===r?t(n):t(n,r);return s=i,c=o,a}function _(e,n){switch(e.kind){case 172:case 169:return p(e.type);case 178:case 177:return p(function(e,t){const n=hv(t.members,e);return n.setAccessor&&_v(n.setAccessor)||n.getAccessor&&bv(n.getAccessor)}(e,n));case 263:case 231:case 174:return t.createIdentifier("Function");default:return t.createVoidZero()}}function u(e,n){const r=g_(e)?cv(e):c_(e)&&Ad(e.body)?e:void 0,i=[];if(r){const e=function(e,t){if(t&&177===e.kind){const{setAccessor:n}=hv(t.members,e);if(n)return n.parameters}return e.parameters}(r,n),t=e.length;for(let r=0;r<t;r++){const t=e[r];0===r&&tN(t.name)&&"this"===t.name.escapedText||(t.dotDotDotToken?i.push(p(Of(t.type))):i.push(_(t,n)))}}return t.createArrayLiteralExpression(i)}function d(e){return c_(e)&&e.type?p(e.type):Bh(e)?t.createIdentifier("Promise"):t.createVoidZero()}function p(e){if(void 0===e)return t.createIdentifier("Object");switch((e=lh(e)).kind){case 116:case 157:case 146:return t.createVoidZero();case 184:case 185:return t.createIdentifier("Function");case 188:case 189:return t.createIdentifier("Array");case 182:return e.assertsModifier?t.createVoidZero():t.createIdentifier("Boolean");case 136:return t.createIdentifier("Boolean");case 203:case 154:return t.createIdentifier("String");case 151:return t.createIdentifier("Object");case 201:return f(e.literal);case 150:return t.createIdentifier("Number");case 163:return b("BigInt",7);case 155:return b("Symbol",2);case 183:return function(e){const i=r.getTypeReferenceSerializationKind(e.typeName,null!=c?c:s);switch(i){case 0:if(gc(e,e=>e.parent&&WN(e.parent)&&(e.parent.trueType===e||e.parent.falseType===e)))return t.createIdentifier("Object");const r=y(e.typeName),o=t.createTempVariable(n);return t.createConditionalExpression(t.createTypeCheck(t.createAssignment(o,r),"function"),void 0,o,void 0,t.createIdentifier("Object"));case 1:return v(e.typeName);case 2:return t.createVoidZero();case 4:return b("BigInt",7);case 6:return t.createIdentifier("Boolean");case 3:return t.createIdentifier("Number");case 5:return t.createIdentifier("String");case 7:return t.createIdentifier("Array");case 8:return b("Symbol",2);case 10:return t.createIdentifier("Function");case 9:return t.createIdentifier("Promise");case 11:return t.createIdentifier("Object");default:return fn.assertNever(i)}}(e);case 193:return m(e.types,!0);case 192:return m(e.types,!1);case 194:return m([e.trueType,e.falseType],!1);case 198:if(148===e.operator)return p(e.type);break;case 186:case 199:case 200:case 187:case 133:case 159:case 197:case 205:case 312:case 313:case 317:case 318:case 319:break;case 314:case 315:case 316:return p(e.type);default:return fn.failBadSyntaxKind(e)}return t.createIdentifier("Object")}function f(e){switch(e.kind){case 11:case 15:return t.createIdentifier("String");case 224:{const t=e.operand;switch(t.kind){case 9:case 10:return f(t);default:return fn.failBadSyntaxKind(t)}}case 9:return t.createIdentifier("Number");case 10:return b("BigInt",7);case 112:case 97:return t.createIdentifier("Boolean");case 106:return t.createVoidZero();default:return fn.failBadSyntaxKind(e)}}function m(e,n){let r;for(let i of e){if(i=lh(i),146===i.kind){if(n)return t.createVoidZero();continue}if(159===i.kind){if(!n)return t.createIdentifier("Object");continue}if(133===i.kind)return t.createIdentifier("Object");if(!a&&(ZN(i)&&106===i.literal.kind||157===i.kind))continue;const e=p(i);if(tN(e)&&"Object"===e.escapedText)return e;if(r){if(!g(r,e))return t.createIdentifier("Object")}else r=e}return null!=r?r:t.createVoidZero()}function g(e,t){return Xl(e)?Xl(t):tN(e)?tN(t)&&e.escapedText===t.escapedText:sF(e)?sF(t)&&g(e.expression,t.expression)&&g(e.name,t.name):yF(e)?yF(t)&&jD(e.expression)&&"0"===e.expression.text&&jD(t.expression)&&"0"===t.expression.text:MD(e)?MD(t)&&e.text===t.text:hF(e)?hF(t)&&g(e.expression,t.expression):pF(e)?pF(t)&&g(e.expression,t.expression):SF(e)?SF(t)&&g(e.condition,t.condition)&&g(e.whenTrue,t.whenTrue)&&g(e.whenFalse,t.whenFalse):!!kF(e)&&kF(t)&&e.operatorToken.kind===t.operatorToken.kind&&g(e.left,t.left)&&g(e.right,t.right)}function h(e,n){return t.createLogicalAnd(t.createStrictInequality(t.createTypeOfExpression(e),t.createStringLiteral("undefined")),n)}function y(e){if(80===e.kind){const t=v(e);return h(t,t)}if(80===e.left.kind)return h(v(e.left),v(e));const r=y(e.left),i=t.createTempVariable(n);return t.createLogicalAnd(t.createLogicalAnd(r.left,t.createStrictInequality(t.createAssignment(i,r.right),t.createVoidZero())),t.createPropertyAccessExpression(i,e.right))}function v(e){switch(e.kind){case 80:const n=IT(vI(SI.cloneNode(e),e),e.parent);return n.original=void 0,IT(n,yc(s)),n;case 166:return function(e){return t.createPropertyAccessExpression(v(e.left),e.right)}(e)}}function b(e,n){return o<n?function(e){return t.createConditionalExpression(t.createTypeCheck(t.createIdentifier(e),"function"),void 0,t.createIdentifier(e),void 0,t.createIdentifier("Object"))}(e):t.createIdentifier(e)}}function rq(e){const{factory:t,getEmitHelperFactory:n,hoistVariableDeclaration:r}=e,i=e.getEmitResolver(),o=e.getCompilerOptions(),a=Sk(o),s=e.onSubstituteNode;let c;return e.onSubstituteNode=function(e,n){return n=s(e,n),1===e?function(e){return 80===e.kind?function(e){var n;return null!=(n=function(e){if(c&&i.hasNodeCheckFlag(e,536870912)){const n=i.getReferencedValueDeclaration(e);if(n){const r=c[n.id];if(r){const n=t.cloneNode(r);return xw(n,e),Dw(n,e),n}}}}(e))?n:e}(e):e}(n):n},XJ(e,function(t){const n=SJ(t,_,e);return Mw(n,e.readEmitHelpers()),n});function l(e){return bN(e)?void 0:e}function _(o){if(!(33554432&o.transformFlags))return o;switch(o.kind){case 170:return;case 263:return function(o){if(!bm(!0,o)&&!vm(!0,o))return SJ(o,_,e);const s=bm(!0,o)?function(o,s){const l=Av(o,32),u=Av(o,2048),d=fJ(o.modifiers,e=>aI(e)||bN(e)?void 0:e,x_),f=zb(o),m=function(n){if(i.hasNodeCheckFlag(n,262144)){c||(e.enableSubstitution(80),c=[]);const i=t.createUniqueName(n.name&&!Xl(n.name)?xc(n.name):"default");return c[HJ(n)]=i,r(i),i}}(o),h=a<2?t.getInternalName(o,!1,!0):t.getLocalName(o,!1,!0),y=fJ(o.heritageClauses,_,XE);let v=fJ(o.members,_,m_),b=[];({members:v,decorationStatements:b}=p(o,v));const x=a>=9&&!!m&&K(v,e=>kN(e)&&Av(e,256)||CN(e));x&&(v=vI(t.createNodeArray([t.createClassStaticBlockDeclaration(t.createBlock([t.createExpressionStatement(t.createAssignment(m,t.createThis()))])),...v]),v));const k=t.createClassExpression(d,s&&Xl(s)?void 0:s,void 0,y,v);dw(k,o),vI(k,f);const S=m&&!x?t.createAssignment(m,k):k,T=t.createVariableDeclaration(h,void 0,void 0,S);dw(T,o);const C=t.createVariableDeclarationList([T],1),w=t.createVariableStatement(void 0,C);dw(w,o),vI(w,f),Dw(w,o);const D=[w];if(_e(D,b),function(e,r){const i=function(e){const r=yz(e,!0),i=g(r);if(!i)return;const o=c&&c[HJ(e)],s=a<2?t.getInternalName(e,!1,!0):t.getDeclarationName(e,!1,!0),l=n().createDecorateHelper(i,s),_=t.createAssignment(s,o?t.createAssignment(o,l):l);return gw(_,3072),xw(_,zb(e)),_}(r);i&&e.push(dw(t.createExpressionStatement(i),r))}(D,o),l)if(u){const e=t.createExportDefault(h);D.push(e)}else{const e=t.createExternalModuleExport(t.getDeclarationName(o));D.push(e)}return D}(o,o.name):function(e,n){const r=fJ(e.modifiers,l,i_),i=fJ(e.heritageClauses,_,XE);let o=fJ(e.members,_,m_),a=[];({members:o,decorationStatements:a}=p(e,o));const s=t.updateClassDeclaration(e,r,n,void 0,i,o);return _e([s],a)}(o,o.name);return Ce(s)}(o);case 231:return function(e){return t.updateClassExpression(e,fJ(e.modifiers,l,i_),e.name,void 0,fJ(e.heritageClauses,_,XE),fJ(e.members,_,m_))}(o);case 176:return function(e){return t.updateConstructorDeclaration(e,fJ(e.modifiers,l,i_),fJ(e.parameters,_,vN),pJ(e.body,_,BF))}(o);case 174:return function(e){return f(t.updateMethodDeclaration(e,fJ(e.modifiers,l,i_),e.asteriskToken,fn.checkDefined(pJ(e.name,_,a_)),void 0,void 0,fJ(e.parameters,_,vN),void 0,pJ(e.body,_,BF)),e)}(o);case 178:return function(e){return f(t.updateSetAccessorDeclaration(e,fJ(e.modifiers,l,i_),fn.checkDefined(pJ(e.name,_,a_)),fJ(e.parameters,_,vN),pJ(e.body,_,BF)),e)}(o);case 177:return function(e){return f(t.updateGetAccessorDeclaration(e,fJ(e.modifiers,l,i_),fn.checkDefined(pJ(e.name,_,a_)),fJ(e.parameters,_,vN),void 0,pJ(e.body,_,BF)),e)}(o);case 172:return function(e){if(!(33554432&e.flags||Av(e,128)))return f(t.updatePropertyDeclaration(e,fJ(e.modifiers,l,i_),fn.checkDefined(pJ(e.name,_,a_)),void 0,void 0,pJ(e.initializer,_,G_)),e)}(o);case 169:return function(e){const n=t.updateParameterDeclaration(e,sI(t,e.modifiers),e.dotDotDotToken,fn.checkDefined(pJ(e.name,_,s_)),void 0,void 0,pJ(e.initializer,_,G_));return n!==e&&(Dw(n,e),vI(n,zb(e)),xw(n,zb(e)),gw(n.name,64)),n}(o);default:return SJ(o,_,e)}}function u(e){return!!(536870912&e.transformFlags)}function d(e){return K(e,u)}function p(e,n){let r=[];return h(r,e,!1),h(r,e,!0),function(e){for(const t of e.members){if(!xI(t))continue;const n=vz(t,e,!0);if(K(null==n?void 0:n.decorators,u))return!0;if(K(null==n?void 0:n.parameters,d))return!0}return!1}(e)&&(n=vI(t.createNodeArray([...n,t.createClassStaticBlockDeclaration(t.createBlock(r,!0))]),n),r=void 0),{decorationStatements:r,members:n}}function f(e,t){return e!==t&&(Dw(e,t),xw(e,zb(t))),e}function m(e){return LD(e.expression,"___metadata")}function g(e){if(!e)return;const{false:t,true:n}=Ue(e.decorators,m),r=[];return _e(r,A(t,v)),_e(r,j(e.parameters,b)),_e(r,A(n,v)),r}function h(e,n,r){_e(e,A(function(e,t){const n=function(e,t){return F(e.members,n=>{return i=t,ym(!0,r=n,e)&&i===Iv(r);var r,i})}(e,t);let r;for(const i of n)r=se(r,y(e,i));return r}(n,r),e=>t.createExpressionStatement(e)))}function y(e,r){const i=g(vz(r,e,!0));if(!i)return;const o=function(e,n){return Iv(n)?t.getDeclarationName(e):function(e){return t.createPropertyAccessExpression(t.getDeclarationName(e),"prototype")}(e)}(e,r),a=function(e,n){const r=e.name;return nN(r)?t.createIdentifier(""):hN(r)?n&&!az(r.expression)?t.getGeneratedNameForNode(r):r.expression:tN(r)?t.createStringLiteral(xc(r)):t.cloneNode(r)}(r,!Av(r,128)),s=kN(r)&&!Mv(r)?t.createVoidZero():t.createNull(),c=n().createDecorateHelper(i,o,a,s);return gw(c,3072),xw(c,zb(r)),c}function v(e){return fn.checkDefined(pJ(e.expression,_,G_))}function b(e,t){let r;if(e){r=[];for(const i of e){const e=n().createParamHelper(v(i),t);vI(e,i.expression),gw(e,3072),r.push(e)}}return r}}function iq(e){const{factory:t,getEmitHelperFactory:n,startLexicalEnvironment:r,endLexicalEnvironment:i,hoistVariableDeclaration:o}=e,a=Sk(e.getCompilerOptions());let s,c,l,_,u,d;return XJ(e,function(t){s=void 0,d=!1;const n=SJ(t,b,e);return Mw(n,e.readEmitHelpers()),d&&(vw(n,32),d=!1),n});function p(){switch(c=void 0,l=void 0,_=void 0,null==s?void 0:s.kind){case"class":c=s.classInfo;break;case"class-element":c=s.next.classInfo,l=s.classThis,_=s.classSuper;break;case"name":const e=s.next.next.next;"class-element"===(null==e?void 0:e.kind)&&(c=e.next.classInfo,l=e.classThis,_=e.classSuper)}}function f(e){s={kind:"class",next:s,classInfo:e,savedPendingExpressions:u},u=void 0,p()}function m(){fn.assert("class"===(null==s?void 0:s.kind),"Incorrect value for top.kind.",()=>`Expected top.kind to be 'class' but got '${null==s?void 0:s.kind}' instead.`),u=s.savedPendingExpressions,s=s.next,p()}function g(e){var t,n;fn.assert("class"===(null==s?void 0:s.kind),"Incorrect value for top.kind.",()=>`Expected top.kind to be 'class' but got '${null==s?void 0:s.kind}' instead.`),s={kind:"class-element",next:s},(CN(e)||kN(e)&&Ov(e))&&(s.classThis=null==(t=s.next.classInfo)?void 0:t.classThis,s.classSuper=null==(n=s.next.classInfo)?void 0:n.classSuper),p()}function h(){var e;fn.assert("class-element"===(null==s?void 0:s.kind),"Incorrect value for top.kind.",()=>`Expected top.kind to be 'class-element' but got '${null==s?void 0:s.kind}' instead.`),fn.assert("class"===(null==(e=s.next)?void 0:e.kind),"Incorrect value for top.next.kind.",()=>{var e;return`Expected top.next.kind to be 'class' but got '${null==(e=s.next)?void 0:e.kind}' instead.`}),s=s.next,p()}function y(){fn.assert("class-element"===(null==s?void 0:s.kind),"Incorrect value for top.kind.",()=>`Expected top.kind to be 'class-element' but got '${null==s?void 0:s.kind}' instead.`),s={kind:"name",next:s},p()}function v(){fn.assert("name"===(null==s?void 0:s.kind),"Incorrect value for top.kind.",()=>`Expected top.kind to be 'name' but got '${null==s?void 0:s.kind}' instead.`),s=s.next,p()}function b(n){if(!function(e){return!!(33554432&e.transformFlags)||!!l&&!!(16384&e.transformFlags)||!!l&&!!_&&!!(134217728&e.transformFlags)}(n))return n;switch(n.kind){case 170:return fn.fail("Use `modifierVisitor` instead.");case 263:return function(n){var r;if(N(n)){const i=[],o=null!=(r=mc(n,g_))?r:n,a=o.name?t.createStringLiteralFromNode(o.name):t.createStringLiteral("default"),s=Av(n,32),c=Av(n,2048);if(n.name||(n=$z(e,n,a)),s&&c){const e=D(n);if(n.name){const r=t.createVariableDeclaration(t.getLocalName(n),void 0,void 0,e);dw(r,n);const o=t.createVariableDeclarationList([r],1),a=t.createVariableStatement(void 0,o);i.push(a);const s=t.createExportDefault(t.getDeclarationName(n));dw(s,n),Dw(s,ww(n)),xw(s,Jb(n)),i.push(s)}else{const r=t.createExportDefault(e);dw(r,n),Dw(r,ww(n)),xw(r,Jb(n)),i.push(r)}}else{fn.assertIsDefined(n.name,"A class declaration that is not a default export must have a name.");const e=D(n),r=s?e=>rN(e)?void 0:k(e):k,o=fJ(n.modifiers,r,i_),a=t.getLocalName(n,!1,!0),c=t.createVariableDeclaration(a,void 0,void 0,e);dw(c,n);const l=t.createVariableDeclarationList([c],1),_=t.createVariableStatement(o,l);if(dw(_,n),Dw(_,ww(n)),i.push(_),s){const e=t.createExternalModuleExport(a);dw(e,n),i.push(e)}}return Ce(i)}{const e=fJ(n.modifiers,k,i_),r=fJ(n.heritageClauses,b,XE);f(void 0);const i=fJ(n.members,S,m_);return m(),t.updateClassDeclaration(n,e,n.name,void 0,r,i)}}(n);case 231:return function(e){if(N(e)){const t=D(e);return dw(t,e),t}{const n=fJ(e.modifiers,k,i_),r=fJ(e.heritageClauses,b,XE);f(void 0);const i=fJ(e.members,S,m_);return m(),t.updateClassExpression(e,n,e.name,void 0,r,i)}}(n);case 176:case 172:case 175:return fn.fail("Not supported outside of a class. Use 'classElementVisitor' instead.");case 169:return function(n){Yh(n,O)&&(n=Kz(e,n,L(n.initializer)));const r=t.updateParameterDeclaration(n,void 0,n.dotDotDotToken,pJ(n.name,b,s_),void 0,void 0,pJ(n.initializer,b,G_));return r!==n&&(Dw(r,n),vI(r,zb(n)),xw(r,zb(n)),gw(r.name,64)),r}(n);case 226:return j(n,!1);case 303:case 260:case 208:return function(t){return Yh(t,O)&&(t=Kz(e,t,L(t.initializer))),SJ(t,b,e)}(n);case 277:return function(t){return Yh(t,O)&&(t=Kz(e,t,L(t.expression))),SJ(t,b,e)}(n);case 110:return function(e){return null!=l?l:e}(n);case 248:return function(n){return t.updateForStatement(n,pJ(n.initializer,T,ou),pJ(n.condition,b,G_),pJ(n.incrementor,T,G_),xJ(n.statement,b,e))}(n);case 244:return function(t){return SJ(t,T,e)}(n);case 356:return M(n,!1);case 217:return $(n,!1);case 355:return function(e){const n=b,r=pJ(e.expression,n,G_);return t.updatePartiallyEmittedExpression(e,r)}(n);case 213:return function(n){if(_m(n.expression)&&l){const e=pJ(n.expression,b,G_),r=fJ(n.arguments,b,G_),i=t.createFunctionCallCall(e,l,r);return dw(i,n),vI(i,n),i}return SJ(n,b,e)}(n);case 215:return function(n){if(_m(n.tag)&&l){const e=pJ(n.tag,b,G_),r=t.createFunctionBindCall(e,l,[]);dw(r,n),vI(r,n);const i=pJ(n.template,b,q_);return t.updateTaggedTemplateExpression(n,r,void 0,i)}return SJ(n,b,e)}(n);case 224:case 225:return R(n,!1);case 211:return function(n){if(_m(n)&&tN(n.name)&&l&&_){const e=t.createStringLiteralFromNode(n.name),r=t.createReflectGetCall(_,e,l);return dw(r,n.expression),vI(r,n.expression),r}return SJ(n,b,e)}(n);case 212:return function(n){if(_m(n)&&l&&_){const e=pJ(n.argumentExpression,b,G_),r=t.createReflectGetCall(_,e,l);return dw(r,n.expression),vI(r,n.expression),r}return SJ(n,b,e)}(n);case 167:return J(n);case 174:case 178:case 177:case 218:case 262:{"other"===(null==s?void 0:s.kind)?(fn.assert(!u),s.depth++):(s={kind:"other",next:s,depth:0,savedPendingExpressions:u},u=void 0,p());const t=SJ(n,x,e);return fn.assert("other"===(null==s?void 0:s.kind),"Incorrect value for top.kind.",()=>`Expected top.kind to be 'other' but got '${null==s?void 0:s.kind}' instead.`),s.depth>0?(fn.assert(!u),s.depth--):(u=s.savedPendingExpressions,s=s.next,p()),t}default:return SJ(n,x,e)}}function x(e){if(170!==e.kind)return b(e)}function k(e){if(170!==e.kind)return e}function S(a){switch(a.kind){case 176:return function(e){g(e);const n=fJ(e.modifiers,k,i_),r=fJ(e.parameters,b,vN);let i;if(e.body&&c){const n=F(c.class,c);if(n){const r=[],o=t.copyPrologue(e.body.statements,r,!1,b),a=uz(e.body.statements,o);a.length>0?E(r,e.body.statements,o,a,0,n):(_e(r,n),_e(r,fJ(e.body.statements,b,yu))),i=t.createBlock(r,!0),dw(i,e.body),vI(i,e.body)}}return null!=i||(i=pJ(e.body,b,BF)),h(),t.updateConstructorDeclaration(e,n,r,i)}(a);case 174:return function(e){g(e);const{modifiers:n,name:r,descriptorName:i}=I(e,c,ee);if(i)return h(),P(function(e,n,r){return e=fJ(e,e=>lN(e)?e:void 0,i_),t.createGetAccessorDeclaration(e,n,[],void 0,t.createBlock([t.createReturnStatement(t.createPropertyAccessExpression(r,t.createIdentifier("value")))]))}(n,r,i),e);{const i=fJ(e.parameters,b,vN),o=pJ(e.body,b,BF);return h(),P(t.updateMethodDeclaration(e,n,e.asteriskToken,r,void 0,void 0,i,void 0,o),e)}}(a);case 177:return function(e){g(e);const{modifiers:n,name:r,descriptorName:i}=I(e,c,te);if(i)return h(),P(ie(n,r,i),e);{const i=fJ(e.parameters,b,vN),o=pJ(e.body,b,BF);return h(),P(t.updateGetAccessorDeclaration(e,n,r,i,void 0,o),e)}}(a);case 178:return function(e){g(e);const{modifiers:n,name:r,descriptorName:i}=I(e,c,ne);if(i)return h(),P(oe(n,r,i),e);{const i=fJ(e.parameters,b,vN),o=pJ(e.body,b,BF);return h(),P(t.updateSetAccessorDeclaration(e,n,r,i,o),e)}}(a);case 172:return function(a){var s;Yh(a,O)&&(a=Kz(e,a,L(a.initializer))),g(a),fn.assert(!Sp(a),"Not yet implemented.");const{modifiers:l,name:_,initializersName:u,extraInitializersName:d,descriptorName:p,thisArg:f}=I(a,c,Mv(a)?re:void 0);r();let m=pJ(a.initializer,b,G_);u&&(m=n().createRunInitializersHelper(null!=f?f:t.createThis(),u,null!=m?m:t.createVoidZero())),Iv(a)&&c&&m&&(c.hasStaticInitializers=!0);const y=i();if(K(y)&&(m=t.createImmediatelyInvokedArrowFunction([...y,t.createReturnStatement(m)])),c&&(Iv(a)?(m=X(c,!0,m),d&&(null!=c.pendingStaticInitializers||(c.pendingStaticInitializers=[]),c.pendingStaticInitializers.push(n().createRunInitializersHelper(null!=(s=c.classThis)?s:t.createThis(),d)))):(m=X(c,!1,m),d&&(null!=c.pendingInstanceInitializers||(c.pendingInstanceInitializers=[]),c.pendingInstanceInitializers.push(n().createRunInitializersHelper(t.createThis(),d))))),h(),Mv(a)&&p){const e=ww(a),n=bw(a),r=a.name;let i=r,s=r;if(hN(r)&&!az(r.expression)){const e=mI(r);if(e)i=t.updateComputedPropertyName(r,pJ(r.expression,b,G_)),s=t.updateComputedPropertyName(r,e.left);else{const e=t.createTempVariable(o);xw(e,r.expression);const n=pJ(r.expression,b,G_),a=t.createAssignment(e,n);xw(a,r.expression),i=t.updateComputedPropertyName(r,a),s=t.updateComputedPropertyName(r,e)}}const c=fJ(l,e=>129!==e.kind?e:void 0,i_),_=dI(t,a,c,m);dw(_,a),gw(_,3072),xw(_,n),xw(_.name,a.name);const u=ie(c,i,p);dw(u,a),Dw(u,e),xw(u,n);const d=oe(c,s,p);return dw(d,a),gw(d,3072),xw(d,n),[_,u,d]}return P(t.updatePropertyDeclaration(a,l,_,void 0,void 0,m),a)}(a);case 175:return function(n){let r;if(g(n),Vz(n))r=SJ(n,b,e);else if(Mz(n)){const t=l;l=void 0,r=SJ(n,b,e),l=t}else if(r=n=SJ(n,b,e),c&&(c.hasStaticInitializers=!0,K(c.pendingStaticInitializers))){const e=[];for(const r of c.pendingStaticInitializers){const n=t.createExpressionStatement(r);xw(n,bw(r)),e.push(n)}const n=t.createBlock(e,!0);r=[t.createClassStaticBlockDeclaration(n),r],c.pendingStaticInitializers=void 0}return h(),r}(a);default:return b(a)}}function T(e){switch(e.kind){case 224:case 225:return R(e,!0);case 226:return j(e,!0);case 356:return M(e,!0);case 217:return $(e,!0);default:return b(e)}}function C(e,n){return t.createUniqueName(`${function(e){let t=e.name&&tN(e.name)&&!Xl(e.name)?xc(e.name):e.name&&nN(e.name)&&!Xl(e.name)?xc(e.name).slice(1):e.name&&MD(e.name)&&bs(e.name.text,99)?e.name.text:g_(e)?"class":"member";return Au(e)&&(t=`get_${t}`),Pu(e)&&(t=`set_${t}`),e.name&&nN(e.name)&&(t=`private_${t}`),Iv(e)&&(t=`static_${t}`),"_"+t}(e)}_${n}`,24)}function w(e,n){return t.createVariableStatement(void 0,t.createVariableDeclarationList([t.createVariableDeclaration(e,void 0,void 0,n)],1))}function D(o){var a,s;r(),!Wz(o)&&bm(!1,o)&&(o=$z(e,o,t.createStringLiteral("")));const c=t.getLocalName(o,!1,!1,!0),l=function(e){var r,i;const o=t.createUniqueName("_metadata",48);let a,s,c,l,_,u=!1,d=!1,p=!1;if(hm(!1,e)){const n=K(e.members,e=>(Yl(e)||y_(e))&&Ov(e));c=t.createUniqueName("_classThis",n?24:48)}for(const f of e.members){if(b_(f)&&ym(!1,f,e))if(Ov(f)){if(!s){s=t.createUniqueName("_staticExtraInitializers",48);const i=n().createRunInitializersHelper(null!=c?c:t.createThis(),s);xw(i,null!=(r=e.name)?r:Jb(e)),null!=l||(l=[]),l.push(i)}}else{if(!a){a=t.createUniqueName("_instanceExtraInitializers",48);const r=n().createRunInitializersHelper(t.createThis(),a);xw(r,null!=(i=e.name)?i:Jb(e)),null!=_||(_=[]),_.push(r)}null!=a||(a=t.createUniqueName("_instanceExtraInitializers",48))}if(CN(f)?Vz(f)||(u=!0):kN(f)&&(Ov(f)?u||(u=!!f.initializer||Jv(f)):d||(d=!Sp(f))),(Yl(f)||y_(f))&&Ov(f)&&(p=!0),s&&a&&u&&d&&p)break}return{class:e,classThis:c,metadataReference:o,instanceMethodExtraInitializersName:a,staticMethodExtraInitializersName:s,hasStaticInitializers:u,hasNonAmbientInstanceFields:d,hasStaticPrivateClassElements:p,pendingStaticInitializers:l,pendingInstanceInitializers:_}}(o),_=[];let p,g,h,y,v=!1;const x=Q(yz(o,!1));x&&(l.classDecoratorsName=t.createUniqueName("_classDecorators",48),l.classDescriptorName=t.createUniqueName("_classDescriptor",48),l.classExtraInitializersName=t.createUniqueName("_classExtraInitializers",48),fn.assertIsDefined(l.classThis),_.push(w(l.classDecoratorsName,t.createArrayLiteralExpression(x)),w(l.classDescriptorName),w(l.classExtraInitializersName,t.createArrayLiteralExpression()),w(l.classThis)),l.hasStaticPrivateClassElements&&(v=!0,d=!0));const k=Dh(o.heritageClauses,96),T=k&&he(k.types),C=T&&pJ(T.expression,b,G_);if(C){l.classSuper=t.createUniqueName("_classSuper",48);const e=kA(C),n=DF(e)&&!e.name||fF(e)&&!e.name||mF(e)?t.createComma(t.createNumericLiteral(0),C):C;_.push(w(l.classSuper,n));const r=t.updateExpressionWithTypeArguments(T,l.classSuper,void 0),i=t.updateHeritageClause(k,[r]);y=t.createNodeArray([i])}const D=null!=(a=l.classThis)?a:t.createThis();f(l),p=se(p,function(e,n){const r=t.createVariableDeclaration(e,void 0,void 0,t.createConditionalExpression(t.createLogicalAnd(t.createTypeCheck(t.createIdentifier("Symbol"),"function"),t.createPropertyAccessExpression(t.createIdentifier("Symbol"),"metadata")),t.createToken(58),t.createCallExpression(t.createPropertyAccessExpression(t.createIdentifier("Object"),"create"),void 0,[n?ae(n):t.createNull()]),t.createToken(59),t.createVoidZero()));return t.createVariableStatement(void 0,t.createVariableDeclarationList([r],2))}(l.metadataReference,l.classSuper));let N=o.members;if(N=fJ(N,e=>wN(e)?e:S(e),m_),N=fJ(N,e=>wN(e)?S(e):e,m_),u){let n;for(let r of u)r=pJ(r,function r(i){return 16384&i.transformFlags?110===i.kind?(n||(n=t.createUniqueName("_outerThis",16),_.unshift(w(n,t.createThis()))),n):SJ(i,r,e):i},G_),p=se(p,t.createExpressionStatement(r));u=void 0}if(m(),K(l.pendingInstanceInitializers)&&!cv(o)){const e=F(0,l);if(e){const n=kh(o),r=[];if(n&&106!==kA(n.expression).kind){const e=t.createSpreadElement(t.createIdentifier("arguments")),n=t.createCallExpression(t.createSuper(),void 0,[e]);r.push(t.createExpressionStatement(n))}_e(r,e);const i=t.createBlock(r,!0);h=t.createConstructorDeclaration(void 0,[],i)}}if(l.staticMethodExtraInitializersName&&_.push(w(l.staticMethodExtraInitializersName,t.createArrayLiteralExpression())),l.instanceMethodExtraInitializersName&&_.push(w(l.instanceMethodExtraInitializersName,t.createArrayLiteralExpression())),l.memberInfos&&sd(l.memberInfos,(e,n)=>{Iv(n)&&(_.push(w(e.memberDecoratorsName)),e.memberInitializersName&&_.push(w(e.memberInitializersName,t.createArrayLiteralExpression())),e.memberExtraInitializersName&&_.push(w(e.memberExtraInitializersName,t.createArrayLiteralExpression())),e.memberDescriptorName&&_.push(w(e.memberDescriptorName)))}),l.memberInfos&&sd(l.memberInfos,(e,n)=>{Iv(n)||(_.push(w(e.memberDecoratorsName)),e.memberInitializersName&&_.push(w(e.memberInitializersName,t.createArrayLiteralExpression())),e.memberExtraInitializersName&&_.push(w(e.memberExtraInitializersName,t.createArrayLiteralExpression())),e.memberDescriptorName&&_.push(w(e.memberDescriptorName)))}),p=_e(p,l.staticNonFieldDecorationStatements),p=_e(p,l.nonStaticNonFieldDecorationStatements),p=_e(p,l.staticFieldDecorationStatements),p=_e(p,l.nonStaticFieldDecorationStatements),l.classDescriptorName&&l.classDecoratorsName&&l.classExtraInitializersName&&l.classThis){null!=p||(p=[]);const e=t.createPropertyAssignment("value",D),r=t.createObjectLiteralExpression([e]),i=t.createAssignment(l.classDescriptorName,r),a=t.createPropertyAccessExpression(D,"name"),s=n().createESDecorateHelper(t.createNull(),i,l.classDecoratorsName,{kind:"class",name:a,metadata:l.metadataReference},t.createNull(),l.classExtraInitializersName),_=t.createExpressionStatement(s);xw(_,Jb(o)),p.push(_);const u=t.createPropertyAccessExpression(l.classDescriptorName,"value"),d=t.createAssignment(l.classThis,u),f=t.createAssignment(c,d);p.push(t.createExpressionStatement(f))}if(p.push(function(e,n){const r=t.createObjectDefinePropertyCall(e,t.createPropertyAccessExpression(t.createIdentifier("Symbol"),"metadata"),t.createPropertyDescriptor({configurable:!0,writable:!0,enumerable:!0,value:n},!0));return gw(t.createIfStatement(n,t.createExpressionStatement(r)),1)}(D,l.metadataReference)),K(l.pendingStaticInitializers)){for(const e of l.pendingStaticInitializers){const n=t.createExpressionStatement(e);xw(n,bw(e)),g=se(g,n)}l.pendingStaticInitializers=void 0}if(l.classExtraInitializersName){const e=n().createRunInitializersHelper(D,l.classExtraInitializersName),r=t.createExpressionStatement(e);xw(r,null!=(s=o.name)?s:Jb(o)),g=se(g,r)}p&&g&&!l.hasStaticInitializers&&(_e(p,g),g=void 0);const E=p&&t.createClassStaticBlockDeclaration(t.createBlock(p,!0));E&&v&&yw(E,32);const P=g&&t.createClassStaticBlockDeclaration(t.createBlock(g,!0));if(E||h||P){const e=[],n=N.findIndex(Vz);E?(_e(e,N,0,n+1),e.push(E),_e(e,N,n+1)):_e(e,N),h&&e.push(h),P&&e.push(P),N=vI(t.createNodeArray(e),N)}const A=i();let I;if(x){I=t.createClassExpression(void 0,void 0,void 0,y,N),l.classThis&&(I=Jz(t,I,l.classThis));const e=t.createVariableDeclaration(c,void 0,void 0,I),n=t.createVariableDeclarationList([e]),r=l.classThis?t.createAssignment(c,l.classThis):c;_.push(t.createVariableStatement(void 0,n),t.createReturnStatement(r))}else I=t.createClassExpression(void 0,o.name,void 0,y,N),_.push(t.createReturnStatement(I));if(v){vw(I,32);for(const e of I.members)(Yl(e)||y_(e))&&Ov(e)&&vw(e,32)}return dw(I,o),t.createImmediatelyInvokedArrowFunction(t.mergeLexicalEnvironment(_,A))}function N(e){return bm(!1,e)||vm(!1,e)}function F(e,n){if(K(n.pendingInstanceInitializers)){const e=[];return e.push(t.createExpressionStatement(t.inlineExpressions(n.pendingInstanceInitializers))),n.pendingInstanceInitializers=void 0,e}}function E(e,n,r,i,o,a){const s=i[o],c=n[s];if(_e(e,fJ(n,b,yu,r,s-r)),nE(c)){const n=[];E(n,c.tryBlock.statements,0,i,o+1,a),vI(t.createNodeArray(n),c.tryBlock.statements),e.push(t.updateTryStatement(c,t.updateBlock(c.tryBlock,n),pJ(c.catchClause,b,QE),pJ(c.finallyBlock,b,BF)))}else _e(e,fJ(n,b,yu,s,1)),_e(e,a);_e(e,fJ(n,b,yu,s+1))}function P(e,t){return e!==t&&(Dw(e,t),xw(e,Jb(t))),e}function I(e,r,i){var a,s,c,l,_,d;let p,f,m,g,h,x;if(!r){const t=fJ(e.modifiers,k,i_);return y(),f=B(e.name),v(),{modifiers:t,referencedName:p,name:f,initializersName:m,descriptorName:x,thisArg:h}}const S=Q(vz(e,r.class,!1)),T=fJ(e.modifiers,k,i_);if(S){const k=C(e,"decorators"),w=t.createArrayLiteralExpression(S),D=t.createAssignment(k,w),N={memberDecoratorsName:k};null!=r.memberInfos||(r.memberInfos=new Map),r.memberInfos.set(e,N),null!=u||(u=[]),u.push(D);const F=b_(e)||y_(e)?Iv(e)?null!=(a=r.staticNonFieldDecorationStatements)?a:r.staticNonFieldDecorationStatements=[]:null!=(s=r.nonStaticNonFieldDecorationStatements)?s:r.nonStaticNonFieldDecorationStatements=[]:kN(e)&&!y_(e)?Iv(e)?null!=(c=r.staticFieldDecorationStatements)?c:r.staticFieldDecorationStatements=[]:null!=(l=r.nonStaticFieldDecorationStatements)?l:r.nonStaticFieldDecorationStatements=[]:fn.fail(),E=DN(e)?"getter":NN(e)?"setter":TN(e)?"method":y_(e)?"accessor":kN(e)?"field":fn.fail();let P;if(tN(e.name)||nN(e.name))P={computed:!1,name:e.name};else if(Wh(e.name))P={computed:!0,name:t.createStringLiteralFromNode(e.name)};else{const r=e.name.expression;Wh(r)&&!tN(r)?P={computed:!0,name:t.createStringLiteralFromNode(r)}:(y(),({referencedName:p,name:f}=function(e){if(Wh(e)||nN(e))return{referencedName:t.createStringLiteralFromNode(e),name:pJ(e,b,a_)};if(Wh(e.expression)&&!tN(e.expression))return{referencedName:t.createStringLiteralFromNode(e.expression),name:pJ(e,b,a_)};const r=t.getGeneratedNameForNode(e);o(r);const i=n().createPropKeyHelper(pJ(e.expression,b,G_)),a=t.createAssignment(r,i),s=t.updateComputedPropertyName(e,G(a));return{referencedName:r,name:s}}(e.name)),P={computed:!0,name:p},v())}const A={kind:E,name:P,static:Iv(e),private:nN(e.name),access:{get:kN(e)||DN(e)||TN(e),set:kN(e)||NN(e)},metadata:r.metadataReference};if(b_(e)){const o=Iv(e)?r.staticMethodExtraInitializersName:r.instanceMethodExtraInitializersName;let a;fn.assertIsDefined(o),Yl(e)&&i&&(a=i(e,fJ(T,e=>it(e,oN),i_)),N.memberDescriptorName=x=C(e,"descriptor"),a=t.createAssignment(x,a));const s=n().createESDecorateHelper(t.createThis(),null!=a?a:t.createNull(),k,A,t.createNull(),o),c=t.createExpressionStatement(s);xw(c,Jb(e)),F.push(c)}else if(kN(e)){let o;m=null!=(_=N.memberInitializersName)?_:N.memberInitializersName=C(e,"initializers"),g=null!=(d=N.memberExtraInitializersName)?d:N.memberExtraInitializersName=C(e,"extraInitializers"),Iv(e)&&(h=r.classThis),Yl(e)&&Mv(e)&&i&&(o=i(e,void 0),N.memberDescriptorName=x=C(e,"descriptor"),o=t.createAssignment(x,o));const a=n().createESDecorateHelper(y_(e)?t.createThis():t.createNull(),null!=o?o:t.createNull(),k,A,m,g),s=t.createExpressionStatement(a);xw(s,Jb(e)),F.push(s)}}return void 0===f&&(y(),f=B(e.name),v()),K(T)||!TN(e)&&!kN(e)||gw(f,1024),{modifiers:T,referencedName:p,name:f,initializersName:m,extraInitializersName:g,descriptorName:x,thisArg:h}}function O(e){return DF(e)&&!e.name&&N(e)}function L(e){const t=kA(e);return DF(t)&&!t.name&&!bm(!1,t)}function j(n,r){if(lb(n)){const e=W(n.left),r=pJ(n.right,b,G_);return t.updateBinaryExpression(n,e,n.operatorToken,r)}if(cb(n)){if(Yh(n,O))return SJ(n=Kz(e,n,L(n.right)),b,e);if(_m(n.left)&&l&&_){let e=cF(n.left)?pJ(n.left.argumentExpression,b,G_):tN(n.left.name)?t.createStringLiteralFromNode(n.left.name):void 0;if(e){let i=pJ(n.right,b,G_);if(sz(n.operatorToken.kind)){let r=e;az(e)||(r=t.createTempVariable(o),e=t.createAssignment(r,e));const a=t.createReflectGetCall(_,r,l);dw(a,n.left),vI(a,n.left),i=t.createBinaryExpression(a,cz(n.operatorToken.kind),i),vI(i,n)}const a=r?void 0:t.createTempVariable(o);return a&&(i=t.createAssignment(a,i),vI(a,n)),i=t.createReflectSetCall(_,e,i,l),dw(i,n),vI(i,n),a&&(i=t.createComma(i,a),vI(i,n)),i}}}if(28===n.operatorToken.kind){const e=pJ(n.left,T,G_),i=pJ(n.right,r?T:b,G_);return t.updateBinaryExpression(n,e,n.operatorToken,i)}return SJ(n,b,e)}function R(n,r){if(46===n.operator||47===n.operator){const e=_h(n.operand);if(_m(e)&&l&&_){let i=cF(e)?pJ(e.argumentExpression,b,G_):tN(e.name)?t.createStringLiteralFromNode(e.name):void 0;if(i){let e=i;az(i)||(e=t.createTempVariable(o),i=t.createAssignment(e,i));let a=t.createReflectGetCall(_,e,l);dw(a,n),vI(a,n);const s=r?void 0:t.createTempVariable(o);return a=_A(t,n,a,o,s),a=t.createReflectSetCall(_,i,a,l),dw(a,n),vI(a,n),s&&(a=t.createComma(a,s),vI(a,n)),a}}}return SJ(n,b,e)}function M(e,n){const r=n?kJ(e.elements,T):kJ(e.elements,b,T);return t.updateCommaListExpression(e,r)}function B(e){return hN(e)?J(e):pJ(e,b,a_)}function J(e){let n=pJ(e.expression,b,G_);return az(n)||(n=G(n)),t.updateComputedPropertyName(e,n)}function z(n){if(aF(n)||oF(n))return W(n);if(_m(n)&&l&&_){const e=cF(n)?pJ(n.argumentExpression,b,G_):tN(n.name)?t.createStringLiteralFromNode(n.name):void 0;if(e){const r=t.createTempVariable(void 0),i=t.createAssignmentTargetWrapper(r,t.createReflectSetCall(_,e,r,l));return dw(i,n),vI(i,n),i}}return SJ(n,b,e)}function q(n){if(cb(n,!0)){Yh(n,O)&&(n=Kz(e,n,L(n.right)));const r=z(n.left),i=pJ(n.right,b,G_);return t.updateBinaryExpression(n,r,n.operatorToken,i)}return z(n)}function V(n){return fn.assertNode(n,j_),wF(n)?function(n){if(V_(n.expression)){const e=z(n.expression);return t.updateSpreadElement(n,e)}return SJ(n,b,e)}(n):NF(n)?SJ(n,b,e):q(n)}function U(n){return fn.assertNode(n,O_),eP(n)?function(n){if(V_(n.expression)){const e=z(n.expression);return t.updateSpreadAssignment(n,e)}return SJ(n,b,e)}(n):YE(n)?function(t){return Yh(t,O)&&(t=Kz(e,t,L(t.objectAssignmentInitializer))),SJ(t,b,e)}(n):ZE(n)?function(n){const r=pJ(n.name,b,a_);if(cb(n.initializer,!0)){const e=q(n.initializer);return t.updatePropertyAssignment(n,r,e)}if(V_(n.initializer)){const e=z(n.initializer);return t.updatePropertyAssignment(n,r,e)}return SJ(n,b,e)}(n):SJ(n,b,e)}function W(e){if(oF(e)){const n=fJ(e.elements,V,G_);return t.updateArrayLiteralExpression(e,n)}{const n=fJ(e.properties,U,T_);return t.updateObjectLiteralExpression(e,n)}}function $(e,n){const r=n?T:b,i=pJ(e.expression,r,G_);return t.updateParenthesizedExpression(e,i)}function H(e,n){return K(e)&&(n?pF(n)?(e.push(n.expression),n=t.updateParenthesizedExpression(n,t.inlineExpressions(e))):(e.push(n),n=t.inlineExpressions(e)):n=t.inlineExpressions(e)),n}function G(e){const t=H(u,e);return fn.assertIsDefined(t),t!==e&&(u=void 0),t}function X(e,t,n){const r=H(t?e.pendingStaticInitializers:e.pendingInstanceInitializers,n);return r!==n&&(t?e.pendingStaticInitializers=void 0:e.pendingInstanceInitializers=void 0),r}function Q(e){if(!e)return;const t=[];return _e(t,A(e.decorators,Z)),t}function Z(e){const n=pJ(e.expression,b,G_);if(gw(n,3072),Nx(kA(n))){const{target:e,thisArg:r}=t.createCallBinding(n,o,a,!0);return t.restoreOuterExpressions(n,t.createFunctionBindCall(e,r,[]))}return n}function Y(e,r,i,o,a,s,c){const l=t.createFunctionExpression(i,o,void 0,void 0,s,void 0,null!=c?c:t.createBlock([]));dw(l,e),xw(l,Jb(e)),gw(l,3072);const _="get"===a||"set"===a?a:void 0,u=t.createStringLiteralFromNode(r,void 0),d=n().createSetFunctionNameHelper(l,u,_),p=t.createPropertyAssignment(t.createIdentifier(a),d);return dw(p,e),xw(p,Jb(e)),gw(p,3072),p}function ee(e,n){return t.createObjectLiteralExpression([Y(e,e.name,n,e.asteriskToken,"value",fJ(e.parameters,b,vN),pJ(e.body,b,BF))])}function te(e,n){return t.createObjectLiteralExpression([Y(e,e.name,n,void 0,"get",[],pJ(e.body,b,BF))])}function ne(e,n){return t.createObjectLiteralExpression([Y(e,e.name,n,void 0,"set",fJ(e.parameters,b,vN),pJ(e.body,b,BF))])}function re(e,n){return t.createObjectLiteralExpression([Y(e,e.name,n,void 0,"get",[],t.createBlock([t.createReturnStatement(t.createPropertyAccessExpression(t.createThis(),t.getGeneratedPrivateNameForNode(e.name)))])),Y(e,e.name,n,void 0,"set",[t.createParameterDeclaration(void 0,void 0,"value")],t.createBlock([t.createExpressionStatement(t.createAssignment(t.createPropertyAccessExpression(t.createThis(),t.getGeneratedPrivateNameForNode(e.name)),t.createIdentifier("value")))]))])}function ie(e,n,r){return e=fJ(e,e=>lN(e)?e:void 0,i_),t.createGetAccessorDeclaration(e,n,[],void 0,t.createBlock([t.createReturnStatement(t.createFunctionCallCall(t.createPropertyAccessExpression(r,t.createIdentifier("get")),t.createThis(),[]))]))}function oe(e,n,r){return e=fJ(e,e=>lN(e)?e:void 0,i_),t.createSetAccessorDeclaration(e,n,[t.createParameterDeclaration(void 0,void 0,"value")],t.createBlock([t.createReturnStatement(t.createFunctionCallCall(t.createPropertyAccessExpression(r,t.createIdentifier("set")),t.createThis(),[t.createIdentifier("value")]))]))}function ae(e){return t.createBinaryExpression(t.createElementAccessExpression(e,t.createPropertyAccessExpression(t.createIdentifier("Symbol"),"metadata")),61,t.createNull())}}function oq(e){const{factory:t,getEmitHelperFactory:n,resumeLexicalEnvironment:r,endLexicalEnvironment:i,hoistVariableDeclaration:o}=e,a=e.getEmitResolver(),s=e.getCompilerOptions(),c=Sk(s);let l,_,u,d,p=0,m=0;const g=[];let h=0;const y=e.onEmitNode,v=e.onSubstituteNode;return e.onEmitNode=function(e,t,n){if(1&p&&function(e){const t=e.kind;return 263===t||176===t||174===t||177===t||178===t}(t)){const r=(a.hasNodeCheckFlag(t,128)?128:0)|(a.hasNodeCheckFlag(t,256)?256:0);if(r!==m){const i=m;return m=r,y(e,t,n),void(m=i)}}else if(p&&g[rJ(t)]){const r=m;return m=0,y(e,t,n),void(m=r)}y(e,t,n)},e.onSubstituteNode=function(e,n){return n=v(e,n),1===e&&m?function(e){switch(e.kind){case 211:return $(e);case 212:return H(e);case 213:return function(e){const n=e.expression;if(_m(n)){const r=sF(n)?$(n):H(n);return t.createCallExpression(t.createPropertyAccessExpression(r,"call"),void 0,[t.createThis(),...e.arguments])}return e}(e)}return e}(n):n},XJ(e,function(t){if(t.isDeclarationFile)return t;b(1,!1),b(2,!kp(t,s));const n=SJ(t,C,e);return Mw(n,e.readEmitHelpers()),n});function b(e,t){h=t?h|e:h&~e}function x(e){return 0!==(h&e)}function k(e,t,n){const r=e&~h;if(r){b(r,!0);const e=t(n);return b(r,!1),e}return t(n)}function S(t){return SJ(t,C,e)}function T(t){switch(t.kind){case 218:case 262:case 174:case 177:case 178:case 176:return t;case 169:case 208:case 260:break;case 80:if(d&&a.isArgumentsLocalBinding(t))return d}return SJ(t,T,e)}function C(n){if(!(256&n.transformFlags))return d?T(n):n;switch(n.kind){case 134:return;case 223:return function(n){return x(1)?dw(vI(t.createYieldExpression(void 0,pJ(n.expression,C,G_)),n),n):SJ(n,C,e)}(n);case 174:return k(3,N,n);case 262:return k(3,P,n);case 218:return k(3,I,n);case 219:return k(1,O,n);case 211:return _&&sF(n)&&108===n.expression.kind&&_.add(n.name.escapedText),SJ(n,C,e);case 212:return _&&108===n.expression.kind&&(u=!0),SJ(n,C,e);case 177:return k(3,F,n);case 178:return k(3,E,n);case 176:return k(3,D,n);case 263:case 231:return k(3,S,n);default:return SJ(n,C,e)}}function w(n){if(rh(n))switch(n.kind){case 243:return function(n){if(j(n.declarationList)){const e=R(n.declarationList,!1);return e?t.createExpressionStatement(e):void 0}return SJ(n,C,e)}(n);case 248:return function(n){const r=n.initializer;return t.updateForStatement(n,j(r)?R(r,!1):pJ(n.initializer,C,ou),pJ(n.condition,C,G_),pJ(n.incrementor,C,G_),xJ(n.statement,w,e))}(n);case 249:return function(n){return t.updateForInStatement(n,j(n.initializer)?R(n.initializer,!0):fn.checkDefined(pJ(n.initializer,C,ou)),fn.checkDefined(pJ(n.expression,C,G_)),xJ(n.statement,w,e))}(n);case 250:return function(n){return t.updateForOfStatement(n,pJ(n.awaitModifier,C,sN),j(n.initializer)?R(n.initializer,!0):fn.checkDefined(pJ(n.initializer,C,ou)),fn.checkDefined(pJ(n.expression,C,G_)),xJ(n.statement,w,e))}(n);case 299:return function(t){const n=new Set;let r;if(L(t.variableDeclaration,n),n.forEach((e,t)=>{l.has(t)&&(r||(r=new Set(l)),r.delete(t))}),r){const n=l;l=r;const i=SJ(t,w,e);return l=n,i}return SJ(t,w,e)}(n);case 241:case 255:case 269:case 296:case 297:case 258:case 246:case 247:case 245:case 254:case 256:return SJ(n,w,e);default:return fn.assertNever(n,"Unhandled node.")}return C(n)}function D(n){const r=d;d=void 0;const i=t.updateConstructorDeclaration(n,fJ(n.modifiers,C,i_),yJ(n.parameters,C,e),z(n));return d=r,i}function N(n){let r;const i=Mh(n),o=d;d=void 0;const a=t.updateMethodDeclaration(n,fJ(n.modifiers,C,x_),n.asteriskToken,n.name,void 0,void 0,r=2&i?V(n):yJ(n.parameters,C,e),void 0,2&i?U(n,r):z(n));return d=o,a}function F(n){const r=d;d=void 0;const i=t.updateGetAccessorDeclaration(n,fJ(n.modifiers,C,x_),n.name,yJ(n.parameters,C,e),void 0,z(n));return d=r,i}function E(n){const r=d;d=void 0;const i=t.updateSetAccessorDeclaration(n,fJ(n.modifiers,C,x_),n.name,yJ(n.parameters,C,e),z(n));return d=r,i}function P(n){let r;const i=d;d=void 0;const o=Mh(n),a=t.updateFunctionDeclaration(n,fJ(n.modifiers,C,x_),n.asteriskToken,n.name,void 0,r=2&o?V(n):yJ(n.parameters,C,e),void 0,2&o?U(n,r):bJ(n.body,C,e));return d=i,a}function I(n){let r;const i=d;d=void 0;const o=Mh(n),a=t.updateFunctionExpression(n,fJ(n.modifiers,C,i_),n.asteriskToken,n.name,void 0,r=2&o?V(n):yJ(n.parameters,C,e),void 0,2&o?U(n,r):bJ(n.body,C,e));return d=i,a}function O(n){let r;const i=Mh(n);return t.updateArrowFunction(n,fJ(n.modifiers,C,i_),void 0,r=2&i?V(n):yJ(n.parameters,C,e),void 0,n.equalsGreaterThanToken,2&i?U(n,r):bJ(n.body,C,e))}function L({name:e},t){if(tN(e))t.add(e.escapedText);else for(const n of e.elements)NF(n)||L(n,t)}function j(e){return!!e&&oE(e)&&!(7&e.flags)&&e.declarations.some(J)}function R(e,n){!function(e){f(e.declarations,M)}(e);const r=ix(e);return 0===r.length?n?pJ(t.converters.convertToAssignmentElementTarget(e.declarations[0].name),C,G_):void 0:t.inlineExpressions(A(r,B))}function M({name:e}){if(tN(e))o(e);else for(const t of e.elements)NF(t)||M(t)}function B(e){const n=xw(t.createAssignment(t.converters.convertToAssignmentElementTarget(e.name),e.initializer),e);return fn.checkDefined(pJ(n,C,G_))}function J({name:e}){if(tN(e))return l.has(e.escapedText);for(const t of e.elements)if(!NF(t)&&J(t))return!0;return!1}function z(n){fn.assertIsDefined(n.body);const r=_,i=u;_=new Set,u=!1;let o=bJ(n.body,C,e);const s=mc(n,__);if(c>=2&&(a.hasNodeCheckFlag(n,256)||a.hasNodeCheckFlag(n,128))&&3&~Mh(s)){if(W(),_.size){const e=aq(t,a,n,_);g[rJ(e)]=!0;const r=o.statements.slice();Md(r,[e]),o=t.updateBlock(o,r)}u&&(a.hasNodeCheckFlag(n,256)?Rw(o,OD):a.hasNodeCheckFlag(n,128)&&Rw(o,ID))}return _=r,u=i,o}function q(){fn.assert(d);const e=t.createVariableDeclaration(d,void 0,void 0,t.createIdentifier("arguments")),n=t.createVariableStatement(void 0,[e]);return TA(n),hw(n,2097152),n}function V(n){if(wz(n.parameters))return yJ(n.parameters,C,e);const r=[];for(const e of n.parameters){if(e.initializer||e.dotDotDotToken){if(219===n.kind){const e=t.createParameterDeclaration(void 0,t.createToken(26),t.createUniqueName("args",8));r.push(e)}break}const i=t.createParameterDeclaration(void 0,void 0,t.getGeneratedNameForNode(e.name,8));r.push(i)}const i=t.createNodeArray(r);return vI(i,n.parameters),i}function U(o,s){const p=wz(o.parameters)?void 0:yJ(o.parameters,C,e);r();const f=mc(o,c_).type,m=c<2?function(e){const t=e&&fm(e);if(t&&o_(t)){const e=a.getTypeReferenceSerializationKind(t);if(1===e||0===e)return t}}(f):void 0,h=219===o.kind,y=d,v=a.hasNodeCheckFlag(o,512)&&!d;let b;if(v&&(d=t.createUniqueName("arguments")),p)if(h){const e=[];fn.assert(s.length<=o.parameters.length);for(let n=0;n<o.parameters.length;n++){fn.assert(n<s.length);const r=o.parameters[n],i=s[n];if(fn.assertNode(i.name,tN),r.initializer||r.dotDotDotToken){fn.assert(n===s.length-1),e.push(t.createSpreadElement(i.name));break}e.push(i.name)}b=t.createArrayLiteralExpression(e)}else b=t.createIdentifier("arguments");const k=l;l=new Set;for(const e of o.parameters)L(e,l);const S=_,T=u;h||(_=new Set,u=!1);const D=x(2);let N=BF(F=o.body)?t.updateBlock(F,fJ(F.statements,w,yu,E)):t.converters.convertToFunctionBlock(fn.checkDefined(pJ(F,w,ru)));var F,E;let P;if(N=t.updateBlock(N,t.mergeLexicalEnvironment(N.statements,i())),h){if(P=n().createAwaiterHelper(D,b,m,p,N),v){const e=t.converters.convertToFunctionBlock(P);P=t.updateBlock(e,t.mergeLexicalEnvironment(e.statements,[q()]))}}else{const e=[];e.push(t.createReturnStatement(n().createAwaiterHelper(D,b,m,p,N)));const r=c>=2&&(a.hasNodeCheckFlag(o,256)||a.hasNodeCheckFlag(o,128));if(r&&(W(),_.size)){const n=aq(t,a,o,_);g[rJ(n)]=!0,Md(e,[n])}v&&Md(e,[q()]);const i=t.createBlock(e,!0);vI(i,o.body),r&&u&&(a.hasNodeCheckFlag(o,256)?Rw(i,OD):a.hasNodeCheckFlag(o,128)&&Rw(i,ID)),P=i}return l=k,h||(_=S,u=T,d=y),P}function W(){1&p||(p|=1,e.enableSubstitution(213),e.enableSubstitution(211),e.enableSubstitution(212),e.enableEmitNotification(263),e.enableEmitNotification(174),e.enableEmitNotification(177),e.enableEmitNotification(178),e.enableEmitNotification(176),e.enableEmitNotification(243))}function $(e){return 108===e.expression.kind?vI(t.createPropertyAccessExpression(t.createUniqueName("_super",48),e.name),e):e}function H(e){return 108===e.expression.kind?(n=e.argumentExpression,r=e,vI(256&m?t.createPropertyAccessExpression(t.createCallExpression(t.createUniqueName("_superIndex",48),void 0,[n]),"value"):t.createCallExpression(t.createUniqueName("_superIndex",48),void 0,[n]),r)):e;var n,r}}function aq(e,t,n,r){const i=t.hasNodeCheckFlag(n,256),o=[];return r.forEach((t,n)=>{const r=bc(n),a=[];a.push(e.createPropertyAssignment("get",e.createArrowFunction(void 0,void 0,[],void 0,void 0,gw(e.createPropertyAccessExpression(gw(e.createSuper(),8),r),8)))),i&&a.push(e.createPropertyAssignment("set",e.createArrowFunction(void 0,void 0,[e.createParameterDeclaration(void 0,void 0,"v",void 0,void 0,void 0)],void 0,void 0,e.createAssignment(gw(e.createPropertyAccessExpression(gw(e.createSuper(),8),r),8),e.createIdentifier("v"))))),o.push(e.createPropertyAssignment(r,e.createObjectLiteralExpression(a)))}),e.createVariableStatement(void 0,e.createVariableDeclarationList([e.createVariableDeclaration(e.createUniqueName("_super",48),void 0,void 0,e.createCallExpression(e.createPropertyAccessExpression(e.createIdentifier("Object"),"create"),void 0,[e.createNull(),e.createObjectLiteralExpression(o,!0)]))],2))}function sq(e){const{factory:t,getEmitHelperFactory:n,resumeLexicalEnvironment:r,endLexicalEnvironment:i,hoistVariableDeclaration:o}=e,a=e.getEmitResolver(),s=e.getCompilerOptions(),c=Sk(s),l=e.onEmitNode;e.onEmitNode=function(e,t,n){if(1&y&&function(e){const t=e.kind;return 263===t||176===t||174===t||177===t||178===t}(t)){const r=(a.hasNodeCheckFlag(t,128)?128:0)|(a.hasNodeCheckFlag(t,256)?256:0);if(r!==v){const i=v;return v=r,l(e,t,n),void(v=i)}}else if(y&&x[rJ(t)]){const r=v;return v=0,l(e,t,n),void(v=r)}l(e,t,n)};const _=e.onSubstituteNode;e.onSubstituteNode=function(e,n){return n=_(e,n),1===e&&v?function(e){switch(e.kind){case 211:return Q(e);case 212:return Z(e);case 213:return function(e){const n=e.expression;if(_m(n)){const r=sF(n)?Q(n):Z(n);return t.createCallExpression(t.createPropertyAccessExpression(r,"call"),void 0,[t.createThis(),...e.arguments])}return e}(e)}return e}(n):n};let u,d,p,f,m,g,h=!1,y=0,v=0,b=0;const x=[];return XJ(e,function(n){if(n.isDeclarationFile)return n;p=n;const r=function(n){const r=k(2,kp(n,s)?0:1);h=!1;const i=SJ(n,C,e),o=X(i.statements,f&&[t.createVariableStatement(void 0,t.createVariableDeclarationList(f))]),a=t.updateSourceFile(i,vI(t.createNodeArray(o),n.statements));return S(r),a}(n);return Mw(r,e.readEmitHelpers()),p=void 0,f=void 0,r});function k(e,t){const n=b;return b=3&(b&~e|t),n}function S(e){b=e}function T(e){f=se(f,t.createVariableDeclaration(e))}function C(e){return E(e,!1)}function w(e){return E(e,!0)}function D(e){if(134!==e.kind)return e}function N(e,t,n,r){if(function(e,t){return b!==(b&~e|t)}(n,r)){const i=k(n,r),o=e(t);return S(i),o}return e(t)}function F(t){return SJ(t,C,e)}function E(r,i){if(!(128&r.transformFlags))return r;switch(r.kind){case 223:return function(r){return 2&u&&1&u?dw(vI(t.createYieldExpression(void 0,n().createAwaitHelper(pJ(r.expression,C,G_))),r),r):SJ(r,C,e)}(r);case 229:return function(r){if(2&u&&1&u){if(r.asteriskToken){const e=pJ(fn.checkDefined(r.expression),C,G_);return dw(vI(t.createYieldExpression(void 0,n().createAwaitHelper(t.updateYieldExpression(r,r.asteriskToken,vI(n().createAsyncDelegatorHelper(vI(n().createAsyncValuesHelper(e),e)),e)))),r),r)}return dw(vI(t.createYieldExpression(void 0,O(r.expression?pJ(r.expression,C,G_):t.createVoidZero())),r),r)}return SJ(r,C,e)}(r);case 253:return function(n){return 2&u&&1&u?t.updateReturnStatement(n,O(n.expression?pJ(n.expression,C,G_):t.createVoidZero())):SJ(n,C,e)}(r);case 256:return function(n){if(2&u){const e=qf(n);return 250===e.kind&&e.awaitModifier?I(e,n):t.restoreEnclosingLabel(pJ(e,C,yu,t.liftToBlock),n)}return SJ(n,C,e)}(r);case 210:return function(r){if(65536&r.transformFlags){const e=function(e){let n;const r=[];for(const i of e)if(305===i.kind){n&&(r.push(t.createObjectLiteralExpression(n)),n=void 0);const e=i.expression;r.push(pJ(e,C,G_))}else n=se(n,303===i.kind?t.createPropertyAssignment(i.name,pJ(i.initializer,C,G_)):pJ(i,C,T_));return n&&r.push(t.createObjectLiteralExpression(n)),r}(r.properties);e.length&&210!==e[0].kind&&e.unshift(t.createObjectLiteralExpression());let i=e[0];if(e.length>1){for(let t=1;t<e.length;t++)i=n().createAssignHelper([i,e[t]]);return i}return n().createAssignHelper(e)}return SJ(r,C,e)}(r);case 226:return function(n,r){return lb(n)&&yI(n.left)?Fz(n,C,e,1,!r):28===n.operatorToken.kind?t.updateBinaryExpression(n,pJ(n.left,w,G_),n.operatorToken,pJ(n.right,r?w:C,G_)):SJ(n,C,e)}(r,i);case 356:return function(n,r){if(r)return SJ(n,w,e);let i;for(let e=0;e<n.elements.length;e++){const t=n.elements[e],r=pJ(t,e<n.elements.length-1?w:C,G_);(i||r!==t)&&(i||(i=n.elements.slice(0,e)),i.push(r))}const o=i?vI(t.createNodeArray(i),n.elements):n.elements;return t.updateCommaListExpression(n,o)}(r,i);case 299:return function(n){if(n.variableDeclaration&&D_(n.variableDeclaration.name)&&65536&n.variableDeclaration.name.transformFlags){const r=t.getGeneratedNameForNode(n.variableDeclaration.name),i=Az(t.updateVariableDeclaration(n.variableDeclaration,n.variableDeclaration.name,void 0,void 0,r),C,e,1);let o=pJ(n.block,C,BF);return K(i)&&(o=t.updateBlock(o,[t.createVariableStatement(void 0,i),...o.statements])),t.updateCatchClause(n,t.updateVariableDeclaration(n.variableDeclaration,r,void 0,void 0,void 0),o)}return SJ(n,C,e)}(r);case 243:return function(t){if(Av(t,32)){const n=h;h=!0;const r=SJ(t,C,e);return h=n,r}return SJ(t,C,e)}(r);case 260:return function(e){if(h){const t=h;h=!1;const n=P(e,!0);return h=t,n}return P(e,!1)}(r);case 246:case 247:case 249:return N(F,r,0,2);case 250:return I(r,void 0);case 248:return N(A,r,0,2);case 222:case 244:return function(t){return SJ(t,w,e)}(r);case 176:return N(M,r,2,1);case 174:return N(z,r,2,1);case 177:return N(B,r,2,1);case 178:return N(J,r,2,1);case 262:return N(q,r,2,1);case 218:return N(U,r,2,1);case 219:return N(V,r,2,0);case 169:return j(r);case 217:return function(t,n){return SJ(t,n?w:C,e)}(r,i);case 215:return function(t){return Xz(e,t,C,p,T,0)}(r);case 211:return m&&sF(r)&&108===r.expression.kind&&m.add(r.name.escapedText),SJ(r,C,e);case 212:return m&&108===r.expression.kind&&(g=!0),SJ(r,C,e);case 263:case 231:return N(F,r,2,1);default:return SJ(r,C,e)}}function P(t,n){return D_(t.name)&&65536&t.name.transformFlags?Az(t,C,e,1,void 0,n):SJ(t,C,e)}function A(n){return t.updateForStatement(n,pJ(n.initializer,w,ou),pJ(n.condition,C,G_),pJ(n.incrementor,w,G_),xJ(n.statement,C,e))}function I(r,i){const a=k(0,2);(65536&r.initializer.transformFlags||N_(r.initializer)&&yI(r.initializer))&&(r=function(e){const n=_h(e.initializer);if(oE(n)||N_(n)){let r,i;const o=t.createTempVariable(void 0),a=[aA(t,n,o)];return BF(e.statement)?(_e(a,e.statement.statements),r=e.statement,i=e.statement.statements):e.statement&&(se(a,e.statement),r=e.statement,i=e.statement),t.updateForOfStatement(e,e.awaitModifier,vI(t.createVariableDeclarationList([vI(t.createVariableDeclaration(o),e.initializer)],1),e.initializer),e.expression,vI(t.createBlock(vI(t.createNodeArray(a),i),!0),r))}return e}(r));const s=r.awaitModifier?function(r,i,a){const s=pJ(r.expression,C,G_),c=tN(s)?t.getGeneratedNameForNode(s):t.createTempVariable(void 0),l=tN(s)?t.getGeneratedNameForNode(c):t.createTempVariable(void 0),_=t.createTempVariable(void 0),u=t.createTempVariable(o),d=t.createUniqueName("e"),p=t.getGeneratedNameForNode(d),f=t.createTempVariable(void 0),m=vI(n().createAsyncValuesHelper(s),r.expression),g=t.createCallExpression(t.createPropertyAccessExpression(c,"next"),void 0,[]),h=t.createPropertyAccessExpression(l,"done"),y=t.createPropertyAccessExpression(l,"value"),v=t.createFunctionCallCall(f,c,[]);o(d),o(f);const b=2&a?t.inlineExpressions([t.createAssignment(d,t.createVoidZero()),m]):m,x=gw(vI(t.createForStatement(gw(vI(t.createVariableDeclarationList([t.createVariableDeclaration(_,void 0,void 0,t.createTrue()),vI(t.createVariableDeclaration(c,void 0,void 0,b),r.expression),t.createVariableDeclaration(l)]),r.expression),4194304),t.inlineExpressions([t.createAssignment(l,O(g)),t.createAssignment(u,h),t.createLogicalNot(u)]),t.createAssignment(_,t.createTrue()),function(n,r,i){const a=t.createTempVariable(o),s=t.createAssignment(a,r),c=t.createExpressionStatement(s);xw(c,n.expression);const l=t.createAssignment(i,t.createFalse()),_=t.createExpressionStatement(l);xw(_,n.expression);const u=[c,_],d=aA(t,n.initializer,a);let p,f;u.push(pJ(d,C,yu));const m=xJ(n.statement,C,e);return BF(m)?(_e(u,m.statements),p=m,f=m.statements):u.push(m),vI(t.createBlock(vI(t.createNodeArray(u),f),!0),p)}(r,y,_)),r),512);return dw(x,r),t.createTryStatement(t.createBlock([t.restoreEnclosingLabel(x,i)]),t.createCatchClause(t.createVariableDeclaration(p),gw(t.createBlock([t.createExpressionStatement(t.createAssignment(d,t.createObjectLiteralExpression([t.createPropertyAssignment("error",p)])))]),1)),t.createBlock([t.createTryStatement(t.createBlock([gw(t.createIfStatement(t.createLogicalAnd(t.createLogicalAnd(t.createLogicalNot(_),t.createLogicalNot(u)),t.createAssignment(f,t.createPropertyAccessExpression(c,"return"))),t.createExpressionStatement(O(v))),1)]),void 0,gw(t.createBlock([gw(t.createIfStatement(d,t.createThrowStatement(t.createPropertyAccessExpression(d,"error"))),1)]),1))]))}(r,i,a):t.restoreEnclosingLabel(SJ(r,C,e),i);return S(a),s}function O(e){return 1&u?t.createYieldExpression(void 0,n().createAwaitHelper(e)):t.createAwaitExpression(e)}function L(e){return fn.assertNode(e,vN),j(e)}function j(n){return(null==d?void 0:d.has(n))?t.updateParameterDeclaration(n,void 0,n.dotDotDotToken,D_(n.name)?t.getGeneratedNameForNode(n):n.name,void 0,void 0,void 0):65536&n.transformFlags?t.updateParameterDeclaration(n,void 0,n.dotDotDotToken,t.getGeneratedNameForNode(n),void 0,void 0,pJ(n.initializer,C,G_)):SJ(n,C,e)}function R(e){let t;for(const n of e.parameters)t?t.add(n):65536&n.transformFlags&&(t=new Set);return t}function M(n){const r=u,i=d;u=Mh(n),d=R(n);const o=t.updateConstructorDeclaration(n,n.modifiers,yJ(n.parameters,L,e),H(n));return u=r,d=i,o}function B(n){const r=u,i=d;u=Mh(n),d=R(n);const o=t.updateGetAccessorDeclaration(n,n.modifiers,pJ(n.name,C,a_),yJ(n.parameters,L,e),void 0,H(n));return u=r,d=i,o}function J(n){const r=u,i=d;u=Mh(n),d=R(n);const o=t.updateSetAccessorDeclaration(n,n.modifiers,pJ(n.name,C,a_),yJ(n.parameters,L,e),H(n));return u=r,d=i,o}function z(n){const r=u,i=d;u=Mh(n),d=R(n);const o=t.updateMethodDeclaration(n,1&u?fJ(n.modifiers,D,x_):n.modifiers,2&u?void 0:n.asteriskToken,pJ(n.name,C,a_),pJ(void 0,C,QD),void 0,2&u&&1&u?W(n):yJ(n.parameters,L,e),void 0,2&u&&1&u?$(n):H(n));return u=r,d=i,o}function q(n){const r=u,i=d;u=Mh(n),d=R(n);const o=t.updateFunctionDeclaration(n,1&u?fJ(n.modifiers,D,i_):n.modifiers,2&u?void 0:n.asteriskToken,n.name,void 0,2&u&&1&u?W(n):yJ(n.parameters,L,e),void 0,2&u&&1&u?$(n):H(n));return u=r,d=i,o}function V(n){const r=u,i=d;u=Mh(n),d=R(n);const o=t.updateArrowFunction(n,n.modifiers,void 0,yJ(n.parameters,L,e),void 0,n.equalsGreaterThanToken,H(n));return u=r,d=i,o}function U(n){const r=u,i=d;u=Mh(n),d=R(n);const o=t.updateFunctionExpression(n,1&u?fJ(n.modifiers,D,i_):n.modifiers,2&u?void 0:n.asteriskToken,n.name,void 0,2&u&&1&u?W(n):yJ(n.parameters,L,e),void 0,2&u&&1&u?$(n):H(n));return u=r,d=i,o}function W(n){if(wz(n.parameters))return yJ(n.parameters,C,e);const r=[];for(const e of n.parameters){if(e.initializer||e.dotDotDotToken)break;const n=t.createParameterDeclaration(void 0,void 0,t.getGeneratedNameForNode(e.name,8));r.push(n)}const i=t.createNodeArray(r);return vI(i,n.parameters),i}function $(o){const s=wz(o.parameters)?void 0:yJ(o.parameters,C,e);r();const l=m,_=g;m=new Set,g=!1;const u=[];let d=t.updateBlock(o.body,fJ(o.body.statements,C,yu));d=t.updateBlock(d,t.mergeLexicalEnvironment(d.statements,G(i(),o)));const p=t.createReturnStatement(n().createAsyncGeneratorHelper(t.createFunctionExpression(void 0,t.createToken(42),o.name&&t.getGeneratedNameForNode(o.name),void 0,null!=s?s:[],void 0,d),!!(1&b))),f=c>=2&&(a.hasNodeCheckFlag(o,256)||a.hasNodeCheckFlag(o,128));if(f){1&y||(y|=1,e.enableSubstitution(213),e.enableSubstitution(211),e.enableSubstitution(212),e.enableEmitNotification(263),e.enableEmitNotification(174),e.enableEmitNotification(177),e.enableEmitNotification(178),e.enableEmitNotification(176),e.enableEmitNotification(243));const n=aq(t,a,o,m);x[rJ(n)]=!0,Md(u,[n])}u.push(p);const h=t.updateBlock(o.body,u);return f&&g&&(a.hasNodeCheckFlag(o,256)?Rw(h,OD):a.hasNodeCheckFlag(o,128)&&Rw(h,ID)),m=l,g=_,h}function H(e){var n;r();let o=0;const a=[],s=null!=(n=pJ(e.body,C,ru))?n:t.createBlock([]);BF(s)&&(o=t.copyPrologue(s.statements,a,!1,C)),_e(a,G(void 0,e));const c=i();if(o>0||K(a)||K(c)){const e=t.converters.convertToFunctionBlock(s,!0);return Md(a,c),_e(a,e.statements.slice(o)),t.updateBlock(e,vI(t.createNodeArray(a),e.statements))}return s}function G(n,r){let i=!1;for(const o of r.parameters)if(i){if(D_(o.name)){if(o.name.elements.length>0){const r=Az(o,C,e,0,t.getGeneratedNameForNode(o));if(K(r)){const e=t.createVariableDeclarationList(r),i=t.createVariableStatement(void 0,e);gw(i,2097152),n=se(n,i)}}else if(o.initializer){const e=t.getGeneratedNameForNode(o),r=pJ(o.initializer,C,G_),i=t.createAssignment(e,r),a=t.createExpressionStatement(i);gw(a,2097152),n=se(n,a)}}else if(o.initializer){const e=t.cloneNode(o.name);vI(e,o.name),gw(e,96);const r=pJ(o.initializer,C,G_);hw(r,3168);const i=t.createAssignment(e,r);vI(i,o),gw(i,3072);const a=t.createBlock([t.createExpressionStatement(i)]);vI(a,o),gw(a,3905);const s=t.createTypeCheck(t.cloneNode(o.name),"undefined"),c=t.createIfStatement(s,a);TA(c),vI(c,o),gw(c,2101056),n=se(n,c)}}else if(65536&o.transformFlags){i=!0;const r=Az(o,C,e,1,t.getGeneratedNameForNode(o),!1,!0);if(K(r)){const e=t.createVariableDeclarationList(r),i=t.createVariableStatement(void 0,e);gw(i,2097152),n=se(n,i)}}return n}function Q(e){return 108===e.expression.kind?vI(t.createPropertyAccessExpression(t.createUniqueName("_super",48),e.name),e):e}function Z(e){return 108===e.expression.kind?(n=e.argumentExpression,r=e,vI(256&v?t.createPropertyAccessExpression(t.createCallExpression(t.createIdentifier("_superIndex"),void 0,[n]),"value"):t.createCallExpression(t.createIdentifier("_superIndex"),void 0,[n]),r)):e;var n,r}}function cq(e){const t=e.factory;return XJ(e,function(t){return t.isDeclarationFile?t:SJ(t,n,e)});function n(r){return 64&r.transformFlags?299===r.kind?function(r){return r.variableDeclaration?SJ(r,n,e):t.updateCatchClause(r,t.createVariableDeclaration(t.createTempVariable(void 0)),pJ(r.block,n,BF))}(r):SJ(r,n,e):r}}function lq(e){const{factory:t,hoistVariableDeclaration:n}=e;return XJ(e,function(t){return t.isDeclarationFile?t:SJ(t,r,e)});function r(i){if(!(32&i.transformFlags))return i;switch(i.kind){case 213:{const e=o(i,!1);return fn.assertNotNode(e,OE),e}case 211:case 212:if(kl(i)){const e=s(i,!1,!1);return fn.assertNotNode(e,OE),e}return SJ(i,r,e);case 226:return 61===i.operatorToken.kind?function(e){let i=pJ(e.left,r,G_),o=i;return oz(i)||(o=t.createTempVariable(n),i=t.createAssignment(o,i)),vI(t.createConditionalExpression(c(i,o),void 0,o,void 0,pJ(e.right,r,G_)),e)}(i):SJ(i,r,e);case 220:return function(e){return kl(_h(e.expression))?dw(a(e.expression,!1,!0),e):t.updateDeleteExpression(e,pJ(e.expression,r,G_))}(i);default:return SJ(i,r,e)}}function i(e,n,r){const i=a(e.expression,n,r);return OE(i)?t.createSyntheticReferenceExpression(t.updateParenthesizedExpression(e,i.expression),i.thisArg):t.updateParenthesizedExpression(e,i)}function o(n,o){if(kl(n))return s(n,o,!1);if(pF(n.expression)&&kl(_h(n.expression))){const e=i(n.expression,!0,!1),o=fJ(n.arguments,r,G_);return OE(e)?vI(t.createFunctionCallCall(e.expression,e.thisArg,o),n):t.updateCallExpression(n,e,void 0,o)}return SJ(n,r,e)}function a(e,a,c){switch(e.kind){case 217:return i(e,a,c);case 211:case 212:return function(e,i,o){if(kl(e))return s(e,i,o);let a,c=pJ(e.expression,r,G_);return fn.assertNotNode(c,OE),i&&(oz(c)?a=c:(a=t.createTempVariable(n),c=t.createAssignment(a,c))),c=211===e.kind?t.updatePropertyAccessExpression(e,c,pJ(e.name,r,tN)):t.updateElementAccessExpression(e,c,pJ(e.argumentExpression,r,G_)),a?t.createSyntheticReferenceExpression(c,a):c}(e,a,c);case 213:return o(e,a);default:return pJ(e,r,G_)}}function s(e,i,o){const{expression:s,chain:l}=function(e){fn.assertNotNode(e,Fl);const t=[e];for(;!e.questionDotToken&&!uF(e);)e=ot(Nl(e.expression),kl),fn.assertNotNode(e,Fl),t.unshift(e);return{expression:e.expression,chain:t}}(e),_=a(Nl(s),xl(l[0]),!1);let u=OE(_)?_.thisArg:void 0,d=OE(_)?_.expression:_,p=t.restoreOuterExpressions(s,d,8);oz(d)||(d=t.createTempVariable(n),p=t.createAssignment(d,p));let f,m=d;for(let a=0;a<l.length;a++){const e=l[a];switch(e.kind){case 211:case 212:a===l.length-1&&i&&(oz(m)?f=m:(f=t.createTempVariable(n),m=t.createAssignment(f,m))),m=211===e.kind?t.createPropertyAccessExpression(m,pJ(e.name,r,tN)):t.createElementAccessExpression(m,pJ(e.argumentExpression,r,G_));break;case 213:0===a&&u?(Xl(u)||(u=t.cloneNode(u),hw(u,3072)),m=t.createFunctionCallCall(m,108===u.kind?t.createThis():u,fJ(e.arguments,r,G_))):m=t.createCallExpression(m,void 0,fJ(e.arguments,r,G_))}dw(m,e)}const g=o?t.createConditionalExpression(c(p,d,!0),void 0,t.createTrue(),void 0,t.createDeleteExpression(m)):t.createConditionalExpression(c(p,d,!0),void 0,t.createVoidZero(),void 0,m);return vI(g,e),f?t.createSyntheticReferenceExpression(g,f):g}function c(e,n,r){return t.createBinaryExpression(t.createBinaryExpression(e,t.createToken(r?37:38),t.createNull()),t.createToken(r?57:56),t.createBinaryExpression(n,t.createToken(r?37:38),t.createVoidZero()))}}function _q(e){const{hoistVariableDeclaration:t,factory:n}=e;return XJ(e,function(t){return t.isDeclarationFile?t:SJ(t,r,e)});function r(i){return 16&i.transformFlags?nb(i)?function(e){const i=cz(e.operatorToken.kind);let o=_h(pJ(e.left,r,V_)),a=o;const s=_h(pJ(e.right,r,G_));if(Nx(o)){const e=oz(o.expression),r=e?o.expression:n.createTempVariable(t),i=e?o.expression:n.createAssignment(r,o.expression);if(sF(o))a=n.createPropertyAccessExpression(r,o.name),o=n.createPropertyAccessExpression(i,o.name);else{const e=oz(o.argumentExpression),s=e?o.argumentExpression:n.createTempVariable(t);a=n.createElementAccessExpression(r,s),o=n.createElementAccessExpression(i,e?o.argumentExpression:n.createAssignment(s,o.argumentExpression))}}return n.createBinaryExpression(o,i,n.createParenthesizedExpression(n.createAssignment(a,s)))}(i):SJ(i,r,e):i}}function uq(e){const{factory:t,getEmitHelperFactory:n,hoistVariableDeclaration:r,startLexicalEnvironment:i,endLexicalEnvironment:o}=e;let a,s,c,l;return XJ(e,function(t){if(t.isDeclarationFile)return t;const n=pJ(t,_,nP);return Mw(n,e.readEmitHelpers()),s=void 0,a=void 0,c=void 0,n});function _(n){if(!(4&n.transformFlags))return n;switch(n.kind){case 307:return function(n){const r=gq(n.statements);if(r){i(),a=new rz,s=[];const e=dq(n.statements),c=[];_e(c,mJ(n.statements,_,yu,0,e));let d=e;for(;d<n.statements.length;){if(0!==mq(n.statements[d])){d>e&&_e(c,fJ(n.statements,_,yu,e,d-e));break}d++}fn.assert(d<n.statements.length,"Should have encountered at least one 'using' statement.");const p=m(),f=u(n.statements,d,n.statements.length,p,c);return a.size&&se(c,t.createExportDeclaration(void 0,!1,t.createNamedExports(Re(a.values())))),_e(c,o()),s.length&&c.push(t.createVariableStatement(t.createModifiersFromModifierFlags(32),t.createVariableDeclarationList(s,1))),_e(c,g(f,p,2===r)),l&&c.push(t.createExportAssignment(void 0,!0,l)),t.updateSourceFile(n,c)}return SJ(n,_,e)}(n);case 241:return function(n){const r=gq(n.statements);if(r){const e=dq(n.statements),i=m();return t.updateBlock(n,[...mJ(n.statements,_,yu,0,e),...g(u(n.statements,e,n.statements.length,i,void 0),i,2===r)])}return SJ(n,_,e)}(n);case 248:return function(n){return n.initializer&&pq(n.initializer)?pJ(t.createBlock([t.createVariableStatement(void 0,n.initializer),t.updateForStatement(n,void 0,n.condition,n.incrementor,n.statement)]),_,yu):SJ(n,_,e)}(n);case 250:return function(n){if(pq(n.initializer)){const e=n.initializer,r=he(e.declarations)||t.createVariableDeclaration(t.createTempVariable(void 0)),i=2===fq(e),o=t.getGeneratedNameForNode(r.name),a=t.updateVariableDeclaration(r,r.name,void 0,void 0,o),s=t.createVariableDeclarationList([a],i?6:4),c=t.createVariableStatement(void 0,s);return pJ(t.updateForOfStatement(n,n.awaitModifier,t.createVariableDeclarationList([t.createVariableDeclaration(o)],2),n.expression,BF(n.statement)?t.updateBlock(n.statement,[c,...n.statement.statements]):t.createBlock([c,n.statement],!0)),_,yu)}return SJ(n,_,e)}(n);case 255:return function(n){const r=function(e){let t=0;for(const n of e){const e=gq(n.statements);if(2===e)return 2;e>t&&(t=e)}return t}(n.caseBlock.clauses);if(r){const i=m();return g([t.updateSwitchStatement(n,pJ(n.expression,_,G_),t.updateCaseBlock(n.caseBlock,n.caseBlock.clauses.map(n=>function(n,r){return 0!==gq(n.statements)?KE(n)?t.updateCaseClause(n,pJ(n.expression,_,G_),u(n.statements,0,n.statements.length,r,void 0)):t.updateDefaultClause(n,u(n.statements,0,n.statements.length,r,void 0)):SJ(n,_,e)}(n,i))))],i,2===r)}return SJ(n,_,e)}(n);default:return SJ(n,_,e)}}function u(i,o,a,s,u){var m;const g=[];for(let r=o;r<a;r++){const o=i[r],a=mq(o);if(a){fn.assertNode(o,JF);const r=[];for(let i of o.declarationList.declarations){if(!tN(i.name)){r.length=0;break}Yh(i)&&(i=Kz(e,i));const o=null!=(m=pJ(i.initializer,_,G_))?m:t.createVoidZero();r.push(t.updateVariableDeclaration(i,i.name,void 0,void 0,n().createAddDisposableResourceHelper(s,o,2===a)))}if(r.length){const e=t.createVariableDeclarationList(r,2);dw(e,o.declarationList),vI(e,o.declarationList),h(t.updateVariableStatement(o,void 0,e));continue}}const c=_(o);et(c)?c.forEach(h):c&&h(c)}return g;function h(n){fn.assertNode(n,yu),se(g,function(n){if(!u)return n;switch(n.kind){case 272:case 271:case 278:case 262:return function(e,t){t.push(e)}(n,u);case 277:return function(n){return n.isExportEquals?function(e){if(l)return e;l=t.createUniqueName("_default",56),r(l);const n=t.createAssignment(l,e.expression);return t.createExpressionStatement(n)}(n):function(n){if(c)return n;c=t.createUniqueName("_default",56),f(c,!0,"default",n);let r=n.expression,i=kA(r);Yh(i)&&(i=Kz(e,i,!1,"default"),r=t.restoreOuterExpressions(r,i));const o=t.createAssignment(c,r);return t.createExpressionStatement(o)}(n)}(n);case 263:return function(n){if(!n.name&&c)return n;const r=Av(n,32),i=Av(n,2048);let o=t.converters.convertToClassExpression(n);return n.name&&(f(t.getLocalName(n),r&&!i,void 0,n),o=t.createAssignment(t.getDeclarationName(n),o),Yh(o)&&(o=Kz(e,o,!1)),dw(o,n),xw(o,n),Dw(o,n)),i&&!c&&(c=t.createUniqueName("_default",56),f(c,!0,"default",n),o=t.createAssignment(c,o),Yh(o)&&(o=Kz(e,o,!1,"default")),dw(o,n)),t.createExpressionStatement(o)}(n);case 243:return function(e){let n;const r=Av(e,32);for(const t of e.declarationList.declarations)p(t,r,t),t.initializer&&(n=se(n,d(t)));if(n){const r=t.createExpressionStatement(t.inlineExpressions(n));return dw(r,e),Dw(r,e),xw(r,e),r}}(n)}return n}(n))}}function d(e){let n;fn.assertIsDefined(e.initializer),tN(e.name)?(n=t.cloneNode(e.name),gw(n,-114689&rp(n))):n=t.converters.convertToAssignmentPattern(e.name);const r=t.createAssignment(n,e.initializer);return dw(r,e),Dw(r,e),xw(r,e),r}function p(e,t,n){if(D_(e.name))for(const r of e.name.elements)NF(r)||p(r,t,n);else f(e.name,t,void 0,n)}function f(e,n,i,o){const c=Xl(e)?e:t.cloneNode(e);if(n){if(void 0===i&&!dA(c)){const e=t.createVariableDeclaration(c);return o&&dw(e,o),void s.push(e)}const e=void 0!==i?c:void 0,n=void 0!==i?i:c,r=t.createExportSpecifier(!1,e,n);o&&dw(r,o),a.set(c,r)}r(c)}function m(){return t.createUniqueName("env")}function g(e,r,i){const o=[],a=t.createObjectLiteralExpression([t.createPropertyAssignment("stack",t.createArrayLiteralExpression()),t.createPropertyAssignment("error",t.createVoidZero()),t.createPropertyAssignment("hasError",t.createFalse())]),s=t.createVariableDeclaration(r,void 0,void 0,a),c=t.createVariableDeclarationList([s],2),l=t.createVariableStatement(void 0,c);o.push(l);const _=t.createBlock(e,!0),u=t.createUniqueName("e"),d=t.createCatchClause(u,t.createBlock([t.createExpressionStatement(t.createAssignment(t.createPropertyAccessExpression(r,"error"),u)),t.createExpressionStatement(t.createAssignment(t.createPropertyAccessExpression(r,"hasError"),t.createTrue()))],!0));let p;if(i){const e=t.createUniqueName("result");p=t.createBlock([t.createVariableStatement(void 0,t.createVariableDeclarationList([t.createVariableDeclaration(e,void 0,void 0,n().createDisposeResourcesHelper(r))],2)),t.createIfStatement(e,t.createExpressionStatement(t.createAwaitExpression(e)))],!0)}else p=t.createBlock([t.createExpressionStatement(n().createDisposeResourcesHelper(r))],!0);const f=t.createTryStatement(_,d,p);return o.push(f),o}}function dq(e){for(let t=0;t<e.length;t++)if(!hf(e[t])&&!yf(e[t]))return t;return 0}function pq(e){return oE(e)&&0!==fq(e)}function fq(e){return 6==(7&e.flags)?2:4==(7&e.flags)?1:0}function mq(e){return JF(e)?fq(e.declarationList):0}function gq(e){let t=0;for(const n of e){const e=mq(n);if(2===e)return 2;e>t&&(t=e)}return t}function hq(e){const{factory:t,getEmitHelperFactory:n}=e,r=e.getCompilerOptions();let i,o;return XJ(e,function(n){if(n.isDeclarationFile)return n;i=n,o={},o.importSpecifier=Yk(r,n);let a=SJ(n,l,e);Mw(a,e.readEmitHelpers());let s=a.statements;if(o.filenameDeclaration&&(s=zd(s.slice(),t.createVariableStatement(void 0,t.createVariableDeclarationList([o.filenameDeclaration],2)))),o.utilizedImplicitRuntimeImports)for(const[e,r]of Re(o.utilizedImplicitRuntimeImports.entries()))if(tO(n)){const n=t.createImportDeclaration(void 0,t.createImportClause(!1,void 0,t.createNamedImports(Re(r.values()))),t.createStringLiteral(e),void 0);OT(n,!1),s=zd(s.slice(),n)}else if(rf(n)){const n=t.createVariableStatement(void 0,t.createVariableDeclarationList([t.createVariableDeclaration(t.createObjectBindingPattern(Re(r.values(),e=>t.createBindingElement(void 0,e.propertyName,e.name))),void 0,void 0,t.createCallExpression(t.createIdentifier("require"),void 0,[t.createStringLiteral(e)]))],2));OT(n,!1),s=zd(s.slice(),n)}return s!==a.statements&&(a=t.updateSourceFile(a,s)),o=void 0,a});function a(){if(o.filenameDeclaration)return o.filenameDeclaration.name;const e=t.createVariableDeclaration(t.createUniqueName("_jsxFileName",48),void 0,void 0,t.createStringLiteral(i.fileName));return o.filenameDeclaration=e,o.filenameDeclaration.name}function s(e){const t=function(e){return 5===r.jsx?"jsxDEV":e?"jsxs":"jsx"}(e);return c(t)}function c(e){var n,i;const a="createElement"===e?o.importSpecifier:eS(o.importSpecifier,r),s=null==(i=null==(n=o.utilizedImplicitRuntimeImports)?void 0:n.get(a))?void 0:i.get(e);if(s)return s.name;o.utilizedImplicitRuntimeImports||(o.utilizedImplicitRuntimeImports=new Map);let c=o.utilizedImplicitRuntimeImports.get(a);c||(c=new Map,o.utilizedImplicitRuntimeImports.set(a,c));const l=t.createUniqueName(`_${e}`,112),_=t.createImportSpecifier(!1,t.createIdentifier(e),l);return Qw(l,_),c.set(e,_),l}function l(t){return 2&t.transformFlags?function(t){switch(t.kind){case 284:return m(t,!1);case 285:return g(t,!1);case 288:return h(t,!1);case 294:return I(t);default:return SJ(t,l,e)}}(t):t}function _(e){switch(e.kind){case 12:return function(e){const n=function(e){let t,n=0,r=-1;for(let i=0;i<e.length;i++){const o=e.charCodeAt(i);Ga(o)?(-1!==n&&-1!==r&&(t=N(t,e.substr(n,r-n+1))),n=-1):Ka(o)||(r=i,-1===n&&(n=i))}return-1!==n?N(t,e.substr(n)):t}(e.text);return void 0===n?void 0:t.createStringLiteral(n)}(e);case 294:return I(e);case 284:return m(e,!0);case 285:return g(e,!0);case 288:return h(e,!0);default:return fn.failBadSyntaxKind(e)}}function d(e){return e.properties.some(e=>ZE(e)&&(tN(e.name)&&"__proto__"===xc(e.name)||MD(e.name)&&"__proto__"===e.name.text))}function f(e){return void 0===o.importSpecifier||function(e){let t=!1;for(const n of e.attributes.properties)if(!WE(n)||aF(n.expression)&&!n.expression.properties.some(eP)){if(t&&VE(n)&&tN(n.name)&&"key"===n.name.escapedText)return!0}else t=!0;return!1}(e)}function m(e,t){return(f(e.openingElement)?x:v)(e.openingElement,e.children,t,e)}function g(e,t){return(f(e)?x:v)(e,void 0,t,e)}function h(e,t){return(void 0===o.importSpecifier?T:S)(e.openingFragment,e.children,t,e)}function y(e){const n=py(e);if(1===p(n)&&!n[0].dotDotDotToken){const e=_(n[0]);return e&&t.createPropertyAssignment("children",e)}const r=z(e,_);return p(r)?t.createPropertyAssignment("children",t.createArrayLiteralExpression(r)):void 0}function v(e,n,r,i){const o=P(e),a=n&&n.length?y(n):void 0,s=k(e.attributes.properties,e=>!!e.name&&tN(e.name)&&"key"===e.name.escapedText),c=s?F(e.attributes.properties,e=>e!==s):e.attributes.properties;return b(o,p(c)?C(c,a):t.createObjectLiteralExpression(a?[a]:u),s,n||u,r,i)}function b(e,n,o,c,l,_){var u;const d=py(c),f=p(d)>1||!!(null==(u=d[0])?void 0:u.dotDotDotToken),m=[e,n];if(o&&m.push(D(o.initializer)),5===r.jsx){const e=mc(i);if(e&&nP(e)){void 0===o&&m.push(t.createVoidZero()),m.push(f?t.createTrue():t.createFalse());const n=$a(e,_.pos);m.push(t.createObjectLiteralExpression([t.createPropertyAssignment("fileName",a()),t.createPropertyAssignment("lineNumber",t.createNumericLiteral(n.line+1)),t.createPropertyAssignment("columnNumber",t.createNumericLiteral(n.character+1))])),m.push(t.createThis())}}const g=vI(t.createCallExpression(s(f),void 0,m),_);return l&&TA(g),g}function x(n,a,s,l){const u=P(n),d=n.attributes.properties,f=p(d)?C(d):t.createNull(),m=void 0===o.importSpecifier?rA(t,e.getEmitResolver().getJsxFactoryEntity(i),r.reactNamespace,n):c("createElement"),g=iA(t,m,u,f,z(a,_),l);return s&&TA(g),g}function S(e,n,r,i){let o;if(n&&n.length){const e=function(e){const n=y(e);return n&&t.createObjectLiteralExpression([n])}(n);e&&(o=e)}return b(c("Fragment"),o||t.createObjectLiteralExpression([]),void 0,n,r,i)}function T(n,o,a,s){const c=oA(t,e.getEmitResolver().getJsxFactoryEntity(i),e.getEmitResolver().getJsxFragmentFactoryEntity(i),r.reactNamespace,z(o,_),n,s);return a&&TA(c),c}function C(e,i){const o=Sk(r);return o&&o>=5?t.createObjectLiteralExpression(function(e,n){const r=L($(e,WE,(e,n)=>L(A(e,e=>{return n?aF((r=e).expression)&&!d(r.expression)?O(r.expression.properties,e=>fn.checkDefined(pJ(e,l,T_))):t.createSpreadAssignment(fn.checkDefined(pJ(r.expression,l,G_))):w(e);var r}))));return n&&r.push(n),r}(e,i)):function(e,r){const i=[];let o=[];for(const t of e)if(WE(t)){if(aF(t.expression)&&!d(t.expression)){for(const e of t.expression.properties)eP(e)?(a(),i.push(fn.checkDefined(pJ(e.expression,l,G_)))):o.push(fn.checkDefined(pJ(e,l)));continue}a(),i.push(fn.checkDefined(pJ(t.expression,l,G_)))}else o.push(w(t));return r&&o.push(r),a(),i.length&&!aF(i[0])&&i.unshift(t.createObjectLiteralExpression()),Se(i)||n().createAssignHelper(i);function a(){o.length&&(i.push(t.createObjectLiteralExpression(o)),o=[])}}(e,i)}function w(e){const n=function(e){const n=e.name;if(tN(n)){const e=xc(n);return/^[A-Z_]\w*$/i.test(e)?n:t.createStringLiteral(e)}return t.createStringLiteral(xc(n.namespace)+":"+xc(n.name))}(e),r=D(e.initializer);return t.createPropertyAssignment(n,r)}function D(e){if(void 0===e)return t.createTrue();if(11===e.kind){const n=void 0!==e.singleQuote?e.singleQuote:!$m(e,i);return vI(t.createStringLiteral(function(e){const t=E(e);return t===e?void 0:t}(e.text)||e.text,n),e)}return 294===e.kind?void 0===e.expression?t.createTrue():fn.checkDefined(pJ(e.expression,l,G_)):jE(e)?m(e,!1):RE(e)?g(e,!1):JE(e)?h(e,!1):fn.failBadSyntaxKind(e)}function N(e,t){const n=E(t);return void 0===e?n:e+" "+n}function E(e){return e.replace(/&((#((\d+)|x([\da-fA-F]+)))|(\w+));/g,(e,t,n,r,i,o,a)=>{if(i)return Cs(parseInt(i,10));if(o)return Cs(parseInt(o,16));{const t=yq.get(a);return t?Cs(t):e}})}function P(e){if(284===e.kind)return P(e.openingElement);{const n=e.tagName;return tN(n)&&Oy(n.escapedText)?t.createStringLiteral(xc(n)):HE(n)?t.createStringLiteral(xc(n.namespace)+":"+xc(n.name)):sA(t,n)}}function I(e){const n=pJ(e.expression,l,G_);return e.dotDotDotToken?t.createSpreadElement(n):n}}var yq=new Map(Object.entries({quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830}));function vq(e){const{factory:t,hoistVariableDeclaration:n}=e;return XJ(e,function(t){return t.isDeclarationFile?t:SJ(t,r,e)});function r(i){return 512&i.transformFlags?226===i.kind?function(i){switch(i.operatorToken.kind){case 68:return function(e){let i,o;const a=pJ(e.left,r,G_),s=pJ(e.right,r,G_);if(cF(a)){const e=t.createTempVariable(n),r=t.createTempVariable(n);i=vI(t.createElementAccessExpression(vI(t.createAssignment(e,a.expression),a.expression),vI(t.createAssignment(r,a.argumentExpression),a.argumentExpression)),a),o=vI(t.createElementAccessExpression(e,r),a)}else if(sF(a)){const e=t.createTempVariable(n);i=vI(t.createPropertyAccessExpression(vI(t.createAssignment(e,a.expression),a.expression),a.name),a),o=vI(t.createPropertyAccessExpression(e,a.name),a)}else i=a,o=a;return vI(t.createAssignment(i,vI(t.createGlobalMethodCall("Math","pow",[o,s]),e)),e)}(i);case 43:return function(e){const n=pJ(e.left,r,G_),i=pJ(e.right,r,G_);return vI(t.createGlobalMethodCall("Math","pow",[n,i]),e)}(i);default:return SJ(i,r,e)}}(i):SJ(i,r,e):i}}function bq(e,t){return{kind:e,expression:t}}function xq(e){const{factory:t,getEmitHelperFactory:n,startLexicalEnvironment:r,resumeLexicalEnvironment:i,endLexicalEnvironment:o,hoistVariableDeclaration:a}=e,s=e.getCompilerOptions(),c=e.getEmitResolver(),l=e.onSubstituteNode,_=e.onEmitNode;let u,d,p,f,m;function g(e){f=se(f,t.createVariableDeclaration(e))}e.onEmitNode=function(e,t,n){if(1&h&&c_(t)){const r=y(32670,16&rp(t)?81:65);return _(e,t,n),void v(r,0,0)}_(e,t,n)},e.onSubstituteNode=function(e,n){return n=l(e,n),1===e?function(e){switch(e.kind){case 80:return function(e){if(2&h&&!uA(e)){const n=c.getReferencedDeclarationWithCollidingName(e);if(n&&(!g_(n)||!function(e,t){let n=yc(t);if(!n||n===e||n.end<=e.pos||n.pos>=e.end)return!1;const r=Op(e);for(;n;){if(n===r||n===e)return!1;if(m_(n)&&n.parent===e)return!0;n=n.parent}return!1}(n,e)))return vI(t.getGeneratedNameForNode(Ec(n)),e)}return e}(e);case 110:return function(e){return 1&h&&16&p?vI(E(),e):e}(e)}return e}(n):tN(n)?function(e){if(2&h&&!uA(e)){const n=yc(e,tN);if(n&&function(e){switch(e.parent.kind){case 208:case 263:case 266:case 260:return e.parent.name===e&&c.isDeclarationWithCollidingName(e.parent)}return!1}(n))return vI(t.getGeneratedNameForNode(n),e)}return e}(n):n};let h=0;return XJ(e,function(n){if(n.isDeclarationFile)return n;u=n,d=n.text;const i=function(e){const n=y(8064,64),i=[],a=[];r();const s=t.copyPrologue(e.statements,i,!1,S);return _e(a,fJ(e.statements,S,yu,s)),f&&a.push(t.createVariableStatement(void 0,t.createVariableDeclarationList(f))),t.mergeLexicalEnvironment(i,o()),ae(i,e),v(n,0,0),t.updateSourceFile(e,vI(t.createNodeArray(X(i,a)),e.statements))}(n);return Mw(i,e.readEmitHelpers()),u=void 0,d=void 0,f=void 0,p=0,i});function y(e,t){const n=p;return p=32767&(p&~e|t),n}function v(e,t,n){p=-32768&(p&~t|n)|e}function b(e){return!!(8192&p)&&253===e.kind&&!e.expression}function k(e){return!!(1024&e.transformFlags)||void 0!==m||8192&p&&function(e){return 4194304&e.transformFlags&&(QF(e)||VF(e)||ZF(e)||YF(e)||pE(e)||KE(e)||GE(e)||nE(e)||QE(e)||eE(e)||Q_(e,!1)||BF(e))}(e)||Q_(e,!1)&&qe(e)||!!(1&ip(e))}function S(e){return k(e)?D(e,!1):e}function T(e){return k(e)?D(e,!0):e}function C(e){if(k(e)){const t=mc(e);if(kN(t)&&Ov(t)){const t=y(32670,16449),n=D(e,!1);return v(t,229376,0),n}return D(e,!1)}return e}function w(e){return 108===e.kind?lt(e,!0):S(e)}function D(n,r){switch(n.kind){case 126:return;case 263:return function(e){const n=t.createVariableDeclaration(t.getLocalName(e,!0),void 0,void 0,I(e));dw(n,e);const r=[],i=t.createVariableStatement(void 0,t.createVariableDeclarationList([n]));if(dw(i,e),vI(i,e),TA(i),r.push(i),Av(e,32)){const n=Av(e,2048)?t.createExportDefault(t.getLocalName(e)):t.createExternalModuleExport(t.getLocalName(e));dw(n,i),r.push(n)}return Ce(r)}(n);case 231:return function(e){return I(e)}(n);case 169:return function(e){return e.dotDotDotToken?void 0:D_(e.name)?dw(vI(t.createParameterDeclaration(void 0,void 0,t.getGeneratedNameForNode(e),void 0,void 0,void 0),e),e):e.initializer?dw(vI(t.createParameterDeclaration(void 0,void 0,e.name,void 0,void 0,void 0),e),e):e}(n);case 262:return function(n){const r=m;m=void 0;const i=y(32670,65),o=yJ(n.parameters,S,e),a=ye(n),s=32768&p?t.getLocalName(n):n.name;return v(i,229376,0),m=r,t.updateFunctionDeclaration(n,fJ(n.modifiers,S,i_),n.asteriskToken,s,void 0,o,void 0,a)}(n);case 219:return function(n){16384&n.transformFlags&&!(16384&p)&&(p|=131072);const r=m;m=void 0;const i=y(15232,66),o=t.createFunctionExpression(void 0,void 0,void 0,void 0,yJ(n.parameters,S,e),void 0,ye(n));return vI(o,n),dw(o,n),gw(o,16),v(i,0,0),m=r,o}(n);case 218:return function(n){const r=524288&rp(n)?y(32662,69):y(32670,65),i=m;m=void 0;const o=yJ(n.parameters,S,e),a=ye(n),s=32768&p?t.getLocalName(n):n.name;return v(r,229376,0),m=i,t.updateFunctionExpression(n,void 0,n.asteriskToken,s,void 0,o,void 0,a)}(n);case 260:return we(n);case 80:return P(n);case 261:return function(n){if(7&n.flags||524288&n.transformFlags){7&n.flags&&_t();const e=fJ(n.declarations,1&n.flags?Te:we,iE),r=t.createVariableDeclarationList(e);return dw(r,n),vI(r,n),Dw(r,n),524288&n.transformFlags&&(D_(n.declarations[0].name)||D_(ke(n.declarations).name))&&xw(r,function(e){let t=-1,n=-1;for(const r of e)t=-1===t?r.pos:-1===r.pos?t:Math.min(t,r.pos),n=Math.max(n,r.end);return Rb(t,n)}(e)),r}return SJ(n,S,e)}(n);case 255:return function(t){if(void 0!==m){const n=m.allowedNonLabeledJumps;m.allowedNonLabeledJumps|=2;const r=SJ(t,S,e);return m.allowedNonLabeledJumps=n,r}return SJ(t,S,e)}(n);case 269:return function(t){const n=y(7104,0),r=SJ(t,S,e);return v(n,0,0),r}(n);case 241:return function(t){const n=256&p?y(7104,512):y(6976,128),r=SJ(t,S,e);return v(n,0,0),r}(n);case 252:case 251:return function(n){if(m){const e=252===n.kind?2:4;if(!(n.label&&m.labels&&m.labels.get(xc(n.label))||!n.label&&m.allowedNonLabeledJumps&e)){let e;const r=n.label;r?252===n.kind?(e=`break-${r.escapedText}`,Ge(m,!0,xc(r),e)):(e=`continue-${r.escapedText}`,Ge(m,!1,xc(r),e)):252===n.kind?(m.nonLocalJumps|=2,e="break"):(m.nonLocalJumps|=4,e="continue");let i=t.createStringLiteral(e);if(m.loopOutParameters.length){const e=m.loopOutParameters;let n;for(let r=0;r<e.length;r++){const i=He(e[r],1);n=0===r?i:t.createBinaryExpression(n,28,i)}i=t.createBinaryExpression(n,28,i)}return t.createReturnStatement(i)}}return SJ(n,S,e)}(n);case 256:return function(e){var n;m&&!m.labels&&(m.labels=new Map);const r=qf(e,m&&De);return Q_(r,!1)?function(e,t){switch(e.kind){case 246:case 247:return Ee(e,t);case 248:return Pe(e,t);case 249:return Ae(e,t);case 250:return Ie(e,t)}}(r,e):t.restoreEnclosingLabel(null!=(n=pJ(r,S,yu,t.liftToBlock))?n:vI(t.createEmptyStatement(),r),e,m&&Ne)}(n);case 246:case 247:return Ee(n,void 0);case 248:return Pe(n,void 0);case 249:return Ae(n,void 0);case 250:return Ie(n,void 0);case 244:case 222:return function(t){return SJ(t,T,e)}(n);case 210:return function(n){const r=n.properties;let i=-1,o=!1;for(let e=0;e<r.length;e++){const t=r[e];if(1048576&t.transformFlags&&4&p||(o=167===fn.checkDefined(t.name).kind)){i=e;break}}if(i<0)return SJ(n,S,e);const s=t.createTempVariable(a),c=[],l=t.createAssignment(s,gw(t.createObjectLiteralExpression(fJ(r,S,T_,0,i),n.multiLine),o?131072:0));return n.multiLine&&TA(l),c.push(l),function(e,t,n,r){const i=t.properties,o=i.length;for(let a=r;a<o;a++){const r=i[a];switch(r.kind){case 177:case 178:const i=hv(t.properties,r);r===i.firstAccessor&&e.push(fe(n,i,t,!!t.multiLine));break;case 174:e.push(et(r,n,t,t.multiLine));break;case 303:e.push(Ze(r,n,t.multiLine));break;case 304:e.push(Ye(r,n,t.multiLine));break;default:fn.failBadSyntaxKind(t)}}}(c,n,s,i),c.push(n.multiLine?TA(IT(vI(t.cloneNode(s),s),s.parent)):s),t.inlineExpressions(c)}(n);case 299:return function(n){const r=y(7104,0);let i;if(fn.assert(!!n.variableDeclaration,"Catch clause variable should always be present when downleveling ES2015."),D_(n.variableDeclaration.name)){const r=t.createTempVariable(void 0),o=t.createVariableDeclaration(r);vI(o,n.variableDeclaration);const a=Az(n.variableDeclaration,S,e,0,r),s=t.createVariableDeclarationList(a);vI(s,n.variableDeclaration);const c=t.createVariableStatement(void 0,s);i=t.updateCatchClause(n,o,function(e,n){const r=fJ(e.statements,S,yu);return t.updateBlock(e,[n,...r])}(n.block,c))}else i=SJ(n,S,e);return v(r,0,0),i}(n);case 304:return function(e){return vI(t.createPropertyAssignment(e.name,P(t.cloneNode(e.name))),e)}(n);case 167:case 229:return function(t){return SJ(t,S,e)}(n);case 209:return function(t){return K(t.elements,wF)?tt(t.elements,!1,!!t.multiLine,!!t.elements.hasTrailingComma):SJ(t,S,e)}(n);case 213:return function(n){if(1&ip(n))return function(e){const n=ot(ot(kA(e.expression),mF).body,BF),r=e=>JF(e)&&!!ve(e.declarationList.declarations).initializer,i=m;m=void 0;const o=fJ(n.statements,C,yu);m=i;const a=F(o,r),s=F(o,e=>!r(e)),c=ot(ve(a),JF).declarationList.declarations[0],l=kA(c.initializer);let _=it(l,cb);!_&&kF(l)&&28===l.operatorToken.kind&&(_=it(l.left,cb));const u=ot(_?kA(_.right):l,lF),d=ot(kA(u.expression),fF),p=d.body.statements;let f=0,g=-1;const h=[];if(_){const e=it(p[f],qF);e&&(h.push(e),f++),h.push(p[f]),f++,h.push(t.createExpressionStatement(t.createAssignment(_.left,ot(c.name,tN))))}for(;!QF(ge(p,g));)g--;_e(h,p,f,g),g<-1&&_e(h,p,g+1);const y=it(ge(p,g),QF);for(const t of s)QF(t)&&(null==y?void 0:y.expression)&&!tN(y.expression)?h.push(y):h.push(t);return _e(h,a,1),t.restoreOuterExpressions(e.expression,t.restoreOuterExpressions(c.initializer,t.restoreOuterExpressions(_&&_.right,t.updateCallExpression(u,t.restoreOuterExpressions(u.expression,t.updateFunctionExpression(d,void 0,void 0,void 0,void 0,d.parameters,void 0,t.updateBlock(d.body,h))),void 0,u.arguments))))}(n);const r=kA(n.expression);return 108===r.kind||_m(r)||K(n.arguments,wF)?function(n){if(32768&n.transformFlags||108===n.expression.kind||_m(kA(n.expression))){const{target:e,thisArg:r}=t.createCallBinding(n.expression,a);let i;if(108===n.expression.kind&&gw(r,8),i=32768&n.transformFlags?t.createFunctionApplyCall(fn.checkDefined(pJ(e,w,G_)),108===n.expression.kind?r:fn.checkDefined(pJ(r,S,G_)),tt(n.arguments,!0,!1,!1)):vI(t.createFunctionCallCall(fn.checkDefined(pJ(e,w,G_)),108===n.expression.kind?r:fn.checkDefined(pJ(r,S,G_)),fJ(n.arguments,S,G_)),n),108===n.expression.kind){const e=t.createLogicalOr(i,Y());i=t.createAssignment(E(),e)}return dw(i,n)}return pf(n)&&(p|=131072),SJ(n,S,e)}(n):t.updateCallExpression(n,fn.checkDefined(pJ(n.expression,w,G_)),void 0,fJ(n.arguments,S,G_))}(n);case 214:return function(n){if(K(n.arguments,wF)){const{target:e,thisArg:r}=t.createCallBinding(t.createPropertyAccessExpression(n.expression,"bind"),a);return t.createNewExpression(t.createFunctionApplyCall(fn.checkDefined(pJ(e,S,G_)),r,tt(t.createNodeArray([t.createVoidZero(),...n.arguments]),!0,!1,!1)),void 0,[])}return SJ(n,S,e)}(n);case 217:return function(t,n){return SJ(t,n?T:S,e)}(n,r);case 226:return be(n,r);case 356:return function(n,r){if(r)return SJ(n,T,e);let i;for(let e=0;e<n.elements.length;e++){const t=n.elements[e],r=pJ(t,e<n.elements.length-1?T:S,G_);(i||r!==t)&&(i||(i=n.elements.slice(0,e)),fn.assert(r),i.push(r))}const o=i?vI(t.createNodeArray(i),n.elements):n.elements;return t.updateCommaListExpression(n,o)}(n,r);case 15:case 16:case 17:case 18:return function(e){return vI(t.createStringLiteral(e.text),e)}(n);case 11:return function(e){return e.hasExtendedUnicodeEscape?vI(t.createStringLiteral(e.text),e):e}(n);case 9:return function(e){return 384&e.numericLiteralFlags?vI(t.createNumericLiteral(e.text),e):e}(n);case 215:return function(t){return Xz(e,t,S,u,g,1)}(n);case 228:return function(e){let n=t.createStringLiteral(e.head.text);for(const r of e.templateSpans){const e=[fn.checkDefined(pJ(r.expression,S,G_))];r.literal.text.length>0&&e.push(t.createStringLiteral(r.literal.text)),n=t.createCallExpression(t.createPropertyAccessExpression(n,"concat"),void 0,e)}return vI(n,e)}(n);case 230:return function(e){return pJ(e.expression,S,G_)}(n);case 108:return lt(n,!1);case 110:return function(e){return p|=65536,2&p&&!(16384&p)&&(p|=131072),m?2&p?(m.containsLexicalThis=!0,e):m.thisName||(m.thisName=t.createUniqueName("this")):e}(n);case 236:return function(e){return 105===e.keywordToken&&"target"===e.name.escapedText?(p|=32768,t.createUniqueName("_newTarget",48)):e}(n);case 174:return function(e){fn.assert(!hN(e.name));const n=me(e,Bb(e,-1),void 0,void 0);return gw(n,1024|rp(n)),vI(t.createPropertyAssignment(e.name,n),e)}(n);case 177:case 178:return function(n){fn.assert(!hN(n.name));const r=m;m=void 0;const i=y(32670,65);let o;const a=yJ(n.parameters,S,e),s=ye(n);return o=177===n.kind?t.updateGetAccessorDeclaration(n,n.modifiers,n.name,a,n.type,s):t.updateSetAccessorDeclaration(n,n.modifiers,n.name,a,s),v(i,229376,0),m=r,o}(n);case 243:return function(n){const r=y(0,Av(n,32)?32:0);let i;if(!m||7&n.declarationList.flags||function(e){return 1===e.declarationList.declarations.length&&!!e.declarationList.declarations[0].initializer&&!!(1&ip(e.declarationList.declarations[0].initializer))}(n))i=SJ(n,S,e);else{let r;for(const i of n.declarationList.declarations)if(Ue(m,i),i.initializer){let n;D_(i.name)?n=Fz(i,S,e,0):(n=t.createBinaryExpression(i.name,64,fn.checkDefined(pJ(i.initializer,S,G_))),vI(n,i)),r=se(r,n)}i=r?vI(t.createExpressionStatement(t.inlineExpressions(r)),n):void 0}return v(r,0,0),i}(n);case 253:return function(n){return m?(m.nonLocalJumps|=8,b(n)&&(n=N(n)),t.createReturnStatement(t.createObjectLiteralExpression([t.createPropertyAssignment(t.createIdentifier("value"),n.expression?fn.checkDefined(pJ(n.expression,S,G_)):t.createVoidZero())]))):b(n)?N(n):SJ(n,S,e)}(n);default:return SJ(n,S,e)}}function N(e){return dw(t.createReturnStatement(E()),e)}function E(){return t.createUniqueName("_this",48)}function P(e){return m&&c.isArgumentsLocalBinding(e)?m.argumentsName||(m.argumentsName=t.createUniqueName("arguments")):256&e.flags?dw(vI(t.createIdentifier(bc(e.escapedText)),e),e):e}function I(a){a.name&&_t();const s=Sh(a),c=t.createFunctionExpression(void 0,void 0,void 0,void 0,s?[t.createParameterDeclaration(void 0,void 0,ct())]:[],void 0,function(a,s){const c=[],l=t.getInternalName(a),_=Lh(l)?t.getGeneratedNameForNode(l):l;r(),function(e,r,i){i&&e.push(vI(t.createExpressionStatement(n().createExtendsHelper(t.getInternalName(r))),i))}(c,a,s),function(n,r,a,s){const c=m;m=void 0;const l=y(32662,73),_=cv(r),u=function(e,t){if(!e||!t)return!1;if(K(e.parameters))return!1;const n=he(e.body.statements);if(!n||!iy(n)||244!==n.kind)return!1;const r=n.expression;if(!iy(r)||213!==r.kind)return!1;const i=r.expression;if(!iy(i)||108!==i.kind)return!1;const o=Se(r.arguments);if(!o||!iy(o)||230!==o.kind)return!1;const a=o.expression;return tN(a)&&"arguments"===a.escapedText}(_,void 0!==s),d=t.createFunctionDeclaration(void 0,void 0,a,void 0,function(t,n){return yJ(t&&!n?t.parameters:void 0,S,e)||[]}(_,u),void 0,function(e,n,r,a){const s=!!r&&106!==kA(r.expression).kind;if(!e)return function(e,n){const r=[];i(),t.mergeLexicalEnvironment(r,o()),n&&r.push(t.createReturnStatement(t.createLogicalOr(t.createLogicalAnd(t.createStrictInequality(ct(),t.createNull()),t.createFunctionApplyCall(ct(),Y(),t.createIdentifier("arguments"))),Y())));const a=t.createNodeArray(r);vI(a,e.members);const s=t.createBlock(a,!0);return vI(s,e),gw(s,3072),s}(n,s);const c=[],l=[];i();const _=t.copyStandardPrologue(e.body.statements,c,0);(a||j(e.body))&&(p|=8192),_e(l,fJ(e.body.statements,S,yu,_));const u=s||8192&p;te(c,e),oe(c,e,a),le(c,e),u?ce(c,e,Y()):ae(c,e),t.mergeLexicalEnvironment(c,o()),u&&!Z(e.body)&&l.push(t.createReturnStatement(E()));const d=t.createBlock(vI(t.createNodeArray([...c,...l]),e.body.statements),!0);return vI(d,e.body),function(e,n,r){const i=e;return e=function(e){for(let n=0;n<e.statements.length-1;n++){const r=e.statements[n];if(!B(r))continue;const i=r.declarationList.declarations[0];if(110!==i.initializer.kind)continue;const o=n;let a=n+1;for(;a<e.statements.length;){const t=e.statements[a];if(qF(t)&&H(kA(t.expression)))break;if(!O(t))return e;a++}const s=e.statements[a];let c=s.expression;J(c)&&(c=c.right);const l=t.updateVariableDeclaration(i,i.name,void 0,void 0,c),_=t.updateVariableDeclarationList(r.declarationList,[l]),u=t.createVariableStatement(r.modifiers,_);dw(u,s),vI(u,s);const d=t.createNodeArray([...e.statements.slice(0,o),...e.statements.slice(o+1,a),u,...e.statements.slice(a+1)]);return vI(d,e.statements),t.updateBlock(e,d)}return e}(e),e=function(e,n){for(const t of n.statements)if(134217728&t.transformFlags&&!lz(t))return e;const r=!(16384&n.transformFlags||65536&p||131072&p);for(let i=e.statements.length-1;i>0;i--){const n=e.statements[i];if(QF(n)&&n.expression&&R(n.expression)){const n=e.statements[i-1];let o;if(qF(n)&&W(kA(n.expression)))o=n.expression;else if(r&&B(n)){const e=n.declarationList.declarations[0];H(kA(e.initializer))&&(o=t.createAssignment(E(),e.initializer))}if(!o)break;const a=t.createReturnStatement(o);dw(a,n),vI(a,n);const s=t.createNodeArray([...e.statements.slice(0,i-1),a,...e.statements.slice(i+1)]);return vI(s,e.statements),t.updateBlock(e,s)}}return e}(e,n),e!==i&&(e=function(e,n){if(16384&n.transformFlags||65536&p||131072&p)return e;for(const t of n.statements)if(134217728&t.transformFlags&&!lz(t))return e;return t.updateBlock(e,fJ(e.statements,G,yu))}(e,n)),r&&(e=function(e){return t.updateBlock(e,fJ(e.statements,Q,yu))}(e)),e}(d,e.body,a)}(_,r,s,u));vI(d,_||r),s&&gw(d,16),n.push(d),v(l,229376,0),m=c}(c,a,_,s),function(e,t){for(const n of t.members)switch(n.kind){case 240:e.push(ue(n));break;case 174:e.push(de(ut(t,n),n,t));break;case 177:case 178:const r=hv(t.members,n);n===r.firstAccessor&&e.push(pe(ut(t,n),r,t));break;case 176:case 175:break;default:fn.failBadSyntaxKind(n,u&&u.fileName)}}(c,a);const f=qb(ns(d,a.members.end),20),g=t.createPartiallyEmittedExpression(_);FT(g,f.end),gw(g,3072);const h=t.createReturnStatement(g);NT(h,f.pos),gw(h,3840),c.push(h),Md(c,o());const b=t.createBlock(vI(t.createNodeArray(c),a.members),!0);return gw(b,3072),b}(a,s));gw(c,131072&rp(a)|1048576);const l=t.createPartiallyEmittedExpression(c);FT(l,a.end),gw(l,3072);const _=t.createPartiallyEmittedExpression(l);FT(_,ns(d,a.pos)),gw(_,3072);const f=t.createParenthesizedExpression(t.createCallExpression(_,void 0,s?[fn.checkDefined(pJ(s.expression,S,G_))]:[]));return Ew(f,3,"* @class "),f}function O(e){return JF(e)&&x(e.declarationList.declarations,e=>tN(e.name)&&!e.initializer)}function j(e){if(pf(e))return!0;if(!(134217728&e.transformFlags))return!1;switch(e.kind){case 219:case 218:case 262:case 176:case 175:return!1;case 177:case 178:case 174:case 172:{const t=e;return!!hN(t.name)&&!!KI(t.name,j)}}return!!KI(e,j)}function R(e){return Xl(e)&&"_this"===xc(e)}function M(e){return Xl(e)&&"_super"===xc(e)}function B(e){return JF(e)&&1===e.declarationList.declarations.length&&function(e){return iE(e)&&R(e.name)&&!!e.initializer}(e.declarationList.declarations[0])}function J(e){return cb(e,!0)&&R(e.left)}function z(e){return lF(e)&&sF(e.expression)&&M(e.expression.expression)&&tN(e.expression.name)&&("call"===xc(e.expression.name)||"apply"===xc(e.expression.name))&&e.arguments.length>=1&&110===e.arguments[0].kind}function q(e){return kF(e)&&57===e.operatorToken.kind&&110===e.right.kind&&z(e.left)}function V(e){return kF(e)&&56===e.operatorToken.kind&&kF(e.left)&&38===e.left.operatorToken.kind&&M(e.left.left)&&106===e.left.right.kind&&z(e.right)&&"apply"===xc(e.right.expression.name)}function U(e){return kF(e)&&57===e.operatorToken.kind&&110===e.right.kind&&V(e.left)}function W(e){return J(e)&&q(e.right)}function H(e){return z(e)||q(e)||W(e)||V(e)||U(e)||function(e){return J(e)&&U(e.right)}(e)}function G(e){if(B(e)){if(110===e.declarationList.declarations[0].initializer.kind)return}else if(J(e))return t.createPartiallyEmittedExpression(e.right,e);switch(e.kind){case 219:case 218:case 262:case 176:case 175:return e;case 177:case 178:case 174:case 172:{const n=e;return hN(n.name)?t.replacePropertyName(n,SJ(n.name,G,void 0)):e}}return SJ(e,G,void 0)}function Q(e){if(z(e)&&2===e.arguments.length&&tN(e.arguments[1])&&"arguments"===xc(e.arguments[1]))return t.createLogicalAnd(t.createStrictInequality(ct(),t.createNull()),e);switch(e.kind){case 219:case 218:case 262:case 176:case 175:return e;case 177:case 178:case 174:case 172:{const n=e;return hN(n.name)?t.replacePropertyName(n,SJ(n.name,Q,void 0)):e}}return SJ(e,Q,void 0)}function Z(e){if(253===e.kind)return!0;if(245===e.kind){const t=e;if(t.elseStatement)return Z(t.thenStatement)&&Z(t.elseStatement)}else if(241===e.kind){const t=xe(e.statements);if(t&&Z(t))return!0}return!1}function Y(){return gw(t.createThis(),8)}function ee(e){return void 0!==e.initializer||D_(e.name)}function te(e,t){if(!K(t.parameters,ee))return!1;let n=!1;for(const r of t.parameters){const{name:t,initializer:i,dotDotDotToken:o}=r;o||(D_(t)?n=ne(e,r,t,i)||n:i&&(re(e,r,t,i),n=!0))}return n}function ne(n,r,i,o){return i.elements.length>0?(zd(n,gw(t.createVariableStatement(void 0,t.createVariableDeclarationList(Az(r,S,e,0,t.getGeneratedNameForNode(r)))),2097152)),!0):!!o&&(zd(n,gw(t.createExpressionStatement(t.createAssignment(t.getGeneratedNameForNode(r),fn.checkDefined(pJ(o,S,G_)))),2097152)),!0)}function re(e,n,r,i){i=fn.checkDefined(pJ(i,S,G_));const o=t.createIfStatement(t.createTypeCheck(t.cloneNode(r),"undefined"),gw(vI(t.createBlock([t.createExpressionStatement(gw(vI(t.createAssignment(gw(IT(vI(t.cloneNode(r),r),r.parent),96),gw(i,3168|rp(i))),n),3072))]),n),3905));TA(o),vI(o,n),gw(o,2101056),zd(e,o)}function oe(n,r,i){const o=[],a=xe(r.parameters);if(!function(e,t){return!(!e||!e.dotDotDotToken||t)}(a,i))return!1;const s=80===a.name.kind?IT(vI(t.cloneNode(a.name),a.name),a.name.parent):t.createTempVariable(void 0);gw(s,96);const c=80===a.name.kind?t.cloneNode(a.name):s,l=r.parameters.length-1,_=t.createLoopVariable();o.push(gw(vI(t.createVariableStatement(void 0,t.createVariableDeclarationList([t.createVariableDeclaration(s,void 0,void 0,t.createArrayLiteralExpression([]))])),a),2097152));const u=t.createForStatement(vI(t.createVariableDeclarationList([t.createVariableDeclaration(_,void 0,void 0,t.createNumericLiteral(l))]),a),vI(t.createLessThan(_,t.createPropertyAccessExpression(t.createIdentifier("arguments"),"length")),a),vI(t.createPostfixIncrement(_),a),t.createBlock([TA(vI(t.createExpressionStatement(t.createAssignment(t.createElementAccessExpression(c,0===l?_:t.createSubtract(_,t.createNumericLiteral(l))),t.createElementAccessExpression(t.createIdentifier("arguments"),_))),a))]));return gw(u,2097152),TA(u),o.push(u),80!==a.name.kind&&o.push(gw(vI(t.createVariableStatement(void 0,t.createVariableDeclarationList(Az(a,S,e,0,c))),a),2097152)),Bd(n,o),!0}function ae(e,n){return!!(131072&p&&219!==n.kind)&&(ce(e,n,t.createThis()),!0)}function ce(n,r,i){1&h||(h|=1,e.enableSubstitution(110),e.enableEmitNotification(176),e.enableEmitNotification(174),e.enableEmitNotification(177),e.enableEmitNotification(178),e.enableEmitNotification(219),e.enableEmitNotification(218),e.enableEmitNotification(262));const o=t.createVariableStatement(void 0,t.createVariableDeclarationList([t.createVariableDeclaration(E(),void 0,void 0,i)]));gw(o,2100224),xw(o,r),zd(n,o)}function le(e,n){if(32768&p){let r;switch(n.kind){case 219:return e;case 174:case 177:case 178:r=t.createVoidZero();break;case 176:r=t.createPropertyAccessExpression(gw(t.createThis(),8),"constructor");break;case 262:case 218:r=t.createConditionalExpression(t.createLogicalAnd(gw(t.createThis(),8),t.createBinaryExpression(gw(t.createThis(),8),104,t.getLocalName(n))),void 0,t.createPropertyAccessExpression(gw(t.createThis(),8),"constructor"),void 0,t.createVoidZero());break;default:return fn.failBadSyntaxKind(n)}const i=t.createVariableStatement(void 0,t.createVariableDeclarationList([t.createVariableDeclaration(t.createUniqueName("_newTarget",48),void 0,void 0,r)]));gw(i,2100224),zd(e,i)}return e}function ue(e){return vI(t.createEmptyStatement(),e)}function de(n,r,i){const o=ww(r),a=bw(r),s=me(r,r,void 0,i),c=pJ(r.name,S,a_);let l;if(fn.assert(c),!nN(c)&&Mk(e.getCompilerOptions())){const e=hN(c)?c.expression:tN(c)?t.createStringLiteral(bc(c.escapedText)):c;l=t.createObjectDefinePropertyCall(n,e,t.createPropertyDescriptor({value:s,enumerable:!1,writable:!0,configurable:!0}))}else{const e=eA(t,n,c,r.name);l=t.createAssignment(e,s)}gw(s,3072),xw(s,a);const _=vI(t.createExpressionStatement(l),r);return dw(_,r),Dw(_,o),gw(_,96),_}function pe(e,n,r){const i=t.createExpressionStatement(fe(e,n,r,!1));return gw(i,3072),xw(i,bw(n.firstAccessor)),i}function fe(e,{firstAccessor:n,getAccessor:r,setAccessor:i},o,a){const s=IT(vI(t.cloneNode(e),e),e.parent);gw(s,3136),xw(s,n.name);const c=pJ(n.name,S,a_);if(fn.assert(c),nN(c))return fn.failBadSyntaxKind(c,"Encountered unhandled private identifier while transforming ES2015.");const l=cA(t,c);gw(l,3104),xw(l,n.name);const _=[];if(r){const e=me(r,void 0,void 0,o);xw(e,bw(r)),gw(e,1024);const n=t.createPropertyAssignment("get",e);Dw(n,ww(r)),_.push(n)}if(i){const e=me(i,void 0,void 0,o);xw(e,bw(i)),gw(e,1024);const n=t.createPropertyAssignment("set",e);Dw(n,ww(i)),_.push(n)}_.push(t.createPropertyAssignment("enumerable",r||i?t.createFalse():t.createTrue()),t.createPropertyAssignment("configurable",t.createTrue()));const u=t.createCallExpression(t.createPropertyAccessExpression(t.createIdentifier("Object"),"defineProperty"),void 0,[s,l,t.createObjectLiteralExpression(_,!0)]);return a&&TA(u),u}function me(n,r,i,o){const a=m;m=void 0;const s=o&&g_(o)&&!Iv(n)?y(32670,73):y(32670,65),c=yJ(n.parameters,S,e),l=ye(n);return 32768&p&&!i&&(262===n.kind||218===n.kind)&&(i=t.getGeneratedNameForNode(n)),v(s,229376,0),m=a,dw(vI(t.createFunctionExpression(void 0,n.asteriskToken,i,void 0,c,void 0,l),r),n)}function ye(e){let n,r,a=!1,s=!1;const c=[],l=[],_=e.body;let d;if(i(),BF(_)&&(d=t.copyStandardPrologue(_.statements,c,0,!1),d=t.copyCustomPrologue(_.statements,l,d,S,vf),d=t.copyCustomPrologue(_.statements,l,d,S,xf)),a=te(l,e)||a,a=oe(l,e,!1)||a,BF(_))d=t.copyCustomPrologue(_.statements,l,d,S),n=_.statements,_e(l,fJ(_.statements,S,yu,d)),!a&&_.multiLine&&(a=!0);else{fn.assert(219===e.kind),n=Mb(_,-1);const i=e.equalsGreaterThanToken;iy(i)||iy(_)||(Hb(i,_,u)?s=!0:a=!0);const o=pJ(_,S,G_),c=t.createReturnStatement(o);vI(c,_),Ow(c,_),gw(c,2880),l.push(c),r=_}if(t.mergeLexicalEnvironment(c,o()),le(c,e),ae(c,e),K(c)&&(a=!0),l.unshift(...c),BF(_)&&ie(l,_.statements))return _;const p=t.createBlock(vI(t.createNodeArray(l),n),a);return vI(p,e.body),!a&&s&&gw(p,1),r&&Sw(p,20,r),dw(p,e.body),p}function be(n,r){return lb(n)?Fz(n,S,e,0,!r):28===n.operatorToken.kind?t.updateBinaryExpression(n,fn.checkDefined(pJ(n.left,T,G_)),n.operatorToken,fn.checkDefined(pJ(n.right,r?T:S,G_))):SJ(n,S,e)}function Te(n){return D_(n.name)?we(n):!n.initializer&&function(e){const t=c.hasNodeCheckFlag(e,16384),n=c.hasNodeCheckFlag(e,32768);return!(64&p||t&&n&&512&p)&&!(4096&p)&&(!c.isDeclarationWithCollidingName(e)||n&&!t&&!(6144&p))}(n)?t.updateVariableDeclaration(n,n.name,void 0,void 0,t.createVoidZero()):SJ(n,S,e)}function we(t){const n=y(32,0);let r;return r=D_(t.name)?Az(t,S,e,0,void 0,!!(32&n)):SJ(t,S,e),v(n,0,0),r}function De(e){m.labels.set(xc(e.label),!0)}function Ne(e){m.labels.set(xc(e.label),!1)}function Fe(n,i,a,s,c){const l=y(n,i),_=function(n,i,a,s){if(!qe(n)){let r;m&&(r=m.allowedNonLabeledJumps,m.allowedNonLabeledJumps=6);const o=s?s(n,i,void 0,a):t.restoreEnclosingLabel($F(n)?function(e){return t.updateForStatement(e,pJ(e.initializer,T,ou),pJ(e.condition,S,G_),pJ(e.incrementor,T,G_),fn.checkDefined(pJ(e.statement,S,yu,t.liftToBlock)))}(n):SJ(n,S,e),i,m&&Ne);return m&&(m.allowedNonLabeledJumps=r),o}const c=function(e){let t;switch(e.kind){case 248:case 249:case 250:const n=e.initializer;n&&261===n.kind&&(t=n)}const n=[],r=[];if(t&&7&uc(t)){const i=Be(e)||Je(e)||ze(e);for(const o of t.declarations)Qe(e,o,n,r,i)}const i={loopParameters:n,loopOutParameters:r};return m&&(m.argumentsName&&(i.argumentsName=m.argumentsName),m.thisName&&(i.thisName=m.thisName),m.hoistedLocalVariables&&(i.hoistedLocalVariables=m.hoistedLocalVariables)),i}(n),l=[],_=m;m=c;const u=Be(n)?function(e,n){const r=t.createUniqueName("_loop_init"),i=!!(1048576&e.initializer.transformFlags);let o=0;n.containsLexicalThis&&(o|=16),i&&4&p&&(o|=524288);const a=[];a.push(t.createVariableStatement(void 0,e.initializer)),Ke(n.loopOutParameters,2,1,a);const s=t.createVariableStatement(void 0,gw(t.createVariableDeclarationList([t.createVariableDeclaration(r,void 0,void 0,gw(t.createFunctionExpression(void 0,i?t.createToken(42):void 0,void 0,void 0,void 0,void 0,fn.checkDefined(pJ(t.createBlock(a,!0),S,BF))),o))]),4194304)),c=t.createVariableDeclarationList(A(n.loopOutParameters,$e));return{functionName:r,containsYield:i,functionDeclaration:s,part:c}}(n,c):void 0,d=Ve(n)?function(e,n,i){const a=t.createUniqueName("_loop");r();const s=pJ(e.statement,S,yu,t.liftToBlock),c=o(),l=[];(Je(e)||ze(e))&&(n.conditionVariable=t.createUniqueName("inc"),e.incrementor?l.push(t.createIfStatement(n.conditionVariable,t.createExpressionStatement(fn.checkDefined(pJ(e.incrementor,S,G_))),t.createExpressionStatement(t.createAssignment(n.conditionVariable,t.createTrue())))):l.push(t.createIfStatement(t.createLogicalNot(n.conditionVariable),t.createExpressionStatement(t.createAssignment(n.conditionVariable,t.createTrue())))),Je(e)&&l.push(t.createIfStatement(t.createPrefixUnaryExpression(54,fn.checkDefined(pJ(e.condition,S,G_))),fn.checkDefined(pJ(t.createBreakStatement(),S,yu))))),fn.assert(s),BF(s)?_e(l,s.statements):l.push(s),Ke(n.loopOutParameters,1,1,l),Md(l,c);const _=t.createBlock(l,!0);BF(s)&&dw(_,s);const u=!!(1048576&e.statement.transformFlags);let d=1048576;n.containsLexicalThis&&(d|=16),u&&4&p&&(d|=524288);const f=t.createVariableStatement(void 0,gw(t.createVariableDeclarationList([t.createVariableDeclaration(a,void 0,void 0,gw(t.createFunctionExpression(void 0,u?t.createToken(42):void 0,void 0,void 0,n.loopParameters,void 0,_),d))]),4194304)),m=function(e,n,r,i){const o=[],a=!(-5&n.nonLocalJumps||n.labeledNonLocalBreaks||n.labeledNonLocalContinues),s=t.createCallExpression(e,void 0,A(n.loopParameters,e=>e.name)),c=i?t.createYieldExpression(t.createToken(42),gw(s,8388608)):s;if(a)o.push(t.createExpressionStatement(c)),Ke(n.loopOutParameters,1,0,o);else{const e=t.createUniqueName("state"),i=t.createVariableStatement(void 0,t.createVariableDeclarationList([t.createVariableDeclaration(e,void 0,void 0,c)]));if(o.push(i),Ke(n.loopOutParameters,1,0,o),8&n.nonLocalJumps){let n;r?(r.nonLocalJumps|=8,n=t.createReturnStatement(e)):n=t.createReturnStatement(t.createPropertyAccessExpression(e,"value")),o.push(t.createIfStatement(t.createTypeCheck(e,"object"),n))}if(2&n.nonLocalJumps&&o.push(t.createIfStatement(t.createStrictEquality(e,t.createStringLiteral("break")),t.createBreakStatement())),n.labeledNonLocalBreaks||n.labeledNonLocalContinues){const i=[];Xe(n.labeledNonLocalBreaks,!0,e,r,i),Xe(n.labeledNonLocalContinues,!1,e,r,i),o.push(t.createSwitchStatement(e,t.createCaseBlock(i)))}}return o}(a,n,i,u);return{functionName:a,containsYield:u,functionDeclaration:f,part:m}}(n,c,_):void 0;let f;if(m=_,u&&l.push(u.functionDeclaration),d&&l.push(d.functionDeclaration),function(e,n,r){let i;if(n.argumentsName&&(r?r.argumentsName=n.argumentsName:(i||(i=[])).push(t.createVariableDeclaration(n.argumentsName,void 0,void 0,t.createIdentifier("arguments")))),n.thisName&&(r?r.thisName=n.thisName:(i||(i=[])).push(t.createVariableDeclaration(n.thisName,void 0,void 0,t.createIdentifier("this")))),n.hoistedLocalVariables)if(r)r.hoistedLocalVariables=n.hoistedLocalVariables;else{i||(i=[]);for(const e of n.hoistedLocalVariables)i.push(t.createVariableDeclaration(e))}if(n.loopOutParameters.length){i||(i=[]);for(const e of n.loopOutParameters)i.push(t.createVariableDeclaration(e.outParamName))}n.conditionVariable&&(i||(i=[]),i.push(t.createVariableDeclaration(n.conditionVariable,void 0,void 0,t.createFalse()))),i&&e.push(t.createVariableStatement(void 0,t.createVariableDeclarationList(i)))}(l,c,_),u&&l.push(function(e,n){const r=t.createCallExpression(e,void 0,[]),i=n?t.createYieldExpression(t.createToken(42),gw(r,8388608)):r;return t.createExpressionStatement(i)}(u.functionName,u.containsYield)),d)if(s)f=s(n,i,d.part,a);else{const e=We(n,u,t.createBlock(d.part,!0));f=t.restoreEnclosingLabel(e,i,m&&Ne)}else{const e=We(n,u,fn.checkDefined(pJ(n.statement,S,yu,t.liftToBlock)));f=t.restoreEnclosingLabel(e,i,m&&Ne)}return l.push(f),l}(a,s,l,c);return v(l,0,0),_}function Ee(e,t){return Fe(0,1280,e,t)}function Pe(e,t){return Fe(5056,3328,e,t)}function Ae(e,t){return Fe(3008,5376,e,t)}function Ie(e,t){return Fe(3008,5376,e,t,s.downlevelIteration?Re:je)}function Oe(n,r,i){const o=[],a=n.initializer;if(oE(a)){7&n.initializer.flags&&_t();const i=he(a.declarations);if(i&&D_(i.name)){const a=Az(i,S,e,0,r),s=vI(t.createVariableDeclarationList(a),n.initializer);dw(s,n.initializer),xw(s,Rb(a[0].pos,ke(a).end)),o.push(t.createVariableStatement(void 0,s))}else o.push(vI(t.createVariableStatement(void 0,dw(vI(t.createVariableDeclarationList([t.createVariableDeclaration(i?i.name:t.createTempVariable(void 0),void 0,void 0,r)]),Bb(a,-1)),a)),Mb(a,-1)))}else{const e=t.createAssignment(a,r);lb(e)?o.push(t.createExpressionStatement(be(e,!0))):(FT(e,a.end),o.push(vI(t.createExpressionStatement(fn.checkDefined(pJ(e,S,G_))),Mb(a,-1))))}if(i)return Le(_e(o,i));{const e=pJ(n.statement,S,yu,t.liftToBlock);return fn.assert(e),BF(e)?t.updateBlock(e,vI(t.createNodeArray(X(o,e.statements)),e.statements)):(o.push(e),Le(o))}}function Le(e){return gw(t.createBlock(t.createNodeArray(e),!0),864)}function je(e,n,r){const i=pJ(e.expression,S,G_);fn.assert(i);const o=t.createLoopVariable(),a=tN(i)?t.getGeneratedNameForNode(i):t.createTempVariable(void 0);gw(i,96|rp(i));const s=vI(t.createForStatement(gw(vI(t.createVariableDeclarationList([vI(t.createVariableDeclaration(o,void 0,void 0,t.createNumericLiteral(0)),Bb(e.expression,-1)),vI(t.createVariableDeclaration(a,void 0,void 0,i),e.expression)]),e.expression),4194304),vI(t.createLessThan(o,t.createPropertyAccessExpression(a,"length")),e.expression),vI(t.createPostfixIncrement(o),e.expression),Oe(e,t.createElementAccessExpression(a,o),r)),e);return gw(s,512),vI(s,e),t.restoreEnclosingLabel(s,n,m&&Ne)}function Re(e,r,i,o){const s=pJ(e.expression,S,G_);fn.assert(s);const c=tN(s)?t.getGeneratedNameForNode(s):t.createTempVariable(void 0),l=tN(s)?t.getGeneratedNameForNode(c):t.createTempVariable(void 0),_=t.createUniqueName("e"),u=t.getGeneratedNameForNode(_),d=t.createTempVariable(void 0),p=vI(n().createValuesHelper(s),e.expression),f=t.createCallExpression(t.createPropertyAccessExpression(c,"next"),void 0,[]);a(_),a(d);const g=1024&o?t.inlineExpressions([t.createAssignment(_,t.createVoidZero()),p]):p,h=gw(vI(t.createForStatement(gw(vI(t.createVariableDeclarationList([vI(t.createVariableDeclaration(c,void 0,void 0,g),e.expression),t.createVariableDeclaration(l,void 0,void 0,f)]),e.expression),4194304),t.createLogicalNot(t.createPropertyAccessExpression(l,"done")),t.createAssignment(l,f),Oe(e,t.createPropertyAccessExpression(l,"value"),i)),e),512);return t.createTryStatement(t.createBlock([t.restoreEnclosingLabel(h,r,m&&Ne)]),t.createCatchClause(t.createVariableDeclaration(u),gw(t.createBlock([t.createExpressionStatement(t.createAssignment(_,t.createObjectLiteralExpression([t.createPropertyAssignment("error",u)])))]),1)),t.createBlock([t.createTryStatement(t.createBlock([gw(t.createIfStatement(t.createLogicalAnd(t.createLogicalAnd(l,t.createLogicalNot(t.createPropertyAccessExpression(l,"done"))),t.createAssignment(d,t.createPropertyAccessExpression(c,"return"))),t.createExpressionStatement(t.createFunctionCallCall(d,c,[]))),1)]),void 0,gw(t.createBlock([gw(t.createIfStatement(_,t.createThrowStatement(t.createPropertyAccessEx